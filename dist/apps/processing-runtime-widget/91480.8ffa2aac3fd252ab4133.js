/*! For license information please see 91480.8ffa2aac3fd252ab4133.js.LICENSE.txt */
"use strict";(self.webpackChunkcumulocity_processing_widget_plugin=self.webpackChunkcumulocity_processing_widget_plugin||[]).push([[91480],{91480:function(e,t,r){var n;r.r(t),r.d(t,{FocusTrap:function(){return g},FocusTrapDirective:function(){return m},FocusTrapModule:function(){return f}});var s=r(40761),o=r(80179),i=r(76063);class a{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter((t=>t!==e));let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();const t=this._focusTrapStack,r=t.indexOf(e);-1!==r&&(t.splice(r,1),t.length&&t[t.length-1]._enable())}}let c;a.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:a,deps:[],target:s["ɵɵFactoryTarget"].Injectable}),a.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:a,providedIn:"root"}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:a,decorators:[{type:s.Injectable,args:[{providedIn:"root"}]}]});try{c="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{c=!1}class u{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,o.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!c)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}u.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:u,deps:[{token:s.PLATFORM_ID}],target:s["ɵɵFactoryTarget"].Injectable}),u.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:u,providedIn:"root"}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:u,decorators:[{type:s.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Object,decorators:[{type:s.Inject,args:[s.PLATFORM_ID]}]}]}});class h{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch{return null}}((r=e).ownerDocument&&r.ownerDocument.defaultView||window);var r;if(t){if(-1===d(t))return!1;if(!this.isVisible(t))return!1}let n=e.nodeName.toLowerCase(),s=d(e);return e.hasAttribute("contenteditable")?-1!==s:"iframe"!==n&&"object"!==n&&(!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),r="input"===t&&e.type;return"text"===r||"password"===r||"select"===t||"textarea"===t}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==s:"video"===n?-1!==s&&(null!==s||(this._platform.FIREFOX||e.hasAttribute("controls"))):e.tabIndex>=0))}isFocusable(e,t){return function(e){if(function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e))return!1;return function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||l(e)}(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}}function l(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function d(e){if(!l(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function p(e){return null!=e&&"false"!=`${e}`}h.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:h,deps:[{token:u}],target:s["ɵɵFactoryTarget"].Injectable}),h.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:h,providedIn:"root"}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:h,decorators:[{type:s.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:u}]}});class g{constructor(e,t,r,n,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular((()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise((e=>{this._executeOnStable((()=>e(this.focusInitialElement())))}))}focusFirstTabbableElementWhenReady(){return new Promise((e=>{this._executeOnStable((()=>e(this.focusFirstTabbableElement())))}))}focusLastTabbableElementWhenReady(){return new Promise((e=>{this._executeOnStable((()=>e(this.focusLastTabbableElement())))}))}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return t?.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let e=0;e<t.length;e++){let r=t[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[e]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let e=t.length-1;e>=0;e--){let r=t[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[e]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,i.take)(1)).subscribe(e)}}class b{constructor(e,t,r){this._checker=e,this._ngZone=t,this._document=r}create(e,t=!1){return new g(e,this._checker,this._ngZone,this._document,t)}}b.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:b,deps:[{token:h},{token:s.NgZone},{token:o.DOCUMENT}],target:s["ɵɵFactoryTarget"].Injectable}),b.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:b,providedIn:"root"}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:b,decorators:[{type:s.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:h},{type:s.NgZone},{type:void 0,decorators:[{type:s.Inject,args:[o.DOCUMENT]}]}]}});class m{constructor(e,t,r){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=p(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=p(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}m.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:m,deps:[{token:s.ElementRef},{token:b},{token:o.DOCUMENT}],target:s["ɵɵFactoryTarget"].Directive}),m.ɵdir=s["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:m,selector:"[focusTrap]",inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],usesOnChanges:!0,ngImport:n||(n=r.t(s,2))}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:m,decorators:[{type:s.Directive,args:[{selector:"[focusTrap]",exportAs:"focusTrap"}]}],ctorParameters:function(){return[{type:s.ElementRef},{type:b},{type:void 0,decorators:[{type:s.Inject,args:[o.DOCUMENT]}]}]},propDecorators:{enabled:[{type:s.Input,args:["cdkTrapFocus"]}],autoCapture:[{type:s.Input,args:["cdkTrapFocusAutoCapture"]}]}});class f{static forRoot(){return{ngModule:f,providers:[a,u,h]}}}f.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:f,deps:[],target:s["ɵɵFactoryTarget"].NgModule}),f.ɵmod=s["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:f,declarations:[m],imports:[o.CommonModule],exports:[m]}),f.ɵinj=s["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:f,imports:[o.CommonModule]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:n||(n=r.t(s,2)),type:f,decorators:[{type:s.NgModule,args:[{imports:[o.CommonModule],declarations:[m],exports:[m]}]}]})}}]);