"use strict";(self.webpackChunkcumulocity_processing_widget_plugin=self.webpackChunkcumulocity_processing_widget_plugin||[]).push([[81563],{81563:function(e,t,n){var s;n.r(t),n.d(t,{BsDropdownConfig:function(){return l},BsDropdownContainerComponent:function(){return g},BsDropdownDirective:function(){return m},BsDropdownMenuDirective:function(){return _},BsDropdownModule:function(){return w},BsDropdownState:function(){return h},BsDropdownToggleDirective:function(){return y}});var i=n(40761),o=n(76063),r=n(35746),a=n(38310),d=n(67595),p=n(80179),c=n(88553);class l{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}l.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:l,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),l.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:l,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:l,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}]});class h{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new i.EventEmitter,this.isDisabledChange=new i.EventEmitter,this.toggleClick=new i.EventEmitter,this.counts=0,this.dropdownMenu=new Promise((e=>{this.resolveDropdownMenu=e}))}}h.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:h,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),h.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:h,providedIn:"platform"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:h,decorators:[{type:i.Injectable,args:[{providedIn:"platform"}]}],ctorParameters:function(){return[]}});const u=[(0,d.style)({height:0,overflow:"hidden"}),(0,d.animate)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,d.style)({height:"*",overflow:"hidden"}))];class g{constructor(e,t,n,s,i){this._state=e,this.cd=t,this._renderer=n,this._element=s,this.isOpen=!1,this._factoryDropDownAnimation=i.build(u),this._subscription=e.isOpenChange.subscribe((e=>{this.isOpen=e;const t=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),t&&!(0,a.isBs3)()&&(this._renderer.addClass(t,"show"),(t.classList.contains("dropdown-menu-right")||t.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(t,"left","auto"),this._renderer.setStyle(t,"right","0")),"up"===this.direction&&(this._renderer.setStyle(t,"top","auto"),this._renderer.setStyle(t,"transform","translateY(-101%)"))),t&&this._state.isAnimated&&this._factoryDropDownAnimation.create(t).play(),this.cd.markForCheck(),this.cd.detectChanges()}))}get direction(){return this._state.direction}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}}g.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:g,deps:[{token:h},{token:i.ChangeDetectorRef},{token:i.Renderer2},{token:i.ElementRef},{token:d.AnimationBuilder}],target:i["ɵɵFactoryTarget"].Component}),g.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:g,selector:"bs-dropdown-container",host:{styleAttribute:"display:block;position: absolute;z-index: 1040"},ngImport:s||(s=n.t(i,2)),template:'\n    <div [class.dropup]="direction === \'up\'"\n         [ngClass]="{dropdown: direction === \'down\'}"\n         [class.show]="isOpen"\n         [class.open]="isOpen"><ng-content></ng-content>\n    </div>\n  ',isInline:!0,dependencies:[{kind:"directive",type:p.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]}],changeDetection:i.ChangeDetectionStrategy.OnPush}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:g,decorators:[{type:i.Component,args:[{selector:"bs-dropdown-container",changeDetection:i.ChangeDetectionStrategy.OnPush,host:{style:"display:block;position: absolute;z-index: 1040"},template:'\n    <div [class.dropup]="direction === \'up\'"\n         [ngClass]="{dropdown: direction === \'down\'}"\n         [class.show]="isOpen"\n         [class.open]="isOpen"><ng-content></ng-content>\n    </div>\n  '}]}],ctorParameters:function(){return[{type:h},{type:i.ChangeDetectorRef},{type:i.Renderer2},{type:i.ElementRef},{type:d.AnimationBuilder}]}});class m{constructor(e,t,n,s,i,o,r){this._elementRef=e,this._renderer=t,this._viewContainerRef=n,this._cis=s,this._state=i,this._config=o,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=r.build(u),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:h,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get isBs4(){return!(0,a.isBs3)()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe((e=>this.toggle(e)))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,o.filter)((e=>e))).subscribe((()=>this.hide()))))}show(){if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then((e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()})).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation()):void this._state.dropdownMenu.then((e=>{const t=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=t?"up":"down";const n=this.placement||(t?"top start":"bottom start");this._dropdown.attach(g).to(this.container).position({attachment:n}).show({content:e.templateRef,placement:n}),this._state.isOpenChange.emit(!0)})).catch()}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}navigationClick(e){const t=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!t)return;const n=this._elementRef.nativeElement.ownerDocument.activeElement,s=t.querySelectorAll(".dropdown-item");switch(e.keyCode){case 38:this._state.counts>0&&s[--this._state.counts].focus();break;case 40:this._state.counts+1<s.length&&(n.classList!==s[this._state.counts].classList?s[this._state.counts].focus():s[++this._state.counts].focus())}e.preventDefault()}ngOnDestroy(){for(const e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){(0,a.isBs3)()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout((()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()}))}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}m.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:m,deps:[{token:i.ElementRef},{token:i.Renderer2},{token:i.ViewContainerRef},{token:r.ComponentLoaderFactory},{token:h},{token:l},{token:d.AnimationBuilder}],target:i["ɵɵFactoryTarget"].Directive}),m.ɵdir=i["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:m,selector:"[bsDropdown], [dropdown]",inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},host:{listeners:{"keydown.arrowDown":"navigationClick($event)","keydown.arrowUp":"navigationClick($event)"},properties:{"class.dropup":"dropup","class.open":"isOpen","class.show":"isOpen && isBs4"}},providers:[h],exportAs:["bs-dropdown"],ngImport:s||(s=n.t(i,2))}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:m,decorators:[{type:i.Directive,args:[{selector:"[bsDropdown], [dropdown]",exportAs:"bs-dropdown",providers:[h],host:{"[class.dropup]":"dropup","[class.open]":"isOpen","[class.show]":"isOpen && isBs4"}}]}],ctorParameters:function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:i.ViewContainerRef},{type:r.ComponentLoaderFactory},{type:h},{type:l},{type:d.AnimationBuilder}]},propDecorators:{placement:[{type:i.Input}],triggers:[{type:i.Input}],container:[{type:i.Input}],dropup:[{type:i.Input}],autoClose:[{type:i.Input}],isAnimated:[{type:i.Input}],insideClick:[{type:i.Input}],isDisabled:[{type:i.Input}],isOpen:[{type:i.Input}],isOpenChange:[{type:i.Output}],onShown:[{type:i.Output}],onHidden:[{type:i.Output}],navigationClick:[{type:i.HostListener,args:["keydown.arrowDown",["$event"]]},{type:i.HostListener,args:["keydown.arrowUp",["$event"]]}]}});class _{constructor(e,t,n){e.resolveDropdownMenu({templateRef:n,viewContainer:t})}}_.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:_,deps:[{token:h},{token:i.ViewContainerRef},{token:i.TemplateRef}],target:i["ɵɵFactoryTarget"].Directive}),_.ɵdir=i["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:_,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"],ngImport:s||(s=n.t(i,2))}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:_,decorators:[{type:i.Directive,args:[{selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:"bs-dropdown-menu"}]}],ctorParameters:function(){return[{type:h},{type:i.ViewContainerRef},{type:i.TemplateRef}]}});class y{constructor(e,t,n,s,i){this._changeDetectorRef=e,this._dropdown=t,this._element=n,this._renderer=s,this._state=i,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe((e=>{this.isOpen=e,e?(this._documentClickListener=this._renderer.listen("document","click",(e=>{!this._state.autoClose||2===e.button||this._element.nativeElement.contains(e.target)||this._state.insideClick&&this._dropdown._contains(e)||(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",(()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}))):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())}))),this._subscriptions.push(this._state.isDisabledChange.subscribe((e=>this.isDisabled=e||void 0)))}onClick(e){this._state.stopOnClickPropagation&&e.stopPropagation(),this.isDisabled||this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const e of this._subscriptions)e.unsubscribe()}}y.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:y,deps:[{token:i.ChangeDetectorRef},{token:m},{token:i.ElementRef},{token:i.Renderer2},{token:h}],target:i["ɵɵFactoryTarget"].Directive}),y.ɵdir=i["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:y,selector:"[bsDropdownToggle],[dropdownToggle]",host:{listeners:{click:"onClick($event)"},properties:{"attr.aria-haspopup":"true","attr.disabled":"this.isDisabled","attr.aria-expanded":"this.isOpen"}},exportAs:["bs-dropdown-toggle"],ngImport:s||(s=n.t(i,2))}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:y,decorators:[{type:i.Directive,args:[{selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:"bs-dropdown-toggle",host:{"[attr.aria-haspopup]":"true"}}]}],ctorParameters:function(){return[{type:i.ChangeDetectorRef},{type:m},{type:i.ElementRef},{type:i.Renderer2},{type:h}]},propDecorators:{isDisabled:[{type:i.HostBinding,args:["attr.disabled"]}],isOpen:[{type:i.HostBinding,args:["attr.aria-expanded"]}],onClick:[{type:i.HostListener,args:["click",["$event"]]}]}});class w{static forRoot(){return{ngModule:w,providers:[r.ComponentLoaderFactory,c.PositioningService,h]}}}w.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:w,deps:[],target:i["ɵɵFactoryTarget"].NgModule}),w.ɵmod=i["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:w,declarations:[_,y,g,m],imports:[p.CommonModule],exports:[_,y,m]}),w.ɵinj=i["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:w,imports:[p.CommonModule]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(i,2)),type:w,decorators:[{type:i.NgModule,args:[{imports:[p.CommonModule],declarations:[_,y,g,m],exports:[_,y,m]}]}]})}}]);