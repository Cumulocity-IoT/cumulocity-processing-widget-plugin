/*! For license information please see 42937.e41aa106b477f6d4e703.js.LICENSE.txt */
(self.webpackChunkcumulocity_processing_widget_plugin=self.webpackChunkcumulocity_processing_widget_plugin||[]).push([[42937],{96486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,l=32,d=64,p=128,u=256,g=1/0,h=9007199254740991,m=NaN,f=4294967295,y=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",d],["rearg",u]],v="[object Arguments]",b="[object Array]",k="[object Boolean]",C="[object Date]",I="[object Error]",w="[object Function]",S="[object GeneratorFunction]",x="[object Map]",D="[object Number]",$="[object Object]",E="[object Promise]",T="[object RegExp]",_="[object Set]",F="[object String]",O="[object Symbol]",P="[object WeakMap]",N="[object ArrayBuffer]",A="[object DataView]",M="[object Float32Array]",R="[object Float64Array]",L="[object Int8Array]",V="[object Int16Array]",j="[object Int32Array]",B="[object Uint8Array]",U="[object Uint8ClampedArray]",G="[object Uint16Array]",z="[object Uint32Array]",H=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Z=RegExp(K.source),Q=RegExp(Y.source),X=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,de=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,ge=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ke=/^(?:0|[1-9]\d*)$/,Ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",De="\\u2700-\\u27bf",$e="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",_e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fe="['’]",Oe="["+Se+"]",Pe="["+_e+"]",Ne="["+xe+"]",Ae="\\d+",Me="["+De+"]",Re="["+$e+"]",Le="[^"+Se+_e+Ae+De+$e+Ee+"]",Ve="\\ud83c[\\udffb-\\udfff]",je="[^"+Se+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+Ee+"]",ze="\\u200d",He="(?:"+Re+"|"+Le+")",qe="(?:"+Ge+"|"+Le+")",We="(?:['’](?:d|ll|m|re|s|t|ve))?",Ke="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ne+"|"+Ve+")"+"?",Ze="["+Te+"]?",Qe=Ze+Ye+("(?:"+ze+"(?:"+[je,Be,Ue].join("|")+")"+Ze+Ye+")*"),Xe="(?:"+[Me,Be,Ue].join("|")+")"+Qe,Je="(?:"+[je+Ne+"?",Ne,Be,Ue,Oe].join("|")+")",et=RegExp(Fe,"g"),tt=RegExp(Ne,"g"),nt=RegExp(Ve+"(?="+Ve+")|"+Je+Qe,"g"),rt=RegExp([Ge+"?"+Re+"+"+We+"(?="+[Pe,Ge,"$"].join("|")+")",qe+"+"+Ke+"(?="+[Pe,Ge+He,"$"].join("|")+")",Ge+"?"+He+"+"+We,Ge+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ae,Xe].join("|"),"g"),it=RegExp("["+ze+Se+xe+Te+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ct={};ct[M]=ct[R]=ct[L]=ct[V]=ct[j]=ct[B]=ct[U]=ct[G]=ct[z]=!0,ct[v]=ct[b]=ct[N]=ct[k]=ct[A]=ct[C]=ct[I]=ct[w]=ct[x]=ct[D]=ct[$]=ct[T]=ct[_]=ct[F]=ct[P]=!1;var lt={};lt[v]=lt[b]=lt[N]=lt[A]=lt[k]=lt[C]=lt[M]=lt[R]=lt[L]=lt[V]=lt[j]=lt[x]=lt[D]=lt[$]=lt[T]=lt[_]=lt[F]=lt[O]=lt[B]=lt[U]=lt[G]=lt[z]=!0,lt[I]=lt[w]=lt[P]=!1;var dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pt=parseFloat,ut=parseInt,gt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,mt=gt||ht||Function("return this")(),ft=t&&!t.nodeType&&t,yt=ft&&e&&!e.nodeType&&e,vt=yt&&yt.exports===ft,bt=vt&&gt.process,kt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),Ct=kt&&kt.isArrayBuffer,It=kt&&kt.isDate,wt=kt&&kt.isMap,St=kt&&kt.isRegExp,xt=kt&&kt.isSet,Dt=kt&&kt.isTypedArray;function $t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Pt(e,t){return!!(null==e?0:e.length)&&Gt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Wt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Gt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Ht,n)}function zt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ht(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:m}function Wt(e){return function(t){return null==t?i:t[e]}}function Kt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Zt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,yn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return At(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Gt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Gt(t,e[n],0)>-1;);return n}function on(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var an=Kt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),sn=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cn(e){return"\\"+dt[e]}function ln(e){return it.test(e)}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function pn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function gn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function mn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):jt(e)}function fn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function yn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function e(t){var n,r=(t=null==t?mt:bn.defaults(mt.Object(),t,bn.pick(mt,at))).Array,se=t.Date,Se=t.Error,xe=t.Function,De=t.Math,$e=t.Object,Ee=t.RegExp,Te=t.String,_e=t.TypeError,Fe=r.prototype,Oe=xe.prototype,Pe=$e.prototype,Ne=t["__core-js_shared__"],Ae=Oe.toString,Me=Pe.hasOwnProperty,Re=0,Le=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ve=Pe.toString,je=Ae.call($e),Be=mt._,Ue=Ee("^"+Ae.call(Me).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=vt?t.Buffer:i,ze=t.Symbol,He=t.Uint8Array,qe=Ge?Ge.allocUnsafe:i,We=pn($e.getPrototypeOf,$e),Ke=$e.create,Ye=Pe.propertyIsEnumerable,Ze=Fe.splice,Qe=ze?ze.isConcatSpreadable:i,Xe=ze?ze.iterator:i,Je=ze?ze.toStringTag:i,nt=function(){try{var e=ho($e,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,dt=se&&se.now!==mt.Date.now&&se.now,gt=t.setTimeout!==mt.setTimeout&&t.setTimeout,ht=De.ceil,ft=De.floor,yt=$e.getOwnPropertySymbols,bt=Ge?Ge.isBuffer:i,kt=t.isFinite,jt=Fe.join,Kt=pn($e.keys,$e),kn=De.max,Cn=De.min,In=se.now,wn=t.parseInt,Sn=De.random,xn=Fe.reverse,Dn=ho(t,"DataView"),$n=ho(t,"Map"),En=ho(t,"Promise"),Tn=ho(t,"Set"),_n=ho(t,"WeakMap"),Fn=ho($e,"create"),On=_n&&new _n,Pn={},Nn=Bo(Dn),An=Bo($n),Mn=Bo(En),Rn=Bo(Tn),Ln=Bo(_n),Vn=ze?ze.prototype:i,jn=Vn?Vn.valueOf:i,Bn=Vn?Vn.toString:i;function Un(e){if(is(e)&&!Wa(e)&&!(e instanceof qn)){if(e instanceof Hn)return e;if(Me.call(e,"__wrapped__"))return Uo(e)}return new Hn(e)}var Gn=function(){function e(){}return function(t){if(!rs(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Xn(e,t){var n=Wa(e),r=!n&&qa(e),i=!n&&!r&&Qa(e),o=!n&&!r&&!i&&us(e),a=n||r||i||o,s=a?Qt(e.length,Te):[],c=s.length;for(var l in e)!t&&!Me.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Co(l,c))||s.push(l);return s}function Jn(e){var t=e.length;return t?e[Zr(0,t-1)]:i}function er(e,t){return Lo(Fi(e),lr(t,0,e.length))}function tr(e){return Lo(Fi(e))}function nr(e,t,n){(n!==i&&!Ga(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Me.call(e,t)&&Ga(r,n)&&(n!==i||t in e)||sr(e,t,n)}function ir(e,t){for(var n=e.length;n--;)if(Ga(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ar(e,t){return e&&Oi(t,Ns(t),e)}function sr(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function cr(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Ts(e,t[n]);return a}function lr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function dr(e,t,n,r,o,a){var s,c=1&t,l=2&t,d=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!rs(e))return e;var p=Wa(e);if(p){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Fi(e,s)}else{var u=yo(e),g=u==w||u==S;if(Qa(e))return xi(e,c);if(u==$||u==v||g&&!o){if(s=l||g?{}:bo(e),!c)return l?function(e,t){return Oi(e,fo(e),t)}(e,function(e,t){return e&&Oi(t,As(t),e)}(s,e)):function(e,t){return Oi(e,mo(e),t)}(e,ar(s,e))}else{if(!lt[u])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return Di(e);case k:case C:return new r(+e);case A:return function(e,t){var n=t?Di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case R:case L:case V:case j:case B:case U:case G:case z:return $i(e,n);case x:return new r;case D:case F:return new r(e);case T:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _:return new r;case O:return i=e,jn?$e(jn.call(i)):{}}var i}(e,u,c)}}a||(a=new Qn);var h=a.get(e);if(h)return h;a.set(e,s),ls(e)?e.forEach((function(r){s.add(dr(r,t,n,r,e,a))})):os(e)&&e.forEach((function(r,i){s.set(i,dr(r,t,n,i,e,a))}));var m=p?i:(d?l?ao:oo:l?As:Ns)(e);return Tt(m||e,(function(r,i){m&&(r=e[i=r]),rr(s,i,dr(r,t,n,i,e,a))})),s}function pr(e,t,n){var r=n.length;if(null==e)return!r;for(e=$e(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new _e(o);return No((function(){e.apply(i,n)}),t)}function gr(e,t,n,r){var i=-1,o=Pt,a=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=At(t,Jt(n))),r?(o=Nt,a=!1):t.length>=200&&(o=tn,a=!1,t=new Zn(t));e:for(;++i<s;){var d=e[i],p=null==n?d:n(d);if(d=r||0!==d?d:0,a&&p==p){for(var u=l;u--;)if(t[u]===p)continue e;c.push(d)}else o(t,p,r)||c.push(d)}return c}Un.templateSettings={escape:X,evaluate:J,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=zn.prototype,Un.prototype.constructor=Un,Hn.prototype=Gn(zn.prototype),Hn.prototype.constructor=Hn,qn.prototype=Gn(zn.prototype),qn.prototype.constructor=qn,Wn.prototype.clear=function(){this.__data__=Fn?Fn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Fn){var n=t[e];return n===a?i:n}return Me.call(t,e)?t[e]:i},Wn.prototype.has=function(e){var t=this.__data__;return Fn?t[e]!==i:Me.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fn&&t===i?a:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=ir(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return ir(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new($n||Kn),string:new Wn}},Yn.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return uo(this,e).get(e)},Yn.prototype.has=function(e){return uo(this,e).has(e)},Yn.prototype.set=function(e,t){var n=uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,a),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!$n||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ai(Ir),mr=Ai(wr,!0);function fr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function yr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(c===i?s==s&&!ps(s):n(s,c)))var c=s,l=a}return l}function vr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ko),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?br(s,t-1,n,r,i):Mt(i,s):r||(i[i.length]=s)}return i}var kr=Mi(),Cr=Mi(!0);function Ir(e,t){return e&&kr(e,t,Ns)}function wr(e,t){return e&&Cr(e,t,Ns)}function Sr(e,t){return Ot(t,(function(t){return es(e[t])}))}function xr(e,t){for(var n=0,r=(t=Ci(t,e)).length;null!=e&&n<r;)e=e[jo(t[n++])];return n&&n==r?e:i}function Dr(e,t,n){var r=t(e);return Wa(e)?r:Mt(r,n(e))}function $r(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in $e(e)?function(e){var t=Me.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var o=Ve.call(e);r&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return Ve.call(e)}(e)}function Er(e,t){return e>t}function Tr(e,t){return null!=e&&Me.call(e,t)}function _r(e,t){return null!=e&&t in $e(e)}function Fr(e,t,n){for(var o=n?Nt:Pt,a=e[0].length,s=e.length,c=s,l=r(s),d=1/0,p=[];c--;){var u=e[c];c&&t&&(u=At(u,Jt(t))),d=Cn(u.length,d),l[c]=!n&&(t||a>=120&&u.length>=120)?new Zn(c&&u):i}u=e[0];var g=-1,h=l[0];e:for(;++g<a&&p.length<d;){var m=u[g],f=t?t(m):m;if(m=n||0!==m?m:0,!(h?tn(h,f):o(p,f,n))){for(c=s;--c;){var y=l[c];if(!(y?tn(y,f):o(e[c],f,n)))continue e}h&&h.push(f),p.push(m)}}return p}function Or(e,t,n){var r=null==(e=_o(e,t=Ci(t,e)))?e:e[jo(Jo(t))];return null==r?i:$t(r,e,n)}function Pr(e){return is(e)&&$r(e)==v}function Nr(e,t,n,r,o){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Wa(e),c=Wa(t),l=s?b:yo(e),d=c?b:yo(t),p=(l=l==v?$:l)==$,u=(d=d==v?$:d)==$,g=l==d;if(g&&Qa(e)){if(!Qa(t))return!1;s=!0,p=!1}if(g&&!p)return a||(a=new Qn),s||us(e)?ro(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case k:case C:case D:return Ga(+e,+t);case I:return e.name==t.name&&e.message==t.message;case T:case F:return e==t+"";case x:var s=dn;case _:var c=1&r;if(s||(s=gn),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var d=ro(s(e),s(t),r,i,o,a);return a.delete(e),d;case O:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var h=p&&Me.call(e,"__wrapped__"),m=u&&Me.call(t,"__wrapped__");if(h||m){var f=h?e.value():e,y=m?t.value():t;return a||(a=new Qn),o(f,y,n,r,a)}}if(!g)return!1;return a||(a=new Qn),function(e,t,n,r,o,a){var s=1&n,c=oo(e),l=c.length,d=oo(t),p=d.length;if(l!=p&&!s)return!1;var u=l;for(;u--;){var g=c[u];if(!(s?g in t:Me.call(t,g)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var f=!0;a.set(e,t),a.set(t,e);var y=s;for(;++u<l;){var v=e[g=c[u]],b=t[g];if(r)var k=s?r(b,v,g,t,e,a):r(v,b,g,e,t,a);if(!(k===i?v===b||o(v,b,n,r,a):k)){f=!1;break}y||(y="constructor"==g)}if(f&&!y){var C=e.constructor,I=t.constructor;C==I||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof I&&I instanceof I||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,o,a)}(e,t,n,r,Nr,o))}function Ar(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=$e(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var l=(c=n[o])[0],d=e[l],p=c[1];if(s&&c[2]){if(d===i&&!(l in e))return!1}else{var u=new Qn;if(r)var g=r(d,p,l,e,t,u);if(!(g===i?Nr(p,d,3,r,u):g))return!1}}return!0}function Mr(e){return!(!rs(e)||(t=e,Le&&Le in t))&&(es(e)?Ue:ve).test(Bo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?Wa(e)?Gr(e[0],e[1]):Ur(e):mc(e)}function Lr(e){if(!Do(e))return Kt(e);var t=[];for(var n in $e(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Vr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in $e(e))t.push(n);return t}(e);var t=Do(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Br(e,t){var n=-1,i=Ya(e)?r(e.length):[];return hr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ur(e){var t=go(e);return 1==t.length&&t[0][2]?Eo(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function Gr(e,t){return wo(e)&&$o(t)?Eo(jo(e),t):function(n){var r=Ts(n,e);return r===i&&r===t?_s(n,e):Nr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&kr(t,(function(a,s){if(o||(o=new Qn),rs(a))!function(e,t,n,r,o,a,s){var c=Oo(e,n),l=Oo(t,n),d=s.get(l);if(d)return void nr(e,n,d);var p=a?a(c,l,n+"",e,t,s):i,u=p===i;if(u){var g=Wa(l),h=!g&&Qa(l),m=!g&&!h&&us(l);p=l,g||h||m?Wa(c)?p=c:Za(c)?p=Fi(c):h?(u=!1,p=xi(l,!0)):m?(u=!1,p=$i(l,!0)):p=[]:ss(l)||qa(l)?(p=c,qa(c)?p=ks(c):rs(c)&&!es(c)||(p=bo(l))):u=!1}u&&(s.set(l,p),o(p,l,r,a,s),s.delete(l));nr(e,n,p)}(e,t,s,n,zr,r,o);else{var c=r?r(Oo(e,s),a,s+"",e,t,o):i;c===i&&(c=a),nr(e,s,c)}}),As)}function Hr(e,t){var n=e.length;if(n)return Co(t+=t<0?n:0,n)?e[t]:i}function qr(e,t,n){t=t.length?At(t,(function(e){return Wa(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[ac];var r=-1;t=At(t,Jt(po()));var i=Br(e,(function(e,n,i){var o=At(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var c=Ei(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=xr(e,a);n(s,a)&&ti(o,Ci(a,e),s)}return o}function Kr(e,t,n,r){var i=r?zt:Gt,o=-1,a=t.length,s=e;for(e===t&&(t=Fi(t)),n&&(s=At(e,Jt(n)));++o<a;)for(var c=0,l=t[o],d=n?n(l):l;(c=i(s,d,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Co(i)?Ze.call(e,i,1):gi(e,i)}}return e}function Zr(e,t){return e+ft(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ao(To(e,t,ac),e+"")}function Jr(e){return Jn(Gs(e))}function ei(e,t){var n=Gs(e);return Lo(n,lr(t,0,n.length))}function ti(e,t,n,r){if(!rs(e))return e;for(var o=-1,a=(t=Ci(t,e)).length,s=a-1,c=e;null!=c&&++o<a;){var l=jo(t[o]),d=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var p=c[l];(d=r?r(p,l,c):i)===i&&(d=rs(p)?p:Co(t[o+1])?[]:{})}rr(c,l,d),c=c[l]}return e}var ni=On?function(e,t){return On.set(e,t),e}:ac,ri=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:rc(t),writable:!0})}:ac;function ii(e){return Lo(Gs(e))}function oi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ai(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ps(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ci(e,t,ac,n)}function ci(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,l=ps(t),d=t===i;o<a;){var p=ft((o+a)/2),u=n(e[p]),g=u!==i,h=null===u,m=u==u,f=ps(u);if(s)var y=r||m;else y=d?m&&(r||g):c?m&&g&&(r||!h):l?m&&g&&!h&&(r||!f):!h&&!f&&(r?u<=t:u<t);y?o=p+1:a=p}return Cn(a,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ga(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function di(e){return"number"==typeof e?e:ps(e)?m:+e}function pi(e){if("string"==typeof e)return e;if(Wa(e))return At(e,pi)+"";if(ps(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Pt,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=Nt;else if(o>=200){var l=t?null:Qi(e);if(l)return gn(l);a=!1,i=tn,c=new Zn}else c=t?[]:s;e:for(;++r<o;){var d=e[r],p=t?t(d):d;if(d=n||0!==d?d:0,a&&p==p){for(var u=c.length;u--;)if(c[u]===p)continue e;t&&c.push(p),s.push(d)}else i(c,p,n)||(c!==s&&c.push(p),s.push(d))}return s}function gi(e,t){return null==(e=_o(e,t=Ci(t,e)))||delete e[jo(Jo(t))]}function hi(e,t,n,r){return ti(e,t,n(xr(e,t)),r)}function mi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?oi(e,r?0:o,r?o+1:i):oi(e,r?o+1:0,r?i:o)}function fi(e,t){var n=e;return n instanceof qn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function yi(e,t,n){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=gr(a[o]||s,e[c],t,n));return ui(br(a,1),t,n)}function vi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var c=r<a?t[r]:i;n(s,e[r],c)}return s}function bi(e){return Za(e)?e:[]}function ki(e){return"function"==typeof e?e:ac}function Ci(e,t){return Wa(e)?e:wo(e,t)?[e]:Vo(Cs(e))}var Ii=Xr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:oi(e,t,n)}var Si=it||function(e){return mt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Di(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function $i(e,t){var n=t?Di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=ps(e),s=t!==i,c=null===t,l=t==t,d=ps(t);if(!c&&!d&&!a&&e>t||a&&s&&l&&!c&&!d||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!d&&e<t||d&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,a=e.length,s=n.length,c=-1,l=t.length,d=kn(a-s,0),p=r(l+d),u=!i;++c<l;)p[c]=t[c];for(;++o<s;)(u||o<a)&&(p[n[o]]=e[o]);for(;d--;)p[c++]=e[o++];return p}function _i(e,t,n,i){for(var o=-1,a=e.length,s=-1,c=n.length,l=-1,d=t.length,p=kn(a-c,0),u=r(p+d),g=!i;++o<p;)u[o]=e[o];for(var h=o;++l<d;)u[h+l]=t[l];for(;++s<c;)(g||o<a)&&(u[h+n[s]]=e[o++]);return u}function Fi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],l=r?r(n[c],e[c],c,n,e):i;l===i&&(l=e[c]),o?sr(n,c,l):rr(n,c,l)}return n}function Pi(e,t){return function(n,r){var i=Wa(n)?Et:or,o=t?t():{};return i(n,e,po(r,2),o)}}function Ni(e){return Xr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&Io(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=$e(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}function Ai(e,t){return function(n,r){if(null==n)return n;if(!Ya(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=$e(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Mi(e){return function(t,n,r){for(var i=-1,o=$e(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function Ri(e){return function(t){var n=ln(t=Cs(t))?fn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function Li(e){return function(t){return Rt(ec(qs(t).replace(et,"")),e,"")}}function Vi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function ji(e){return function(t,n,r){var o=$e(t);if(!Ya(t)){var a=po(n,3);t=Ns(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Bi(e){return io((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new _e(o);if(a&&!c&&"wrapper"==co(s))var c=new Hn([],!0)}for(r=c?r:n;++r<n;){var l=co(s=t[r]),d="wrapper"==l?so(s):i;c=d&&So(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?c[co(d[0])].apply(c,d[3]):1==s.length&&So(s)?c[l]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Wa(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ui(e,t,n,o,a,s,c,l,d,u){var g=t&p,h=1&t,m=2&t,f=24&t,y=512&t,v=m?i:Vi(e);return function i(){for(var p=arguments.length,b=r(p),k=p;k--;)b[k]=arguments[k];if(f)var C=lo(i),I=on(b,C);if(o&&(b=Ti(b,o,a,f)),s&&(b=_i(b,s,c,f)),p-=I,f&&p<u){var w=un(b,C);return Yi(e,t,Ui,i.placeholder,n,b,w,l,d,u-p)}var S=h?n:this,x=m?S[e]:e;return p=b.length,l?b=Fo(b,l):y&&p>1&&b.reverse(),g&&d<p&&(b.length=d),this&&this!==mt&&this instanceof i&&(x=v||Vi(x)),x.apply(S,b)}}function Gi(e,t){return function(n,r){return function(e,t,n,r){return Ir(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=pi(n),r=pi(r)):(n=di(n),r=di(r)),o=e(n,r)}return o}}function Hi(e){return io((function(t){return t=At(t,Jt(po())),Xr((function(n){var r=this;return e(t,(function(e){return $t(e,r,n)}))}))}))}function qi(e,t){var n=(t=t===i?" ":pi(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,ht(e/mn(t)));return ln(t)?wi(fn(r),0,e).join(""):r.slice(0,e)}function Wi(e){return function(t,n,o){return o&&"number"!=typeof o&&Io(t,n,o)&&(n=o=i),t=fs(t),n===i?(n=t,t=0):n=fs(n),function(e,t,n,i){for(var o=-1,a=kn(ht((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:fs(o),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Yi(e,t,n,r,o,a,s,c,p,u){var g=8&t;t|=g?l:d,4&(t&=~(g?d:l))||(t&=-4);var h=[e,t,o,g?a:i,g?s:i,g?i:a,g?i:s,c,p,u],m=n.apply(i,h);return So(e)&&Po(m,h),m.placeholder=r,Mo(m,e,t)}function Zi(e){var t=De[e];return function(e,n){if(e=bs(e),(n=null==n?0:Cn(ys(n),292))&&kt(e)){var r=(Cs(e)+"e").split("e");return+((r=(Cs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=Tn&&1/gn(new Tn([,-0]))[1]==g?function(e){return new Tn(e)}:pc;function Xi(e){return function(t){var n=yo(t);return n==x?dn(t):n==_?hn(t):function(e,t){return At(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,a,g,h,m,f){var y=2&t;if(!y&&"function"!=typeof e)throw new _e(o);var v=a?a.length:0;if(v||(t&=-97,a=g=i),m=m===i?m:kn(ys(m),0),f=f===i?f:ys(f),v-=g?g.length:0,t&d){var b=a,k=g;a=g=i}var C=y?i:so(e),I=[e,t,n,a,g,b,k,h,m,f];if(C&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==p&&8==n||r==p&&n==u&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ti(l,c,t[4]):c,e[4]=l?un(e[3],s):t[4]}(c=t[5])&&(l=e[5],e[5]=l?_i(l,c,t[6]):c,e[6]=l?un(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&p&&(e[8]=null==e[8]?t[8]:Cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(I,C),e=I[0],t=I[1],n=I[2],a=I[3],g=I[4],!(f=I[9]=I[9]===i?y?0:e.length:kn(I[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==c?function(e,t,n){var o=Vi(e);return function a(){for(var s=arguments.length,c=r(s),l=s,d=lo(a);l--;)c[l]=arguments[l];var p=s<3&&c[0]!==d&&c[s-1]!==d?[]:un(c,d);return(s-=p.length)<n?Yi(e,t,Ui,a.placeholder,i,c,p,i,i,n-s):$t(this&&this!==mt&&this instanceof a?o:e,this,c)}}(e,t,f):t!=l&&33!=t||g.length?Ui.apply(i,I):function(e,t,n,i){var o=1&t,a=Vi(e);return function t(){for(var s=-1,c=arguments.length,l=-1,d=i.length,p=r(d+c),u=this&&this!==mt&&this instanceof t?a:e;++l<d;)p[l]=i[l];for(;c--;)p[l++]=arguments[++s];return $t(u,o?n:this,p)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,i=Vi(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Mo((C?ni:Po)(w,I),e,t)}function eo(e,t,n,r){return e===i||Ga(e,Pe[n])&&!Me.call(r,n)?t:e}function to(e,t,n,r,o,a){return rs(e)&&rs(t)&&(a.set(t,e),zr(e,t,i,to,a),a.delete(t)),e}function no(e){return ss(e)?i:e}function ro(e,t,n,r,o,a){var s=1&n,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var u=-1,g=!0,h=2&n?new Zn:i;for(a.set(e,t),a.set(t,e);++u<c;){var m=e[u],f=t[u];if(r)var y=s?r(f,m,u,t,e,a):r(m,f,u,e,t,a);if(y!==i){if(y)continue;g=!1;break}if(h){if(!Vt(t,(function(e,t){if(!tn(h,t)&&(m===e||o(m,e,n,r,a)))return h.push(t)}))){g=!1;break}}else if(m!==f&&!o(m,f,n,r,a)){g=!1;break}}return a.delete(e),a.delete(t),g}function io(e){return Ao(To(e,i,Ko),e+"")}function oo(e){return Dr(e,Ns,mo)}function ao(e){return Dr(e,As,fo)}var so=On?function(e){return On.get(e)}:pc;function co(e){for(var t=e.name+"",n=Pn[t],r=Me.call(Pn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(Me.call(Un,"placeholder")?Un:e).placeholder}function po(){var e=Un.iteratee||sc;return e=e===sc?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function go(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,$o(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var mo=yt?function(e){return null==e?[]:(e=$e(e),Ot(yt(e),(function(t){return Ye.call(e,t)})))}:vc,fo=yt?function(e){for(var t=[];e;)Mt(t,mo(e)),e=We(e);return t}:vc,yo=$r;function vo(e,t,n){for(var r=-1,i=(t=Ci(t,e)).length,o=!1;++r<i;){var a=jo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ns(i)&&Co(a,i)&&(Wa(e)||qa(e))}function bo(e){return"function"!=typeof e.constructor||Do(e)?{}:Gn(We(e))}function ko(e){return Wa(e)||qa(e)||!!(Qe&&e&&e[Qe])}function Co(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ke.test(e))&&e>-1&&e%1==0&&e<t}function Io(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Ya(n)&&Co(t,n.length):"string"==r&&t in n)&&Ga(n[t],e)}function wo(e,t){if(Wa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ps(e))||(ne.test(e)||!te.test(e)||null!=t&&e in $e(t))}function So(e){var t=co(e),n=Un[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=so(n);return!!r&&e===r[0]}(Dn&&yo(new Dn(new ArrayBuffer(1)))!=A||$n&&yo(new $n)!=x||En&&yo(En.resolve())!=E||Tn&&yo(new Tn)!=_||_n&&yo(new _n)!=P)&&(yo=function(e){var t=$r(e),n=t==$?e.constructor:i,r=n?Bo(n):"";if(r)switch(r){case Nn:return A;case An:return x;case Mn:return E;case Rn:return _;case Ln:return P}return t});var xo=Ne?es:bc;function Do(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function $o(e){return e==e&&!rs(e)}function Eo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in $e(n)))}}function To(e,t,n){return t=kn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=kn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(s),$t(e,this,c)}}function _o(e,t){return t.length<2?e:xr(e,oi(t,0,-1))}function Fo(e,t){for(var n=e.length,r=Cn(t.length,n),o=Fi(e);r--;){var a=t[r];e[r]=Co(a,n)?o[a]:i}return e}function Oo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Ro(ni),No=gt||function(e,t){return mt.setTimeout(e,t)},Ao=Ro(ri);function Mo(e,t,n){var r=t+"";return Ao(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(y,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(de):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=In(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Lo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Zr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Vo=function(e){var t=Ra(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(ge,"$1"):n||e)})),t}));function jo(e){if("string"==typeof e||ps(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof qn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Fi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=Xr((function(e,t){return Za(e)?gr(e,br(t,1,Za,!0)):[]})),zo=Xr((function(e,t){var n=Jo(t);return Za(n)&&(n=i),Za(e)?gr(e,br(t,1,Za,!0),po(n,2)):[]})),Ho=Xr((function(e,t){var n=Jo(t);return Za(n)&&(n=i),Za(e)?gr(e,br(t,1,Za,!0),i,n):[]}));function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=kn(r+i,0)),Ut(e,po(t,3),i)}function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ys(n),o=n<0?kn(r+o,0):Cn(o,r-1)),Ut(e,po(t,3),o,!0)}function Ko(e){return(null==e?0:e.length)?br(e,1):[]}function Yo(e){return e&&e.length?e[0]:i}var Zo=Xr((function(e){var t=At(e,bi);return t.length&&t[0]===e[0]?Fr(t):[]})),Qo=Xr((function(e){var t=Jo(e),n=At(e,bi);return t===Jo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Fr(n,po(t,2)):[]})),Xo=Xr((function(e){var t=Jo(e),n=At(e,bi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Fr(n,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var ea=Xr(ta);function ta(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var na=io((function(e,t){var n=null==e?0:e.length,r=cr(e,t);return Yr(e,At(t,(function(e){return Co(e,n)?+e:e})).sort(Ei)),r}));function ra(e){return null==e?e:xn.call(e)}var ia=Xr((function(e){return ui(br(e,1,Za,!0))})),oa=Xr((function(e){var t=Jo(e);return Za(t)&&(t=i),ui(br(e,1,Za,!0),po(t,2))})),aa=Xr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,ui(br(e,1,Za,!0),i,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Za(e))return t=kn(e.length,t),!0})),Qt(t,(function(t){return At(e,Wt(t))}))}function ca(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:At(n,(function(e){return $t(t,i,e)}))}var la=Xr((function(e,t){return Za(e)?gr(e,t):[]})),da=Xr((function(e){return yi(Ot(e,Za))})),pa=Xr((function(e){var t=Jo(e);return Za(t)&&(t=i),yi(Ot(e,Za),po(t,2))})),ua=Xr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,yi(Ot(e,Za),i,t)})),ga=Xr(sa);var ha=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ca(e,n)}));function ma(e){var t=Un(e);return t.__chain__=!0,t}function fa(e,t){return t(e)}var ya=io((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return cr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&Co(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fa,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var va=Pi((function(e,t,n){Me.call(e,n)?++e[n]:sr(e,n,1)}));var ba=ji(qo),ka=ji(Wo);function Ca(e,t){return(Wa(e)?Tt:hr)(e,po(t,3))}function Ia(e,t){return(Wa(e)?_t:mr)(e,po(t,3))}var wa=Pi((function(e,t,n){Me.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Sa=Xr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ya(e)?r(e.length):[];return hr(e,(function(e){a[++i]=o?$t(t,e,n):Or(e,t,n)})),a})),xa=Pi((function(e,t,n){sr(e,n,t)}));function Da(e,t){return(Wa(e)?At:Br)(e,po(t,3))}var $a=Pi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ea=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Io(e,t[0],t[1])?t=[]:n>2&&Io(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,br(t,1),[])})),Ta=dt||function(){return mt.Date.now()};function _a(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,p,i,i,i,i,t)}function Fa(e,t){var n;if("function"!=typeof t)throw new _e(o);return e=ys(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Oa=Xr((function(e,t,n){var r=1;if(n.length){var i=un(n,lo(Oa));r|=l}return Ji(e,r,t,n,i)})),Pa=Xr((function(e,t,n){var r=3;if(n.length){var i=un(n,lo(Pa));r|=l}return Ji(t,r,e,n,i)}));function Na(e,t,n){var r,a,s,c,l,d,p=0,u=!1,g=!1,h=!0;if("function"!=typeof e)throw new _e(o);function m(t){var n=r,o=a;return r=a=i,p=t,c=e.apply(o,n)}function f(e){return p=e,l=No(v,t),u?m(e):c}function y(e){var n=e-d;return d===i||n>=t||n<0||g&&e-p>=s}function v(){var e=Ta();if(y(e))return b(e);l=No(v,function(e){var n=t-(e-d);return g?Cn(n,s-(e-p)):n}(e))}function b(e){return l=i,h&&r?m(e):(r=a=i,c)}function k(){var e=Ta(),n=y(e);if(r=arguments,a=this,d=e,n){if(l===i)return f(d);if(g)return Si(l),l=No(v,t),m(d)}return l===i&&(l=No(v,t)),c}return t=bs(t)||0,rs(n)&&(u=!!n.leading,s=(g="maxWait"in n)?kn(bs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),k.cancel=function(){l!==i&&Si(l),p=0,r=d=a=l=i},k.flush=function(){return l===i?c:b(Ta())},k}var Aa=Xr((function(e,t){return ur(e,1,t)})),Ma=Xr((function(e,t,n){return ur(e,bs(t)||0,n)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new _e(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Yn),n}function La(e){if("function"!=typeof e)throw new _e(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Yn;var Va=Ii((function(e,t){var n=(t=1==t.length&&Wa(t[0])?At(t[0],Jt(po())):At(br(t,1),Jt(po()))).length;return Xr((function(r){for(var i=-1,o=Cn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return $t(e,this,r)}))})),ja=Xr((function(e,t){var n=un(t,lo(ja));return Ji(e,l,i,t,n)})),Ba=Xr((function(e,t){var n=un(t,lo(Ba));return Ji(e,d,i,t,n)})),Ua=io((function(e,t){return Ji(e,u,i,i,i,t)}));function Ga(e,t){return e===t||e!=e&&t!=t}var za=Ki(Er),Ha=Ki((function(e,t){return e>=t})),qa=Pr(function(){return arguments}())?Pr:function(e){return is(e)&&Me.call(e,"callee")&&!Ye.call(e,"callee")},Wa=r.isArray,Ka=Ct?Jt(Ct):function(e){return is(e)&&$r(e)==N};function Ya(e){return null!=e&&ns(e.length)&&!es(e)}function Za(e){return is(e)&&Ya(e)}var Qa=bt||bc,Xa=It?Jt(It):function(e){return is(e)&&$r(e)==C};function Ja(e){if(!is(e))return!1;var t=$r(e);return t==I||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=$r(e);return t==w||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==ys(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var os=wt?Jt(wt):function(e){return is(e)&&yo(e)==x};function as(e){return"number"==typeof e||is(e)&&$r(e)==D}function ss(e){if(!is(e)||$r(e)!=$)return!1;var t=We(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ae.call(n)==je}var cs=St?Jt(St):function(e){return is(e)&&$r(e)==T};var ls=xt?Jt(xt):function(e){return is(e)&&yo(e)==_};function ds(e){return"string"==typeof e||!Wa(e)&&is(e)&&$r(e)==F}function ps(e){return"symbol"==typeof e||is(e)&&$r(e)==O}var us=Dt?Jt(Dt):function(e){return is(e)&&ns(e.length)&&!!ct[$r(e)]};var gs=Ki(jr),hs=Ki((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ya(e))return ds(e)?fn(e):Fi(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=yo(e);return(t==x?dn:t==_?gn:Gs)(e)}function fs(e){return e?(e=bs(e))===g||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ys(e){var t=fs(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?lr(ys(e),0,f):0}function bs(e){if("number"==typeof e)return e;if(ps(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||be.test(e)?ut(e.slice(2),n?2:8):fe.test(e)?m:+e}function ks(e){return Oi(e,As(e))}function Cs(e){return null==e?"":pi(e)}var Is=Ni((function(e,t){if(Do(t)||Ya(t))Oi(t,Ns(t),e);else for(var n in t)Me.call(t,n)&&rr(e,n,t[n])})),ws=Ni((function(e,t){Oi(t,As(t),e)})),Ss=Ni((function(e,t,n,r){Oi(t,As(t),e,r)})),xs=Ni((function(e,t,n,r){Oi(t,Ns(t),e,r)})),Ds=io(cr);var $s=Xr((function(e,t){e=$e(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&Io(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=As(a),c=-1,l=s.length;++c<l;){var d=s[c],p=e[d];(p===i||Ga(p,Pe[d])&&!Me.call(e,d))&&(e[d]=a[d])}return e})),Es=Xr((function(e){return e.push(i,to),$t(Rs,i,e)}));function Ts(e,t,n){var r=null==e?i:xr(e,t);return r===i?n:r}function _s(e,t){return null!=e&&vo(e,t,_r)}var Fs=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),e[t]=n}),rc(ac)),Os=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),po),Ps=Xr(Or);function Ns(e){return Ya(e)?Xn(e):Lr(e)}function As(e){return Ya(e)?Xn(e,!0):Vr(e)}var Ms=Ni((function(e,t,n){zr(e,t,n)})),Rs=Ni((function(e,t,n,r){zr(e,t,n,r)})),Ls=io((function(e,t){var n={};if(null==e)return n;var r=!1;t=At(t,(function(t){return t=Ci(t,e),r||(r=t.length>1),t})),Oi(e,ao(e),n),r&&(n=dr(n,7,no));for(var i=t.length;i--;)gi(n,t[i]);return n}));var Vs=io((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return _s(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=At(ao(e),(function(e){return[e]}));return t=po(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Xi(Ns),Us=Xi(As);function Gs(e){return null==e?[]:en(e,Ns(e))}var zs=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?Hs(t):t)}));function Hs(e){return Js(Cs(e).toLowerCase())}function qs(e){return(e=Cs(e))&&e.replace(Ce,an).replace(tt,"")}var Ws=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ks=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Ri("toLowerCase");var Zs=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qs=Li((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Xs=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=Ri("toUpperCase");function ec(e,t,n){return e=Cs(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(pe)||[]}(e):e.match(t)||[]}var tc=Xr((function(e,t){try{return $t(e,i,t)}catch(e){return Ja(e)?e:new Se(e)}})),nc=io((function(e,t){return Tt(t,(function(t){t=jo(t),sr(e,t,Oa(e[t],e))})),e}));function rc(e){return function(){return e}}var ic=Bi(),oc=Bi(!0);function ac(e){return e}function sc(e){return Rr("function"==typeof e?e:dr(e,1))}var cc=Xr((function(e,t){return function(n){return Or(n,e,t)}})),lc=Xr((function(e,t){return function(n){return Or(e,n,t)}}));function dc(e,t,n){var r=Ns(t),i=Sr(t,r);null!=n||rs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ns(t)));var o=!(rs(n)&&"chain"in n&&!n.chain),a=es(e);return Tt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Fi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function pc(){}var uc=Hi(At),gc=Hi(Ft),hc=Hi(Vt);function mc(e){return wo(e)?Wt(jo(e)):function(e){return function(t){return xr(t,e)}}(e)}var fc=Wi(),yc=Wi(!0);function vc(){return[]}function bc(){return!1}var kc=zi((function(e,t){return e+t}),0),Cc=Zi("ceil"),Ic=zi((function(e,t){return e/t}),1),wc=Zi("floor");var Sc,xc=zi((function(e,t){return e*t}),1),Dc=Zi("round"),$c=zi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new _e(o);return e=ys(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=_a,Un.assign=Is,Un.assignIn=ws,Un.assignInWith=Ss,Un.assignWith=xs,Un.at=Ds,Un.before=Fa,Un.bind=Oa,Un.bindAll=nc,Un.bindKey=Pa,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Un.chain=ma,Un.chunk=function(e,t,n){t=(n?Io(e,t,n):t===i)?1:kn(ys(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,c=r(ht(o/t));a<o;)c[s++]=oi(e,a,a+=t);return c},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(Wa(n)?Fi(n):[n],br(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=po();return e=t?At(e,(function(e){if("function"!=typeof e[1])throw new _e(o);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if($t(i[0],this,n))return $t(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Ns(e);return function(n){return pr(n,e,t)}}(dr(e,1))},Un.constant=rc,Un.countBy=va,Un.create=function(e,t){var n=Gn(e);return null==t?n:ar(n,t)},Un.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Ji(t,c,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=Na,Un.defaults=$s,Un.defaultsDeep=Es,Un.defer=Aa,Un.delay=Ma,Un.difference=Go,Un.differenceBy=zo,Un.differenceWith=Ho,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=n||t===i?1:ys(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,0,(t=r-(t=n||t===i?1:ys(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?mi(e,po(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?mi(e,po(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Io(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ys(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ys(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Wa(e)?Ot:vr)(e,po(t,3))},Un.flatMap=function(e,t){return br(Da(e,t),1)},Un.flatMapDeep=function(e,t){return br(Da(e,t),g)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:ys(n),br(Da(e,t),n)},Un.flatten=Ko,Un.flattenDeep=function(e){return(null==e?0:e.length)?br(e,g):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===i?1:ys(t)):[]},Un.flip=function(e){return Ji(e,512)},Un.flow=ic,Un.flowRight=oc,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:Sr(e,Ns(e))},Un.functionsIn=function(e){return null==e?[]:Sr(e,As(e))},Un.groupBy=wa,Un.initial=function(e){return(null==e?0:e.length)?oi(e,0,-1):[]},Un.intersection=Zo,Un.intersectionBy=Qo,Un.intersectionWith=Xo,Un.invert=Fs,Un.invertBy=Os,Un.invokeMap=Sa,Un.iteratee=sc,Un.keyBy=xa,Un.keys=Ns,Un.keysIn=As,Un.map=Da,Un.mapKeys=function(e,t){var n={};return t=po(t,3),Ir(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=po(t,3),Ir(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(dr(e,1))},Un.matchesProperty=function(e,t){return Gr(e,dr(t,1))},Un.memoize=Ra,Un.merge=Ms,Un.mergeWith=Rs,Un.method=cc,Un.methodOf=lc,Un.mixin=dc,Un.negate=La,Un.nthArg=function(e){return e=ys(e),Xr((function(t){return Hr(t,e)}))},Un.omit=Ls,Un.omitBy=function(e,t){return js(e,La(po(t)))},Un.once=function(e){return Fa(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(n=r?i:n)||(n=null==n?[]:[n]),qr(e,t,n))},Un.over=uc,Un.overArgs=Va,Un.overEvery=gc,Un.overSome=hc,Un.partial=ja,Un.partialRight=Ba,Un.partition=$a,Un.pick=Vs,Un.pickBy=js,Un.property=mc,Un.propertyOf=function(e){return function(t){return null==e?i:xr(e,t)}},Un.pull=ea,Un.pullAll=ta,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,po(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Un.pullAt=na,Un.range=fc,Un.rangeRight=yc,Un.rearg=Ua,Un.reject=function(e,t){return(Wa(e)?Ot:vr)(e,La(po(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=po(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Yr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new _e(o);return Xr(e,t=t===i?t:ys(t))},Un.reverse=ra,Un.sampleSize=function(e,t,n){return t=(n?Io(e,t,n):t===i)?1:ys(t),(Wa(e)?er:ei)(e,t)},Un.set=function(e,t,n){return null==e?e:ti(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ti(e,t,n,r)},Un.shuffle=function(e){return(Wa(e)?tr:ii)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Io(e,t,n)?(t=0,n=r):(t=null==t?0:ys(t),n=n===i?r:ys(n)),oi(e,t,n)):[]},Un.sortBy=Ea,Un.sortedUniq=function(e){return e&&e.length?li(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?li(e,po(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&Io(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=Cs(e))&&("string"==typeof t||null!=t&&!cs(t))&&!(t=pi(t))&&ln(e)?wi(fn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new _e(o);return t=null==t?0:kn(ys(t),0),Xr((function(n){var r=n[t],i=wi(n,0,t);return r&&Mt(i,r),$t(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?oi(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?oi(e,0,(t=n||t===i?1:ys(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=r-(t=n||t===i?1:ys(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?mi(e,po(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?mi(e,po(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new _e(o);return rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Na(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=fa,Un.toArray=ms,Un.toPairs=Bs,Un.toPairsIn=Us,Un.toPath=function(e){return Wa(e)?At(e,jo):ps(e)?[e]:Fi(Vo(Cs(e)))},Un.toPlainObject=ks,Un.transform=function(e,t,n){var r=Wa(e),i=r||Qa(e)||us(e);if(t=po(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:rs(e)&&es(o)?Gn(We(e)):{}}return(i?Tt:Ir)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return _a(e,1)},Un.union=ia,Un.unionBy=oa,Un.unionWith=aa,Un.uniq=function(e){return e&&e.length?ui(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ui(e,po(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Un.unset=function(e,t){return null==e||gi(e,t)},Un.unzip=sa,Un.unzipWith=ca,Un.update=function(e,t,n){return null==e?e:hi(e,t,ki(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,ki(n),r)},Un.values=Gs,Un.valuesIn=function(e){return null==e?[]:en(e,As(e))},Un.without=la,Un.words=ec,Un.wrap=function(e,t){return ja(ki(t),e)},Un.xor=da,Un.xorBy=pa,Un.xorWith=ua,Un.zip=ga,Un.zipObject=function(e,t){return vi(e||[],t||[],rr)},Un.zipObjectDeep=function(e,t){return vi(e||[],t||[],ti)},Un.zipWith=ha,Un.entries=Bs,Un.entriesIn=Us,Un.extend=ws,Un.extendWith=Ss,dc(Un,Un),Un.add=kc,Un.attempt=tc,Un.camelCase=zs,Un.capitalize=Hs,Un.ceil=Cc,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=bs(n))==n?n:0),t!==i&&(t=(t=bs(t))==t?t:0),lr(bs(e),t,n)},Un.clone=function(e){return dr(e,4)},Un.cloneDeep=function(e){return dr(e,5)},Un.cloneDeepWith=function(e,t){return dr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return dr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||pr(e,t,Ns(t))},Un.deburr=qs,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=Ic,Un.endsWith=function(e,t,n){e=Cs(e),t=pi(t);var r=e.length,o=n=n===i?r:lr(ys(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Ga,Un.escape=function(e){return(e=Cs(e))&&Q.test(e)?e.replace(Y,sn):e},Un.escapeRegExp=function(e){return(e=Cs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Wa(e)?Ft:fr;return n&&Io(e,t,n)&&(t=i),r(e,po(t,3))},Un.find=ba,Un.findIndex=qo,Un.findKey=function(e,t){return Bt(e,po(t,3),Ir)},Un.findLast=ka,Un.findLastIndex=Wo,Un.findLastKey=function(e,t){return Bt(e,po(t,3),wr)},Un.floor=wc,Un.forEach=Ca,Un.forEachRight=Ia,Un.forIn=function(e,t){return null==e?e:kr(e,po(t,3),As)},Un.forInRight=function(e,t){return null==e?e:Cr(e,po(t,3),As)},Un.forOwn=function(e,t){return e&&Ir(e,po(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,po(t,3))},Un.get=Ts,Un.gt=za,Un.gte=Ha,Un.has=function(e,t){return null!=e&&vo(e,t,Tr)},Un.hasIn=_s,Un.head=Yo,Un.identity=ac,Un.includes=function(e,t,n,r){e=Ya(e)?e:Gs(e),n=n&&!r?ys(n):0;var i=e.length;return n<0&&(n=kn(i+n,0)),ds(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Gt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=kn(r+i,0)),Gt(e,t,i)},Un.inRange=function(e,t,n){return t=fs(t),n===i?(n=t,t=0):n=fs(n),function(e,t,n){return e>=Cn(t,n)&&e<kn(t,n)}(e=bs(e),t,n)},Un.invoke=Ps,Un.isArguments=qa,Un.isArray=Wa,Un.isArrayBuffer=Ka,Un.isArrayLike=Ya,Un.isArrayLikeObject=Za,Un.isBoolean=function(e){return!0===e||!1===e||is(e)&&$r(e)==k},Un.isBuffer=Qa,Un.isDate=Xa,Un.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||us(e)||qa(e)))return!e.length;var t=yo(e);if(t==x||t==_)return!e.size;if(Do(e))return!Lr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Nr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Nr(e,t,i,n):!!r},Un.isError=Ja,Un.isFinite=function(e){return"number"==typeof e&&kt(e)},Un.isFunction=es,Un.isInteger=ts,Un.isLength=ns,Un.isMap=os,Un.isMatch=function(e,t){return e===t||Ar(e,t,go(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ar(e,t,go(t),n)},Un.isNaN=function(e){return as(e)&&e!=+e},Un.isNative=function(e){if(xo(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=as,Un.isObject=rs,Un.isObjectLike=is,Un.isPlainObject=ss,Un.isRegExp=cs,Un.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},Un.isSet=ls,Un.isString=ds,Un.isSymbol=ps,Un.isTypedArray=us,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return is(e)&&yo(e)==P},Un.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==$r(e)},Un.join=function(e,t){return null==e?"":jt.call(e,t)},Un.kebabCase=Ws,Un.last=Jo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ys(n))<0?kn(r+o,0):Cn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ut(e,Ht,o,!0)},Un.lowerCase=Ks,Un.lowerFirst=Ys,Un.lt=gs,Un.lte=hs,Un.max=function(e){return e&&e.length?yr(e,ac,Er):i},Un.maxBy=function(e,t){return e&&e.length?yr(e,po(t,2),Er):i},Un.mean=function(e){return qt(e,ac)},Un.meanBy=function(e,t){return qt(e,po(t,2))},Un.min=function(e){return e&&e.length?yr(e,ac,jr):i},Un.minBy=function(e,t){return e&&e.length?yr(e,po(t,2),jr):i},Un.stubArray=vc,Un.stubFalse=bc,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=xc,Un.nth=function(e,t){return e&&e.length?Hr(e,ys(t)):i},Un.noConflict=function(){return mt._===this&&(mt._=Be),this},Un.noop=pc,Un.now=Ta,Un.pad=function(e,t,n){e=Cs(e);var r=(t=ys(t))?mn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qi(ft(i),n)+e+qi(ht(i),n)},Un.padEnd=function(e,t,n){e=Cs(e);var r=(t=ys(t))?mn(e):0;return t&&r<t?e+qi(t-r,n):e},Un.padStart=function(e,t,n){e=Cs(e);var r=(t=ys(t))?mn(e):0;return t&&r<t?qi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(Cs(e).replace(ae,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Io(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fs(e),t===i?(t=e,e=0):t=fs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return Cn(e+o*(t-e+pt("1e-"+((o+"").length-1))),t)}return Zr(e,t)},Un.reduce=function(e,t,n){var r=Wa(e)?Rt:Yt,i=arguments.length<3;return r(e,po(t,4),n,i,hr)},Un.reduceRight=function(e,t,n){var r=Wa(e)?Lt:Yt,i=arguments.length<3;return r(e,po(t,4),n,i,mr)},Un.repeat=function(e,t,n){return t=(n?Io(e,t,n):t===i)?1:ys(t),Qr(Cs(e),t)},Un.replace=function(){var e=arguments,t=Cs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=Ci(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[jo(t[r])];a===i&&(r=o,a=n),e=es(a)?a.call(e):a}return e},Un.round=Dc,Un.runInContext=e,Un.sample=function(e){return(Wa(e)?Jn:Jr)(e)},Un.size=function(e){if(null==e)return 0;if(Ya(e))return ds(e)?mn(e):e.length;var t=yo(e);return t==x||t==_?e.size:Lr(e).length},Un.snakeCase=Zs,Un.some=function(e,t,n){var r=Wa(e)?Vt:ai;return n&&Io(e,t,n)&&(t=i),r(e,po(t,3))},Un.sortedIndex=function(e,t){return si(e,t)},Un.sortedIndexBy=function(e,t,n){return ci(e,t,po(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Ga(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return si(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ci(e,t,po(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Ga(e[n],t))return n}return-1},Un.startCase=Qs,Un.startsWith=function(e,t,n){return e=Cs(e),n=null==n?0:lr(ys(n),0,e.length),t=pi(t),e.slice(n,n+t.length)==t},Un.subtract=$c,Un.sum=function(e){return e&&e.length?Zt(e,ac):0},Un.sumBy=function(e,t){return e&&e.length?Zt(e,po(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&Io(e,t,n)&&(t=i),e=Cs(e),t=Ss({},t,r,eo);var o,a,s=Ss({},t.imports,r.imports,eo),c=Ns(s),l=en(s,c),d=0,p=t.interpolate||Ie,u="__p += '",g=Ee((t.escape||Ie).source+"|"+p.source+"|"+(p===ee?he:Ie).source+"|"+(t.evaluate||Ie).source+"|$","g"),h="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(g,(function(t,n,r,i,s,c){return r||(r=i),u+=e.slice(d,c).replace(we,cn),n&&(o=!0,u+="' +\n__e("+n+") +\n'"),s&&(a=!0,u+="';\n"+s+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=c+t.length,t})),u+="';\n";var m=Me.call(t,"variable")&&t.variable;if(m){if(ue.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(a?u.replace(H,""):u).replace(q,"$1").replace(W,"$1;"),u="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var f=tc((function(){return xe(c,h+"return "+u).apply(i,l)}));if(f.source=u,Ja(f))throw f;return f},Un.times=function(e,t){if((e=ys(e))<1||e>h)return[];var n=f,r=Cn(e,f);t=po(t),e-=f;for(var i=Qt(r,t);++n<e;)t(n);return i},Un.toFinite=fs,Un.toInteger=ys,Un.toLength=vs,Un.toLower=function(e){return Cs(e).toLowerCase()},Un.toNumber=bs,Un.toSafeInteger=function(e){return e?lr(ys(e),-9007199254740991,h):0===e?e:0},Un.toString=Cs,Un.toUpper=function(e){return Cs(e).toUpperCase()},Un.trim=function(e,t,n){if((e=Cs(e))&&(n||t===i))return Xt(e);if(!e||!(t=pi(t)))return e;var r=fn(e),o=fn(t);return wi(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=Cs(e))&&(n||t===i))return e.slice(0,yn(e)+1);if(!e||!(t=pi(t)))return e;var r=fn(e);return wi(r,0,rn(r,fn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=Cs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=pi(t)))return e;var r=fn(e);return wi(r,nn(r,fn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(rs(t)){var o="separator"in t?t.separator:o;n="length"in t?ys(t.length):n,r="omission"in t?pi(t.omission):r}var a=(e=Cs(e)).length;if(ln(e)){var s=fn(e);a=s.length}if(n>=a)return e;var c=n-mn(r);if(c<1)return r;var l=s?wi(s,0,c).join(""):e.slice(0,c);if(o===i)return l+r;if(s&&(c+=l.length-c),cs(o)){if(e.slice(c).search(o)){var d,p=l;for(o.global||(o=Ee(o.source,Cs(me.exec(o))+"g")),o.lastIndex=0;d=o.exec(p);)var u=d.index;l=l.slice(0,u===i?c:u)}}else if(e.indexOf(pi(o),c)!=c){var g=l.lastIndexOf(o);g>-1&&(l=l.slice(0,g))}return l+r},Un.unescape=function(e){return(e=Cs(e))&&Z.test(e)?e.replace(K,vn):e},Un.uniqueId=function(e){var t=++Re;return Cs(e)+t},Un.upperCase=Xs,Un.upperFirst=Js,Un.each=Ca,Un.eachRight=Ia,Un.first=Yo,dc(Un,(Sc={},Ir(Un,(function(e,t){Me.call(Un.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),Un.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Tt(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===i?1:kn(ys(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=Cn(n,r.__takeCount__):r.__views__.push({size:Cn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:po(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(ac)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Or(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(La(po(e)))},qn.prototype.slice=function(e,t){e=ys(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ys(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(f)},Ir(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof qn,l=s[0],d=c||Wa(t),p=function(e){var t=o.apply(Un,Mt([e],s));return r&&u?t[0]:t};d&&n&&"function"==typeof l&&1!=l.length&&(c=d=!1);var u=this.__chain__,g=!!this.__actions__.length,h=a&&!u,m=c&&!g;if(!a&&d){t=m?t:new qn(this);var f=e.apply(t,s);return f.__actions__.push({func:fa,args:[p],thisArg:i}),new Hn(f,u)}return h&&m?e.apply(this,s):(f=this.thru(p),h?r?f.value()[0]:f.value():f)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Fe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wa(i)?i:[],e)}return this[n]((function(n){return t.apply(Wa(n)?n:[],e)}))}})),Ir(qn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Me.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[Ui(i,2).name]=[{name:"wrapper",func:i}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Fi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Fi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Fi(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Cn(t,e+a);break;case"takeRight":e=kn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=r?s:a-1,d=this.__iteratees__,p=d.length,u=0,g=Cn(c,this.__takeCount__);if(!n||!r&&i==c&&g==c)return fi(e,this.__actions__);var h=[];e:for(;c--&&u<g;){for(var m=-1,f=e[l+=t];++m<p;){var y=d[m],v=y.iteratee,b=y.type,k=v(f);if(2==b)f=k;else if(!k){if(1==b)continue e;break e}}h[u++]=f}return h},Un.prototype.at=ya,Un.prototype.chain=function(){return ma(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:fa,args:[ra],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(ra)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Xe&&(Un.prototype[Xe]=function(){return this}),Un}();mt._=bn,(r=function(){return bn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},72859:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4144),a=n(13117),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);t.BehaviorSubject=s},12837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87481),i=n(73123),o=n(36079),a=n(28105),s=n(49079),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||s.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),r.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function l(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=c},24556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49079),i=n(59219);t.empty={closed:!0,next:function(e){},error:function(e){if(r.config.useDeprecatedSynchronousErrorHandling)throw e;i.hostReportError(e)},complete:function(){}}},4144:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12837),a=n(49454),s=n(30598),c=n(13117),l=n(31585),d=n(93188),p=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i(t,e),t}(a.Subscriber);t.SubjectSubscriber=p;var u=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype[d.rxSubscriber]=function(){return new p(this)},t.prototype.lift=function(e){var t=new g(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new g(e,t)},t}(o.Observable);t.Subject=u;var g=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return i(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(u);t.AnonymousSubject=g},31585:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return i(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(30598).Subscription);t.SubjectSubscription=o},49454:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(71517),a=n(24556),s=n(30598),c=n(93188),l=n(49079),d=n(59219),p=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a.empty;break;case 1:if(!n){o.destination=a.empty;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new u(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new u(o,n,r,i)}return o}return i(t,e),t.prototype[c.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.Subscription);t.Subscriber=p;var u=function(e){function t(t,n,r,i){var s,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return o.isFunction(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==a.empty&&(l=Object.create(n),o.isFunction(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=s,c._error=r,c._complete=i,c}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):d.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;d.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),l.config.useDeprecatedSynchronousErrorHandling)throw e;d.hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return l.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(d.hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(p);t.SafeSubscriber=u},30598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26835),i=n(57399),o=n(71517),a=n(33305),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,s=n._parentOrParents,l=n._ctorUnsubscribe,d=n._unsubscribe,p=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof e)s.remove(this);else if(null!==s)for(var u=0;u<s.length;++u){s[u].remove(this)}if(o.isFunction(d)){l&&(this._unsubscribe=void 0);try{d.call(this)}catch(e){t=e instanceof a.UnsubscriptionError?c(e.errors):[e]}}if(r.isArray(p)){u=-1;for(var g=p.length;++u<g;){var h=p[u];if(i.isObject(h))try{h.unsubscribe()}catch(e){t=t||[],e instanceof a.UnsubscriptionError?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new a.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=s},49079:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},36079:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},93188:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},13117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}();t.ObjectUnsubscribedError=n},33305:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();t.UnsubscriptionError=n},87481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49454);t.canReportError=function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.Subscriber?i:null}return!0}},59219:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hostReportError=function(e){setTimeout((function(){throw e}),0)}},80141:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=function(e){return e}},26835:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},71517:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}},57399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return null!==e&&"object"==typeof e}},28105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80141);function i(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.pipeFromArray=i},73123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(49454),i=n(93188),o=n(24556);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(o.empty)}},42937:function(e,t,n){"use strict";n.r(t),n.d(t,{ACTIONS:function(){return Uc},ActionBarComponent:function(){return ga},ActionBarItemComponent:function(){return ji},ActionBarModule:function(){return ha},ActionBarService:function(){return Vi},ActionComponent:function(){return va},ActionModule:function(){return ba},ActionOutletComponent:function(){return ya},ActionService:function(){return fa},AlarmRealtimeService:function(){return lu},AlertComponent:function(){return Ia},AlertDetailsComponent:function(){return Ca},AlertModule:function(){return xa},AlertOutletComponent:function(){return wa},AlertService:function(){return ka},AlertTextComponent:function(){return Sa},AppIconComponent:function(){return Ys},AppStateService:function(){return Hi},AppSwitcherComponent:function(){return Xs},ApplicationOptions:function(){return Bi},AssetTypesModule:function(){return Kp},AssetTypesService:function(){return jo},AuditLogComponent:function(){return np},AuditLogModule:function(){return rp},AuthenticationModule:function(){return Dc},BaseColumn:function(){return mp},BaseFilteringFormRendererComponent:function(){return ap},BootstrapComponent:function(){return Yc},BootstrapModule:function(){return Hl},BreadcrumbComponent:function(){return Qc},BreadcrumbItemComponent:function(){return Zc},BreadcrumbModule:function(){return Xc},BreadcrumbOutletComponent:function(){return Ws},BreadcrumbService:function(){return Ba},BytesPipe:function(){return bo},C8yJSONSchema:function(){return _d},C8yStepper:function(){return Bc},C8yStepperButtons:function(){return Gc},C8yStepperIcon:function(){return Vc},C8yStepperProgress:function(){return jc},C8yTranslateDirective:function(){return oo},C8yTranslateModule:function(){return so},C8yTranslatePipe:function(){return ao},C8yValidators:function(){return Xl},CachedLocaleDictionaryService:function(){return to},CellRendererComponent:function(){return dp},CellRendererContext:function(){return sp},CellRendererDefDirective:function(){return cp},ChangePasswordComponent:function(){return Tc},ClipboardModule:function(){return Fl},ClipboardService:function(){return Gs},ColorService:function(){return _a},ColumnDirective:function(){return pp},CommonModule:function(){return da},ConditionalTabsOutletComponent:function(){return Gl},ConfigureCustomColumnComponent:function(){return gp},ConfirmModalComponent:function(){return bs},ContextRouteComponent:function(){return ed},ContextRouteGuard:function(){return td},ContextRouteService:function(){return ts},CookieBannerComponent:function(){return Kc},CoreModule:function(){return Yp},CredentialsComponent:function(){return _c},CurrentPasswordModalComponent:function(){return _s},CustomColumn:function(){return fp},DATA_GRID_CONFIGURATION_CONTEXT:function(){return vp},DATA_GRID_CONFIGURATION_CONTEXT_PROVIDER:function(){return bp},DATA_GRID_CONFIGURATION_STRATEGY:function(){return yp},DashboardChildActionComponent:function(){return Hd},DashboardChildChange:function(){return Wd},DashboardChildComponent:function(){return Yd},DashboardChildTitleComponent:function(){return qd},DashboardComponent:function(){return Kd},DashboardModule:function(){return tp},DataGridComponent:function(){return Dp},DataGridModule:function(){return $p},DataGridService:function(){return Ip},DatapointLibraryValidationErrors:function(){return ws},DatePickerComponent:function(){return Ql},DatePickerModule:function(){return Jl},DatePipe:function(){return Co},DateTimePickerComponent:function(){return bd},DateTimePickerModule:function(){return Id},DefaultValidationDirective:function(){return Ms},DeviceBootstrapRealtimeService:function(){return mu},DeviceService:function(){return Lo},DeviceStatusComponent:function(){return bl},DeviceStatusModule:function(){return El},DismissAlertStrategy:function(){return Ad},DocsModule:function(){return ld},DocsService:function(){return za},DropAreaComponent:function(){return Wl},DropAreaModule:function(){return Kl},DropdownDirectionDirective:function(){return Io},DynamicBulkDetailsResolver:function(){return Bd},DynamicBulkIIdentifiedResolver:function(){return Ud},DynamicComponentAlert:function(){return Md},DynamicComponentAlertAggregator:function(){return Ld},DynamicComponentComponent:function(){return Vd},DynamicComponentErrorStrategy:function(){return Ha},DynamicComponentModule:function(){return jd},DynamicComponentService:function(){return Za},DynamicDatapointsResolver:function(){return zd},DynamicFormsModule:function(){return Pd},DynamicManagedObjectResolver:function(){return Gd},DynamicResolverService:function(){return Ka},ES_MAX_TIME_MILLISECONDS:function(){return ko},EmailsValidatorDirective:function(){return lc},EmptyComponent:function(){return nd},EmptyStateComponent:function(){return Do},EventRealtimeService:function(){return du},FilePickerComponent:function(){return Yl},FilePickerModule:function(){return Zl},FilesService:function(){return $o},FilterInputComponent:function(){return dc},FilteringActionType:function(){return hp},FilteringFormRendererComponent:function(){return up},FilteringFormRendererContext:function(){return ip},FilteringFormRendererDefDirective:function(){return op},ForOfDirective:function(){return No},FormGroupComponent:function(){return $s},FormsModule:function(){return xc},GENERIC_FILE_TYPE:function(){return So},GainsightService:function(){return ua},GetGroupIconPipe:function(){return zo},GridDataSource:function(){return wp},GroupFragment:function(){return Vo},GroupService:function(){return Uo},GuideDocsComponent:function(){return cd},GuideHrefDirective:function(){return sd},HOOK_ACTION:function(){return ma},HOOK_ACTION_BAR:function(){return Li},HOOK_BREADCRUMB:function(){return ja},HOOK_COMPONENTS:function(){return Wa},HOOK_DOCS:function(){return Ua},HOOK_DYNAMIC_PROVIDER_CONFIG:function(){return Xp},HOOK_NAVIGATOR_NODES:function(){return Ea},HOOK_ONCE_ROUTE:function(){return ns},HOOK_OPTIONS:function(){return Ui},HOOK_PATTERN_MESSAGES:function(){return Ki},HOOK_ROUTE:function(){return rs},HOOK_SEARCH:function(){return as},HOOK_STEPPER:function(){return ds},HOOK_TABS:function(){return Qa},HOOK_WIZARD:function(){return cs},HeaderBarComponent:function(){return tc},HeaderCellRendererDefDirective:function(){return lp},HeaderModule:function(){return Pl},HeaderService:function(){return Va},HelpComponent:function(){return Tp},HelpModule:function(){return _p},HighlightComponent:function(){return nl},HumanizeAppNamePipe:function(){return Ao},HumanizePipe:function(){return Ro},I18nModule:function(){return mo},ICONS:function(){return xo},ICON_LIST:function(){return la},IconDirective:function(){return wo},IfAllowedDirective:function(){return qo},InputGroupListComponent:function(){return pc},InputGroupListContainerDirective:function(){return uc},InventorySearchService:function(){return pl},IpRangeInputListComponent:function(){return hc},IsControlVisiblePipe:function(){return xp},JsonValidationPrettifierDirective:function(){return mc},LANGUAGES:function(){return qi},LOCALE_PATH:function(){return Wi},LegacyGridConfigMapperService:function(){return au},ListDisplaySwitchComponent:function(){return Vp},ListDisplaySwitchModule:function(){return jp},ListGroupComponent:function(){return ll},ListGroupModule:function(){return Dl},ListItemActionComponent:function(){return il},ListItemBodyComponent:function(){return Il},ListItemCheckboxComponent:function(){return wl},ListItemCollapseComponent:function(){return ol},ListItemComponent:function(){return sl},ListItemDragHandleComponent:function(){return Sl},ListItemFooterComponent:function(){return al},ListItemIconComponent:function(){return fl},ListItemRadioComponent:function(){return xl},ListItemTimelineComponent:function(){return cl},LoadMoreComponent:function(){return To},LoadingComponent:function(){return Wo},LoginComponent:function(){return Pc},LoginModule:function(){return Nl},LoginService:function(){return Cs},LoginViews:function(){return ec},MAX_PAGE_SIZE:function(){return Oa},MESSAGES:function(){return eo},ManagedObjectRealtimeService:function(){return pu},ManagedObjectType:function(){return Mo},MapFunctionPipe:function(){return Ko},MaxValidationDirective:function(){return fc},MeasurementRealtimeService:function(){return uu},MessageDirective:function(){return Ss},MessagesComponent:function(){return Ds},MinValidationDirective:function(){return gc},MissingTranslationCustomHandler:function(){return Zi},ModalComponent:function(){return Is},ModalModule:function(){return cc},ModalSelectionMode:function(){return Op},ModalService:function(){return ks},NEEDED_ROLE_FOR_SETUP:function(){return ms},NUMBER_FORMAT_REGEXP:function(){return Yo},NavigatorIconComponent:function(){return Ac},NavigatorModule:function(){return Jc},NavigatorNode:function(){return Da},NavigatorNodeComponent:function(){return Mc},NavigatorNodeRoot:function(){return $a},NavigatorOutletComponent:function(){return Rc},NavigatorService:function(){return Ta},NewPasswordComponent:function(){return js},NumberPipe:function(){return Zo},OperationBulkRealtimeService:function(){return gu},OperationRealtimeService:function(){return hu},OperationResultComponent:function(){return Qo},OptionsService:function(){return Gi},OutletDirective:function(){return Xo},PRODUCT_EXPERIENCE_EVENT_SOURCE:function(){return Zs},PasswordCheckListComponent:function(){return Vs},PasswordConfirm:function(){return Rs},PasswordConfirmModalComponent:function(){return Ts},PasswordService:function(){return Fs},PasswordStrengthCheckerService:function(){return ac},PasswordStrengthComponent:function(){return Ls},PasswordStrengthValidatorDirective:function(){return Ec},PatternMessagesService:function(){return Yi},Permissions:function(){return Ho},PhoneValidationDirective:function(){return As},PluginsModule:function(){return Ml},PluginsResolveService:function(){return hs},PluginsService:function(){return Al},PopoverConfirmComponent:function(){return sc},ProductExperienceDirective:function(){return Qs},ProductExperienceModule:function(){return el},ProgressBarComponent:function(){return Jo},PropertiesListComponent:function(){return Hc},PropertiesListModule:function(){return Rl},ProvidePhoneNumberComponent:function(){return ic},ProviderConfigurationComponent:function(){return nu},ProviderConfigurationModule:function(){return ou},ProviderConfigurationNodeFactory:function(){return Jp},ProviderConfigurationRouteFactory:function(){return ru},ProviderConfigurationService:function(){return eu},ProviderDefinitionsService:function(){return tu},PushStatus:function(){return gl},PushStatusLabels:function(){return ml},QuickLinkComponent:function(){return Zp},QuickLinkModule:function(){return Qp},RESOLVING_COMPONENT_WAIT_TIME:function(){return qa},RangeComponent:function(){return vc},RangeDirective:function(){return yc},RangeDisplayComponent:function(){return Rp},RangeDisplayModule:function(){return Lp},RealtimeButtonComponent:function(){return Fp},RealtimeMessage:function(){return fu},RealtimeModule:function(){return Pp},RealtimeService:function(){return Eo},RealtimeSubjectService:function(){return cu},RecoverPasswordComponent:function(){return oc},RequiredInputPlaceholderDirective:function(){return Es},RightDrawerComponent:function(){return Js},RouterModule:function(){return ad},RouterService:function(){return is},RouterTabsResolver:function(){return Ja},SETUP_FINISHED_STEP_ID:function(){return fs},SearchComponent:function(){return tl},SearchFilters:function(){return os},SearchInputComponent:function(){return kl},SearchModule:function(){return Tl},SearchOutletComponent:function(){return qs},SearchResultEmptyComponent:function(){return rl},SearchService:function(){return ss},SelectComponent:function(){return Cl},SelectModalComponent:function(){return Ap},SelectModalFilterPipe:function(){return Np},SelectModalModule:function(){return Mp},SelectModule:function(){return $l},SendStatus:function(){return ul},SendStatusLabels:function(){return hl},SetupCompletedComponent:function(){return Vl},SetupComponent:function(){return qc},SetupModule:function(){return Bl},SetupService:function(){return ys},SetupState:function(){return gs},SetupStepperFactory:function(){return jl},ShortenUserNamePipe:function(){return ea},ShouldShowMoPipe:function(){return Go},ShowIfFilterPipe:function(){return ta},SimpleJsonPathValidatorDirective:function(){return Cc},SmsChallengeComponent:function(){return rc},StateService:function(){return Ri},Status:function(){return Fa},StepperModule:function(){return Ll},StepperOutletComponent:function(){return zc},StepperService:function(){return ps},Steppers:function(){return us},StrengthValidatorService:function(){return $c},TabComponent:function(){return Ul},TabsModule:function(){return zl},TabsOutletComponent:function(){return Nc},TabsService:function(){return Xa},TenantUiService:function(){return na},TextAreaRowHeightDirective:function(){return Ic},TextareaAutoresizeDirective:function(){return ra},TitleComponent:function(){return Lc},TitleOutletComponent:function(){return Ks},TotpAuthComponent:function(){return Fc},TotpChallengeComponent:function(){return Os},TotpSetupComponent:function(){return Ps},TranslateCustomLoader:function(){return no},TranslateParserCustom:function(){return io},TranslateService:function(){return vo},TypeaheadComponent:function(){return dl},UniqueInCollectionByPathValidationDirective:function(){return Sc},UserEditComponent:function(){return Bs},UserEditModalComponent:function(){return Us},UserMenuItemComponent:function(){return zs},UserMenuOutletComponent:function(){return Hs},UserMenuService:function(){return vs},UserModule:function(){return Ol},UserPreferencesConfigurationStrategy:function(){return su},UserPreferencesService:function(){return aa},UserPreferencesStorageInventory:function(){return oa},UserPreferencesStorageLocal:function(){return ia},UserTotpRevokeComponent:function(){return _l},UserTotpSetupComponent:function(){return Ns},ValidationPattern:function(){return xs},ViewContext:function(){return Ya},ViewContextServices:function(){return es},VirtualScrollWindowDirective:function(){return Oo},VirtualScrollWindowStrategy:function(){return _o},VirtualScrollerWrapperComponent:function(){return Po},WidgetTimeContextComponent:function(){return Jd},WidgetsDashboardComponent:function(){return ep},WizardBodyComponent:function(){return Gp},WizardComponent:function(){return Up},WizardFooterComponent:function(){return zp},WizardHeaderComponent:function(){return Hp},WizardModalService:function(){return qp},WizardModule:function(){return Wp},WizardOutletComponent:function(){return Bp},WizardService:function(){return ls},ZipService:function(){return sa},_:function(){return Qi},_virtualScrollWindowStrategyFactory:function(){return Fo},deviceAvailabilityIconMap:function(){return yl},fromFactories:function(){return Ti},fromTrigger:function(){return $i},fromTriggerOnce:function(){return Ei},getActivatedRoute:function(){return Mi},getAngularLocalesLanguageString:function(){return ho},getBasicInputArrayFormFieldConfig:function(){return Nd},gettext:function(){return Xi},initializeServices:function(){return ca},isPromise:function(){return Ni},languagesFactory:function(){return uo},loadLocale:function(){return yo},localeId:function(){return go},localePathFactory:function(){return po},memoize:function(){return Bo},minColumnGridTrackSize:function(){return kp},operationStatusClasses:function(){return La},operationStatusIcons:function(){return Ra},ratiosByColumnTypes:function(){return Cp},resolveInjectedFactories:function(){return _i},retryWithDelay:function(){return Pa},routes:function(){return rd},simpleJsonPathValidator:function(){return kc},sortByPriority:function(){return Oi},stateToFactory:function(){return Fi},statusAlert:function(){return Ma},statusClasses:function(){return Aa},statusIcons:function(){return Na},throttle:function(){return zi},toObservable:function(){return Ai},toObservableOfArrays:function(){return Pi},tooltips:function(){return vl},translateLoaderFactory:function(){return lo},trimTranslationKey:function(){return ro},uniqueInCollectionByPathValidator:function(){return wc}});var r=n(40761),i=n.t(r,2),o=n(74802),a=n(89754),s=n(76063),c=n(41328),l=n(22542),d=n(43621),p=n(11474),u=n(80179),g=n(87369);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new $(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function u(){}function g(){}function f(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(E([])));b&&b!==t&&n.call(b,o)&&(y=b);var k=f.prototype=u.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function i(r,o,a,s){var c=d(e[r],e,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==h(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=f,r(k,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:g,configurable:!0}),g.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},C(I.prototype),c(I.prototype,a,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new I(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(k),c(k,s,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function w(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var x=function(){function e(t){C(this,e),this.client=t,this.callsSubject=new a.Subject,this.calls=this.callsSubject.asObservable(),this.hookIntoClientFetch()}var t,n;return w(e,[{key:"hookResponse",value:function(e){return this.callsSubject.pipe((0,s.filter)((function(e){return"finish"===e.phase})),(0,s.filter)(e))}},{key:"hookRequest",value:function(e){return this.callsSubject.pipe((0,s.filter)((function(e){return"start"===e.phase})),(0,s.filter)(e))}},{key:"onFinish",value:(n=k(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.callsSubject.next(y({phase:"finish"},t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onStart",value:function(e){this.callsSubject.next(y({phase:"start"},e))}},{key:"resolveData",value:(t=k(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.response,r=t.method,!("data"in n)){e.next=5;break}return e.abrupt("return",Promise.resolve({data:n.data,method:r}));case 5:return i=function(e){return{data:e,method:r}},e.abrupt("return",n.clone().json().then(i,i));case 7:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"hookIntoClientFetch",value:function(){var e=this,t=this.client.fetch.bind(this.client);this.client.fetch=function(){var n=k((function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET"};return m().mark((function i(){var o,a;return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=r.method,e.onStart({options:r,method:o,url:n}),a=t(n,r),"function"==typeof r.responseInterceptor&&(a=a.then(r.responseInterceptor)),a.then((function(t){return e.onFinish({response:t,url:n,options:r,method:o})}),(function(t){return e.onFinish({response:t,url:n,options:r,method:o})})),i.abrupt("return",a);case 6:case"end":return i.stop()}}),i)}))()}));return function(e){return n.apply(this,arguments)}}()}}]),e}();x.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:x,deps:[{token:g.FetchClient}],target:r["ɵɵFactoryTarget"].Injectable}),x.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:x,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:x,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:g.FetchClient}]}});var D=Object.freeze({__proto__:null,FetchClient:g.FetchClient,BasicAuth:g.BasicAuth,CookieAuth:g.CookieAuth,Realtime:g.Realtime,EventBinaryService:g.EventBinaryService,EventService:g.EventService,InventoryService:g.InventoryService,MeasurementService:g.MeasurementService,AlarmService:g.AlarmService,OperationBulkService:g.OperationBulkService,OperationService:g.OperationService,ApplicationService:g.ApplicationService,UserService:g.UserService,TenantService:g.TenantService,SystemOptionsService:g.SystemOptionsService,TenantOptionsService:g.TenantOptionsService,TenantSecurityOptionsService:g.TenantSecurityOptionsService,TenantLoginOptionsService:g.TenantLoginOptionsService,AuditService:g.AuditService,InventoryRoleService:g.InventoryRoleService,InventoryBinaryService:g.InventoryBinaryService,DeviceRegistrationService:g.DeviceRegistrationService,DeviceRegistrationBulkService:g.DeviceRegistrationBulkService,UserRoleService:g.UserRoleService,UserGroupService:g.UserGroupService,IdentityService:g.IdentityService,TrustedCertificateService:g.TrustedCertificateService,SmartGroupsService:g.SmartGroupsService,SmartRulesService:g.SmartRulesService});var $=Object.keys(D).map((function(e){return t=D[e],n=[g.FetchClient,g.Realtime],t===g.FetchClient&&(n=[g.CookieAuth]),t!==g.BasicAuth&&t!==g.CookieAuth||(n=[]),t===g.Realtime&&(n=[g.FetchClient]),{provide:t,useClass:t,deps:n};var t,n})).concat([{provide:x,useClass:x,deps:[g.FetchClient]}]),E=function(){function e(){C(this,e)}return w(e,null,[{key:"providers",value:function(){return $}},{key:"forRoot",value:function(){return{ngModule:e,providers:$}}}]),e}();E.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:E,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),E.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:E}),E.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:E,providers:$}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:E,decorators:[{type:r.NgModule,args:[{providers:$}]}]});var T=n(64431);class _{}class F{}class O{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach((e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}}))}:()=>{this.headers=new Map,Object.keys(e).forEach((t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof O?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(e){const t=new O;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof O?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===i.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}}class P{encodeKey(e){return M(e)}encodeValue(e){return M(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const N=/%(\d[a-f0-9])/gi,A={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M(e){return encodeURIComponent(e).replace(N,((e,t)=>A[t]??e))}function R(e){return`${e}`}class L{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new P,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],a=n.get(i)||[];a.push(o),n.set(i,a)}));return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{const n=e.fromObject[t],r=Array.isArray(n)?n.map(R):[R(n)];this.map.set(t,r)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach((n=>{const r=e[n];Array.isArray(r)?r.forEach((e=>{t.push({param:n,value:e,op:"a"})})):t.push({param:n,value:r,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(e){const t=new L({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(R(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(R(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}}class V{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function j(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function B(e){return"undefined"!=typeof Blob&&e instanceof Blob}function U(e){return"undefined"!=typeof FormData&&e instanceof FormData}class G{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new O),this.context||(this.context=new V),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),r=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+r+e}}else this.params=new L,this.urlWithParams=t}serializeBody(){return null===this.body?null:j(this.body)||B(this.body)||U(this.body)||(e=this.body,"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams)||"string"==typeof this.body?this.body:this.body instanceof L?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();var e}detectContentTypeHeader(){return null===this.body||U(this.body)?null:B(this.body)?this.body.type||null:j(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof L?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let s=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(s=Object.keys(e.setHeaders).reduce(((t,n)=>t.set(n,e.setHeaders[n])),s)),e.setParams&&(c=Object.keys(e.setParams).reduce(((t,n)=>t.set(n,e.setParams[n])),c)),new G(t,n,i,{params:c,headers:s,context:l,reportProgress:a,responseType:r,withCredentials:o})}}var z;!function(e){e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User"}(z||(z={}));class H{constructor(e,t=200,n="OK"){this.headers=e.headers||new O,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class q extends H{constructor(e={}){super(e),this.type=z.ResponseHeader}clone(e={}){return new q({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class W extends H{constructor(e={}){super(e),this.type=z.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new W({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class K extends H{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Y(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class Z{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof G)r=e;else{let i,o;i=n.headers instanceof O?n.headers:new O(n.headers),n.params&&(o=n.params instanceof L?n.params:new L({fromObject:n.params})),r=new G(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,a.of)(r).pipe((0,s.concatMap)((e=>this.handler.handle(e))));if(e instanceof G||"events"===n.observe)return i;const o=i.pipe((0,s.filter)((e=>e instanceof W)));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,s.map)((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return o.pipe((0,s.map)((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return o.pipe((0,s.map)((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));default:return o.pipe((0,s.map)((e=>e.body)))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new L).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Y(n,t))}post(e,t,n={}){return this.request("POST",e,Y(n,t))}put(e,t,n={}){return this.request("PUT",e,Y(n,t))}}Z.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Z,deps:[{token:_}],target:r["ɵɵFactoryTarget"].Injectable}),Z.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Z}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Z,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:_}]}});class Q{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const X=new r.InjectionToken("HTTP_INTERCEPTORS");class J{intercept(e,t){return t.handle(e)}}J.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:J,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),J.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:J}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:J,decorators:[{type:r.Injectable}]});let ee,te=0;class ne{}class re{constructor(e,t){this.callbackMap=e,this.document=t,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+te++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");if(e.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new a.Observable((t=>{const n=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let o=null,a=!1;this.callbackMap[n]=e=>{delete this.callbackMap[n],o=e,a=!0};const s=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]};return i.addEventListener("load",(e=>{this.resolvedPromise.then((()=>{s(),a?(t.next(new W({body:o,status:200,statusText:"OK",url:r})),t.complete()):t.error(new K({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))}))})),i.addEventListener("error",(e=>{s(),t.error(new K({error:e,status:0,statusText:"JSONP Error",url:r}))})),this.document.body.appendChild(i),t.next({type:z.Sent}),()=>{a||this.removeListeners(i),s()}}))}removeListeners(e){ee||(ee=this.document.implementation.createHTMLDocument()),ee.adoptNode(e)}}re.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:re,deps:[{token:ne},{token:u.DOCUMENT}],target:r["ɵɵFactoryTarget"].Injectable}),re.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:re}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:re,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:ne},{type:void 0,decorators:[{type:r.Inject,args:[u.DOCUMENT]}]}]}});class ie{constructor(e){this.jsonp=e}intercept(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}ie.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ie,deps:[{token:re}],target:r["ɵɵFactoryTarget"].Injectable}),ie.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ie}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ie,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:re}]}});const oe=/^\)\]\}',?\n/;class ae{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new a.Observable((t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach(((e,t)=>n.setRequestHeader(e,t.join(",")))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=n.statusText||"OK",r=new O(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new q({headers:r,status:n.status,statusText:t,url:o}),i},a=()=>{let{headers:r,status:i,statusText:a,url:s}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(oe,"");try{c=""!==c?JSON.parse(c):null}catch(t){c=e,l&&(l=!1,c={error:t,text:c})}}l?(t.next(new W({body:c,headers:r,status:i,statusText:a,url:s||void 0})),t.complete()):t.error(new K({error:c,headers:r,status:i,statusText:a,url:s||void 0}))},s=e=>{const{url:r}=o(),i=new K({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let c=!1;const l=r=>{c||(t.next(o()),c=!0);let i={type:z.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},d=e=>{let n={type:z.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",a),n.addEventListener("error",s),n.addEventListener("timeout",s),n.addEventListener("abort",s),e.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",d)),n.send(r),t.next({type:z.Sent}),()=>{n.removeEventListener("error",s),n.removeEventListener("abort",s),n.removeEventListener("load",a),n.removeEventListener("timeout",s),e.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",d)),n.readyState!==n.DONE&&n.abort()}}))}}ae.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ae,deps:[{token:u.XhrFactory}],target:r["ɵɵFactoryTarget"].Injectable}),ae.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ae}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ae,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:u.XhrFactory}]}});const se=new r.InjectionToken("XSRF_COOKIE_NAME"),ce=new r.InjectionToken("XSRF_HEADER_NAME");class le{}class de{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u["ɵparseCookieValue"])(e,this.cookieName),this.lastCookieString=e),this.lastToken}}de.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:de,deps:[{token:u.DOCUMENT},{token:r.PLATFORM_ID},{token:se}],target:r["ɵɵFactoryTarget"].Injectable}),de.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:de}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:de,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[u.DOCUMENT]}]},{type:void 0,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]},{type:void 0,decorators:[{type:r.Inject,args:[se]}]}]}});class pe{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}pe.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pe,deps:[{token:le},{token:ce}],target:r["ɵɵFactoryTarget"].Injectable}),pe.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pe}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pe,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:le},{type:void 0,decorators:[{type:r.Inject,args:[ce]}]}]}});class ue{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(X,[]);this.chain=e.reduceRight(((e,t)=>new Q(e,t)),this.backend)}return this.chain.handle(e)}}function ge(){return"object"==typeof window?window:{}}ue.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ue,deps:[{token:F},{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),ue.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ue}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ue,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:F},{type:r.Injector}]}});class he{static disable(){return{ngModule:he,providers:[{provide:pe,useClass:J}]}}static withOptions(e={}){return{ngModule:he,providers:[e.cookieName?{provide:se,useValue:e.cookieName}:[],e.headerName?{provide:ce,useValue:e.headerName}:[]]}}}he.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:he,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),he.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:he}),he.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:he,providers:[pe,{provide:X,useExisting:pe,multi:!0},{provide:le,useClass:de},{provide:se,useValue:"XSRF-TOKEN"},{provide:ce,useValue:"X-XSRF-TOKEN"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:he,decorators:[{type:r.NgModule,args:[{providers:[pe,{provide:X,useExisting:pe,multi:!0},{provide:le,useClass:de},{provide:se,useValue:"XSRF-TOKEN"},{provide:ce,useValue:"X-XSRF-TOKEN"}]}]}]});class me{}me.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:me,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),me.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:me,imports:[he]}),me.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:me,providers:[Z,{provide:_,useClass:ue},ae,{provide:F,useExisting:ae}],imports:[he.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:me,decorators:[{type:r.NgModule,args:[{imports:[he.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[Z,{provide:_,useClass:ue},ae,{provide:F,useExisting:ae}]}]}]});class fe{}fe.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fe,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),fe.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:fe}),fe.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fe,providers:[re,{provide:ne,useFactory:ge},{provide:X,useClass:ie,multi:!0}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fe,decorators:[{type:r.NgModule,args:[{providers:[re,{provide:ne,useFactory:ge},{provide:X,useClass:ie,multi:!0}]}]}]});var ye=n(49309),ve=n(58156),be=n(14181),ke=n(2647),Ce=n(19250),Ie=n(81329),we=n(49224),Se=n(96486),xe=n(49918),De=n(24219),$e=n(39417),Ee={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6],0,0,0,0,0,0,0,[["6[2-467]\\d{3}",[5]],["4\\d{4}",[5]],0,0,0,0,["(?:0[1-9]|[1589]\\d)\\d{4}",[6]]]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[["[78]\\d{5}",[6]],["690\\d{6}|[356]\\d{5}",[6,9]],["180[02]\\d{4}",[8]],["[19]\\d{5}",[6]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0",0,0,0,0,0,[["[2-4679][2-8]\\d{6}",[8]],["5[024-68]\\d{7}",[9]],["400\\d{6}|800\\d{2,9}"],["900[02]\\d{5}",[9]],0,0,["600[25]\\d{5}",[9]],0,0,["700[05]\\d{5}",[9]]]],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0",0,0,0,0,0,[["(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}"],["7\\d{8}"]]],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([457]\\d{6})$","268$1",0,"268",[["268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}"],["268(?:464|7(?:1[3-9]|[28]\\d|3[0246]|64|7[0-689]))\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"],0,0,["26840[69]\\d{4}"],["26848[01]\\d{4}"]]],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2457]\\d{6})$","264$1",0,"264",[["264(?:292|4(?:6[12]|9[78]))\\d{4}"],["264(?:235|4(?:69|76)|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"],0,0,["264724\\d{4}"]]],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0",0,0,0,0,0,[["4505[0-2]\\d{3}|(?:[2358][16-9]\\d[2-9]|4410)\\d{4}|(?:[2358][2-5][2-9]|4(?:[2-57-9][2-9]|6\\d))\\d{5}",[8]],["6(?:[78][2-9]|9\\d)\\d{6}",[9]],["800\\d{4}",[7]],["900[1-9]\\d\\d",[6]],["700[2-9]\\d{4}",[8]],0,0,0,0,["808[1-9]\\d\\d",[6]]]],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0",0,0,0,0,0,[["(?:(?:1[0-25]|47)\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2)\\d{5}"],["(?:33|4[1349]|55|77|88|9[13-9])\\d{6}"],["800\\d{5}"],["90[016]\\d{5}"],0,0,0,0,["60(?:2[78]|3[5-9]|4[02-9]|5[0-46-9]|[6-8]\\d|9[01])\\d{4}"],["80[1-4]\\d{5}"]]],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]],0,0,0,0,0,0,[["2\\d(?:[0134][25-9]|[25-9]\\d)\\d{5}"],["9[1-59]\\d{7}"]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1",0,0,[["3888[013-9]\\d{5}|3(?:7(?:1[15]|81)|8(?:21|4[16]|69|9[12]))[46]\\d{5}|(?:29(?:54|66)|3(?:7(?:55|77)|865))[2-8]\\d{5}|(?:2(?:2(?:2[59]|44|52)|3(?:26|44)|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|(?:2(?:284|3(?:02|23)|657|920)|3(?:4(?:8[27]|92)|541|878))[2-7]\\d{5}|(?:2(?:(?:26|62)2|320|477|9(?:42|83))|3(?:329|4(?:[47]6|62|89)|564))[2-6]\\d{5}|(?:(?:11[1-8]|670)\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-8]|[36][45]|4[3-6])|80[45]|9(?:[17][4-6]|[48][45]|9[3-6]))|3(?:364|4(?:1[2-7]|[235][4-6]|84)|5(?:1[2-9]|[38][4-6])|6(?:2[45]|44)|7[069][45]|8(?:0[45]|[17][2-6]|3[4-6]|[58][3-6])))\\d{6}|2(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])))[3-6]\\d{5}|(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|25|[45][25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}",[10]],["93(?:7(?:1[15]|81)[46]|8(?:(?:21|4[16]|69|9[12])[46]|88[013-9]))\\d{5}|9(?:29(?:54|66)|3(?:7(?:55|77)|865))[2-8]\\d{5}|9(?:2(?:2(?:2[59]|44|52)|3(?:26|44)|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|9(?:2(?:284|3(?:02|23)|657|920)|3(?:4(?:8[27]|92)|541|878))[2-7]\\d{5}|9(?:2(?:(?:26|62)2|320|477|9(?:42|83))|3(?:329|4(?:[47]6|62|89)|564))[2-6]\\d{5}|(?:675\\d|9(?:11[1-8]\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-8]|[36][45]|4[3-6])|80[45]|9(?:[17][4-6]|[48][45]|9[3-6]))|3(?:364|4(?:1[2-7]|[235][4-6]|84)|5(?:1[2-9]|[38][4-6])|6(?:2[45]|44)|7[069][45]|8(?:0[45]|[17][2-6]|3[4-6]|[58][3-6]))))\\d{6}|92(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|9(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])))[3-6]\\d{5}|9(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|25|[45][25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}"],["800\\d{7,8}"],["60[04579]\\d{7}",[10]],0,0,["810\\d{7}",[10]]]],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"1|([267]\\d{6})$","684$1",0,"684",[["6846(?:22|33|44|55|77|88|9[19])\\d{4}"],["684(?:2(?:48|5[2468]|72)|7(?:3[13]|70|82))\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0",0,0,0,0,0,[["1(?:11\\d|[2-9]\\d{3,11})|(?:316|463|(?:51|66|73)2)\\d{3,10}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-578]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|7[1368]|8[2457])|5(?:2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[135-8]|5[468])|7(?:2[1-8]|35|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{4,10}"],["6(?:5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}",[7,8,9,10,11,12,13]],["800\\d{6,10}",[9,10,11,12,13]],["(?:8[69][2-68]|9(?:0[01]|3[019]))\\d{6,10}",[9,10,11,12,13]],0,0,0,0,["5(?:0[1-9]|17|[79]\\d)\\d{2,10}|7[28]0\\d{6,10}",[5,6,7,8,9,10,11,12,13]],["8(?:10|2[018])\\d{6,10}|828\\d{5}",[8,9,10,11,12,13]]]],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"0|(183[12])",0,0,0,[["(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]],0,0,0,0,0,0,[["5(?:2\\d|8[1-9])\\d{4}"],["(?:290|5[69]\\d|6(?:[03]0|22|4[0-2]|[69]\\d)|7(?:[34]\\d|7[07])|9(?:6[45]|9[4-8]))\\d{4}"],["800\\d{4}"],["900\\d{4}"],0,0,0,0,["(?:28\\d|501)\\d{4}"]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",[["18[1-8]\\d{3,6}",[6,7,8,9]],["4946\\d{2,6}|(?:4[0-8]|50)\\d{4,8}",[6,7,8,9,10]],["800\\d{4,6}",[7,8,9]],["[67]00\\d{5,6}",[8,9]],0,0,["20\\d{4,8}|60[12]\\d{5,6}|7(?:099\\d{4,5}|5[03-9]\\d{3,7})|20[2-59]\\d\\d|(?:606|7(?:0[78]|1|3\\d))\\d{7}|(?:10|29|3[09]|70[1-5]\\d)\\d{4,8}"]],"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0",0,0,0,0,0,[["(?:2[12]428|3655[02])\\d{4}|(?:2(?:22[0-79]|63[0-28])|3654)\\d{5}|(?:(?:1[28]|46)\\d|2(?:[014-6]2|[23]3))\\d{6}"],["36554\\d{4}|(?:[16]0|4[04]|5[015]|7[07]|99)\\d{7}"],["88\\d{7}"],["900200\\d{3}"]]],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0",0,0,0,0,0,[["(?:3(?:[05-79][2-9]|1[4579]|[23][24-9]|4[2-4689]|8[2457-9])|49[2-579]|5(?:0[2-49]|[13][2-9]|[268][2-4679]|4[4689]|5[2-79]|7[2-69]|9[2-4689]))\\d{5}",[8]],["6040\\d{5}|6(?:03|[1-356]|44|7\\d)\\d{6}"],["8[08]\\d{6}",[8]],["9[0246]\\d{6}",[8]],0,0,["703[235]0\\d{3}|70(?:2[0-5]|3[0146]|[56]0)\\d{4}",[8]],0,0,["8[12]\\d{6}",[8]]]],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","246$1",0,"246",[["246521[0369]\\d{3}|246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2\\d|3[2-9])|5(?:20|[34]\\d|54|7[1-3])|6(?:2\\d|38)|7[35]7|9(?:1[89]|63))\\d{4}"],["246(?:(?:2(?:[3568]\\d|4[0-57-9])|3(?:5[2-9]|6[0-6])|4(?:46|5\\d)|69[5-7]|8(?:[2-5]\\d|83))\\d|52(?:1[147]|20))\\d{3}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["(?:246976|900[2-9]\\d\\d)\\d{4}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"],0,["246(?:292|367|4(?:1[7-9]|3[01]|4[47-9]|67)|7(?:1[2-9]|2\\d|3[016]|53))\\d{4}"],0,["24631\\d{5}"]]],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0",0,0,0,0,0,[["(?:4(?:31\\d\\d|423)|5222)\\d{3}(?:\\d{2})?|8332[6-9]\\d\\d|(?:3(?:03[56]|224)|4(?:22[25]|653))\\d{3,4}|(?:3(?:42[47]|529|823)|4(?:027|525|65(?:28|8))|562|6257|7(?:1(?:5[3-5]|6[12]|7[156]|89)|22[589]56|32|42675|52(?:[25689](?:56|8)|[347]8)|71(?:6[1267]|75|89)|92374)|82(?:2[59]|32)56|9(?:03[23]56|23(?:256|373)|31|5(?:1|2[4589]56)))\\d{3}|(?:3(?:02[348]|22[35]|324|422)|4(?:22[67]|32[236-9]|6(?:2[46]|5[57])|953)|5526|6(?:024|6655)|81)\\d{4,5}|(?:2(?:7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|1[1-6]|2[0157-9]|3[1-69]|41|6[1-35]|7[1-5]|8[1-8]|9[0-6])|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0136-9]|7[0-7]|8[014-9]))|3(?:0(?:2[025-79]|3[2-4])|181|22[12]|32[2356]|824)|4(?:02[09]|22[348]|32[045]|523|6(?:27|54))|666(?:22|53)|7(?:22[57-9]|42[56]|82[35])8|8(?:0[124-9]|2(?:181|2[02-4679]8)|4[12]|[5-7]2)|9(?:[04]2|2(?:2|328)|81))\\d{4}|(?:2(?:222|[45]\\d)\\d|3(?:1(?:2[5-7]|[5-7])|425|822)|4(?:033|1\\d|[257]1|332|4(?:2[246]|5[25])|6(?:2[35]|56|62)|8(?:23|54)|92[2-5])|5(?:02[03489]|22[457]|32[35-79]|42[46]|6(?:[18]|53)|724|826)|6(?:023|2(?:2[2-5]|5[3-5]|8)|32[3478]|42[34]|52[47]|6(?:[18]|6(?:2[34]|5[24]))|[78]2[2-5]|92[2-6])|7(?:02|21\\d|[3-589]1|6[12]|72[24])|8(?:217|3[12]|[5-7]1)|9[24]1)\\d{5}|(?:(?:3[2-8]|5[2-57-9]|6[03-589])1|4[4689][18])\\d{5}|[59]1\\d{5}"],["(?:1[13-9]\\d|644)\\d{7}|(?:3[78]|44|66)[02-9]\\d{7}",[10]],["80[03]\\d{7}",[10]],0,0,0,0,0,["96(?:0[469]|1[0-47]|3[389]|6[69]|7[78])\\d{6}",[10]]]],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0",0,0,0,0,0,[["80[2-8]\\d{5}|(?:1[0-69]|[23][2-8]|4[23]|5\\d|6[013-57-9]|71|8[1-79]|9[2-4])\\d{6}",[8]],["4[5-9]\\d{7}",[9]],["800[1-9]\\d{4}",[8]],["(?:70(?:2[0-57]|3[04-7]|44|69|7[0579])|90(?:0[0-8]|1[36]|2[0-3568]|3[013-689]|[47][2-68]|5[1-68]|6[0-378]|9[34679]))\\d{4}",[8]],0,0,["78(?:0[57]|1[0458]|2[25]|3[15-8]|48|[56]0|7[078]|9\\d)\\d{4}",[8]],0,0,["7879\\d{4}",[8]]]],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]],0,0,0,0,0,0,[["2(?:0(?:49|5[23]|6[5-7]|9[016-9])|4(?:4[569]|5[4-6]|6[5-7]|7[0179])|5(?:[34]\\d|50|6[5-7]))\\d{4}"],["(?:0[125-7]|5[1-8]|[67]\\d)\\d{6}"]]],BG:["359","00","[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[["2\\d{5,7}|(?:43[1-6]|70[1-9])\\d{4,5}|(?:[36]\\d|4[124-7]|[57][1-9]|8[1-6]|9[1-7])\\d{5,6}",[6,7,8]],["(?:43[07-9]|99[69]\\d)\\d{5}|(?:8[7-9]|98)\\d{7}",[8,9]],["800\\d{5}",[8]],["90\\d{6}",[8]],0,0,0,0,0,["700\\d{5}",[8]]]],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]],0,0,0,0,0,0,[["(?:1(?:3[1356]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|7[7-9]|88)|9[69][69])|7(?:1(?:11|78)|7\\d\\d))\\d{4}"],["(?:3(?:[1-79]\\d|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:3[03-9]|[69]\\d|7[0-6])))\\d{4}"],["80\\d{6}"],["(?:87|9[014578])\\d{6}"],0,0,0,0,0,["84\\d{6}"]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]],0,0,0,0,0,0,[["(?:22|31)\\d{6}"],["(?:29|6[1257-9]|7[125-9])\\d{6}"]]],BJ:["229","00","(?:[25689]\\d|40)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]],0,0,0,0,0,0,[["2(?:02|1[037]|2[45]|3[68])\\d{5}"],["(?:40|5[1-9]|6\\d|9[013-9])\\d{6}"],0,0,0,0,["81\\d{6}"],0,["857[58]\\d{4}"]]],BL:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","441$1",0,"441",[["441(?:[46]\\d\\d|5(?:4\\d|60|89))\\d{4}"],["441(?:[2378]\\d|5[0-39])\\d{5}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]],0,0,0,0,0,0,[["22[0-7]\\d{4}|(?:2[013-9]|[34]\\d|5[0-25-9])\\d{5}"],["(?:22[89]|[78]\\d\\d)\\d{4}"],0,0,0,0,0,0,["5[34]\\d{5}"]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?",0,0,0,[["(?:2(?:2\\d\\d|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d\\d|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:[27]\\d|3[2-4]|4[248]|5[24]|6[2-6]))|4(?:4\\d\\d|6(?:11|[24689]\\d|72)))\\d{4}",[8]],["[67]\\d{7}",[8]],["8001[07]\\d{4}",[9]]]],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]",[["(?:318[023]|41(?:6[023]|70)|7(?:1[578]|2[05]|50)\\d)\\d{3}"],["(?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}"]]],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",0,0,[["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5]\\d{7}",[10]],["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])(?:7|9\\d)\\d{7}",[10,11]],["800\\d{6,7}",[9,10]],["300\\d{6}|[59]00\\d{6,7}",[9,10]],0,0,0,0,0,["(?:30[03]\\d{3}|4(?:0(?:0\\d|20)|370))\\d{4}|300\\d{5}",[8,10]]]],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([3-8]\\d{6})$","242$1",0,"242",[["242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[347]|8[0-4]|9[2-467])|461|502|6(?:0[1-4]|12|2[013]|[45]0|7[67]|8[78]|9[89])|7(?:02|88))\\d{4}"],["242(?:3(?:5[79]|7[56]|95)|4(?:[23][1-9]|4[1-35-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-46-9]|65|77)|6[34]6|7(?:27|38)|8(?:0[1-9]|1[02-9]|2\\d|[89]9))\\d{4}"],["242300\\d{4}|8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"],0,["242225\\d{4}"]]],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]],0,0,0,0,0,0,[["(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}",[7]],["(?:1[67]|77)\\d{6}",[8]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-79]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[["(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69]\\d|7[013])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[03489]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}",[7]],["(?:321|7(?:[1-7]\\d|8[01]))\\d{5}",[8]],["(?:0800|800\\d)\\d{6}",[10]],["90\\d{5}",[7]],0,0,0,0,["79(?:1(?:[01]\\d|2[0-7])|2[0-7]\\d)\\d{3}",[8]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,[["(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d\\d)|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}",[9]],["(?:2(?:5[5-79]|9[1-9])|(?:33|44)\\d)\\d{6}",[9]],["800\\d{3,7}|8(?:0[13]|20\\d)\\d{7}"],["(?:810|902)\\d{7}",[10]],0,0,0,0,["249\\d{6}",[9]]],"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]],0,0,0,0,0,0,[["(?:2(?:[02]\\d|36|[68]0)|[3-58](?:[02]\\d|[68]0)|7(?:[02]\\d|32|[68]0))\\d{4}",[7]],["6[0-35-7]\\d{5}",[7]],["0800\\d{7}",[11]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|6[578])|4(?:03|1[68]|3[178]|50|68|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[125-7]|33|44|66|77|88)|622)[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[["12\\d{7}|[1-6]\\d{6}"],["88\\d{5}|(?:8[0-59]|9[017-9])\\d{7}"]]],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]],0,0,0,0,0,0,[["2[12]\\d{6}"],["7[02457]\\d{6}"],0,["8776\\d{4}"]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]],0,0,0,0,0,0,[["222[1-589]\\d{5}"],["026(?:1[0-5]|6[6-9])\\d{4}|0(?:[14-6]\\d\\d|2(?:40|5[5-8]|6[07-9]))\\d{5}"],0,["80(?:0\\d\\d|120)\\d{4}"]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0",0,0,0,0,0,[["(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}"],["7[35-9]\\d{7}"],["800\\d{6}"],["90[016]\\d{6}"],["878\\d{6}"],0,["5[18]\\d{7}"],["74[0248]\\d{6}"],0,["84[0248]\\d{6}"]]],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]],0,0,0,0,0,0,[["2(?:[15]\\d{3}|7(?:2(?:0[23]|1[2357]|[23][45]|4[3-5])|3(?:06|1[69]|[2-6]7)))\\d{5}"],["0704[0-7]\\d{5}|0(?:[15]\\d\\d|7(?:0[0-37-9]|[4-9][7-9]))\\d{6}"]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]],0,0,0,0,0,0,[["(?:2\\d|3[13-7]|4[1-5])\\d{3}"],["[578]\\d{4}"]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]],0,0,0,0,0,0,[["2(?:1982[0-6]|3314[05-9])\\d{3}|(?:2(?:1(?:160|962)|3(?:2\\d\\d|3(?:[034]\\d|1[0-35-9]|2[1-9]|5[0-2])|600)|646[59])|80[1-9]\\d\\d|9(?:3(?:[0-57-9]\\d\\d|6(?:0[02-9]|[1-9]\\d))|6(?:[0-8]\\d\\d|9(?:[02-79]\\d|1[05-9]))|7[1-9]\\d\\d|9(?:[03-9]\\d\\d|1(?:[0235-9]\\d|4[0-24-9])|2(?:[0-79]\\d|8[0-46-9]))))\\d{4}|(?:22|3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|8[1-9]|9[2458])\\d{7}",[9]],["",[9]],["(?:123|8)00\\d{6}",[9,11]],0,0,0,0,0,["44\\d{7}",[9]],["600\\d{7,8}",[10,11]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]],0,0,0,0,0,0,[["2(?:22|33)\\d{6}",[9]],["(?:24[23]|6[25-9]\\d)\\d{6}",[9]],["88\\d{6,7}"]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"0|(1(?:[12]\\d|79)\\d\\d)",0,0,0,[["(?:10(?:[02-79]\\d\\d|[18](?:0[1-9]|[1-9]\\d))|21(?:[18](?:0[1-9]|[1-9]\\d)|[2-79]\\d\\d))\\d{5}|(?:43[35]|754)\\d{7,8}|8(?:078\\d{7}|51\\d{7,8})|(?:10|(?:2|85)1|43[35]|754)(?:100\\d\\d|95\\d{3,4})|(?:2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[57]|6[09])|8(?:71|98))(?:[02-8]\\d{7}|1(?:0(?:0\\d\\d(?:\\d{3})?|[1-9]\\d{5})|[1-9]\\d{6})|9(?:[0-46-9]\\d{6}|5\\d{3}(?:\\d(?:\\d{2})?)?))|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[46-9]|5[2-9]|6[47-9]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-3689]|6[2368]|9[02-9])|8(?:1[236-8]|2[5-7]|3\\d|5[2-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:[02-8]\\d{6}|1(?:0(?:0\\d\\d(?:\\d{2})?|[1-9]\\d{4})|[1-9]\\d{5})|9(?:[0-46-9]\\d{5}|5\\d{3,5}))",[7,8,9,10,11]],["1740[0-5]\\d{6}|1(?:[38]\\d|4[57]|5[0-35-9]|6[25-7]|7[0-35-8]|9[0135-9])\\d{8}",[11]],["(?:(?:10|21)8|8)00\\d{7}",[10,12]],["16[08]\\d{5}",[8]],0,0,0,0,0,["400\\d{7}|950\\d{7,8}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}",[7,8,9,10,11]]],"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}",[10,11],[["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["[39]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0(4(?:[14]4|56)|[579])?",0,0,0,[["60[124-8][2-9]\\d{6}",[10]],["3333(?:0(?:0\\d|1[0-5])|[4-9]\\d\\d)\\d{3}|(?:3(?:24[1-9]|3(?:00|3[0-24-9]))|9101)\\d{6}|3(?:0[0-5]|1\\d|2[0-3]|5[01]|70)\\d{7}",[10]],["1800\\d{7}",[11]],["19(?:0[01]|4[78])\\d{7}",[11]]]],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))",0,0,0,[["210[7-9]\\d{4}|2(?:[024-7]\\d|1[1-9])\\d{5}",[8]],["(?:3005\\d|6500[01])\\d{3}|(?:5[07]|6[0-4]|7[0-3]|8[3-9])\\d{6}",[8]],["800\\d{7}",[10]],["90[059]\\d{7}",[10]],0,0,0,0,["(?:210[0-6]|4\\d{3}|5100)\\d{4}",[8]]]],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0",0,0,0,0,0,[["(?:3[23]|48)\\d{4,6}|(?:31|4[36]|8(?:0[25]|78)\\d)\\d{6}|(?:2[1-4]|4[1257]|7\\d)\\d{5,6}"],["5\\d{7}",[8]],["800\\d{7}",[10]],0,0,0,0,0,0,["807\\d{7}",[10]]]],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]],0,0,0,0,0,0,[["2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}"],["(?:36|5[1-389]|9\\d)\\d{5}"],["800\\d{4}"],0,0,0,0,0,["(?:3[3-5]|4[356])\\d{5}"]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]",[["9(?:4(?:3[0-5]|4[14]|6\\d)|50\\d|7(?:2[014]|3[02-9]|4[4-9]|6[357]|77|8[7-9])|8(?:3[39]|[46]\\d|7[01]|8[57-9]))\\d{4}"],["953[01]\\d{4}|9(?:5[12467]|6[5-9])\\d{5}"],0,0,0,0,0,["955\\d{5}",[8]],0,["60[0-2]\\d{4}",[7]]]],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]],0,0,0,0,0,0,[["2[2-6]\\d{6}"],["9[4-79]\\d{6}"],["800\\d{5}"],["90[09]\\d{5}"],["700\\d{5}"],0,["(?:50|77)\\d{6}"],0,0,["80[1-9]\\d{5}"]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,[["(?:2\\d|3[1257-9]|4[16-9]|5[13-9])\\d{7}"],["(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}"],["800\\d{6}"],["9(?:0[05689]|76)\\d{6}"],["70[01]\\d{6}"],0,["9(?:5\\d|7[2-4])\\d{6}"],0,["9[17]0\\d{6}"],["8[134]\\d{7}"]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[02-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|[23]1|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0",0,0,0,0,0,[["32\\d{9,11}|49[1-6]\\d{10}|322\\d{6}|49[0-7]\\d{3,9}|(?:[34]0|[68]9)\\d{3,13}|(?:2(?:0[1-689]|[1-3569]\\d|4[0-8]|7[1-7]|8[0-7])|3(?:[3569]\\d|4[0-79]|7[1-7]|8[1-8])|4(?:1[02-9]|[2-48]\\d|5[0-6]|6[0-8]|7[0-79])|5(?:0[2-8]|[124-6]\\d|[38][0-8]|[79][0-7])|6(?:0[02-9]|[1-358]\\d|[47][0-8]|6[1-9])|7(?:0[2-8]|1[1-9]|[27][0-7]|3\\d|[4-6][0-8]|8[0-5]|9[013-7])|8(?:0[2-9]|1[0-79]|2\\d|3[0-46-9]|4[0-6]|5[013-9]|6[1-8]|7[0-8]|8[0-24-6])|9(?:0[6-9]|[1-4]\\d|[589][0-7]|6[0-8]|7[0-467]))\\d{3,12}",[5,6,7,8,9,10,11,12,13,14,15]],["15[0-25-9]\\d{8}|1(?:6[023]|7\\d)\\d{7,8}",[10,11]],["800\\d{7,12}",[10,11,12,13,14,15]],["(?:137[7-9]|900(?:[135]|9\\d))\\d{6}",[10,11]],["700\\d{8}",[11]],0,["18(?:1\\d{5,11}|[2-9]\\d{8})",[8,9,10,11,12,13,14]],["16(?:4\\d{1,10}|[89]\\d{1,11})",[4,5,6,7,8,9,10,11,12,13,14]],0,["180\\d{5,11}|13(?:7[1-6]\\d\\d|8)\\d{4}",[7,8,9,10,11,12,13,14]]]],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]],0,0,0,0,0,0,[["2(?:1[2-5]|7[45])\\d{5}"],["77\\d{6}"]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]],0,0,0,0,0,0,[["(?:[2-7]\\d|8[126-9]|9[1-46-9])\\d{6}"],[""],["80\\d{6}"],["90\\d{6}"]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","767$1",0,"767",[["767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4])\\d{4}"],["767(?:2(?:[2-4689]5|7[5-7])|31[5-7]|61[1-8]|70[1-6])\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9",[["8(?:[04]9[2-9]\\d\\d|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d\\d|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9])))\\d{4}"],["8[024]9[2-9]\\d{6}"],["8(?:00(?:14|[2-9]\\d)|(?:33|44|55|66|77|88)[2-9]\\d)\\d{5}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0",0,0,0,0,0,[["9619\\d{5}|(?:1\\d|2[013-79]|3[0-8]|4[013-689])\\d{6}"],["(?:5(?:4[0-29]|5\\d|6[0-2])|6(?:[569]\\d|7[0-6])|7[7-9]\\d)\\d{6}",[9]],["800\\d{6}",[9]],["80[3-689]1\\d{5}",[9]],0,0,0,0,["98[23]\\d{6}",[9]],["80[12]1\\d{5}",[9]]]],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[["[2-7][2-7]\\d{6}",[8]],["964[0-2]\\d{5}|9(?:39|[57][89]|6[0-36-9]|[89]\\d)\\d{6}",[9]],["1800\\d{7}|1[78]00\\d{6}",[10,11]],0,0,0,0,0,["[2-7]890\\d{4}",[8]]]],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[["(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}",[7]],["(?:5\\d{5}|8(?:1(?:0(?:000|[3-9]\\d\\d)|(?:1(?:0[236]|1\\d)|(?:23|[3-79]\\d)\\d)\\d)|2(?:0(?:000|(?:19|[2-7]\\d)\\d)|(?:(?:[124-6]\\d|3[5-9])\\d|7(?:[3679]\\d|8[13-9])|8(?:[2-6]\\d|7[01]))\\d)|[349]\\d{4}))\\d\\d|5(?:(?:[02]\\d|5[0-478])\\d|1(?:[0-8]\\d|95)|6(?:4[0-4]|5[1-589]))\\d{3}",[7,8]],["800(?:(?:0\\d\\d|1)\\d|[2-9])\\d{3}"],["(?:40\\d\\d|900)\\d{4}",[7,8]],["70[0-2]\\d{5}",[8]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],"0",0,0,0,0,0,[["13[23]\\d{6}|(?:15|57)\\d{6,7}|(?:2[2-4]|3|4[05-8]|5[05]|6[24-689]|8[2468]|9[235-7])\\d{7}",[8,9]],["1[0-25]\\d{8}",[10]],["800\\d{7}",[10]],["900\\d{7}",[10]]]],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]",[["528[89]\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|2[0-2]|6[0-8]))\\d{6}"],["80\\d{7}"],["89\\d{7}"],0,0,0,0,["592(?:4[0-2]|93)\\d{4}"]]],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1[12568]|[24]0|55|6[146])|8\\d\\d)\\d{4}"],["(?:17[1-3]|7\\d\\d)\\d{4}"]]],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]],0,0,0,0,0,0,[["96906(?:0[0-8]|1[1-9]|[2-9]\\d)\\d\\d|9(?:69(?:0[0-57-9]|[1-9]\\d)|73(?:[0-8]\\d|9[1-9]))\\d{4}|(?:8(?:[1356]\\d|[28][0-8]|[47][1-9])|9(?:[135]\\d|[268][0-8]|4[1-9]|7[124-9]))\\d{6}"],["(?:590[16]00\\d|9(?:6906(?:09|10)|7390\\d\\d))\\d\\d|(?:6\\d|7[1-48])\\d{7}"],["[89]00\\d{6}"],["80[367]\\d{6}"],["70\\d{7}"],0,["51\\d{7}"],0,0,["90[12]\\d{6}"]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0",0,0,0,0,0,[["11667[01]\\d{3}|(?:11(?:1(?:1[124]|2[2-7]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:1[78]|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|(?:22|55)[0-6]|33[0134689]|44[04]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:119|22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:(?:11|22)[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}"],["7001\\d{5}|(?:7(?:0[1-9]|1[01]|77|86|99)|9\\d\\d)\\d{6}"]]],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",[["(?:1[3-79][1-8]|[235689][1-8]\\d)\\d{2,6}",[5,6,7,8,9]],["4946\\d{2,6}|(?:4[0-8]|50)\\d{4,8}",[6,7,8,9,10]],["800\\d{4,6}",[7,8,9]],["[67]00\\d{5,6}",[8,9]],0,0,["20\\d{4,8}|60[12]\\d{5,6}|7(?:099\\d{4,5}|5[03-9]\\d{3,7})|20[2-59]\\d\\d|(?:606|7(?:0[78]|1|3\\d))\\d{7}|(?:10|29|3[09]|70[1-5]\\d)\\d{4,8}"]],"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,[["603\\d{4}|(?:3[0-5]|6[25-7]|8[58])\\d{5}",[7]],["(?:[279]\\d|45|5[01568]|8[034679])\\d{5}",[7]],["0800\\d{7}",[11]]],"00"],FK:["500","00","[2-7]\\d{4}",[5],0,0,0,0,0,0,0,[["[2-47]\\d{4}"],["[56]\\d{4}"]]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]],0,0,0,0,0,0,[["31(?:00[67]|208|309)\\d\\d|(?:3(?:[2357]0[1-9]|602|804|905)|(?:820|9[2-6]\\d)\\d)\\d{3}"],["31(?:00[67]|208|309)\\d\\d|(?:3(?:[2357]0[1-9]|602|804|905)|(?:820|9[2-7]\\d)\\d)\\d{3}"]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))",0,0,0,[["(?:20|[34]\\d|8[19])\\d{4}"],["(?:[27][1-9]|5\\d|9[16])\\d{4}"],["80[257-9]\\d{3}"],["90(?:[13-5][15-7]|2[125-7]|9\\d)\\d\\d"],0,0,0,0,["(?:6[0-36]|88)\\d{4}"]]],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0",0,0,0,0,0,[["(?:[1-35]\\d|4[1-9])\\d{7}"],["(?:6(?:[0-24-8]\\d|3[0-8]|9[589])|7(?:00|[3-9]\\d))\\d{6}"],["80[0-5]\\d{6}"],["836(?:0[0-36-9]|[1-9]\\d)\\d{4}|8(?:1[2-9]|2[2-47-9]|3[0-57-9]|[569]\\d|8[0-35-9])\\d{6}"],0,0,["80[6-9]\\d{6}"],0,["9\\d{8}"],["8(?:1[01]|2[0156]|4[02]|84)\\d{6}"]]],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1",0,0,[["[01]1\\d{6}",[8]],["(?:(?:0[2-7]|7[467])\\d|6(?:0[0-4]|10|[256]\\d))\\d{5}|[2-7]\\d{6}"]]],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[01359])|(?:5[0-26-9]|[78][0-49])\\d\\d|6(?:[0-4]\\d\\d|50[0-79]))|2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d\\d|1(?:[0-7]\\d\\d|8(?:[02]\\d|1[0-26-9])))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","473$1",0,"473",[["473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}"],["473(?:4(?:0[2-79]|1[04-9]|2[0-5]|58)|5(?:2[01]|3[3-8])|901)\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0",0,0,0,0,0,[["(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}"],["5(?:(?:0555|1(?:[17]77|555))[5-9]|757(?:7[7-9]|8[01]))\\d{3}|5(?:0070|11(?:33|51)|[25]222|3333)[0-4]\\d{3}|5(?:00(?:0\\d|5[05])|11(?:00|1\\d|2[0-4]|3[01])|5200|75(?:00|[57]5)|8(?:0(?:[01]\\d|2[0-4])|58[89]|8(?:55|88)))\\d{4}|(?:5(?:[14]4|5[0157-9]|68|7[0147-9]|9[1-35-9])|790)\\d{6}"],["800\\d{6}"],0,0,0,0,0,["70[67]\\d{6}"]]],GF:["594","00","(?:[56]94|80\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["594(?:[023]\\d|1[01]|4[03-9]|5[6-9]|6[0-3]|80|9[0-8])\\d{4}"],["694(?:[0-249]\\d|3[0-48])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976\\d{6}"]]],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"0|([25-9]\\d{5})$","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0",0,0,0,0,0,[["3082[0-5]\\d{4}|3(?:0(?:[237]\\d|8[01])|[167](?:2[0-6]|7\\d|80)|2(?:2[0-5]|7\\d|80)|3(?:2[0-3]|7\\d|80)|4(?:2[013-9]|3[01]|7\\d|80)|5(?:2[0-7]|7\\d|80)|8(?:2[0-2]|7\\d|80)|9(?:[28]0|7\\d))\\d{5}",[9]],["(?:2(?:[0346-8]\\d|5[67])|5(?:[0457]\\d|6[01]|9[1-9]))\\d{6}",[9]],["800\\d{5}",[8]]]],GI:["350","00","(?:[25]\\d\\d|606)\\d{5}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]],0,0,0,0,0,0,[["21(?:6[24-7]\\d|90[0-2])\\d{3}|2(?:00|2[25])\\d{5}"],["(?:5[146-8]\\d|606)\\d{5}"]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]],0,0,0,0,0,0,[["(?:19|3[1-7]|6[14689]|70|8[14-79]|9\\d)\\d{4}"],["[245]\\d{5}"],["80\\d{4}"],0,0,0,0,0,["3[89]\\d{4}"]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],0,0,0,0,0,0,[["(?:4(?:[23]\\d\\d|4(?:1[024679]|[6-9]\\d))|5(?:5(?:3\\d|4[0-7])|6[67]\\d|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}"],["(?:[23679]\\d|5[0-389])\\d{5}"]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]],0,0,0,0,0,0,[["3(?:0(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])|1\\d\\d)\\d{4}",[8]],["6[0-356]\\d{7}",[9]],0,0,0,0,0,0,["722\\d{6}",[9]]]],GP:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1289]|5[3-579]|6[0-289]|7[08]|8[0-689]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]],0,0,0,0,0,0,[["33[0-24-9]\\d[46]\\d{4}|3(?:33|5\\d)\\d[7-9]\\d{4}"],["(?:222|55\\d)\\d{6}"],["80\\d[1-9]\\d{5}"],["90\\d[1-9]\\d{5}"]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[["2(?:1\\d\\d|2(?:2[1-46-9]|[36][1-8]|4[1-7]|5[1-4]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|[269][1-6]|3[1245]|4[1-7]|5[13-9]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}",[10]],["68[57-9]\\d{7}|(?:69|94)\\d{8}",[10]],["800\\d{7,9}"],["90[19]\\d{7}",[10]],["70\\d{8}",[10]],0,["5005000\\d{3}",[10]],0,0,["8(?:0[16]|12|[27]5|50)\\d{7}",[10]]]],GT:["502","00","(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[["[267][2-9]\\d{6}",[8]],["[3-5]\\d{7}",[8]],["18[01]\\d{8}",[11]],["19\\d{9}",[11]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"1|([3-9]\\d{6})$","671$1",0,"671",[["671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[0479]7|2[0167]|3[45]|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]],0,0,0,0,0,0,[["443\\d{6}",[9]],["9(?:5\\d|6[569]|77)\\d{6}",[9]],0,0,0,0,0,0,["40\\d{5}",[7]]]],GY:["592","001","9008\\d{3}|(?:[2-467]\\d\\d|862)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]],0,0,0,0,0,0,[["(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}"],["(?:6\\d\\d|70[015-7])\\d{4}"],["(?:289|862)\\d{4}"],["9008\\d{3}"]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,[["(?:2(?:[13-9]\\d|2[013-9])\\d|3(?:(?:[1569][0-24-9]|4[0-246-9]|7[0-24-69])\\d|8(?:4[0-8]|5[0-5]|9\\d))|58(?:0[1-8]|1[2-9]))\\d{4}",[8]],["(?:4(?:44[5-9]|6(?:0[0-7]|1[0-6]|4[0-57-9]|6[0-4]|7[0-8]))|573[0-6]|6(?:26[013-8]|66[0-3])|70(?:7[1-5]|8[0-4])|848[015-9]|9(?:29[013-9]|59[0-4]))\\d{4}|(?:4(?:4[01]|6[2358])|5(?:[1-59][0-46-9]|6[0-4689]|7[0-246-9])|6(?:0[1-9]|[13-59]\\d|[268][0-57-9]|7[0-79])|84[09]|9(?:0[1-9]|1[02-9]|[2358][0-8]|[467]\\d))\\d{5}",[8]],["800\\d{6}",[9]],["900(?:[0-24-9]\\d{7}|3\\d{1,4})",[5,6,7,8,11]],["8(?:1[0-4679]\\d|2(?:[0-36]\\d|7[0-4])|3(?:[034]\\d|2[09]|70))\\d{4}",[8]],0,["30(?:0[1-9]|[15-7]\\d|2[047]|89)\\d{4}",[8]],["7(?:1(?:0[0-38]|1[0-3679]|3[013]|69|9[0136])|2(?:[02389]\\d|1[18]|7[27-9])|3(?:[0-38]\\d|7[0-369]|9[2357-9])|47\\d|5(?:[178]\\d|5[0-5])|6(?:0[0-7]|2[236-9]|[35]\\d)|7(?:[27]\\d|8[7-9])|8(?:[23689]\\d|7[1-9])|9(?:[025]\\d|6[0-246-8]|7[0-36-9]|8[238]))\\d{4}",[8]]],"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]],0,0,0,0,0,0,[["2(?:2(?:0[0-39]|1[1-367]|[23]\\d|4[03-6]|5[57]|6[245]|7[0135689]|8[01346-9]|9[0-2])|4(?:0[78]|2[3-59]|3[13-9]|4[0-68]|5[1-35])|5(?:0[7-9]|16|4[03-5]|5\\d|6[014-6]|7[04]|80)|6(?:[056]\\d|17|2[067]|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034]|91)|8(?:79|8[0-357-9]|9[1-57-9]))\\d{4}",[8]],["[37-9]\\d{7}",[8]],["8002\\d{7}",[11]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[["1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6,7}",[8,9]],["98\\d{6,7}|975(?:1\\d|9[67])\\d{4}|9(?:0[1-9]|[1259]\\d|7[0679])\\d{6}",[8,9]],["80[01]\\d{4,6}",[7,8,9]],["6[01459]\\d{6}|6[01]\\d{4,5}",[6,7,8]],["7[45]\\d{6}",[8]],0,["62\\d{6,7}|72\\d{6}",[8,9]]]],HT:["509","00","[2-489]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-489]"]]],0,0,0,0,0,0,[["2(?:2\\d|5[1-5]|81|9[149])\\d{5}"],["[34]\\d{7}"],["8\\d{7}"],0,0,0,0,0,["9(?:[67][0-4]|8[0-3589]|9\\d)\\d{5}"]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06",0,0,0,0,0,[["(?:1\\d|[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|8[2-57-9]|9[2-69])\\d{6}",[8]],["(?:[257]0|3[01])\\d{7}",[9]],["(?:[48]0\\d|680[29])\\d{5}"],["9[01]\\d{6}",[8]],0,0,["38\\d{7}",[9]],0,["21\\d{7}",[9]]]],ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0",0,0,0,0,0,[["2[124]\\d{7,8}|619\\d{8}|2(?:1(?:14|500)|2\\d{3})\\d{3}|61\\d{5,8}|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:[25]\\d|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36]\\d|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}",[7,8,9,10,11]],["8[1-35-9]\\d{7,10}",[9,10,11,12]],["00[17]803\\d{7}|(?:177\\d|800)\\d{5,7}|001803\\d{6}",[8,9,10,11,12,13]],["809\\d{7}",[10]],0,0,["(?:1500|8071\\d{3})\\d{3}",[7,10]],0,0,["804\\d{7}",[10]]]],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["(?:1\\d|21)\\d{6,7}|(?:2[24-9]|4(?:0[24]|5\\d|7)|5(?:0[45]|1\\d|8)|6(?:1\\d|[237-9])|9(?:1\\d|[35-9]))\\d{5}|(?:23|4(?:[1-469]|8\\d)|5[23679]|6[4-6]|7[14]|9[04])\\d{7}"],["8(?:22|[35-9]\\d)\\d{6}",[9]],["1800\\d{6}",[10]],["15(?:1[2-8]|[2-8]0|9[089])\\d{6}",[10]],["700\\d{6}",[9]],0,["818\\d{6}",[9]],0,["76\\d{7}",[9]],["18[59]0\\d{6}",[10]]]],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0",0,0,0,0,0,[["153\\d{8,9}|29[1-9]\\d{5}|(?:2[0-8]|[3489]\\d)\\d{6}",[8,11,12]],["5(?:(?:[02368]\\d|[19][2-9]|4[1-9])\\d|5(?:01|1[79]|2[2-9]|3[0-3]|4[34]|5[015689]|6[6-8]|7[0-267]|8[7-9]|9[1-9]))\\d{5}",[9]],["1(?:255|80[019]\\d{3})\\d{3}",[7,10]],["1212\\d{4}|1(?:200|9(?:0[0-2]|19))\\d{6}",[8,10]],0,0,["1599\\d{6}",[10]],0,["7(?:380|8(?:33|55|77|81))\\d{5}|7(?:18|2[23]|3[237]|47|6[258]|7\\d|82|9[2-9])\\d{6}",[9]],["1700\\d{6}",[10]]]],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([25-8]\\d{5})$","1624$1",0,"74576|(?:16|7[56])24",[["1624(?:230|[5-8]\\d\\d)\\d{3}"],["76245[06]\\d{4}|7(?:4576|[59]24\\d|624[0-4689])\\d{5}"],["808162\\d{4}"],["8(?:440[49]06|72299\\d)\\d{3}|(?:8(?:45|70)|90[0167])624\\d{4}"],["70\\d{8}"],0,["3440[49]06\\d{3}|(?:3(?:08162|3\\d{4}|45624|7(?:0624|2299))|55\\d{4})\\d{4}"],0,["56\\d{8}"]]],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0",0,0,0,0,0,[["2717(?:[2-7]\\d|95)\\d{4}|(?:271[0-689]|782[0-6])[2-7]\\d{5}|(?:170[24]|2(?:(?:[02][2-79]|90)\\d|80[13468])|(?:3(?:23|80)|683|79[1-7])\\d|4(?:20[24]|72[2-8])|552[1-7])\\d{6}|(?:11|33|4[04]|80)[2-7]\\d{7}|(?:342|674|788)(?:[0189][2-7]|[2-7]\\d)\\d{5}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[13]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[014-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[3-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1245]|4[5-8]|5[125689]|6[235-7]|7[157-9]|8[2-46-8])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])|7(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|8[013-7]|9[089])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d[2-7]\\d{5}",[10]],["(?:61279|7(?:887[02-9]|9(?:313|79[07-9]))|8(?:079[04-9]|(?:84|91)7[02-8]))\\d{5}|(?:6(?:12|[2-47]1|5[17]|6[13]|80)[0189]|7(?:1(?:2[0189]|9[0-5])|2(?:[14][017-9]|8[0-59])|3(?:2[5-8]|[34][017-9]|9[016-9])|4(?:1[015-9]|[29][89]|39|8[389])|5(?:[15][017-9]|2[04-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589])|70[0289]|88[089]|97[02-8])|8(?:0(?:6[67]|7[02-8])|70[017-9]|84[01489]|91[0-289]))\\d{6}|(?:7(?:31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[0189]\\d|7[02-8])\\d{5}|(?:6(?:[09]\\d|1[04679]|2[03689]|3[05-9]|4[0489]|50|6[069]|7[07]|8[7-9])|7(?:0\\d|2[0235-79]|3[05-8]|40|5[0346-8]|6[6-9]|7[1-9]|8[0-79]|9[089])|8(?:0[01589]|1[0-57-9]|2[235-9]|3[03-57-9]|[45]\\d|6[02457-9]|7[1-69]|8[0-25-9]|9[02-9])|9\\d\\d)\\d{7}|(?:6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|8[124-6])\\d|7(?:[235689]\\d|4[0189]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-5])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]|881))[0189]\\d{5}",[10]],["000800\\d{7}|1(?:600\\d{6}|80(?:0\\d{4,9}|3\\d{9}))"],["186[12]\\d{9}",[13]],0,0,["140\\d{7}",[10]],0,0,["1860\\d{7}",[11]]]],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]],0,0,0,0,0,0,[["37\\d{5}"],["38\\d{5}"]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[["1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}",[8,9]],["7[3-9]\\d{8}",[10]]]],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0",0,0,0,0,0,[["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:[03-57]\\d{7}|[16]\\d{3}(?:\\d{4})?|[289]\\d{3}(?:\\d(?:\\d{3})?)?)|94(?:000[09]|2(?:121|[2689]0\\d)|30[0-2]\\d|4(?:111|40\\d))\\d{4}",[6,7,10]],["9(?:(?:0(?:[0-35]\\d|4[4-6])|(?:[13]\\d|2[0-3])\\d)\\d|9(?:[0-46]\\d\\d|5[15]0|8(?:1\\d|88)|9(?:0[0-3]|[19]\\d|21|77|8[7-9])))\\d{5}",[10]],0,0,0,0,["96(?:0[12]|2[16-8]|3(?:08|[14]5|[23]|66)|4(?:0|80)|5[01]|6[89]|86|9[19])",[4,5]]]],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["(?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-24589]|5[0-68]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[0-579]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|872)\\d{4}",[7]],["(?:38[589]\\d\\d|6(?:1[1-8]|2[0-6]|3[026-9]|4[014679]|5[0159]|6[0-69]|70|8[06-8]|9\\d)|7(?:5[057]|[6-9]\\d)|8(?:2[0-59]|[3-69]\\d|8[238]))\\d{4}"],["80[0-8]\\d{4}",[7]],["90(?:0\\d|1[5-79]|2[015-79]|3[135-79]|4[125-7]|5[25-79]|7[1-37]|8[0-35-7])\\d{3}",[7]],0,0,["809\\d{4}",[7]],0,["49[0-24-79]\\d{4}",[7]]],"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([0-24-8]\\d{5})$","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876",[["8766060\\d{3}|(?:658(?:2(?:[0-8]\\d|9[0-46-9])|[3-9]\\d\\d)|876(?:52[35]|6(?:0[1-3579]|1[02357-9]|[23]\\d|40|5[06]|6[2-589]|7[0257]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468])))\\d{4}"],["(?:658295|876(?:2(?:0[1-9]|[13-9]\\d|2[013-9])|[348]\\d\\d|5(?:0[1-9]|[1-9]\\d)|6(?:4[89]|6[67])|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579])))\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[["87(?:000|90[01])\\d{3}|(?:2(?:6(?:2[0-35-9]|3[0-578]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-3]|[5-7][023])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2(?:[05]0|22)|3(?:00|33)|4(?:0[0-25]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[178]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[0239]))|87(?:20|7[078]|99))\\d{4}",[8]],["7(?:[78][0-25-9]|9\\d)\\d{6}",[9]],["80\\d{6}",[8]],["9\\d{7}",[8]],["70\\d{7}",[9]],0,["8(?:10|8\\d)\\d{5}",[8]],["74(?:66|77)\\d{5}",[9]],0,["85\\d{6}",[8]]]],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|(?:2[2-9]|[36][1-9])\\d|4(?:[2-578]\\d|6[02-8]|9[2-59])|5(?:[2-589]\\d|6[1-9]|7[2-8])|7(?:[25-9]\\d|3[4-9]|4[02-9])|8(?:[2679]\\d|3[2-9]|4[5-9]|5[1-9]|8[03-9])|9(?:[2-58]\\d|[679][1-9]))\\d{6}",[9]],["[7-9]0[1-9]\\d{7}",[10]],["00777(?:[01]|5\\d)\\d\\d|(?:00(?:7778|882[1245])|(?:120|800\\d)\\d\\d)\\d{4}|00(?:37|66|78)\\d{6,13}"],["990\\d{6}",[9]],["60\\d{7}",[9]],0,["570\\d{6}",[9]],["20\\d{8}",[10]],["50[1-9]\\d{7}",[10]]]],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[["(?:4[245]|5[1-79]|6[01457-9])\\d{5,7}|(?:4[136]|5[08]|62)\\d{7}|(?:[24]0|66)\\d{6,7}",[7,8,9]],["(?:1(?:0[0-6]|1[0-5]|2[014]|30)|7\\d\\d)\\d{6}",[9]],["800[2-8]\\d{5,6}",[9,10]],["900[02-9]\\d{5}",[9]]]],KG:["996","00","8\\d{9}|(?:[235-8]\\d|99)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["312(?:5[0-79]\\d|9(?:[0-689]\\d|7[0-24-9]))\\d{3}|(?:3(?:1(?:2[0-46-8]|3[1-9]|47|[56]\\d)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}",[9]],["312(?:58\\d|973)\\d{3}|(?:2(?:0[0-35]|2\\d)|5[0-24-7]\\d|7(?:[07]\\d|55)|88[08]|99[05-9])\\d{6}",[9]],["800\\d{6,7}"]]],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[["23(?:4(?:[2-4]|[56]\\d)|[568]\\d\\d)\\d{4}|23[236-9]\\d{5}|(?:2[4-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:(?:[237-9]|4[56]|5\\d)\\d{5}|6\\d{5,6})",[8,9]],["(?:(?:1[28]|3[18]|9[67])\\d|6[016-9]|7(?:[07-9]|[16]\\d)|8(?:[013-79]|8\\d))\\d{6}|(?:1\\d|9[0-57-9])\\d{6}|(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])48\\d{5}",[8,9]],["1800(?:1\\d|2[019])\\d{4}",[10]],["1900(?:1\\d|2[09])\\d{4}",[10]]]],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0",0,0,0,0,0,[["(?:[24]\\d|3[1-9]|50|65(?:02[12]|12[56]|22[89]|[3-5]00)|7(?:27\\d\\d|3100|5(?:02[12]|12[56]|22[89]|[34](?:00|81)|500))|8[0-5])\\d{3}"],["(?:63\\d{3}|73(?:0[0-5]\\d|140))\\d{3}|[67]200[01]\\d{3}",[8]],0,0,0,0,0,0,["30(?:0[01]\\d\\d|12(?:11|20))\\d\\d",[8]]]],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]],0,0,0,0,0,0,[["7[4-7]\\d{5}"],["[34]\\d{6}"],0,["8\\d{6}"]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","869$1",0,"869",[["869(?:2(?:29|36)|302|4(?:6[015-9]|70)|56[5-7])\\d{4}"],["869(?:48[89]|55[6-8]|66\\d|76[02-7])\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0",0,0,0,0,0,[["(?:(?:195|2)\\d|3[19]|4[159]|5[37]|6[17]|7[39]|85)\\d{6}"],["19[1-3]\\d{7}",[10]]]],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?",0,0,0,[["(?:2|3[1-3]|[46][1-4]|5[1-5])[1-9]\\d{6,7}|(?:3[1-3]|[46][1-4]|5[1-5])1\\d{2,3}",[5,6,8,9,10]],["1(?:05(?:[0-8]\\d|9[0-6])|22[13]\\d)\\d{4,5}|1(?:0[1-46-9]|[16-9]\\d|2[013-9])\\d{6,7}",[9,10]],["00(?:308\\d{6,7}|798\\d{7,9})|(?:00368|80)\\d{7}",[9,11,12,13,14]],["60[2-9]\\d{6}",[9]],["50\\d{8,9}",[10,11]],0,["1(?:5(?:22|33|44|66|77|88|99)|6(?:[07]0|44|6[168]|88)|8(?:00|33|55|77|99))\\d{4}",[8]],["15\\d{7,8}",[9,10]],["70\\d{8}",[10]]]],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]],0,0,0,0,0,0,[["2(?:[23]\\d\\d|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7]))\\d{4}",[8]],["(?:41\\d\\d|5(?:(?:[05]\\d|1[0-7]|6[56])\\d|2(?:22|5[25])|7(?:55|77)|88[58])|6(?:(?:0[034679]|5[015-9]|6\\d)\\d|111|222|333|444|7(?:0[013-9]|[67]\\d)|888|9(?:[069]\\d|3[039]))|9(?:(?:0[09]|22|[4679]\\d|8[057-9])\\d|1(?:1[01]|99)|3(?:00|33)|5(?:00|5\\d)))\\d{4}",[8]],["18\\d{5}",[7]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","345$1",0,"345",[["345(?:2(?:22|3[23]|44|66)|333|444|6(?:23|38|40)|7(?:30|4[35-79]|6[6-9]|77)|8(?:00|1[45]|[48]8)|9(?:14|4[035-9]))\\d{4}"],["345(?:32[1-9]|42[0-4]|5(?:1[67]|2[5-79]|4[6-9]|50|76)|649|82[56]|9(?:1[679]|2[2-9]|3[06-9]|90))\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["(?:345976|900[2-9]\\d\\d)\\d{4}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"],0,0,["345849\\d{4}"]]],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",[["(?:33622|7(?:1(?:0(?:[23]\\d|4[0-3]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[0-79]|4[0-35-9]|59)|4(?:[24]\\d|3[013-9]|5[1-9])|5(?:2\\d|3[1-9]|4[0-7]|59)|6(?:[2-4]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[2-4]\\d|5[139])|4(?:2\\d|3[1-35-9]|59)|5(?:[23]\\d|4[0-246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[2379]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59))))\\d{5}",[10]],["7(?:0[0-25-8]|47|6[0-4]|7[15-8]|85)\\d{7}",[10]],["8(?:00|108\\d{3})\\d{7}"],["809\\d{7}",[10]],["808\\d{7}",[10]],0,0,0,["751\\d{7}",[10]]],"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,0,0,0,0,[["(?:2[13]|[35-7][14]|41|8[1468])\\d{6}",[8]],["(?:20(?:[239]\\d|5[24-9]|7[6-8]|88)|302\\d)\\d{6}",[10]],0,0,0,0,["30[013-9]\\d{6}",[9]]]],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0",0,0,0,0,0,[["7(?:62|8[0-7]|9[04-9])\\d{4}|(?:[14-69]\\d|2(?:[14-69]\\d|[78][1-9])|7[2-57]|8[02-9])\\d{5}"],["793(?:[01]\\d|2[0-4])\\d{3}|(?:(?:3|81)\\d|7(?:[01]\\d|6[013-9]|8[89]|9[12]))\\d{5}"],0,["9[01]\\d{6}",[8]],0,0,0,0,0,["80\\d{6}",[8]]]],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","758$1",0,"758",[["758(?:234|4(?:30|5\\d|6[2-9]|8[0-2])|57[0-2]|(?:63|75)8)\\d{4}"],["758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2\\d|3[0-3])|812)\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"0|(1001)",0,0,0,[["(?:2(?:01|1[27]|2[02]|3\\d|6[02-578]|96)|3(?:[24]0|33|7[0135-7]|8[048]|9[0269]))\\d{4}",[7]],["(?:6(?:(?:4[5-9]|5[0-4])\\d|6(?:[0245]\\d|[17]0|3[7-9]))\\d|7(?:[37-9]\\d|42|56))\\d{4}"],["8002[28]\\d\\d|80(?:05\\d|9)\\d{4}"],["90(?:02[258]|1(?:23|3[14])|66[136])\\d\\d",[7]],0,0,["870(?:28|87)\\d\\d",[7]]]],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0",0,0,0,0,0,[["(?:12[2-9]|602|8[12]\\d|9(?:1\\d|22|9[245]))\\d{6}|(?:11|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]\\d{6}"],["7(?:[0-25-8]\\d|4[0-4])\\d{6}"],0,0,0,0,["1973\\d{5}"]]],LR:["231","00","(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3578]"],"0$1"]],"0",0,0,0,0,0,[["(?:2\\d{3}|33333)\\d{4}",[8,9]],["(?:(?:330|555|(?:77|88)\\d)\\d|4[67])\\d{5}|[56]\\d{6}",[7,9]],0,["332(?:02|[34]\\d)\\d{4}",[9]]]],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]],0,0,0,0,0,0,[["2\\d{7}"],["[56]\\d{7}"],["800[256]\\d{4}"]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]",0,0,0,[["(?:3[1478]|4[124-6]|52)\\d{6}"],["6\\d{7}"],["80[02]\\d{5}"],["9(?:0[0239]|10)\\d{5}"],["70[05]\\d{5}"],0,["70[67]\\d{5}"],0,["[89]01\\d{5}"],["808\\d{5}"]]],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)",0,0,0,[["(?:35[013-9]|80[2-9]|90[89])\\d{1,8}|(?:2[2-9]|3[0-46-9]|[457]\\d|8[13-9]|9[2-579])\\d{2,9}"],["6(?:[269][18]|5[1568]|7[189]|81)\\d{6}",[9]],["800\\d{5}",[8]],["90[015]\\d{5}",[8]],0,0,0,0,["20(?:1\\d{5}|[2-689]\\d{1,7})",[4,5,6,7,8,9,10]],["801\\d{5}",[8]]]],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]],0,0,0,0,0,0,[["6\\d{7}"],["2\\d{7}"],["80\\d{6}"],["90\\d{6}"],0,0,0,0,0,["81\\d{6}"]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0",0,0,0,0,0,[["(?:2(?:0[56]|[1-6]\\d|7[124579]|8[124])|3(?:1\\d|2[2356])|4(?:[17]\\d|2[1-357]|5[2-4]|8[124])|5(?:[1347]\\d|2[1-469]|5[13-5]|8[1-4])|6(?:[1-479]\\d|5[2-57]|8[1-5])|7(?:[13]\\d|2[13-79])|8(?:[124]\\d|5[124]|84))\\d{6}"],["9[1-6]\\d{7}"]]],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29[89]|389)","5(?:29[89]|389)0"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:29(?:[189][05]|2[29]|3[01])|389[05])\\d{4}|5(?:2(?:[0-25-7]\\d|3[1-578]|4[02-46-8]|8[0235-7]|90)|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[08]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|2[0-2]|6[0-8]))\\d{6}"],["80\\d{7}"],["89\\d{7}"],0,0,0,0,["592(?:4[0-2]|93)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0",0,0,0,0,0,[["(?:870|9[2-47-9]\\d)\\d{5}",[8]],["4(?:[46]\\d|5[1-9])\\d{5}|(?:3|6\\d)\\d{7}"],["(?:800|90\\d)\\d{5}",[8]]]],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0",0,0,0,0,0,[["(?:(?:2[1-9]|3[1-79])\\d|5(?:33|5[257]))\\d{5}"],["562\\d{5}|(?:6\\d|7[16-9])\\d{6}"],["800\\d{5}"],["90[056]\\d{5}"],0,0,["803\\d{5}"],0,["3[08]\\d{6}"],["808\\d{5}"]]],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0",0,0,0,0,0,[["(?:20[2-8]|3(?:[0-2][2-7]|3[24-7])|4(?:0[2-467]|1[2467])|5(?:0[2467]|1[24-7]|2[2-467]))\\d{5}",[8]],["6(?:[07-9]\\d|3[024]|6[0-25])\\d{5}",[8]],["80(?:[0-2578]|9\\d)\\d{5}"],["9(?:4[1568]|5[178])\\d{5}",[8]],0,0,["77[1-9]\\d{5}",[8]],0,["78[1-49]\\d{5}",[8]]]],MF:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"0|([24-9]\\d{6})$","20$1",0,0,[["2072[29]\\d{4}|20(?:2\\d|4[47]|5[3467]|6[279]|7[35]|8[268]|9[245])\\d{5}"],["3[2-489]\\d{7}"],0,0,0,0,0,0,["22\\d{7}"]]],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1",0,0,0,0,0,[["(?:247|528|625)\\d{4}"],["(?:(?:23|54)5|329|45[356])\\d{4}"],0,0,0,0,0,0,["635\\d{4}"]]],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0",0,0,0,0,0,[["(?:(?:2(?:62|77)0|3444)\\d|4[56]440)\\d{3}|(?:34|4[357])700\\d{3}|(?:2(?:[23]\\d|5[0-578]|6[01]|82)|3(?:1[3-68]|[23][2-68]|4[23568])|4(?:[23][2-68]|4[3-68]|5[2568]|6[25-8]|7[24-68]|8[4-68]))\\d{5}"],["7(?:3555|4(?:60\\d|747)|94(?:[01]\\d|2[0-4]))\\d{3}|7(?:[0-25-8]\\d|3[1-4]|42|9[23])\\d{5}"],["800\\d{5}"],["5[02-9]\\d{6}"],0,0,0,0,0,["8(?:0[1-9]|[1-9]\\d)\\d{5}"]]],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],0,0,0,0,0,0,[["2(?:07[0-8]|12[67])\\d{4}|(?:2(?:02|1[4-689])|4(?:0[0-4]|4[1-39]))\\d{5}"],["2(?:0(?:01|79)|17\\d)\\d{4}|(?:5[01]|[679]\\d|8[2-49])\\d{6}"],["80\\d{6}"]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:(?:2\\d|3[56]|[89][0-6])\\d|4(?:2[2-469]|39|46|6[25]|7[0-3]|83)|6)|2(?:2(?:00|8[34])|4(?:0\\d|2[246]|39|46|62|7[0-3]|83)|51\\d\\d)|4(?:2(?:2\\d\\d|48[0-3])|3(?:20\\d|4(?:70|83)|56)|420\\d|5470)|6(?:0(?:[23]|88\\d)|(?:124|[56]2\\d)\\d|247[23]|3(?:20\\d|470)|4(?:2[04]\\d|47[23])|7(?:(?:3\\d|8[01459])\\d|4(?:39|60|7[013]))))\\d{4}|5(?:2(?:2\\d{5,6}|47[023]\\d{4})|(?:347[23]|4(?:2(?:1|86)|470)|522\\d|6(?:20\\d|483)|7(?:20\\d|48[0-2])|8(?:20\\d|47[02])|9(?:20\\d|47[01]))\\d{4})|7(?:(?:0470|4(?:25\\d|470)|5(?:202|470|96\\d))\\d{4}|1(?:20\\d{4,5}|4(?:70|83)\\d{4}))|8(?:1(?:2\\d{5,6}|4(?:10|7[01]\\d)\\d{3})|2(?:2\\d{5,6}|(?:320|490\\d)\\d{3})|(?:3(?:2\\d\\d|470)|4[24-7]|5(?:2\\d|4[1-9]|51)\\d|6[23])\\d{4})|(?:1[2-6]\\d|4(?:2[24-8]|3[2-7]|[46][2-6]|5[3-5])|5(?:[27][2-8]|3[2-68]|4[24-8]|5[23]|6[2-4]|8[24-7]|9[2-7])|6(?:[19]20|42[03-6]|(?:52|7[45])\\d)|7(?:[04][24-8]|[15][2-7]|22|3[2-4])|8(?:1[2-689]|2[2-8]|[35]2\\d))\\d{4}|25\\d{5,6}|(?:2[2-9]|6(?:1[2356]|[24][2-6]|3[24-6]|5[2-4]|6[2-8]|7[235-7]|8[245]|9[24])|8(?:3[24]|5[245]))\\d{4}",[6,7,8,9]],["(?:17[01]|9(?:2(?:[0-4]|[56]\\d\\d)|(?:3(?:[0-36]|4\\d)|(?:6\\d|9[4-8])\\d|7(?:3|40|[5-9]\\d)|8(?:78|[89]\\d))\\d|4(?:(?:[0245]\\d|[1379])\\d|88)|5[0-6])\\d)\\d{4}|9[69]1\\d{6}|9(?:[68]\\d|9[089])\\d{5}",[7,8,9,10]],["80080(?:[01][1-9]|2\\d)\\d{3}",[10]],0,0,0,0,0,["1333\\d{4}|[12]468\\d{4}",[8]]]],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0",0,0,0,0,0,[["[12]2[1-3]\\d{5,6}|7(?:0[0-5]\\d|128)\\d{4}|(?:[12](?:1|27)|5[368])\\d{6}|[12](?:3[2-8]|4[2-68]|5[1-4689])\\d{6,7}"],["(?:83[01]|920)\\d{5}|(?:5[05]|6[06]|8[015689]|9[013-9])\\d{6}",[8]],0,0,0,0,0,0,["712[0-79]\\d{4}|7(?:1[013-9]|[25-8]\\d)\\d{5}",[8]]]],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]],0,0,0,0,0,0,[["(?:28[2-9]|8(?:11|[2-57-9]\\d))\\d{5}",[8]],["6800[0-79]\\d{3}|6(?:[235]\\d\\d|6(?:0[0-5]|[1-9]\\d)|8(?:0[1-9]|[14-8]\\d|2[5-9]|[39][0-4]))\\d{4}",[8]],["0800\\d{3}",[7]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","670$1",0,"670",[["670(?:2(?:3[3-7]|56|8[4-8])|32[1-38]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],MQ:["596","00","(?:69|80)\\d{7}|(?:59|97)6\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["596(?:[03-7]\\d|10|2[7-9]|8[09]|9[4-9])\\d{4}"],["69(?:6(?:[0-46-9]\\d|5[0-6])|727)\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976(?:6\\d|7[0-367])\\d{4}"]]],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]],0,0,0,0,0,0,[["(?:25[08]|35\\d|45[1-7])\\d{5}"],["[2-4][0-46-9]\\d{6}"],["800\\d{5}"]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"1|([34]\\d{6})$","664$1",0,"664",[["6644(?:1[0-3]|91)\\d{4}"],["664(?:3(?:49|9[1-6])|49[2-6])\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]],0,0,0,0,0,0,[["20(?:3[1-4]|6[059])\\d{4}|2(?:0[19]|[1-357]\\d|60)\\d{5}"],["(?:7(?:210|[79]\\d\\d)|9(?:[29]\\d\\d|69[67]|8(?:1[1-3]|89|97)))\\d{4}"],["800(?:02|[3467]\\d)\\d{3}"],["5(?:0(?:0(?:37|43)|(?:6\\d|70|9[0168])\\d)|[12]\\d0[1-5])\\d{3}"],0,0,["501\\d{5}"],["7117\\d{4}"],["3550\\d{4}"]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:5|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["5"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,[["(?:2(?:[0346-8]\\d|1[0-7])|4(?:[013568]\\d|2[4-7])|54(?:[3-5]\\d|71)|6\\d\\d|8(?:14|3[129]))\\d{4}",[7,8]],["5(?:4(?:2[1-389]|7[1-9])|87[15-8])\\d{4}|5(?:2[5-9]|4[3-689]|[57]\\d|8[0-689]|9[0-8])\\d{5}",[8]],["802\\d{7}|80[0-2]\\d{4}",[7,10]],["30\\d{5}",[7]],0,0,0,0,["3(?:20|9\\d)\\d{4}",[7]]],"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[3467]|9[13-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,[["(?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024-68]|8[024689]))\\d{4}",[7]],["46[46]\\d{4}|(?:7\\d|9[13-9])\\d{5}",[7]],["800\\d{7}",[10]],["900\\d{7}",[10]],0,0,["4(?:0[01]|50)\\d{4}",[7]]],"00"],MW:["265","00","(?:[129]\\d|31|77|88)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0",0,0,0,0,0,[["(?:1[2-9]|2[12]\\d\\d)\\d{5}"],["111\\d{6}|(?:31|77|88|9[89])\\d{7}",[9]]]],MX:["52","0[09]","1(?:(?:44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[017]\\d|[235][1-9]|4[0-35-9]|6[0-46-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,[["6571\\d{6}|(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[25-7][1-9]|3[1-8]|4\\d|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|6[1-9]|7[12]|8[1-8]|9\\d))\\d{7}",[10]],["6571\\d{6}|(?:1(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))|2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[25-7][1-9]|3[1-8]|4\\d|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|6[1-9]|7[12]|8[1-8]|9\\d))\\d{7}"],["8(?:00|88)\\d{7}",[10]],["900\\d{7}",[10]],["500\\d{7}",[10]],0,0,0,0,["300\\d{7}",[10]]],"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0",0,0,0,0,0,[["(?:3(?:2[0-36-9]|3[0-368]|4[0-278]|5[0-24-8]|6[0-467]|7[1246-9]|8\\d|9[0-57])\\d|4(?:2[0-689]|[3-79]\\d|8[1-35689])|5(?:2[0-589]|[3468]\\d|5[0-489]|7[1-9]|9[23])|6(?:2[2-9]|3[1357-9]|[46]\\d|5[0-6]|7[0-35-9]|85|9[015-8])|7(?:[2579]\\d|3[03-68]|4[0-8]|6[5-9]|8[0-35-9])|8(?:[24][2-8]|3[2-5]|5[2-7]|6[2-589]|7[2-578]|[89][2-9])|9(?:0[57]|13|[25-7]\\d|[3489][0-8]))\\d{5}",[8,9]],["1(?:1888[689]|4400|8(?:47|8[27])[0-4])\\d{4}|1(?:0(?:[23568]\\d|4[0-6]|7[016-9]|9[0-8])|1(?:[1-5]\\d\\d|6(?:0[5-9]|[1-9]\\d)|7(?:[0134]\\d|2[1-9]|5[0-6]))|(?:[269]\\d|[37][1-9]|4[235-9])\\d|5(?:31|9\\d\\d)|8(?:1[23]|[236]\\d|4[06]|5(?:46|[7-9])|7[016-9]|8[01]|9[0-8]))\\d{5}",[9,10]],["1[378]00\\d{6}",[10]],["1600\\d{6}",[10]],0,0,0,0,["15(?:4(?:6[0-4]\\d|8(?:0[125]|[17]\\d|21|3[01]|4[01589]|5[014]|6[02]))|6(?:32[0-6]|78\\d))\\d{4}",[10]]]],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[["2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}",[8]],["8[2-79]\\d{7}",[9]],["800\\d{6}",[9]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[["64426\\d{3}|6(?:1(?:2[2-7]|3[01378]|4[0-4])|254|32[0237]|4(?:27|41|5[25])|52[236-8]|626|7(?:2[2-4]|30))\\d{4,5}|6(?:1(?:(?:0\\d|2[0189]|3[24-69]|4[5-9])\\d|17|69|7[014])|2(?:17|5[0-36-8]|69|70)|3(?:17|2[14-689]|34|6[289]|7[01]|81)|4(?:17|2[0-2]|4[06]|5[0137]|69|7[01])|5(?:17|2[0459]|69|7[01])|6(?:17|25|38|42|69|7[01])|7(?:17|2[569]|3[13]|6[89]|7[01]))\\d{4}"],["(?:60|8[1245])\\d{7}",[9]],["80\\d{7}",[9]],["8701\\d{5}",[9]],0,0,0,0,["8(?:3\\d\\d|86)\\d{5}"]]],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]],0,0,0,0,0,0,[["(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}"],["(?:5[0-4]|[79]\\d|8[0-79])\\d{4}"],["050\\d{3}"],["36\\d{4}"]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[04]"]]],0,0,0,0,0,0,[["2(?:0(?:20|3[1-8]|4[13-5]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}"],["(?:23|7[04]|[89]\\d)\\d{6}"],["08\\d{6}"],["09\\d{6}"]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1",0,0,[["(?:1(?:06|17|28|39)|3[0-2]\\d)\\d{3}"],["(?:14|3[58])\\d{4}"]]],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0",0,0,0,0,0,[["(?:(?:[1-356]\\d|4[02-8]|8[2-9])\\d|9(?:0[3-9]|[1-9]\\d))\\d{5}|7(?:0(?:[013-689]\\d|2[0-24-9])\\d{3,4}|[1-79]\\d{6})|(?:[12]\\d|4[147]|5[14579]|6[1578]|7[1-3578])\\d{5}",[7,8]],["(?:702[0-24-9]|8(?:01|19)[01])\\d{6}|(?:70[13-689]|8(?:0[2-9]|1[0-8])|9(?:0[1-9]|1[2356]))\\d{7}",[10]],["800\\d{7,11}",[10,11,12,13,14]],0,0,0,["700\\d{7,11}",[10,11,12,13,14]]]],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]],0,0,0,0,0,0,[["2\\d{7}"],["(?:5(?:5[0-7]|[78]\\d)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059])|(?:7[5-8]|8\\d)\\d)\\d{5}"],["1800\\d{4}"]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:[035]\\d|1[13-578]|6[124-8]|7[24]|8[0-467])|2(?:[0346]\\d|2[2-46-9]|5[125]|9[479])|3(?:[03568]\\d|1[3-8]|2[01]|4[1-8])|4(?:[0356]\\d|1[1-368]|7[58]|8[15-8]|9[23579])|5(?:[0358]\\d|[19][1-9]|2[1-57-9]|4[13-8]|6[126]|7[0-3578])|7\\d\\d)\\d{6}",[9]],["(?:6[1-58]|970\\d)\\d{7}",[9,11]],["800\\d{4,7}",[7,8,9,10]],["90[069]\\d{4,7}",[7,8,9,10]],0,0,["140(?:1[035]|2[0346]|3[03568]|4[0356]|5[0358]|8[458])|(?:140(?:1[16-8]|2[259]|3[124]|4[17-9]|5[124679]|7)|8[478]\\d{6})\\d",[5,6,9]],["66\\d{7}",[9]],["(?:85|91)\\d{7}",[9]]]],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]|59"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],0,0,0,0,0,"[02-689]|7[0-8]",[["(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}",[8]],["(?:4[015-8]|59|9\\d)\\d{6}",[8]],["80[01]\\d{5}",[8]],["82[09]\\d{5}",[8]],["880\\d{5}",[8]],0,["(?:0[2-9]|81(?:0(?:0[7-9]|1\\d)|5\\d\\d))\\d{3}"],0,["85[0-5]\\d{5}",[8]],["810(?:0[0-6]|[2-8]\\d)\\d{3}",[8]]]],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0",0,0,0,0,0,[["(?:1[0-6]\\d|99[02-6])\\d{5}|(?:2[13-79]|3[135-8]|4[146-9]|5[135-7]|6[13-9]|7[15-9]|8[1-46-9]|9[1-7])[2-6]\\d{5}",[8]],["9(?:6[0-3]|7[024-6]|8[0-24-68])\\d{7}",[10]],["1(?:66001|800\\d\\d)\\d{5}",[11]]]],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]],0,0,0,0,0,0,[["444\\d{4}"],["(?:55[3-9]|666|8\\d\\d)\\d{4}"]]],NU:["683","00","(?:[47]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]],0,0,0,0,0,0,[["[47]\\d{3}",[4]],["888[4-9]\\d{3}",[7]]]],NZ:["64","0(?:0|161)","[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-579]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|[89]0","50(?:[0367]|88)|[89]0"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],"0",0,0,0,0,0,[["24099\\d{3}|(?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])\\d{6}",[8]],["2[0-27-9]\\d{7,8}|21\\d{6}",[8,9,10]],["508\\d{6,7}|80\\d{6,8}",[8,9,10]],["(?:11\\d{5}|50(?:0[08]|30|66|77|88))\\d{3}|90\\d{6,8}",[7,8,9,10]],["70\\d{7}",[9]],0,["8(?:1[6-9]|22|3\\d|4[045]|5[459]|7[0-3579]|90)\\d{2,7}"],["[28]6\\d{6,7}",[8,9]]],"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]],0,0,0,0,0,0,[["2[2-6]\\d{6}",[8]],["1505\\d{4}|(?:7(?:[1289]\\d|7[0-4])|9(?:0[1-9]|[1-9]\\d))\\d{5}",[8]],["8007\\d{4,5}|(?:500|800[05])\\d{4}"],["900\\d{5}",[8]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[["(?:1(?:0\\d|1[479]|2[37]|3[0137]|4[17]|5[05]|6[58]|7[0167]|8[258]|9[1389])|2(?:[0235-79]\\d|1[0-7]|4[013-9]|8[02-9])|3(?:[089]\\d|1[0-7]|2[0-5]|33|4[0-79]|5[0-35]|6[068]|7[0-8])|4(?:00|3[0-579]|4\\d|7[0-57-9])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-26-8]|3[03]|4[04]|5[05-9]|6[056]|7[0-24-9]|8[5-9]|90)|8(?:09|2[89]|3\\d|4[0-24-689]|5[014]|8[02])|9(?:0[5-9]|1[0135-8]|2[036-9]|3[35-79]|40|5[0457-9]|6[05-9]|7[04-9]|8[35-8]|9\\d))\\d{4}",[7]],["(?:1[16]1|21[89]|6\\d{3}|8(?:1[01]|7[23]))\\d{4}",[7,8]],["800\\d{4,5}|(?:00800|800\\d)\\d{6}"],["(?:8(?:22|55|60|7[78]|86)|9(?:00|81))\\d{4}",[7]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,[["(?:(?:4[34]|5[14])[0-8]\\d|7(?:173|3[0-8]\\d)|8(?:10[05689]|6(?:0[06-9]|1[6-9]|29)|7(?:0[569]|[56]0)))\\d{4}|(?:1[0-8]|4[12]|5[236]|6[1-7]|7[246]|8[2-4])\\d{6}",[8]],["9\\d{8}",[9]],["800\\d{5}",[8]],["805\\d{5}",[8]],["80[24]\\d{5}",[8]],0,0,0,0,["801\\d{5}",[8]]],"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],0,0,0,0,0,0,[["4(?:0[4-689]|9[4-68])\\d{5}",[8]],["8[7-9]\\d{6}",[8]],["80[0-5]\\d{6}",[9]],0,0,0,["44\\d{4}",[6]],0,["499\\d{5}",[8]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,[["(?:(?:3[0-2]|4[257]|5[34]|9[78])\\d|64[1-9]|85[02-46-9])\\d{4}",[7]],["(?:7\\d|8[128])\\d{6}",[8]],["180\\d{4}",[7]],0,0,0,0,["27[01]\\d{4}",[7]],["2(?:0[0-47]|7[568])\\d{4}",[7]]],"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0",0,0,0,0,0,[["(?:(?:2[3-8]|3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578])\\d{3}|88(?:22\\d\\d|42))\\d{4}|(?:2|8[2-8]\\d\\d)\\d{5}",[6,8,9,10]],["(?:8(?:1[37]|9[5-8])|9(?:0[5-9]|1[0-24-9]|[235-7]\\d|4[2-9]|8[135-9]|9[1-9]))\\d{7}",[10]],["1800\\d{7,9}",[11,12,13]]]],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0",0,0,0,0,0,[["(?:(?:21|42)[2-9]|58[126])\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6,7}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}",[9,10]],["3(?:[0-24]\\d|3[0-7]|55|64)\\d{7}",[10]],["800\\d{5}(?:\\d{3})?",[8,11]],["900\\d{5}",[8]],["122\\d{6}",[9]],0,["(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:0[468]|[1-8])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}",[11,12]]]],PL:["48","00","6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[["47\\d{7}|(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])(?:[02-9]\\d{6}|1(?:[0-8]\\d{5}|9\\d{3}(?:\\d{2})?))",[7,9]],["21(?:1(?:[145]\\d|3[1-5])|2[0-4]\\d)\\d{4}|(?:45|5[0137]|6[069]|7[2389]|88)\\d{7}",[9]],["800\\d{6,7}",[9,10]],["70[01346-8]\\d{6}",[9]],0,0,["804\\d{6}",[9]],["64\\d{4,7}",[6,7,8,9]],["39\\d{7}",[9]],["801\\d{6}",[9]]]],PM:["508","00","(?:[45]|80\\d\\d)\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["(?:4[1-356]|50)\\d{4}",[6]],["(?:4[02-4]|5[056])\\d{4}",[6]],["80[0-5]\\d{6}",[9]]]],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939",[["(?:787|939)[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[["(?:22[2-47-9]|42[45]|82[014-68]|92[3569])\\d{5}",[8]],["5[69]\\d{7}",[9]],["1800\\d{6}",[10]],0,0,0,0,0,0,["1700\\d{6}",[10]]]],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]],0,0,0,0,0,0,[["2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}"],["6[0356]92(?:30|9\\d)\\d{3}|(?:(?:16|6[0356])93|9(?:[1-36]\\d\\d|480))\\d{5}"],["80[02]\\d{6}"],["(?:6(?:0[178]|4[68])\\d|76(?:0[1-57]|1[2-47]|2[237]))\\d{5}"],["884[0-4689]\\d{5}"],0,["70(?:7\\d|8[17])\\d{5}"],0,["30\\d{7}"],["80(?:8\\d|9[1579])\\d{5}"]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],0,0,0,0,0,0,[["(?:2(?:55|77)|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76)|900)\\d{4}"],["(?:(?:46|83)[0-5]|6[2-4689]0)\\d{4}|(?:45|77|88)\\d{5}"]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,[["(?:[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36])\\d{5,7}|(?:2(?:2[4-68]|[4-68]\\d|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51|[67]\\d)|4(?:3[12]|5[13]|9[1-47])|5(?:[1-4]\\d|5[02-4])|6(?:3[1-3]|44|7[1-8])|7(?:4[0-4]|5\\d|6[1-578]|75|8[0-8])|858)\\d{5,6}",[7,8,9]],["9(?:51|6[129]|[78][1-6]|9[1-5])\\d{6}",[9]],["9800\\d{5,7}",[9,10,11]],0,0,0,["[2-9]0\\d{4,7}",[6,7,8,9]],0,["8700[0-4]\\d{4}",[9]]]],QA:["974","00","[2-7]\\d{7}|800\\d{4}(?:\\d{2})?|2\\d{6}",[7,8,9],[["(\\d{3})(\\d{4})","$1 $2",["2[126]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]]],0,0,0,0,0,0,[["414[1-4]\\d{4}|(?:23|4[04])\\d{6}",[8]],["(?:2[89]|[35-7]\\d)\\d{6}",[8]],["800\\d{4}(?:\\d{2})?",[7,9]],0,0,0,0,["2(?:[12]\\d|61)\\d{4}",[7]]]],RE:["262","00","976\\d{6}|(?:26|[68]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,"26[23]|69|[89]",[["26(?:2\\d\\d|30[0-5])\\d{4}"],["(?:69(?:2\\d\\d|3(?:0[0-46]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|6[0-6]|7[0-27]|8[0-8]|9[0-479]))|976(?:2[27]|3[0-37]|9\\d))\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,0,["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[2378]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],"0",0,0,0,0,0,[["[23][13-6]\\d{7}|(?:2(?:19\\d|[3-6]\\d9)|31\\d\\d)\\d\\d"],["7020\\d{5}|7(?:0[013-9]|1[0-3]|[2-7]\\d|8[03-8]|9[019])\\d{6}",[9]],["800\\d{6}",[9]],["90[0136]\\d{6}",[9]],0,0,["(?:37\\d|80[578])\\d{6}",[9]],0,0,["801\\d{6}",[9]]],0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0",0,0,0,0,0,[["(?:11[1-9]\\d|(?:2[389]|39)(?:0[2-9]|[2-9]\\d))\\d{3,8}|(?:1[02-9]|2[0-24-7]|3[0-8])[2-9]\\d{4,9}",[7,8,9,10,11,12]],["6(?:[0-689]|7\\d)\\d{6,7}",[8,9,10]],["800\\d{3,9}"],["(?:78\\d|90[0169])\\d{3,7}",[6,7,8,9,10]],0,0,["7[06]\\d{4,10}"]]],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",[["(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],"0",0,0,0,0,0,[["(?:06|2[23568]\\d)\\d{6}"],["7[2389]\\d{7}",[9]],["800\\d{6}",[9]],["900\\d{6}",[9]]]],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0",0,0,0,0,0,[["1(?:1\\d|2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}",[9]],["579[01]\\d{5}|5(?:[013-689]\\d|7[0-35-8])\\d{6}",[9]],["800\\d{7}",[10]],["925\\d{6}",[9]],0,0,["811\\d{7}",[10]],0,0,["920\\d{6}",[9]]]],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]],0,0,0,0,0,0,[["(?:1[4-79]|[23]\\d|4[0-2]|5[03]|6[0-37])\\d{3}",[5]],["48\\d{3}|(?:(?:7[1-9]|8[4-9])\\d|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8]))\\d{4}"],["1[38]\\d{3}",[5]],0,0,0,0,0,["5[12]\\d{3}",[5]]]],SC:["248","010|0[0-2]","800\\d{4}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,[["4[2-46]\\d{5}"],["2[125-8]\\d{5}"],["800[08]\\d{3}"],0,0,0,0,0,["971\\d{4}|(?:64|95)\\d{5}"]],"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0",0,0,0,0,0,[["1(?:5\\d|8[35-7])\\d{6}"],["(?:1[0-2]|9[0-3569])\\d{7}"]]],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0",0,0,0,0,0,[["(?:(?:[12][136]|3[356]|4[0246]|6[03]|8\\d)\\d|90[1-9])\\d{4,6}|(?:1(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)|2(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])|3(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])|4(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])|6(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])|9(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8]))\\d{5,6}",[7,8,9]],["7[02369]\\d{7}",[9]],["20\\d{4,7}",[6,7,8,9]],["649\\d{6}|99[1-59]\\d{4}(?:\\d{3})?|9(?:00|39|44)[1-8]\\d{3,6}",[7,8,9,10]],["75[1-8]\\d{6}",[9]],0,["10[1-8]\\d{6}",[9]],["74[02-9]\\d{6}",[9]],0,["77[0-7]\\d{6}",[9]]]],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-5]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[["662[0-24-9]\\d{4}|6(?:[0-578]\\d|6[013-57-9]|9[0-35-9])\\d{5}",[8]],["8(?:05[0-3]|95[0-2])\\d{4}|(?:8(?:0[1-4]|[1-8]\\d|9[0-4])|9[0-8]\\d)\\d{5}",[8]],["(?:18|8)00\\d{7}",[10,11]],["1900\\d{7}",[11]],0,0,["7000\\d{7}",[11]],0,["(?:3[12]\\d|666)\\d{5}",[8]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]",[["2(?:[0-57-9]\\d|6[4-9])\\d\\d"],["[56]\\d{4}",[5]],0,0,0,0,0,0,["262\\d\\d",[5]]]],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,[["(?:[1-357][2-8]|4[24-8])\\d{6}",[8]],["65(?:1\\d|55|6[01]|70)\\d{4}|(?:[37][01]|4[0139]|51|6[489])\\d{6}",[8]],["80\\d{4,6}",[6,7,8]],["89[1-3]\\d{2,5}|90\\d{4,6}"],0,0,0,0,["(?:59\\d\\d|8(?:1(?:[67]\\d|8[0-589])|2(?:0\\d|2[0-37-9]|8[0-2489])|3[389]\\d))\\d{4}",[8]]],"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|[57]9)\\d{6}",[5,8],0,0,0,0,0,0,"79",[["79\\d{6}",[8]],["(?:4[015-8]|59|9\\d)\\d{6}",[8]],["80[01]\\d{5}",[8]],["82[09]\\d{5}",[8]],["880\\d{5}",[8]],0,["(?:0[2-9]|81(?:0(?:0[7-9]|1\\d)|5\\d\\d))\\d{3}"],0,["85[0-5]\\d{5}",[8]],["810(?:0[0-6]|[2-8]\\d)\\d{3}",[8]]]],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0",0,0,0,0,0,[["(?:2(?:16|[2-9]\\d{3})|(?:(?:[3-5][1-8]\\d|819)\\d|601[1-5])\\d)\\d{4}|(?:2|[3-5][1-8])1[67]\\d{3}|[3-5][1-8]16\\d\\d"],["909[1-9]\\d{5}|9(?:0[1-8]|1[0-24-9]|4[03-57-9]|5\\d)\\d{6}",[9]],["800\\d{6}",[9]],["9(?:00|[78]\\d)\\d{6}",[9]],0,0,["96\\d{7}",[9]],["9090\\d{3}",[7]],["6(?:02|5[0-4]|9[0-6])\\d{6}",[9]],["8[5-9]\\d{7}",[9]]]],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0",0,0,0,0,0,[["22[2-4][2-9]\\d{4}"],["(?:25|3[0-5]|66|7[2-9]|8[08]|9[09])\\d{6}"]]],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1",0,0,[["0549(?:8[0157-9]|9\\d)\\d{4}",[10]],["6[16]\\d{6}",[8]],0,["7[178]\\d{6}",[8]],0,0,0,0,["5[158]\\d{6}",[8]]]],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]],0,0,0,0,0,0,[["3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611)\\d{5}"],["75(?:01|[38]3)\\d{5}|7(?:[06-8]\\d|21|5[4-7]|90)\\d{6}"],["800\\d{6}"],["88[4689]\\d{6}"],0,0,0,0,["(?:3(?:392|9[01]\\d)\\d|93(?:3[13]0|929))\\d{4}"],["81[02468]\\d{6}"]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["24|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6(?:0[5-7]|[1-35-9])|9[2-9]"]]],"0",0,0,0,0,0,[["(?:1\\d|2[0-79]|3[0-46-8]|4[0-7]|5[57-9])\\d{5}|(?:[134]\\d|8[125])\\d{4}",[6,7]],["(?:(?:15|(?:3[59]|4[89]|79|8[08])\\d|6(?:0[5-7]|[1-9]\\d)|9(?:0\\d|[2-9]))\\d|2(?:4\\d|8))\\d{5}|(?:6\\d|7[1-9])\\d{6}",[7,8,9]]]],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]],0,0,0,0,0,0,[["(?:2[1-3]|3[0-7]|(?:4|68)\\d|5[2-58])\\d{4}"],["(?:7[124-7]|8[124-9])\\d{5}",[7]],0,0,0,0,0,0,["56\\d{4}",[6]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0",0,0,0,0,0,[["1[89]\\d{7}"],["(?:12|9[1257-9])\\d{7}"]]],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]],0,0,0,0,0,0,[["22\\d{5}"],["900[5-9]\\d{3}|9(?:0[1-9]|[89]\\d)\\d{4}"]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,[["2(?:[1-6]\\d{3}|[79]90[034]|890[0245])\\d{3}",[8]],["66(?:[02-9]\\d\\d|1(?:[02-9]\\d|16))\\d{3}|(?:6[0-57-9]|7\\d)\\d{6}",[8]],["800\\d{4}(?:\\d{4})?",[7,11]],["900\\d{4}(?:\\d{4})?",[7,11]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|(5\\d{6})$","721$1",0,"721",[["7215(?:4[2-8]|8[239]|9[056])\\d{4}"],["7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0",0,0,0,0,0,[["21\\d{6,7}|(?:1(?:[14]\\d|[2356])|2[235]|3(?:[13]\\d|4)|4[134]|5[1-3])\\d{6}"],["9[1-689]\\d{7}",[9]]]],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]],0,0,0,0,0,0,[["[23][2-5]\\d{6}",[8]],["7[6-9]\\d{6}",[8]],["0800\\d{4}",[8]],["900\\d{6}",[9]],0,0,0,0,["70\\d{6}",[8]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8",[["8\\d{3}"]]],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"1|([2-479]\\d{6})$","649$1",0,"649",[["649(?:266|712|9(?:4\\d|50))\\d{4}"],["649(?:2(?:3[129]|4[1-79])|3\\d\\d|4[34][1-3])\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["649(?:71[01]|966)\\d{4}"]]],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,[["22(?:[37-9]0|5[0-5]|6[89])\\d{4}"],["(?:6[023568]|77|9\\d)\\d{6}"]],"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]],0,0,0,0,0,0,[["2(?:2[2-7]|3[23]|4[45]|55|6[67]|77)\\d{5}"],["(?:7[09]|9[0-36-9])\\d{6}"]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[["(?:1[0689]|2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}",[8]],["671[0-8]\\d{5}|(?:14|6[1-6]|[89]\\d)\\d{7}",[9]],["(?:001800\\d|1800)\\d{6}",[10,13]],["1900\\d{6}",[10]],0,0,0,0,["6[08]\\d{7}",[9]]]],TJ:["992","810","(?:00|[1-57-9]\\d)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,[["(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}"],["41[18]\\d{6}|(?:[034]0|[17][017]|2[02]|5[05]|8[08]|9\\d)\\d{7}"]],"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7],0,0,0,0,0,0,0,[["(?:2[2-4]|[34]\\d)\\d{2,5}"],["7[2-4]\\d{2,5}"]]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]],0,0,0,0,0,0,[["(?:2[1-5]|3[1-9]|4[1-4])\\d{5}",[7]],["7[2-8]\\d{6}",[8]],["80\\d{5}",[7]],["90\\d{5}",[7]],["70\\d{5}",[7]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,[["(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}"],["6\\d{7}"]],"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]],0,0,0,0,0,0,[["81200\\d{3}|(?:3[0-2]|7\\d)\\d{6}"],["3(?:001|[12]40)\\d{4}|(?:(?:[259]\\d|4[0-7])\\d|3(?:1[1-35]|6[0-4]|91))\\d{5}"],["8010\\d{4}"],["88\\d{6}"],0,0,0,0,0,["8[12]10\\d{4}"]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]],0,0,0,0,0,0,[["(?:2\\d|3[0-8]|4[0-4]|50|6[09]|7[0-24-69]|8[05])\\d{3}",[5]],["(?:55[4-6]|6(?:[09]\\d|3[02]|8[15-9])|(?:7\\d|8[46-9])\\d|999)\\d{4}",[7]],["0800\\d{3}",[7]],0,0,0,0,0,["55[0-37-9]\\d{4}",[7]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0",0,0,0,0,0,[["(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}",[10]],["56161\\d{5}|5(?:0[15-7]|1[06]|24|[34]\\d|5[1-59]|9[46])\\d{7}",[10]],["8(?:00\\d{7}(?:\\d{2,3})?|11\\d{7})",[10,12,13]],["(?:8[89]8|900)\\d{7}",[10]],["592(?:21[12]|461)\\d{4}",[10]],0,["444\\d{4}",[7]],["512\\d{7}",[10]],["850\\d{7}",[10]]]],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-46-8]\\d{6})$","868$1",0,"868",[["868(?:2(?:0[13]|1[5-9]|[23]\\d|4[0-2])|6(?:0[7-9]|1[02-8]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}"],["868(?:(?:2[5-9]|3\\d)\\d|4(?:3[0-6]|[6-9]\\d)|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]],0,0,0,0,0,0,[["2[02-9]\\d{3}",[5]],["(?:7[01]\\d|90)\\d{4}",[6,7]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[["(?:2[2-8]\\d|370|55[01]|7[1-9])\\d{6}|4(?:(?:0(?:0[1-9]|[2-48]\\d)|1[023]\\d)\\d{4,5}|(?:[239]\\d\\d|4(?:0[56]|12|49))\\d{5})|6(?:[01]\\d{7}|4(?:0[56]|12|24|4[09])\\d{4,5})|8(?:(?:2(?:3\\d|4[0-269]|[578]0|66)|36[24-9]|90\\d\\d)\\d{4}|4(?:0[56]|12|24|4[09])\\d{4,5})|(?:2(?:2(?:0\\d\\d|4(?:0[68]|[249]0|3[0-467]|5[0-25-9]|6[0235689]))|(?:3(?:[09]\\d|1[0-4])|(?:4\\d|5[0-49]|6[0-29]|7[0-5])\\d)\\d)|(?:(?:3[2-9]|5[2-8]|6[0-35-79]|8[7-9])\\d\\d|4(?:2(?:[089]\\d|7[1-9])|(?:3[0-4]|[78]\\d|9[01])\\d))\\d)\\d{3}",[8,9]],["(?:40001[0-2]|9[0-8]\\d{4})\\d{3}",[9]],["80[0-79]\\d{6}|800\\d{5}",[8,9]],["20(?:[013-9]\\d\\d|2)\\d{4}",[7,9]],["99\\d{7}",[9]],0,["50[0-46-9]\\d{6}",[9]],0,["7010(?:[0-2679]\\d|3[0-7]|8[0-5])\\d{5}|70\\d{8}",[10,11]]],0,"#"],TZ:["255","00[056]","(?:[26-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0",0,0,0,0,0,[["2[2-8]\\d{7}"],["77[2-9]\\d{6}|(?:6[1-9]|7[1-689])\\d{7}"],["80[08]\\d{6}"],["90\\d{7}"],0,0,0,0,["41\\d{7}"],["8(?:40|6[01])\\d{6}"]]],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[["(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}",[9]],["(?:39|50|6[36-8]|7[1-3]|9[1-9])\\d{7}",[9]],["800[1-8]\\d{5,6}"],["900[239]\\d{5,6}"],0,0,0,0,["89[1-579]\\d{6}",[9]]],"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0",0,0,0,0,0,[["20(?:(?:240|30[67])\\d|6(?:00[0-2]|30[0-4]))\\d{3}|(?:20(?:[017]\\d|2[5-9]|32|5[0-4]|6[15-9])|[34]\\d{3})\\d{5}"],["726[01]\\d{5}|7(?:[01578]\\d|20|36|[46][0-4]|9[89])\\d{6}"],["800[1-3]\\d{5}"],["90[1-3]\\d{6}"]]],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["5(?:05(?:[2-57-9]\\d\\d|6(?:[0-35-9]\\d|44))|82(?:2(?:0[0-3]|[268]2)|3(?:0[02]|22|33)|4(?:00|4[24]|65|82)|5(?:00|29|58|83)|6(?:00|66|82)|7(?:58|77)|8(?:00|42|88)|9(?:00|9[89])))\\d{4}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[0-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-289]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[0157-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","4\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["405|8|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["4"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:770|987)|(?:2\\d|4[2-7])\\d\\d)\\d{4}",[8]],["9[1-9]\\d{6}",[8]],["(?:4\\d{5}|80[05])\\d{4}|405\\d{4}",[7,10]],["90[0-8]\\d{4}",[7]]],"00"," int. "],UZ:["998","810","(?:33|55|[679]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[35-9]"],"8 $1"]],"8",0,0,0,0,0,[["(?:6(?:1(?:22|3[124]|4[1-4]|5[1-3578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d\\d|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[124-6]|9[135-8])|(?:1[12]|8\\d)\\d|2(?:22|3[13-57-9]|4[1-3579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}"],["(?:(?:33|88|9[0-57-9])\\d{3}|55(?:50[013]|90\\d)|6(?:1(?:2(?:2[01]|98)|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:(?:11|7\\d)\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4]))|5(?:19[01]|2(?:27|9[26])|(?:30|59|7\\d)\\d)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|(?:3[79]|9[0-3])\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79]))|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|3[01]|5\\d|7[0-4])|(?:5[67]|7\\d)\\d|6(?:2[0-26]|8\\d)))|7(?:[07]\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|(?:33|9[4-6])\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078]))|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0-27]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[02569]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07]))))\\d{4}"]],"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698",[["06698\\d{1,6}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","784$1",0,"784",[["784(?:266|3(?:6[6-9]|7\\d|8[0-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}"],["784(?:4(?:3[0-5]|5[45]|89|9[0-8])|5(?:2[6-9]|3[0-4])|720)\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["78451[0-2]\\d{4}"]]],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0",0,0,0,0,0,[["(?:2(?:12|3[457-9]|[467]\\d|[58][1-9]|9[1-6])|[4-6]00)\\d{7}"],["4(?:1[24-8]|2[46])\\d{7}"],["800\\d{7}"],["90[01]\\d{7}"],0,0,["501\\d{7}"]]],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-578]\\d{6})$","284$1",0,"284",[["284496[0-5]\\d{3}|284(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}"],["284496[6-9]\\d{3}|284(?:245|3(?:0[0-3]|4[0-7]|68|9[34])|4(?:4[0-6]|68|99)|5(?:4[0-7]|68|9[69]))\\d{4}"],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","340$1",0,"340",[["340(?:2(?:0[0-38]|2[06-8]|4[49]|77)|3(?:32|44)|4(?:2[23]|44|7[34]|89)|5(?:1[34]|55)|6(?:2[56]|4[23]|77|9[023])|7(?:1[2-57-9]|2[57]|7\\d)|884|998)\\d{4}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0",0,0,0,0,0,[["2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-79]|9[0-4679])\\d{7}",[10]],["(?:5(?:2[238]|59)|89[6-9]|99[013-9])\\d{6}|(?:3\\d|5[689]|7[06-9]|8[1-8]|9[0-8])\\d{7}",[9]],["1800\\d{4,6}|12(?:0[13]|28)\\d{4}",[8,9,10]],["1900\\d{4,6}",[8,9,10]],0,0,["(?:[17]99|80\\d)\\d{4}|69\\d{5,6}",[7,8]],0,["672\\d{6}",[9]]]],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]],0,0,0,0,0,0,[["(?:38[0-8]|48[4-9])\\d\\d|(?:2[02-9]|3[4-7]|88)\\d{3}",[5]],["(?:[58]\\d|7[013-7])\\d{5}",[7]],["81[18]\\d\\d",[5]],0,0,0,["(?:3[03]|900\\d)\\d{3}"],0,["9(?:0[1-9]|1[01])\\d{4}",[7]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],0,0,0,0,0,0,[["72\\d{4}",[6]],["(?:72|8[23])\\d{4}",[6]],["80[0-5]\\d{6}",[9]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]],0,0,0,0,0,0,[["6[1-9]\\d{3}|(?:[2-5]|60)\\d{4}",[5,6]],["(?:7[1-35-7]|8(?:[3-7]|9\\d{3}))\\d{5}",[7,10]],["800\\d{3}",[6]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0",0,0,0,0,0,[["(?:2[89]|39)0\\d{6}|[23][89]\\d{6}"],["4[3-9]\\d{6}",[8]],["800\\d{5}",[8]],["900\\d{5}",[8]]]],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[["78[0-7]\\d{4}|17\\d{6}|(?:[12][2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-6])\\d{5}",[7,8]],["7[0137]\\d{7}",[9]]]],YT:["262","00","80\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,"269|63",[["269(?:0[0-367]|5[0-3]|6\\d|[78]0)\\d{4}"],["639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])\\d{4}"],["80\\d{7}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[["(?:2(?:0330|4302)|52087)0\\d{3}|(?:1[0-8]|2[1-378]|3[1-69]|4\\d|5[1346-8])\\d{7}",[9]],["(?:1(?:3492[0-25]|4495[0235]|549(?:20|5[01]))|4[34]492[01])\\d{3}|8[1-4]\\d{3,7}|(?:2[27]|47|54)4950\\d{3}|(?:1(?:049[2-4]|9[12]\\d\\d)|(?:6\\d|7[0-46-9])\\d{3}|8(?:5\\d{3}|7(?:08[67]|158|28[5-9]|310)))\\d{4}|(?:1[6-8]|28|3[2-69]|4[025689]|5[36-8])4920\\d{3}|(?:12|[2-5]1)492\\d{4}",[5,6,7,8,9]],["80\\d{7}",[9]],["(?:86[2-9]|9[0-2]\\d)\\d{6}",[9]],0,0,["861\\d{6,7}",[9,10]],0,["87(?:08[0-589]|15[0-79]|28[0-4]|31[1-9])\\d{4}|87(?:[02][0-79]|1[0-46-9]|3[02-9]|[4-9]\\d)\\d{5}",[9]],["860\\d{6}",[9]]]],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0",0,0,0,0,0,[["21[1-8]\\d{6}"],["(?:7[679]|9[5-8])\\d{7}"],["800\\d{6}"],0,0,0,0,0,["63\\d{7}"]]],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:(?:3\\d|9)\\d|[4-8])|2(?:(?:(?:0(?:2[014]|5)|(?:2[0157]|31|84|9)\\d\\d|[56](?:[14]\\d\\d|20)|7(?:[089]|2[03]|[35]\\d\\d))\\d|4(?:2\\d\\d|8))\\d|1(?:2|[39]\\d{4}))|3(?:(?:123|(?:29\\d|92)\\d)\\d\\d|7(?:[19]|[56]\\d))|5(?:0|1[2-478]|26|[37]2|4(?:2\\d{3}|83)|5(?:25\\d\\d|[78])|[689]\\d)|6(?:(?:[16-8]21|28|52[013])\\d\\d|[39])|8(?:[1349]28|523)\\d\\d)\\d{3}|(?:4\\d\\d|9[2-9])\\d{4,5}|(?:(?:2(?:(?:(?:0|8[146])\\d|7[1-7])\\d|2(?:[278]\\d|92)|58(?:2\\d|3))|3(?:[26]|9\\d{3})|5(?:4\\d|5)\\d\\d)\\d|6(?:(?:(?:[0-246]|[78]\\d)\\d|37)\\d|5[2-8]))\\d\\d|(?:2(?:[569]\\d|8[2-57-9])|3(?:[013-59]\\d|8[37])|6[89]8)\\d{3}"],["7(?:[178]\\d|3[1-9])\\d{6}",[9]],["80(?:[01]\\d|20|8[0-8])\\d{3}",[7]],0,0,0,0,0,["86(?:1[12]|22|30|44|55|77|8[368])\\d{6}",[10]]]]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"[0-36-9]\\d{8}",[9],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],0,0,0,0,0,0,[0,["[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|(?:[19]\\d|49)\\d{6}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["4"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[19]"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-3]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|3(?:2|47|7\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}"]]],883:["883",0,"(?:210|370\\d\\d)\\d{7}|51\\d{7}(?:\\d{3})?",[9,10,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[35]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:210|(?:370[1-9]|51[013]0)\\d)\\d{7}|5100\\d{5}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function Te(e,t){var n=Array.prototype.slice.call(t);return n.push(Ee),e.apply(this,n)}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e){var t,n,r,i=Pe(Array.prototype.slice.call(e),4),o=i[0],a=i[1],s=i[2],c=i[3];if("string"!=typeof o)throw new TypeError("A text for parsing must be a string.");if(t=o,a&&"string"!=typeof a){if(!Me(a))throw new Error("Invalid second argument: ".concat(a));s?(n=a,r=s):r=a}else c?(n=s,r=c):(n=void 0,r=s),a&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultCountry:a},n));return{text:t,options:n,metadata:r}}var Me=function(e){return"object"===_e(e)},Re="0-9０-９٠-٩۰-۹",Le="".concat("-‐-―−ー－").concat("／/").concat("．.").concat("  ­​⁠　").concat("()（）［］\\[\\]").concat("~⁓∼～");function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){var t="function"==typeof Map?new Map:void 0;return Ge=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ze(e,arguments,We(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),qe(r,e)},Ge(e)}function ze(e,t,n){return ze=He()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&qe(i,n.prototype),i},ze.apply(null,arguments)}function He(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qe(e,t){return qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qe(e,t)}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(s,e);var t,n,r,i,o,a=(t=s,n=He(),function(){var e,r=We(t);if(n){var i=We(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Be(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,e),Object.setPrototypeOf(Ue(t),s.prototype),t.name=t.constructor.name,t}return r=s,i&&je(r.prototype,i),o&&je(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(Ge(Error));function Ye(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),i=0;i<3;i++){var o=Number(n[i]),a=Number(r[i]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var et=" ext. ",tt=/^\d+$/,nt=function(){function e(t){Qe(this,e),function(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!ct(e)||!ct(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(ct(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+lt(e)+": "+e,"."))}(t),this.metadata=t,pt.call(this,t)}return Je(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter((function(e){return"001"!==e}))}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&tt.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new rt(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new rt(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var n=this.nonGeographic()[e];if(n)return n}else{var r=this.countryCallingCodes()[e];if(r&&1===r.length&&"001"===r[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),rt=function(){function e(t,n){Qe(this,e),this.globalMetadataObject=n,this.metadata=t,pt.call(this,n.metadata)}return Je(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,t=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return t.map((function(t){return new it(t,e)}))}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&st(this.types(),e))return new at(st(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?et:this.metadata[13]||et}}]),e}(),it=function(){function e(t,n){Qe(this,e),this._format=t,this.metadata=n}return Je(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||ot.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),ot=/^\(?\$1\)?$/,at=function(){function e(t,n){Qe(this,e),this.type=t,this.metadata=n}return Je(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function st(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}var ct=function(e){return"object"===Ze(e)},lt=function(e){return Ze(e)};function dt(e,t){if((t=new nt(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function pt(e){var t=e.version;"number"==typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===Ye(t,"1.2.0")?this.v2=!0:-1===Ye(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}var ut=function(e){return"([".concat(Re,"]{1,").concat(e,"})")};function gt(e){var t="[  \\t,]*",n="[:\\.．]?[  \\t,-]*",r="#?",i="[  \\t]*";return";ext="+ut("20")+"|"+(t+"(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)"+n+ut("20")+r)+"|"+(t+"(?:[xｘ#＃~～]|int|ｉｎｔ)"+n+ut("9")+r)+"|"+("[- ]+"+ut("6")+"#")+"|"+(i+"(?:,{2}|;)"+n+ut("15")+r)+"|"+(i+"(?:,)+"+n+ut("9")+r)}var ht="["+Re+"]{2}",mt="[+＋]{0,1}(?:["+Le+"]*["+Re+"]){3,}["+Le+Re+"]*",ft=new RegExp("^[+＋]{0,1}(?:["+Le+"]*["+Re+"]){1,2}$","i"),yt=mt+"(?:"+gt()+")?",vt=new RegExp("^"+ht+"$|^"+yt+"$","i");function bt(e){return e.length>=2&&vt.test(e)}var kt=new RegExp("(?:"+gt()+")$","i");var Ct={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function It(e){return Ct[e]}function wt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e){for(var t,n="",r=wt(e.split(""));!(t=r()).done;){n+=Dt(t.value,n)||""}return n}function Dt(e,t){if("+"===e){if(t)return;return"+"}return It(e)}function $t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e,t){return _t(e,void 0,t)}function _t(e,t,n){var r=n.type(t),i=r&&r.possibleLengths()||n.possibleLengths();if(!i)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!n.type("FIXED_LINE"))return _t(e,"MOBILE",n);var o=n.type("MOBILE");o&&(i=function(e,t){for(var n,r=e.slice(),i=$t(t);!(n=i()).done;){var o=n.value;e.indexOf(o)<0&&r.push(o)}return r.sort((function(e,t){return e-t}))}(i,o.possibleLengths()))}else if(t&&!r)return"INVALID_LENGTH";var a=e.length,s=i[0];return s===a?"IS_POSSIBLE":s>a?"TOO_SHORT":i[i.length-1]<a?"TOO_LONG":i.indexOf(a,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Ft(e,t){return"IS_POSSIBLE"===Tt(e,t)}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e){for(var t,n,r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Pt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}((e=e.replace(/^tel:/,"tel=")).split(";"));!(r=i()).done;){var o=Ot(r.value.split("="),2),a=o[0],s=o[1];switch(a){case"tel":t=s;break;case"ext":n=s;break;case"phone-context":"+"===s[0]&&(t=s+t)}}if(!bt(t))return{};var c={number:t};return n&&(c.ext=n),c}function Mt(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function Rt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vt=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function jt(e,t,n){if(t=t||{},e.country){(n=new nt(n)).selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(Mt(r,n.nationalNumberPattern())){if(Bt(r,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":n.type("MOBILE")?Bt(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var i,o=Rt(Vt);!(i=o()).done;){var a=i.value;if(Bt(r,a,n))return a}}}}function Bt(e,t,n){return!(!(t=n.type(t))||!t.pattern())&&(!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&Mt(e,t.pattern()))}var Ut=/(\$\d)/;function Gt(e,t,n){var r=n.useInternationalFormat,i=n.withNationalPrefix,o=(n.carrierCode,n.metadata,e.replace(new RegExp(t.pattern()),r?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(Ut,t.nationalPrefixFormattingRule()):t.format()));return r?function(e){return e.replace(new RegExp("[".concat(Le,"]+"),"g")," ").trim()}(o):o}var zt=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Ht(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function Qt(e,t,n,r){if(n=n?Kt(Kt({},Zt),n):Zt,r=new nt(r),e.country&&"001"!==e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";r.selectNumberingPlan(e.countryCallingCode)}var i,o=r.countryCallingCode(),a=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return a?Jt(i=Xt(a,e.carrierCode,"NATIONAL",r,n),e.ext,r,n.formatExtension):"";case"INTERNATIONAL":return a?(i=Xt(a,null,"INTERNATIONAL",r,n),Jt(i="+".concat(o," ").concat(i),e.ext,r,n.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(a);case"RFC3966":return function(e){var t=e.number,n=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}({number:"+".concat(o).concat(a),ext:e.ext});case"IDD":if(!n.fromCountry)return;var s=function(e,t,n,r,i){var o=dt(r,i.metadata);if(o===n){var a=Xt(e,t,"NATIONAL",i);return"1"===n?n+" "+a:a}var s=function(e,t,n){var r=new nt(n);return r.selectNumberingPlan(e,t),r.defaultIDDPrefix()?r.defaultIDDPrefix():zt.test(r.IDDPrefix())?r.IDDPrefix():void 0}(r,void 0,i.metadata);if(s)return"".concat(s," ").concat(n," ").concat(Xt(e,null,"INTERNATIONAL",i))}(a,e.carrierCode,o,n.fromCountry,r);return Jt(s,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function Xt(e,t,n,r,i){var o=function(e,t){for(var n,r=Ht(e);!(n=r()).done;){var i=n.value;if(i.leadingDigitsPatterns().length>0){var o=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(o))continue}if(Mt(t,i.pattern()))return i}}(r.formats(),e);return o?Gt(e,o,{useInternationalFormat:"INTERNATIONAL"===n,withNationalPrefix:!o.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:r}):e}function Jt(e,t,n,r){return t?r(e,t,n):e}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var on=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("`country` or `countryCallingCode` not passed");if(!n)throw new TypeError("`nationalNumber` not passed");if(!r)throw new TypeError("`metadata` not passed");var i=new nt(r);an(t)&&(this.country=t,i.country(t),t=i.countryCallingCode()),this.countryCallingCode=t,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.metadata=r}var t,n,r;return t=e,(n=[{key:"setExt",value:function(e){this.ext=e}},{key:"isPossible",value:function(){return function(e,t,n){if(void 0===t&&(t={}),n=new nt(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return Ft(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.metadata)}},{key:"isValid",value:function(){return e=this,t={v2:!0},n=this.metadata,t=t||{},n=new nt(n),!!e.country&&(n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==jt(e,t,n.metadata):Mt(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern()));var e,t,n}},{key:"isNonGeographic",value:function(){return new nt(this.metadata).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return jt(this,{v2:!0},this.metadata)}},{key:"format",value:function(e,t){return Qt(this,e,t?tn(tn({},t),{},{v2:!0}):{v2:!0},this.metadata)}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}])&&rn(t.prototype,n),r&&rn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),an=function(e){return/^[A-Z]{2}$/.test(e)},sn=new RegExp("(["+Re+"])");function cn(e,t){var n=function(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var i,o,a,s=r.length-1,c=s>0&&r[s];if(t.nationalPrefixTransformRule()&&c)i=e.replace(n,t.nationalPrefixTransformRule()),s>1&&(o=r[1]);else{var l=r[0];i=e.slice(l.length),c&&(o=r[1])}if(c){var d=e.indexOf(r[1]);e.slice(0,d)===t.numberingPlan.nationalPrefix()&&(a=t.numberingPlan.nationalPrefix())}else a=r[0];return{nationalNumber:i,nationalPrefix:a,carrierCode:o}}}return{nationalNumber:e}}(e,t),r=n.carrierCode,i=n.nationalNumber;if(i!==e){if(!function(e,t,n){if(Mt(e,n.nationalNumberPattern())&&!Mt(t,n.nationalNumberPattern()))return!1;return!0}(e,i,t))return{nationalNumber:e};if(t.possibleLengths()&&!function(e,t){switch(Tt(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(i,t))return{nationalNumber:e}}return{nationalNumber:i,carrierCode:r}}function ln(e,t,n,r){if(!e)return{};if("+"!==e[0]){var i=function(e,t,n,r){if(t){var i=new nt(r);i.selectNumberingPlan(t,n);var o=new RegExp(i.IDDPrefix());if(0===e.search(o)){var a=(e=e.slice(e.match(o)[0].length)).match(sn);if(!(a&&null!=a[1]&&a[1].length>0&&"0"===a[1]))return e}}}(e,t,n,r);if(!i||i===e){if(t||n){var o=function(e,t,n,r){var i=t?dt(t,r):n;if(0===e.indexOf(i)){(r=new nt(r)).selectNumberingPlan(t,n);var o=e.slice(i.length),a=cn(o,r).nationalNumber,s=cn(e,r).nationalNumber;if(!Mt(s,r.nationalNumberPattern())&&Mt(a,r.nationalNumberPattern())||"TOO_LONG"===Tt(s,r))return{countryCallingCode:i,number:o}}return{number:e}}(e,t,n,r),a=o.countryCallingCode,s=o.number;if(a)return{countryCallingCode:a,number:s}}return{number:e}}e="+"+i}if("0"===e[1])return{};r=new nt(r);for(var c=2;c-1<=3&&c<=e.length;){var l=e.slice(1,c);if(r.hasCallingCode(l))return r.selectNumberingPlan(l),{countryCallingCode:l,number:e.slice(c)};c++}return{}}function dn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e,t,n){var r=n.getCountryCodesForCallingCode(e);if(r)return 1===r.length?r[0]:function(e,t,n){n=new nt(n);for(var r,i=dn(e);!(r=i()).done;){var o=r.value;if(n.country(o),n.leadingDigits()){if(t&&0===t.search(n.leadingDigits()))return o}else if(jt({phone:t,country:o},void 0,n.metadata))return o}}(r,t,n.metadata)}var gn=new RegExp("[+＋"+Re+"]"),hn=new RegExp("[^"+Re+"#]+$");function mn(e,t,n){if(t=t||{},n=new nt(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new Ke("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var r=function(e,t,n){if(e&&0===e.indexOf("tel:"))return At(e);var r=function(e,t,n){if(!e)return;if(e.length>250){if(n)throw new Ke("TOO_LONG");return}if(!1===t)return e;var r=e.search(gn);if(r<0)return;return e.slice(r).replace(hn,"")}(e,n,t);if(!r)return{};if(!bt(r))return function(e){return ft.test(e)}(r)?{error:"TOO_SHORT"}:{};var i=function(e){var t=e.search(kt);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(kt),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}(r);if(i.ext)return i;return{number:r}}(e,t.v2,t.extract),i=r.number,o=r.ext,a=r.error;if(!i){if(t.v2){if("TOO_SHORT"===a)throw new Ke("TOO_SHORT");throw new Ke("NOT_A_NUMBER")}return{}}var s=function(e,t,n,r){var i,o=ln(xt(e),t,n,r.metadata),a=o.countryCallingCode,s=o.number;if(a)r.selectNumberingPlan(a);else{if(!s||!t&&!n)return{};r.selectNumberingPlan(t,n),t&&(i=t),a=n||dt(t,r.metadata)}if(!s)return{countryCallingCode:a};var c=cn(xt(s),r),l=c.nationalNumber,d=c.carrierCode,p=un(a,l,r);p&&(i=p,"001"===p||r.country(i));return{country:i,countryCallingCode:a,nationalNumber:l,carrierCode:d}}(i,t.defaultCountry,t.defaultCallingCode,n),c=s.country,l=s.nationalNumber,d=s.countryCallingCode,p=s.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new Ke("INVALID_COUNTRY");return{}}if(!l||l.length<2){if(t.v2)throw new Ke("TOO_SHORT");return{}}if(l.length>17){if(t.v2)throw new Ke("TOO_LONG");return{}}if(t.v2){var u=new on(d,l,n.metadata);return c&&(u.country=c),p&&(u.carrierCode=p),o&&(u.ext=o),u}var g=!!(t.extended?n.hasSelectedNumberingPlan():c)&&Mt(l,n.nationalNumberPattern());return t.extended?{country:c,countryCallingCode:d,carrierCode:p,valid:g,possible:!!g||!(!0!==t.extended||!n.possibleLengths()||!Ft(l,n)),phone:l,ext:o}:g?function(e,t,n){var r={country:e,phone:t};n&&(r.ext=n);return r}(c,l,o):{}}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t,n){t&&t.defaultCountry&&!function(e,t){return void 0!==t.countries[e]}(t.defaultCountry,n)&&(t=kn(kn({},t),{},{defaultCountry:void 0}));try{return function(e,t,n){return mn(e,yn(yn({},t),{},{v2:!0}),n)}(e,t,n)}catch(e){if(!(e instanceof Ke))throw e}}function wn(){var e=Ae(arguments),t=e.text,n=e.options,r=e.metadata;return In(t,n,r)}var Sn=n(4885),xn=n(53936),Dn=n(35015),$n=n(75125),En=n(67445);class Tn{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}Tn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Tn,deps:[{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Directive}),Tn.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Tn,selector:"[cdkStepHeader]",host:{attributes:{role:"tab"}},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Tn,decorators:[{type:r.Directive,args:[{selector:"[cdkStepHeader]",host:{role:"tab"}}]}],ctorParameters:function(){return[{type:r.ElementRef}]}});class _n{constructor(e){this.template=e}}_n.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:_n,deps:[{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),_n.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:_n,selector:"[cdkStepLabel]",ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:_n,decorators:[{type:r.Directive,args:[{selector:"[cdkStepLabel]"}]}],ctorParameters:function(){return[{type:r.TemplateRef}]}});let Fn=0;const On="number",Pn="edit",Nn="done",An="error",Mn=new r.InjectionToken("STEPPER_GLOBAL_OPTIONS");class Rn{constructor(e,t){this._stepper=e,this.interacted=!1,this.interactedStream=new r.EventEmitter,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=t||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=(0,we.Ig)(e)}get optional(){return this._optional}set optional(e){this._optional=(0,we.Ig)(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=(0,we.Ig)(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=(0,we.Ig)(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}Rn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Rn,deps:[{token:(0,r.forwardRef)((()=>Ln))},{token:Mn,optional:!0}],target:r["ɵɵFactoryTarget"].Component}),Rn.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.1",type:Rn,selector:"cdk-step",inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},queries:[{propertyName:"stepLabel",first:!0,predicate:_n,descendants:!0}],viewQueries:[{propertyName:"content",first:!0,predicate:r.TemplateRef,descendants:!0,static:!0}],exportAs:["cdkStep"],usesOnChanges:!0,ngImport:i,template:"<ng-template><ng-content></ng-content></ng-template>",isInline:!0,changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Rn,decorators:[{type:r.Component,args:[{selector:"cdk-step",exportAs:"cdkStep",template:"<ng-template><ng-content></ng-content></ng-template>",encapsulation:r.ViewEncapsulation.None,changeDetection:r.ChangeDetectionStrategy.OnPush}]}],ctorParameters:function(){return[{type:Ln,decorators:[{type:r.Inject,args:[(0,r.forwardRef)((()=>Ln))]}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Mn]}]}]},propDecorators:{stepLabel:[{type:r.ContentChild,args:[_n]}],content:[{type:r.ViewChild,args:[r.TemplateRef,{static:!0}]}],stepControl:[{type:r.Input}],interactedStream:[{type:r.Output,args:["interacted"]}],label:[{type:r.Input}],errorMessage:[{type:r.Input}],ariaLabel:[{type:r.Input,args:["aria-label"]}],ariaLabelledby:[{type:r.Input,args:["aria-labelledby"]}],state:[{type:r.Input}],editable:[{type:r.Input}],optional:[{type:r.Input}],completed:[{type:r.Input}],hasError:[{type:r.Input}]}});class Ln{constructor(e,t,n){this._dir=e,this._changeDetectorRef=t,this._elementRef=n,this._destroyed=new a.Subject,this.steps=new r.QueryList,this._sortedHeaders=new r.QueryList,this._linear=!1,this._selectedIndex=0,this.selectionChange=new r.EventEmitter,this._orientation="horizontal",this._groupId=Fn++}get linear(){return this._linear}set linear(e){this._linear=(0,we.Ig)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const t=(0,we.su)(e);if(this.steps&&this._steps){if(!this._isValidIndex(t)&&("undefined"==typeof ngDevMode||ngDevMode))throw Error("cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.");this.selected?._markAsInteracted(),this._selectedIndex!==t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)}else this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe((0,s.startWith)(this._steps),(0,s.takeUntil)(this._destroyed)).subscribe((e=>{this.steps.reset(e.filter((e=>e._stepper===this))),this.steps.notifyOnChanges()}))}ngAfterViewInit(){this._stepHeader.changes.pipe((0,s.startWith)(this._stepHeader),(0,s.takeUntil)(this._destroyed)).subscribe((e=>{this._sortedHeaders.reset(e.toArray().sort(((e,t)=>e._elementRef.nativeElement.compareDocumentPosition(t._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1))),this._sortedHeaders.notifyOnChanges()})),this._keyManager=new xn.Em(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,a.of)()).pipe((0,s.startWith)(this._layoutDirection()),(0,s.takeUntil)(this._destroyed)).subscribe((e=>this._keyManager.withHorizontalOrientation(e))),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe((()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))})),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach((e=>e.reset())),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const t=e-this._selectedIndex;return t<0?"rtl"===this._layoutDirection()?"next":"previous":t>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,t=On){const n=this.steps.toArray()[e],r=this._isCurrentStep(e);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,r):this._getGuidelineLogic(n,r,t)}_getDefaultIndicatorLogic(e,t){return e._showError()&&e.hasError&&!t?An:!e.completed||t?On:e.editable?Pn:Nn}_getGuidelineLogic(e,t,n=On){return e._showError()&&e.hasError&&!t?An:e.completed&&!t?Nn:e.completed&&t?n:e.editable&&t?Pn:n}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const t=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:t[e],previouslySelectedStep:t[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const t=(0,$n.Vb)(e),n=e.keyCode,r=this._keyManager;null==r.activeItemIndex||t||n!==$n.L_&&n!==$n.K5?r.onKeydown(e):(this.selectedIndex=r.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some((e=>{const t=e.stepControl;return(t?t.invalid||t.pending||!e.interacted:!e.completed)&&!e.optional&&!e._completedOverride}))}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,t=(0,En.ht)();return e===t||e.contains(t)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}Ln.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Ln,deps:[{token:Dn.Is,optional:!0},{token:r.ChangeDetectorRef},{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Directive}),Ln.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Ln,selector:"[cdkStepper]",inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},queries:[{propertyName:"_steps",predicate:Rn,descendants:!0},{propertyName:"_stepHeader",predicate:Tn,descendants:!0}],exportAs:["cdkStepper"],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Ln,decorators:[{type:r.Directive,args:[{selector:"[cdkStepper]",exportAs:"cdkStepper"}]}],ctorParameters:function(){return[{type:Dn.Is,decorators:[{type:r.Optional}]},{type:r.ChangeDetectorRef},{type:r.ElementRef}]},propDecorators:{_steps:[{type:r.ContentChildren,args:[Rn,{descendants:!0}]}],_stepHeader:[{type:r.ContentChildren,args:[Tn,{descendants:!0}]}],linear:[{type:r.Input}],selectedIndex:[{type:r.Input}],selected:[{type:r.Input}],selectionChange:[{type:r.Output}],orientation:[{type:r.Input}]}});class Vn{constructor(e){this._stepper=e,this.type="submit"}}Vn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Vn,deps:[{token:Ln}],target:r["ɵɵFactoryTarget"].Directive}),Vn.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Vn,selector:"button[cdkStepperNext]",inputs:{type:"type"},host:{listeners:{click:"_stepper.next()"},properties:{type:"type"}},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Vn,decorators:[{type:r.Directive,args:[{selector:"button[cdkStepperNext]",host:{"[type]":"type","(click)":"_stepper.next()"}}]}],ctorParameters:function(){return[{type:Ln}]},propDecorators:{type:[{type:r.Input}]}});class jn{constructor(e){this._stepper=e,this.type="button"}}jn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:jn,deps:[{token:Ln}],target:r["ɵɵFactoryTarget"].Directive}),jn.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:jn,selector:"button[cdkStepperPrevious]",inputs:{type:"type"},host:{listeners:{click:"_stepper.previous()"},properties:{type:"type"}},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:jn,decorators:[{type:r.Directive,args:[{selector:"button[cdkStepperPrevious]",host:{"[type]":"type","(click)":"_stepper.previous()"}}]}],ctorParameters:function(){return[{type:Ln}]},propDecorators:{type:[{type:r.Input}]}});class Bn{}Bn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Bn,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Bn.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.1",ngImport:i,type:Bn,declarations:[Rn,Ln,Tn,_n,Vn,jn],imports:[Dn.vT],exports:[Rn,Ln,Tn,_n,Vn,jn]}),Bn.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Bn,imports:[Dn.vT]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Bn,decorators:[{type:r.NgModule,args:[{imports:[Dn.vT],exports:[Rn,Ln,Tn,_n,Vn,jn],declarations:[Rn,Ln,Tn,_n,Vn,jn]}]}]});var Un=n(94814),Gn=n(12565),zn=n(90238),Hn=n(72859);function qn(e,t,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];i?e.setProperty(r,i,n?.has(r)?"important":""):e.removeProperty(r)}return e}function Wn(e,t){const n=t?"":"none";qn(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function Kn(e,t,n){qn(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function Yn(e,t){return t&&"none"!=t?e+" "+t:e}function Zn(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function Qn(e,t){return e.getPropertyValue(t).split(",").map((e=>e.trim()))}function Xn(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Jn(e,t,n){const{top:r,bottom:i,left:o,right:a}=e;return n>=r&&n<=i&&t>=o&&t<=a}function er(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function tr(e,t,n,r){const{top:i,right:o,bottom:a,left:s,width:c,height:l}=e,d=c*t,p=l*t;return r>i-p&&r<a+p&&n>s-d&&n<o+d}class nr{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach((e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Xn(e)})}))}handleScroll(e){const t=(0,En.sA)(e),n=this.positions.get(t);if(!n)return null;const r=n.scrollPosition;let i,o;if(t===this._document){const e=this.getViewportScrollPosition();i=e.top,o=e.left}else i=t.scrollTop,o=t.scrollLeft;const a=r.top-i,s=r.left-o;return this.positions.forEach(((e,n)=>{e.clientRect&&t!==n&&t.contains(n)&&er(e.clientRect,a,s)})),r.top=i,r.left=o,{top:a,left:s}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function rr(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(let e=0;e<n.length;e++)n[e].removeAttribute("id");return"canvas"===r?sr(e,t):"input"!==r&&"select"!==r&&"textarea"!==r||ar(e,t),ir("canvas",e,t,sr),ir("input, textarea, select",e,t,ar),t}function ir(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const t=n.querySelectorAll(e);for(let e=0;e<i.length;e++)r(i[e],t[e])}}let or=0;function ar(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${or++}`)}function sr(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch{}}const cr=(0,En.i$)({passive:!0}),lr=(0,En.i$)({passive:!1}),dr=new Set(["position"]);class pr{constructor(e,t,n,r,i,o){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new a.Subject,this._pointerMoveSubscription=a.Subscription.EMPTY,this._pointerUpSubscription=a.Subscription.EMPTY,this._scrollSubscription=a.Subscription.EMPTY,this._resizeSubscription=a.Subscription.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new a.Subject,this.started=new a.Subject,this.released=new a.Subject,this.ended=new a.Subject,this.entered=new a.Subject,this.exited=new a.Subject,this.dropped=new a.Subject,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._getTargetHandle(e);!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const t=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),n=this._dropContainer;if(!t)return void this._endDragSequence(e);n&&(n.isDragging()||n.isReceiving())||(e.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run((()=>this._startDragSequence(e))))}return}e.preventDefault();const n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{const e=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,t=this._activeTransform;t.x=n.x-e.x+this._passiveTransform.x,t.y=n.y-e.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y)}this._moveEvents.observers.length&&this._ngZone.run((()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})}))},this._pointerUp=e=>{this._endDragSequence(e)},this._nativeDragStart=e=>{if(this._handles.length){const t=this._getTargetHandle(e);!t||this._disabledHandles.has(t)||this.disabled||e.preventDefault()}else this.disabled||e.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new nr(n),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=(0,we.Ig)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach((e=>Wn(e,t))))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map((e=>(0,we.fI)(e))),this._handles.forEach((e=>Wn(e,this.disabled))),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach((e=>{this._handles.indexOf(e)>-1&&t.add(e)})),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,we.fI)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((()=>{t.addEventListener("mousedown",this._pointerDown,lr),t.addEventListener("touchstart",this._pointerDown,cr),t.addEventListener("dragstart",this._nativeDragStart,lr)})),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,we.fI)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((()=>this._containInsideBoundaryOnResize()))),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Wn(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Wn(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}));else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){hr(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,r=n.parentNode,i=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),Kn(n,!1,dr),this._document.body.appendChild(r.replaceChild(i,n)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),r=hr(t),i=!r&&0!==t.button,o=this._rootElement,a=(0,En.sA)(t),s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?(0,xn.yG)(t):(0,xn.X6)(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),n||i||s||c)return;if(this._handles.length){const e=o.style;this._rootElementTapHighlight=e.webkitTapHighlightColor||"",e.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe((e=>this._updateOnScroll(e))),this._boundaryElement&&(this._boundaryRect=Xn(this._boundaryElement));const l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Kn(this._rootElement,!0,dr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run((()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),i=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:i,dropPoint:r,event:e}),t.drop(this,n,this._initialIndex,this._initialContainer,o,i,r),this._dropContainer=this._initialContainer}))}_updateActiveDropContainer({x:e,y:t},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run((()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,e,t,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})})),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let r;if(n&&e){const t=e.matchSize?this._initialClientRect:null,i=e.viewContainer.createEmbeddedView(n,e.context);i.detectChanges(),r=mr(i,this._document),this._previewRef=i,e.matchSize?fr(r,t):r.style.transform=ur(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=rr(this._rootElement),fr(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return qn(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},dr),Wn(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach((e=>r.classList.add(e))):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=Qn(t,"transition-property"),r=n.find((e=>"transform"===e||"all"===e));if(!r)return 0;const i=n.indexOf(r),o=Qn(t,"transition-duration"),a=Qn(t,"transition-delay");return Zn(o[i])+Zn(a[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular((()=>new Promise((e=>{const n=t=>{(!t||(0,En.sA)(t)===this._preview&&"transform"===t.propertyName)&&(this._preview?.removeEventListener("transitionend",n),e(),clearTimeout(r))},r=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=mr(this._placeholderRef,this._document)):n=rr(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t,n){const r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():e,o=hr(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),s=o.pageX-i.left-a.left,c=o.pageY-i.top-a.top;return{x:i.left-e.left+s,y:i.top-e.top+c}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=hr(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=n.pageX-t.left,i=n.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=r,t.y=i,t.matrixTransform(e.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,i=this._boundaryRect,{width:o,height:a}=this._getPreviewRect(),s=i.top+t,c=i.bottom-(a-t);n=gr(n,i.left+e,i.right-(o-e)),r=gr(r,s,c)}return{x:n,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-i.x),a=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>i.x?1:-1,i.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Wn(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,lr),e.removeEventListener("touchstart",this._pointerDown,cr),e.removeEventListener("dragstart",this._nativeDragStart,lr)}_applyRootElementTransform(e,t){const n=ur(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Yn(n,this._initialTransform)}_applyPreviewTransform(e,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=ur(e,t);this._preview.style.transform=Yn(r,n)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const i=r.left-n.left,o=n.right-r.right,a=r.top-n.top,s=n.bottom-r.bottom;r.width>n.width?(i>0&&(e+=i),o>0&&(e-=o)):e=0,r.height>n.height?(a>0&&(t+=a),s>0&&(t-=s)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:hr(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=(0,En.sA)(e);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&er(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,En.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const n=this._previewContainer||"global";if("parent"===n)return e;if("global"===n){const e=this._document;return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}return(0,we.fI)(n)}_getPreviewRect(){return this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find((t=>e.target&&(e.target===t||t.contains(e.target))))}}function ur(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function gr(e,t,n){return Math.max(t,Math.min(n,e))}function hr(e){return"t"===e.type[0]}function mr(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const r=t.createElement("div");return n.forEach((e=>r.appendChild(e))),r}function fr(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=ur(t.left,t.top)}function yr(e,t){return Math.max(0,Math.min(t,e))}class vr{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,n,r){const i=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,n,r);if(-1===o&&i.length>0)return null;const a="horizontal"===this.orientation,s=i.findIndex((t=>t.drag===e)),c=i[o],l=i[s].clientRect,d=c.clientRect,p=s>o?1:-1,u=this._getItemOffsetPx(l,d,p),g=this._getSiblingOffsetPx(s,i,p),h=i.slice();return function(e,t,n){const r=yr(t,e.length-1),i=yr(n,e.length-1);if(r===i)return;const o=e[r],a=i<r?-1:1;for(let t=r;t!==i;t+=a)e[t]=e[t+a];e[i]=o}(i,s,o),i.forEach(((t,n)=>{if(h[n]===t)return;const r=t.drag===e,i=r?u:g,o=r?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=i,a?(o.style.transform=Yn(`translate3d(${Math.round(t.offset)}px, 0, 0)`,t.initialTransform),er(t.clientRect,0,i)):(o.style.transform=Yn(`translate3d(0, ${Math.round(t.offset)}px, 0)`,t.initialTransform),er(t.clientRect,i,0))})),this._previousSwap.overlaps=Jn(d,t,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:s,currentIndex:o}}enter(e,t,n,r){const i=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,n):r,o=this._activeDraggables,a=o.indexOf(e),s=e.getPlaceholderElement();let c=o[i];if(c===e&&(c=o[i+1]),!c&&(null==i||-1===i||i<o.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const t=c.getRootElement();t.parentElement.insertBefore(s,t),o.splice(i,0,e)}else(0,we.fI)(this._element).appendChild(s),o.push(e);s.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach((e=>{const t=e.getRootElement();if(t){const n=this._itemPositions.find((t=>t.drag===e))?.initialTransform;t.style.transform=n||""}})),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex((t=>t.drag===e))}updateOnScroll(e,t){this._itemPositions.forEach((({clientRect:n})=>{er(n,e,t)})),this._itemPositions.forEach((({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map((e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Xn(t)}})).sort(((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top))}_getItemOffsetPx(e,t,n){const r="horizontal"===this.orientation;let i=r?t.left-e.left:t.top-e.top;return-1===n&&(i+=r?t.width-e.width:t.height-e.height),i}_getSiblingOffsetPx(e,t,n){const r="horizontal"===this.orientation,i=t[e].clientRect,o=t[e+-1*n];let a=i[r?"width":"height"]*n;if(o){const e=r?"left":"top",t=r?"right":"bottom";-1===n?a-=o.clientRect[e]-i[t]:a+=i[e]-o.clientRect[t]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?e>=i.right:t>=i.bottom}{const i=n[0].clientRect;return r?e<=i.left:t<=i.top}}_getItemIndexFromPointerPosition(e,t,n,r){const i="horizontal"===this.orientation,o=this._itemPositions.findIndex((({drag:o,clientRect:a})=>{if(o===e)return!1;if(r){const e=i?r.x:r.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return i?t>=Math.floor(a.left)&&t<Math.floor(a.right):n>=Math.floor(a.top)&&n<Math.floor(a.bottom)}));return-1!==o&&this._sortPredicate(o,e)?o:-1}}class br{constructor(e,t,n,r,i){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new a.Subject,this.entered=new a.Subject,this.exited=new a.Subject,this.dropped=new a.Subject,this.sorted=new a.Subject,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=a.Subscription.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new a.Subject,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,a.interval)(0,a.animationFrameScheduler).pipe((0,s.takeUntil)(this._stopScrollTimers)).subscribe((()=>{const e=this._scrollNode,t=this.autoScrollStep;1===this._verticalScrollDirection?e.scrollBy(0,-t):2===this._verticalScrollDirection&&e.scrollBy(0,t),1===this._horizontalScrollDirection?e.scrollBy(-t,0):2===this._horizontalScrollDirection&&e.scrollBy(t,0)}))},this.element=(0,we.fI)(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new nr(n),this._sortStrategy=new vr(this.element,t),this._sortStrategy.withSortPredicate(((e,t)=>this.sortPredicate(e,t,this)))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,r,i,o,a,s={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:o,dropPoint:a,event:s})}withItems(e){const t=this._draggables;if(this._draggables=e,e.forEach((e=>e._withDropContainer(this))),this.isDragging()){t.filter((e=>e.isDragging())).every((t=>-1===e.indexOf(t)))?this._reset():this._sortStrategy.withItems(this._draggables)}return this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=(0,we.fI)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,r){if(this.sortingDisabled||!this._clientRect||!tr(this._clientRect,.05,t,n))return;const i=this._sortStrategy.sort(e,t,n,r);i&&this.sorted.next({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach(((o,a)=>{a!==this._document&&o.clientRect&&!n&&tr(o.clientRect,.05,e,t)&&([r,i]=function(e,t,n,r){const i=kr(t,r),o=Cr(t,n);let a=0,s=0;if(i){const t=e.scrollTop;1===i?t>0&&(a=1):e.scrollHeight-t>e.clientHeight&&(a=2)}if(o){const t=e.scrollLeft;1===o?t>0&&(s=1):e.scrollWidth-t>e.clientWidth&&(s=2)}return[a,s]}(a,o.clientRect,e,t),(r||i)&&(n=a))})),!r&&!i){const{width:o,height:a}=this._viewportRuler.getViewportSize(),s={width:o,height:a,top:0,right:o,bottom:a,left:0};r=kr(s,t),i=Cr(s,e),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=(0,we.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=(0,we.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=(0,we.fI)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach((e=>e._stopReceiving(this))),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&Jn(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find((r=>r._canReceive(e,t,n)))}_canReceive(e,t,n){if(!this._clientRect||!Jn(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;const i=(0,we.fI)(this.element);return r===i||i.contains(r)}_startReceiving(e,t){const n=this._activeSiblings;!n.has(e)&&t.every((e=>this.enterPredicate(e,this)||this._draggables.indexOf(e)>-1))&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe((e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()}))}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,En.kV)((0,we.fI)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter((e=>e.isDragging()));this._siblings.forEach((t=>t._startReceiving(this,e)))}}function kr(e,t){const{top:n,bottom:r,height:i}=e,o=.05*i;return t>=n-o&&t<=n+o?1:t>=r-o&&t<=r+o?2:0}function Cr(e,t){const{left:n,right:r,width:i}=e,o=.05*i;return t>=n-o&&t<=n+o?1:t>=r-o&&t<=r+o?2:0}const Ir=(0,En.i$)({passive:!1,capture:!0});class wr{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=e=>e.isDragging(),this.pointerMove=new a.Subject,this.pointerUp=new a.Subject,this.scroll=new a.Subject,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ir)}))}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ir)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ir}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:Ir}),this._ngZone.runOutsideAngular((()=>{this._globalListeners.forEach(((e,t)=>{this._document.addEventListener(t,e.handler,e.options)}))}))}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const t=[this.scroll];return e&&e!==this._document&&t.push(new a.Observable((t=>this._ngZone.runOutsideAngular((()=>{const n=e=>{this._activeDragInstances.length&&t.next(e)};return e.addEventListener("scroll",n,true),()=>{e.removeEventListener("scroll",n,true)}}))))),(0,a.merge)(...t)}ngOnDestroy(){this._dragInstances.forEach((e=>this.removeDragItem(e))),this._dropInstances.forEach((e=>this.removeDropContainer(e))),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach(((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)})),this._globalListeners.clear()}}wr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:wr,deps:[{token:r.NgZone},{token:u.DOCUMENT}],target:r["ɵɵFactoryTarget"].Injectable}),wr.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:wr,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:wr,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.NgZone},{type:void 0,decorators:[{type:r.Inject,args:[u.DOCUMENT]}]}]}});const Sr={dragStartThreshold:5,pointerDirectionChangeThreshold:5};class xr{constructor(e,t,n,r){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(e,t=Sr){return new pr(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new br(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}xr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:xr,deps:[{token:u.DOCUMENT},{token:r.NgZone},{token:p.rL},{token:wr}],target:r["ɵɵFactoryTarget"].Injectable}),xr.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:xr,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:xr,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[u.DOCUMENT]}]},{type:r.NgZone},{type:p.rL},{type:wr}]}});const Dr=new r.InjectionToken("CDK_DRAG_PARENT"),$r=new r.InjectionToken("CdkDropListGroup");class Er{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,we.Ig)(e)}ngOnDestroy(){this._items.clear()}}Er.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Er,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Er.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Er,selector:"[cdkDropListGroup]",inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},providers:[{provide:$r,useExisting:Er}],exportAs:["cdkDropListGroup"],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Er,decorators:[{type:r.Directive,args:[{selector:"[cdkDropListGroup]",exportAs:"cdkDropListGroup",providers:[{provide:$r,useExisting:Er}]}]}],propDecorators:{disabled:[{type:r.Input,args:["cdkDropListGroupDisabled"]}]}});const Tr=new r.InjectionToken("CDK_DRAG_CONFIG");function _r(e,t){if(1!==e.nodeType)throw Error(`${t} must be attached to an element node. Currently attached to "${e.nodeName}".`)}let Fr=0;const Or=new r.InjectionToken("CdkDropList");class Pr{constructor(e,t,n,i,o,s,c){this.element=e,this._changeDetectorRef=n,this._scrollDispatcher=i,this._dir=o,this._group=s,this._destroyed=new a.Subject,this.connectedTo=[],this.id="cdk-drop-list-"+Fr++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.EventEmitter,this.entered=new r.EventEmitter,this.exited=new r.EventEmitter,this.sorted=new r.EventEmitter,this._unsortedItems=new Set,("undefined"==typeof ngDevMode||ngDevMode)&&_r(e.nativeElement,"cdkDropList"),this._dropListRef=t.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._dropListRef.sortPredicate=(e,t,n)=>this.sortPredicate(e,t.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Pr._dropLists.push(this),s&&s._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,we.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort(((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1))}ngOnDestroy(){const e=Pr._dropLists.indexOf(this);e>-1&&Pr._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,s.startWith)(this._dir.value),(0,s.takeUntil)(this._destroyed)).subscribe((t=>e.withDirection(t))),e.beforeStarted.subscribe((()=>{const t=(0,we.Eq)(this.connectedTo).map((e=>{if("string"==typeof e){const t=Pr._dropLists.find((t=>t.id===e));return t||"undefined"!=typeof ngDevMode&&!ngDevMode||console.warn(`CdkDropList could not find connected drop list with id "${e}"`),t}return e}));if(this._group&&this._group._items.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),!this._scrollableParentsResolved){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map((e=>e.getElementRef().nativeElement));this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,we.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,we.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,we.su)(this.autoScrollStep,2),e.connectedTo(t.filter((e=>e&&e!==this)).map((e=>e._dropListRef))).withOrientation(this.orientation)}))}_handleEvents(e){e.beforeStarted.subscribe((()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()})),e.entered.subscribe((e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})})),e.exited.subscribe((e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()})),e.sorted.subscribe((e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})})),e.dropped.subscribe((e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}))}_assignDefaults(e){const{lockAxis:t,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:i,listOrientation:o}=e;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=o||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map((e=>e._dragRef)))}}Pr._dropLists=[],Pr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Pr,deps:[{token:r.ElementRef},{token:xr},{token:r.ChangeDetectorRef},{token:p.mF},{token:Dn.Is,optional:!0},{token:$r,optional:!0,skipSelf:!0},{token:Tr,optional:!0}],target:r["ɵɵFactoryTarget"].Directive}),Pr.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Pr,selector:"[cdkDropList], cdk-drop-list",inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},host:{properties:{"attr.id":"id","class.cdk-drop-list-disabled":"disabled","class.cdk-drop-list-dragging":"_dropListRef.isDragging()","class.cdk-drop-list-receiving":"_dropListRef.isReceiving()"},classAttribute:"cdk-drop-list"},providers:[{provide:$r,useValue:void 0},{provide:Or,useExisting:Pr}],exportAs:["cdkDropList"],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Pr,decorators:[{type:r.Directive,args:[{selector:"[cdkDropList], cdk-drop-list",exportAs:"cdkDropList",providers:[{provide:$r,useValue:void 0},{provide:Or,useExisting:Pr}],host:{class:"cdk-drop-list","[attr.id]":"id","[class.cdk-drop-list-disabled]":"disabled","[class.cdk-drop-list-dragging]":"_dropListRef.isDragging()","[class.cdk-drop-list-receiving]":"_dropListRef.isReceiving()"}}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:xr},{type:r.ChangeDetectorRef},{type:p.mF},{type:Dn.Is,decorators:[{type:r.Optional}]},{type:Er,decorators:[{type:r.Optional},{type:r.Inject,args:[$r]},{type:r.SkipSelf}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Tr]}]}]},propDecorators:{connectedTo:[{type:r.Input,args:["cdkDropListConnectedTo"]}],data:[{type:r.Input,args:["cdkDropListData"]}],orientation:[{type:r.Input,args:["cdkDropListOrientation"]}],id:[{type:r.Input}],lockAxis:[{type:r.Input,args:["cdkDropListLockAxis"]}],disabled:[{type:r.Input,args:["cdkDropListDisabled"]}],sortingDisabled:[{type:r.Input,args:["cdkDropListSortingDisabled"]}],enterPredicate:[{type:r.Input,args:["cdkDropListEnterPredicate"]}],sortPredicate:[{type:r.Input,args:["cdkDropListSortPredicate"]}],autoScrollDisabled:[{type:r.Input,args:["cdkDropListAutoScrollDisabled"]}],autoScrollStep:[{type:r.Input,args:["cdkDropListAutoScrollStep"]}],dropped:[{type:r.Output,args:["cdkDropListDropped"]}],entered:[{type:r.Output,args:["cdkDropListEntered"]}],exited:[{type:r.Output,args:["cdkDropListExited"]}],sorted:[{type:r.Output,args:["cdkDropListSorted"]}]}});const Nr=new r.InjectionToken("CdkDragHandle");class Ar{constructor(e,t){this.element=e,this._stateChanges=new a.Subject,this._disabled=!1,("undefined"==typeof ngDevMode||ngDevMode)&&_r(e.nativeElement,"cdkDragHandle"),this._parentDrag=t}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,we.Ig)(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}Ar.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Ar,deps:[{token:r.ElementRef},{token:Dr,optional:!0,skipSelf:!0}],target:r["ɵɵFactoryTarget"].Directive}),Ar.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Ar,selector:"[cdkDragHandle]",inputs:{disabled:["cdkDragHandleDisabled","disabled"]},host:{classAttribute:"cdk-drag-handle"},providers:[{provide:Nr,useExisting:Ar}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Ar,decorators:[{type:r.Directive,args:[{selector:"[cdkDragHandle]",host:{class:"cdk-drag-handle"},providers:[{provide:Nr,useExisting:Ar}]}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:void 0,decorators:[{type:r.Inject,args:[Dr]},{type:r.Optional},{type:r.SkipSelf}]}]},propDecorators:{disabled:[{type:r.Input,args:["cdkDragHandleDisabled"]}]}});const Mr=new r.InjectionToken("CdkDragPlaceholder");class Rr{constructor(e){this.templateRef=e}}Rr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Rr,deps:[{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),Rr.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Rr,selector:"ng-template[cdkDragPlaceholder]",inputs:{data:"data"},providers:[{provide:Mr,useExisting:Rr}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Rr,decorators:[{type:r.Directive,args:[{selector:"ng-template[cdkDragPlaceholder]",providers:[{provide:Mr,useExisting:Rr}]}]}],ctorParameters:function(){return[{type:r.TemplateRef}]},propDecorators:{data:[{type:r.Input}]}});const Lr=new r.InjectionToken("CdkDragPreview");class Vr{constructor(e){this.templateRef=e,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(e){this._matchSize=(0,we.Ig)(e)}}Vr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Vr,deps:[{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),Vr.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Vr,selector:"ng-template[cdkDragPreview]",inputs:{data:"data",matchSize:"matchSize"},providers:[{provide:Lr,useExisting:Vr}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Vr,decorators:[{type:r.Directive,args:[{selector:"ng-template[cdkDragPreview]",providers:[{provide:Lr,useExisting:Vr}]}]}],ctorParameters:function(){return[{type:r.TemplateRef}]},propDecorators:{data:[{type:r.Input}],matchSize:[{type:r.Input}]}});const jr="cdk-drag";class Br{constructor(e,t,n,i,o,c,l,d,p,u,g){this.element=e,this.dropContainer=t,this._ngZone=i,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=p,this._selfHandle=u,this._parentDrag=g,this._destroyed=new a.Subject,this.started=new r.EventEmitter,this.released=new r.EventEmitter,this.ended=new r.EventEmitter,this.entered=new r.EventEmitter,this.exited=new r.EventEmitter,this.dropped=new r.EventEmitter,this.moved=new a.Observable((e=>{const t=this._dragRef.moved.pipe((0,s.map)((e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance})))).subscribe(e);return()=>{t.unsubscribe()}})),this._dragRef=d.createDrag(e,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:c?.zIndex}),this._dragRef.data=this,Br._dragInstances.push(this),c&&this._assignDefaults(c),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,we.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.pipe((0,s.take)(1),(0,s.takeUntil)(this._destroyed)).subscribe((()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}))}))}ngOnChanges(e){const t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=Br._dragInstances.indexOf(this);e>-1&&Br._dragInstances.splice(e,1),this._ngZone.runOutsideAngular((()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}))}_updateRootElement(){const e=this.element.nativeElement;let t=e;this.rootElementSelector&&(t=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),t&&("undefined"==typeof ngDevMode||ngDevMode)&&_r(t,"cdkDrag"),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,we.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe((()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:(0,we.su)(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}})),e.beforeStarted.pipe((0,s.take)(1)).subscribe((()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let t=this.element.nativeElement.parentElement;for(;t;){if(t.classList.contains(jr)){e.withParent(Br._dragInstances.find((e=>e.element.nativeElement===t))?._dragRef||null);break}t=t.parentElement}}))}_handleEvents(e){e.started.subscribe((e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()})),e.released.subscribe((e=>{this.released.emit({source:this,event:e.event})})),e.ended.subscribe((e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()})),e.entered.subscribe((e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})})),e.exited.subscribe((e=>{this.exited.emit({container:e.container.data,item:this})})),e.dropped.subscribe((e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})}))}_assignDefaults(e){const{lockAxis:t,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:o,draggingDisabled:a,rootElementSelector:s,previewContainer:c}=e;this.disabled=null!=a&&a,this.dragStartDelay=n||0,t&&(this.lockAxis=t),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s),c&&(this.previewContainer=c)}_setupHandlesListener(){this._handles.changes.pipe((0,s.startWith)(this._handles),(0,s.tap)((e=>{const t=e.filter((e=>e._parentDrag===this)).map((e=>e.element));this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)})),(0,s.switchMap)((e=>(0,a.merge)(...e.map((e=>e._stateChanges.pipe((0,s.startWith)(e))))))),(0,s.takeUntil)(this._destroyed)).subscribe((e=>{const t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)}))}}Br._dragInstances=[],Br.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Br,deps:[{token:r.ElementRef},{token:Or,optional:!0,skipSelf:!0},{token:u.DOCUMENT},{token:r.NgZone},{token:r.ViewContainerRef},{token:Tr,optional:!0},{token:Dn.Is,optional:!0},{token:xr},{token:r.ChangeDetectorRef},{token:Nr,optional:!0,self:!0},{token:Dr,optional:!0,skipSelf:!0}],target:r["ɵɵFactoryTarget"].Directive}),Br.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.1",type:Br,selector:"[cdkDrag]",inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},host:{properties:{"class.cdk-drag-disabled":"disabled","class.cdk-drag-dragging":"_dragRef.isDragging()"},classAttribute:"cdk-drag"},providers:[{provide:Dr,useExisting:Br}],queries:[{propertyName:"_previewTemplate",first:!0,predicate:Lr,descendants:!0},{propertyName:"_placeholderTemplate",first:!0,predicate:Mr,descendants:!0},{propertyName:"_handles",predicate:Nr,descendants:!0}],exportAs:["cdkDrag"],usesOnChanges:!0,ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Br,decorators:[{type:r.Directive,args:[{selector:"[cdkDrag]",exportAs:"cdkDrag",host:{class:jr,"[class.cdk-drag-disabled]":"disabled","[class.cdk-drag-dragging]":"_dragRef.isDragging()"},providers:[{provide:Dr,useExisting:Br}]}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:void 0,decorators:[{type:r.Inject,args:[Or]},{type:r.Optional},{type:r.SkipSelf}]},{type:void 0,decorators:[{type:r.Inject,args:[u.DOCUMENT]}]},{type:r.NgZone},{type:r.ViewContainerRef},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Tr]}]},{type:Dn.Is,decorators:[{type:r.Optional}]},{type:xr},{type:r.ChangeDetectorRef},{type:Ar,decorators:[{type:r.Optional},{type:r.Self},{type:r.Inject,args:[Nr]}]},{type:Br,decorators:[{type:r.Optional},{type:r.SkipSelf},{type:r.Inject,args:[Dr]}]}]},propDecorators:{_handles:[{type:r.ContentChildren,args:[Nr,{descendants:!0}]}],_previewTemplate:[{type:r.ContentChild,args:[Lr]}],_placeholderTemplate:[{type:r.ContentChild,args:[Mr]}],data:[{type:r.Input,args:["cdkDragData"]}],lockAxis:[{type:r.Input,args:["cdkDragLockAxis"]}],rootElementSelector:[{type:r.Input,args:["cdkDragRootElement"]}],boundaryElement:[{type:r.Input,args:["cdkDragBoundary"]}],dragStartDelay:[{type:r.Input,args:["cdkDragStartDelay"]}],freeDragPosition:[{type:r.Input,args:["cdkDragFreeDragPosition"]}],disabled:[{type:r.Input,args:["cdkDragDisabled"]}],constrainPosition:[{type:r.Input,args:["cdkDragConstrainPosition"]}],previewClass:[{type:r.Input,args:["cdkDragPreviewClass"]}],previewContainer:[{type:r.Input,args:["cdkDragPreviewContainer"]}],started:[{type:r.Output,args:["cdkDragStarted"]}],released:[{type:r.Output,args:["cdkDragReleased"]}],ended:[{type:r.Output,args:["cdkDragEnded"]}],entered:[{type:r.Output,args:["cdkDragEntered"]}],exited:[{type:r.Output,args:["cdkDragExited"]}],dropped:[{type:r.Output,args:["cdkDragDropped"]}],moved:[{type:r.Output,args:["cdkDragMoved"]}]}});class Ur{}Ur.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Ur,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Ur.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.1",ngImport:i,type:Ur,declarations:[Pr,Er,Br,Ar,Vr,Rr],exports:[p.ZD,Pr,Er,Br,Ar,Vr,Rr]}),Ur.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Ur,providers:[xr],imports:[p.ZD]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.1",ngImport:i,type:Ur,decorators:[{type:r.NgModule,args:[{declarations:[Pr,Er,Br,Ar,Vr,Rr],exports:[p.ZD,Pr,Er,Br,Ar,Vr,Rr],providers:[xr]}]}]});var Gr,zr,Hr,qr,Wr,Kr,Yr,Zr,Qr=n(15813),Xr=n(93342),Jr=n(61782);function ei(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Si(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function ni(){return ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ri(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ni.apply(this,arguments)}function ri(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vi(e)););return e}function ii(e,t){return ai(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||Si(e,t)||oi()}function oi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ai(e){if(Array.isArray(e))return e}function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t,n){return(t=Ii(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function di(){di=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new x(i||[]);return r(a,"_invoke",{value:C(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function u(){}function g(){}function h(){}var m={};c(m,o,(function(){return this}));var f=Object.getPrototypeOf,y=f&&f(f(D([])));y&&y!==t&&n.call(y,o)&&(m=y);var v=h.prototype=u.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,o,a,s){var c=d(e[r],e,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==ti(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function C(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return $()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:$}}function $(){return{value:void 0,done:!0}}return g.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:g,configurable:!0}),g.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(k.prototype),c(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function pi(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ui(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pi(o,r,i,a,s,"next",e)}function s(e){pi(o,r,i,a,s,"throw",e)}a(void 0)}))}}function gi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}function hi(e,t){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hi(e,t)}function mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vi(e);if(t){var i=vi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fi(this,n)}}function fi(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vi(e)}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ii(r.key),r)}}function Ci(e,t,n){return t&&ki(e.prototype,t),n&&ki(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ii(e){var t=function(e,t){if("object"!==ti(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ti(t)?t:String(t)}function wi(e){return function(e){if(Array.isArray(e))return Di(e)}(e)||xi(e)||Si(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){if(e){if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(e,t):void 0}}function xi(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $i(e,t,n){return a.merge.apply(void 0,[e.events.pipe((0,s.filter)((function(e){return e instanceof o.NavigationEnd})))].concat(wi((0,c.castArray)(t)))).pipe((0,s.startWith)(1),(0,s.switchMap)((function(){return Ti(n,e)})))}function Ei(e,t,n){return a.merge.apply(void 0,wi((0,c.castArray)(t))).pipe((0,s.startWith)(1),(0,s.switchMap)((function(){return Ti(n,e)})))}function Ti(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!Array.isArray(e)||e.length<1?(0,a.of)([]):(0,a.defer)((function(){var r=_i(e).map((function(e){return Pi(Array.isArray(e)?e:e&&(0,c.isFunction)(e.get)?e.get(Mi(t)):[e],n)}));return a.combineLatest.apply(void 0,wi(r))})).pipe((0,s.map)((function(e){var t;return Oi((t=[]).concat.apply(t,wi(e)))})),(0,s.map)((function(e){return(0,c.uniq)(e)})))}function _i(e){return(0,c.flatten)(e.map((function(e){return(0,c.isFunction)(e)?e():[e]})))}function Fi(e){var t=e.pipe((0,s.map)((function(e){return wi(e)})));return{get:function(){return t}}}function Oi(e){return(0,c.sortBy)(e,"priority")}function Pi(e,t){var n;if(!e)return(0,a.of)([]);if(n=Ai(e),t){var r=n.pipe((0,s.startWith)([]));n=(0,a.race)(n,r)}return n.pipe((0,s.map)((function(e){return(Array.isArray(e)?e:[e]).filter((function(e){return!!e}))})))}function Ni(e){return!!e&&"function"==typeof e.then}function Ai(e){return(0,a.isObservable)(e)?e:Ni(e)?(0,a.from)(e):(0,a.of)(e)}function Mi(e){if(e&&e.routerState&&e.routerState.root){for(var t=e.routerState.root;t.firstChild;)t=t.firstChild;return t}}var Ri=function(){function e(){bi(this,e)}return Ci(e,[{key:"map",value:function(e){return this.state$.pipe((0,s.map)(e),(0,s.distinctUntilChanged)())}},{key:"emitNewState",value:function(){this.state$.next(this.state)}}]),e}(),Li=new r.InjectionToken("ActionBarFactory"),Vi=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this)).injector=e,i.factories=[],i.refreshTrigger=new a.Subject,i.state$=new a.BehaviorSubject(new Set),i.items$=$i(r,i.refreshTrigger,[function(){return i.injector.get(Li,[])},function(){return i.factories},Fi(i.state$)]).pipe((0,s.map)((function(e){var t=(0,c.groupBy)(e,"groupId"),n=t.undefined||[],r=Object.keys(t).filter((function(e){return"undefined"!==e})).map((function(e){return t[e][0]}));return[].concat(wi(n),wi(r))})),(0,s.map)((function(e){return Oi(e)})),(0,s.shareReplay)(1)),i}return Ci(n,[{key:"state",get:function(){return this.state$.value}},{key:"refresh",value:function(){this.refreshTrigger.next()}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}}]),n}(Ri);Vi.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vi,deps:[{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),Vi.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vi,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vi,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router}]}});var ji=function(){function e(t){bi(this,e),this.actionBarService=t,this.placement="left",this.priority=0,this.itemClass=""}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.viewInitTimeout=setTimeout((function(){return e.actionBarService.add(e)}))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.viewInitTimeout),this.actionBarService.remove(this)}}]),e}();ji.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ji,deps:[{token:Vi}],target:r["ɵɵFactoryTarget"].Component}),ji.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ji,selector:"c8y-action-bar-item",inputs:{placement:"placement",priority:"priority",itemClass:"itemClass",groupId:"groupId"},viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0}],ngImport:i,template:'<ng-template #template>\n  <li class="{{itemClass}}">\n    <ng-content></ng-content>\n  </li>\n</ng-template>'}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ji,decorators:[{type:r.Component,args:[{selector:"c8y-action-bar-item",template:'<ng-template #template>\n  <li class="{{itemClass}}">\n    <ng-content></ng-content>\n  </li>\n</ng-template>'}]}],ctorParameters:function(){return[{type:Vi}]},propDecorators:{placement:[{type:r.Input}],priority:[{type:r.Input}],itemClass:[{type:r.Input}],groupId:[{type:r.Input}],template:[{type:r.ViewChild,args:["template",{static:!1}]}]}});var Bi=Ci((function e(){bi(this,e)})),Ui=new r.InjectionToken("App options"),Gi=function(e){gi(s,e);var t,n,r,i,o,a=mi(s);function s(e,t,n){var r;return bi(this,s),(r=a.call(this)).systemOptionsService=t,r.tenantOptionService=n,r.setupOptions(e),r}return Ci(s,[{key:"get",value:function(e,t,n){var r=this[e];return void 0===r&&(r=this[(0,c.camelCase)(e)]),n?this.parseOptionRawValue(r,t):void 0!==r?r:t}},{key:"set",value:function(e,t){this[(0,c.camelCase)(e)]=t}},{key:"getSupportUrl",value:(o=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTenantOption("configuration","system.support.url");case 2:if(t=e.sent,(0,c.isUndefined)(t)&&(t=this.supportUrl),!(0,c.isUndefined)(t)){e.next=13;break}return e.next=7,this.getSystemOption("support","url");case 7:if(e.t1=e.sent,e.t1){e.next=10;break}e.t1=!1;case 10:e.t0=e.t1,e.next=14;break;case 13:e.t0=t;case 14:return this.supportUrl=e.t0,e.abrupt("return",this.supportUrl);case 16:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getActivateSupportUser",value:(i=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSystemOption("support-user","enabled",!0);case 2:return t=e.sent,e.abrupt("return",!t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getSystemOption",value:(r=ui(di().mark((function e(t,n,r){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getOptionFromService(t,n,this.systemOptionsService,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getTenantOption",value:(n=ui(di().mark((function e(t,n,r){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getOptionFromService(t,n,this.tenantOptionService,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"setupOptions",value:function(e){var t=this;e&&(Array.isArray(e)||(e=[e]),e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[(0,c.camelCase)(n)]=e[n]}))})))}},{key:"getOptionFromService",value:(t=ui(di().mark((function e(t,n,r,i){var o,a;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.detail({category:t,key:n});case 3:return o=e.sent,a=o.data,e.abrupt("return",this.parseOptionRawValue(a.value,i));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"parseOptionRawValue",value:function(e,t){var n;try{n=JSON.parse(e)}catch(r){n=(0,c.isUndefined)(e)?t:e}return n}}]),s}(Bi);function zi(e,t){return function(n,r,i){var o=i.value;i.value=function(){var n="_".concat(r,"Throttled");return this[n]||(this[n]=(0,c.throttle)(o,e,t)),this[n].apply(this,arguments)}}}Gi.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gi,deps:[{token:Ui,optional:!0},{token:g.SystemOptionsService},{token:g.TenantOptionsService}],target:r["ɵɵFactoryTarget"].Injectable}),Gi.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gi}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gi,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Ui]}]},{type:g.SystemOptionsService},{type:g.TenantOptionsService}]}});var Hi=function(e){gi(p,e);var t,n,i,o,l,d=mi(p);function p(e,t,n,r,i){var o;return bi(this,p),(o=d.call(this)).applicationService=e,o.apiService=t,o.options=n,o.fetchClient=r,o.tenantLoginOptionsService=i,o.state$=new a.BehaviorSubject({app:{name:o.options.name,contextPath:o.getCurrentContextPath()||o.options.contextPath},supportUrl:o.options.supportUrl,lang:o.options.get("defaultLanguage","en"),langs:o.getLangs(),langsDetail:o.options.languages,loginOptions:o.options.loginOptions,activateSupportUserAvailable:void 0,versions:{backend:void 0,ui:o.options.versions||{ngx:void 0}},hidePowered:o.options.hidePowered,isLoading:!1,showRightDrawer:o.options.rightDrawer,loginExtraLink:o.options.get("login_extra_link"),newsletter:o.options.newsletter}),o.currentSupportUserName=new a.BehaviorSubject(null),o.currentUser=new a.BehaviorSubject(null),o.currentTenant=new a.BehaviorSubject(null),o.currentApplication=new a.BehaviorSubject(null),o.currentApplicationConfig=o.currentApplication.pipe((0,s.map)((function(e){return(null==e?void 0:e.config)||null}))),o.apiService.calls.pipe((0,s.filter)((function(e){var t=e.url;return!/notification\/realtime/.test(t)})),(0,s.map)((function(e){return"start"===e.phase?1:-1})),(0,s.scan)((function(e,t){return e+t}),0),(0,s.map)((function(e){return e>0})),(0,s.distinctUntilChanged)()).subscribe((function(e){return o.state.isLoading=e})),o.assignApplicationKeyToDefaultHeaders(),o}return Ci(p,[{key:"assignApplicationKeyToDefaultHeaders",value:function(){(0,r.isDevMode)()||(this.fetchClient.defaultHeaders=ci(ci({},this.fetchClient.defaultHeaders||{}),{},{"X-Cumulocity-Application-Key":this.options.key}))}},{key:"state",get:function(){return this.state$.value}},{key:"getLangs",value:function(){var e=this.options.languages;return e?(0,c.keys)(e).filter((function(t){return e[t]})):[]}},{key:"uiVersion",get:function(){var e=this.state.versions.ui;return e.ngx||e.ng1}},{key:"loadManifest",value:(l=ui(di().mark((function e(){var t,n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.applicationService.detail("".concat(this.state.app.contextPath,"/manifest"));case 3:return t=e.sent.data.application,this.state.app.manifest=t,this.state.app.id=t.id,e.next=8,this.applicationService.detail(t.id);case 8:return n=e.sent,r=n.data,this.currentApplication.next(r),e.next=13,this.loadDefaultOptions();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(){return l.apply(this,arguments)})},{key:"updateCurrentApplicationConfig",value:(o=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationService.updateApplicationConfig(this.state.app.id,t);case 2:return n=e.sent,this.currentApplication.next(n),e.abrupt("return",n.config);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"refreshLoginOptions",value:(i=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tenantLoginOptionsService.listForCurrentTenant();case 2:t=e.sent.data,this.state$.next(ci(ci({},this.state),{},{loginOptions:t}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"isApplicationAvailable",value:(n=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationService.listByUser(void 0,{pageSize:100});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.some((function(e){return e.name===t})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setUser",value:function(e){this.currentSupportUserName.next(e.supportUserName||null),this.currentUser.next(e.user)}},{key:"isOwnerOfApplication",value:function(e){e||(e=this.currentApplication.value);var t=this.currentTenant.value,n=(0,c.get)(e,"owner.tenant.id");return t.name===n}},{key:"getCurrentContextPath",value:function(){var e=window.location.pathname.match(/\/apps\/(public\/){0,1}(.+?)(\/|\?|#|$)/);return e&&e[2]}},{key:"loadDefaultOptions",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.options.getSupportUrl();case 2:return this.state.supportUrl=e.sent,e.next=5,this.options.getActivateSupportUser();case 5:return this.state.activateSupportUserAvailable=e.sent,e.next=8,this.options.getSystemOption("system","version");case 8:this.state.versions.backend=e.sent;try{this.showIncompatibleVersionsError()}catch(e){}this.emitNewState();case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showIncompatibleVersionsError",value:function(){var e=this.state.versions.ui.ngx,t=this.state.versions.backend;if(!(0,be.satisfies)(e,"<=".concat(t," || ~").concat(t))){var n="You are running version ".concat(e," of the UI and version ").concat(t," of backend!");console.log("%c "+n,"font-weight: bold; font-size: 30px; color: red;")}}}]),p}(Ri);Hi.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hi,deps:[{token:g.ApplicationService},{token:x},{token:Gi},{token:g.FetchClient},{token:g.TenantLoginOptionsService}],target:r["ɵɵFactoryTarget"].Injectable}),Hi.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hi}),(0,ve.__decorate)([zi(600,{trailing:!1}),(0,ve.__metadata)("design:type",Function),(0,ve.__metadata)("design:paramtypes",[]),(0,ve.__metadata)("design:returntype",Promise)],Hi.prototype,"refreshLoginOptions",null),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hi,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:g.ApplicationService},{type:x},{type:Gi},{type:g.FetchClient},{type:g.TenantLoginOptionsService}]},propDecorators:{refreshLoginOptions:[]}});var qi=new r.InjectionToken("Languages"),Wi=new r.InjectionToken("Locale path"),Ki=new r.InjectionToken("Pattern Messages"),Yi=function(){function e(t){var n=this;bi(this,e),this.patterns={},this.pipes={absoluteDate:function(e){return(0,u.formatDate)(e,"medium",n.translateService.currentLang)},translate:function(e){return n.translateService.instant(e)}},(0,c.each)(t,(function(e){Object.assign(n.patterns,e)}))}return Ci(e,[{key:"translate",value:function(e){var t=this.translateWithPatterns(e);return t!==e?t:""}},{key:"translateWithPatterns",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.patterns,r=e;return(0,c.each)(n,(function(e,n){var i,o=new RegExp(n,"g");if(o.test(r)){o.test(""),i=o.exec(r);for(var a=function(){var a=ii(i,1)[0],s=(0,c.mapValues)(e.placeholders,(function(e){var r=e.capture||e,i=a.replace(new RegExp(n,"g"),r);return e.translate&&(i=t.translateWithPatterns(i,e.translate)),i}));r=r.replace(a,t.translateWithParams(e,s)),i=o.exec(r)};null!==i;)a()}})),r}},{key:"translateWithParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.translateService,r=n.defaultLang,i=n.currentLang,o=n.compiler,a=this.translateService.store.translations[i],s=this.translateService.store.translations[r],c=e.gettext,l=c;a&&(a[c]?l=a[c]:s&&s[c]&&(l=s[c]));for(var d,p=c,u=l,g=ci(ci({},t),{},{noPatternMessages:!0}),h=RegExp("{{\\s*([^\\s]+)\\s*\\|\\s*([^\\s]+)\\s*}}","g");null!==(d=h.exec(c));){var m=d,f=ii(m,3),y=f[0],v=f[1],b=f[2];this.pipes[b]&&(p=p.replace(y,"{{".concat(v,"}}")),u=u.replace(y,"{{".concat(v,"}}")),g[v]=this.pipes[b](t[v]))}return a&&(a[p]=o.compile(u,i)),this.translateService.instant(p,g)}}]),e}();Yi.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yi,deps:[{token:Ki}],target:r["ɵɵFactoryTarget"].Injectable}),Yi.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yi,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yi,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[Ki]}]}]}});var Zi=function(){function e(t,n){bi(this,e),this.parser=t,this.patternMessagesService=n,this.cache={}}return Ci(e,[{key:"handle",value:function(e){var t=e.key,n=e.interpolateParams,r=e.translateService;this.translateService=r;var i=this.getFromCache(t,n);if(!i){var o=this.getPatternMessageTranslation(t,n);i=o||this.parser.interpolate(t,n),this.addToCache(t,n,i)}return i}},{key:"getFromCache",value:function(e,t){var n=this.translateService.currentLang;return(this.cache[n]||{})[this.getCacheKey(e,t)]}},{key:"addToCache",value:function(e,t,n){var r=this.translateService.currentLang;(this.cache[r]=this.cache[r]||{})[this.getCacheKey(e,t)]=n}},{key:"getCacheKey",value:function(e,t){return t?"".concat(e," ").concat(JSON.stringify(t)):e}},{key:"getPatternMessageTranslation",value:function(e,t){if(!t||!t.noPatternMessages)return this.patternMessagesService.translateService||(this.patternMessagesService.translateService=this.translateService),this.patternMessagesService.translate(e)}}]),e}();Zi.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zi,deps:[{token:ye.TranslateParser},{token:Yi}],target:r["ɵɵFactoryTarget"].Injectable}),Zi.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zi}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zi,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:ye.TranslateParser},{type:Yi}]}});var Qi=function(e){return e};function Xi(e){return e}var Ji={updatesList:{capture:"$1",translate:{"status='(.+?)'":{gettext:'status: "{{ status | translate }}"',placeholders:{status:"$1"}},"generalStatus='(.+?)'":{gettext:'general status: "{{ generalStatus | translate }}"',placeholders:{generalStatus:"$1"}},"progress='(.+?)'":{gettext:'progress: "{{ progress }}"',placeholders:{progress:"$1"}},"note=(.+?)":{gettext:'note: "{{ note }}"',placeholders:{note:"$1"}}}}},eo={"^Access is denied$":{gettext:"Access denied."},"^Alarm created$":{gettext:"Alarm created"},"^Alarm updated$":{gettext:"Alarm updated"},"^API is not available with the new domain$":{gettext:"Could not activate custom domain. DNS setup is incorrect."},"^Application with given name already exist$":{gettext:"Application with given name already exists."},"^Application with id (.+?) is already assigned to the tenant (.+?)$":{gettext:'This application is already assigned to tenant "{{tenant}}".',placeholders:{tenant:"$2"}},"^Apply software changes: (.+?)\\.?$":{gettext:"Apply software changes: {{ softwareChanges }}",placeholders:{softwareChanges:{capture:"$1",translate:{'install "(.+?)" \\(version: (.+?)\\)':{gettext:'install "{{ softwareName }}" (version: {{ softwareVersion }})',placeholders:{softwareName:"$1",softwareVersion:"$2"}},'install "([^"]+)"(?! \\(version: .+?\\))':{gettext:'install "{{ softwareName }}"',placeholders:{softwareName:"$1"}},'delete "(.+?)" \\(version: (.+?)\\)':{gettext:'delete "{{ softwareName }}" (version: {{ softwareVersion }})',placeholders:{softwareName:"$1",softwareVersion:"$2"}},'delete "([^"]+)"(?! \\(version: .+?\\))':{gettext:'delete "{{ softwareName }}"',placeholders:{softwareName:"$1"}}}}}},"^Assign device profile (.+?) to device (.+?)$":{gettext:"Assign device profile {{profileName}} to device {{deviceName}}",placeholders:{profileName:"$1",deviceName:"$2"}},"^(.+)pplication for tenant (.+) with properties \\( (.+?) \\) already exists$":{gettext:'Application for tenant "{{tenant}}" with the following values ({{valuesList}}) already exists.',placeholders:{tenant:"$2",valuesList:"$3"}},"^Authentication failed! : User account is locked$":{gettext:"Authentication failed due to: user account is locked."},"^Availability monitoring record$":{gettext:"Availability monitoring record"},"^Can not activate a certificate which is either expired or not yet valid$":{gettext:"Cannot activate a certificate which is either expired or not yet valid."},"^Cannot add certificate - certificate with (.+?) fingerprint already exists. : Certificate with (.+?) fingerprint already exists.":{gettext:"Could not add certificate. Certificate with {{fingerprint}} fingerprint already exists.",placeholders:{fingerprint:"$1"}},"^Cannot change password. : Provided token does not exist.$":{gettext:"Cannot change password: provided token is invalid."},"^Cannot deploy module (.*)$":{gettext:'Cannot deploy module due to error: "{{ errorMessage | translate }}".',placeholders:{errorMessage:"$1"}},"^Cannot deploy module (.+?)! : Compilation failed in module '(.+?)' in expression '(.+?)' : Incorrect syntax near '(.+?)' at line (\\d+) column (\\d+) \\[([\\S\\s]+?)\\]$":{gettext:'Could not deploy module "{{moduleName}}". Compilation failed in expression "{{expression}}": incorrect syntax near "{{incorrectExpression}}" at line {{line}} column {{column}}.',placeholders:{moduleName:"$1",expression:"$3",incorrectExpression:"$4",line:"$5",column:"$6"}},"^Cannot deploy module (.+?)! : Compilation failed in module '(.+?)' in expression '(.+?)' : Incorrect syntax near '(.+?)' at line (\\d+) column (\\d+) near reserved keyword '(.+?)' \\[([\\S\\s]+?)\\]$":{gettext:'Could not deploy module "{{moduleName}}". Compilation failed in expression "{{expression}}": incorrect syntax near "{{incorrectExpression}}" at line {{line}} column {{column}} near reserved keyword "{{keyword}}".',placeholders:{moduleName:"$1",expression:"$3",incorrectExpression:"$4",line:"$5",column:"$6",keyword:"$7"}},"^Cannot deploy module (.+?)! : Compilation failed in module '(.+?)' in expression '(.+?)' : Incorrect syntax near '(.+?)' at line (\\d+) column (\\d+), please check the where clause \\[([\\S\\s]+?)\\]$":{gettext:'Could not deploy module "{{moduleName}}". Compilation failed in expression "{{expression}}": incorrect syntax near "{{incorrectExpression}}" at line {{line}} column {{column}}, check "where" clause.',placeholders:{moduleName:"$1",expression:"$3",incorrectExpression:"$4",line:"$5",column:"$6"}},"^Cannot deploy module (.+?)! : Deployment failed in module '(.+?)' in expression '(.+?)' : Exception compiling script '(.+?)' of dialect '(.+?)': missing (.+?) before statement \\((.+?)\\) \\[([\\S\\s]+?)\\]$":{gettext:'Could not deploy module "{{moduleName}}". Compilation failed in expression "{{expression}}": exception compiling script "{{scriptName}}" of dialect "{{scriptDialect}}": missing "{{missingSyntax}}" before statement "{{affectedStatement}}".',placeholders:{moduleName:"$1",expression:"$3",scriptName:"$4",scriptDialect:"$5",missingSyntax:"$6",affectedStatement:"$7"}},"^Cannot execute bulk operation on empty group. Group with id='(\\d+?)' doesn't have child assets.$":{gettext:'Could not execute bulk operation on an empty group. Group with ID "{{groupId}}" has no child assets.',placeholders:{groupId:"$1"}},"^Cannot execute bulk operation on empty group. DynamicGroup with id='(\\d+?)' doesn't have child assets$":{gettext:'Could not execute bulk operation on an empty group. Smart group with ID "{{groupId}}" has no child assets.',placeholders:{groupId:"$1"}},"^Cannot parse X509 certificate. : Could not parse certificate: (.+?)$":{gettext:"Could not parse X.509 certificate: {{ failureReason | translate }}.",placeholders:{failureReason:"$1"}},"^Cannot reschedule bulk operation. All its operations are successful$":{gettext:"Cannot reschedule bulk operation. All its operations are already successful."},"^Cannot reset user password : Cannot find user with such email.$":{gettext:"Cannot reset password for user with such email: email not found."},"^Cannot update/delete application binary via this endpoint$":{gettext:"Cannot update/delete application binary via this endpoint"},"^Can't delete user because it is used by another managed object$":{gettext:"Cannot delete device with associated device owner because this owner is still assigned to other device(s). Try to remove only the device."},"^Cep module created$":{gettext:"CEP module created"},"^Cep module updated$":{gettext:"CEP module updated"},"^Cep module deleted$":{gettext:"CEP module deleted"},'^Cep module "(.+?)" created$':{gettext:'CEP module "{{name}}" created',placeholders:{name:"$1"}},'^Cep module "(.+?)" updated$':{gettext:'CEP module "{{name}}" updated',placeholders:{name:"$1"}},'^Cep module "(.+?)" deleted$':{gettext:'CEP module "{{name}}" deleted',placeholders:{name:"$1"}},"^Command state is invalid: (.+)$":{gettext:"Command state is invalid: {{violations}}",placeholders:{violations:{capture:"$1",translate:{"(\\w+?) - may not be null":{gettext:'"{{field}}" must not be null',placeholders:{field:"$1"}}}}}},"^Could not connect to endpoint (.+)\\. Could not verify `(.+)` host key with fingerprint `(.+)` for `(.+)` on port (.+)\\. If you expected that key, please remove the previous one from configuration to allow for connection\\.$":{gettext:'Could not connect to endpoint "{{endpointName}}". Could not verify {{keyType}} host key with fingerprint {{fingerprint}} for host {{host}} on port {{port}}. If you expected this key, please remove the previous one from configuration to allow for connection.',placeholders:{endpointName:"$1",keyType:"$2",fingerprint:"$3",host:"$4",port:"$5"}},'^Could not login to ssh server on endpoint "(.+)"\\. Provided credential for user "(.+)" is incorrect\\.$':{gettext:'Could not access SSH server on endpoint "{{endpointName}}". Provided credentials for user "{{userName}}" are incorrect.',placeholders:{endpointName:"$1",userName:"$2"}},"^Could not save object remoteAccessUpdate: (.+)$":{gettext:"{{errorMessages}}",placeholders:{errorMessages:{capture:"$1",translate:{"Could not recognize host-key format":{gettext:'Could not recognize "Host key" format'},"Could not recognize key-pair format":{gettext:'Could not recognize the format of "Public key" or "Private key"'}}}}},"^Could not update user. : Error persisting user (.+?)!$":{gettext:'Could not update user "{{username}}".',placeholders:{username:"$1"}},"^Create bulk operation$":{gettext:"Create bulk operation"},"^Create bulk operation: (.+)$":{gettext:"Create bulk operation: {{updatesList}}",placeholders:Ji},"^Creation ramp must be greater than (\\d+?)$":{gettext:"Bulk operation delay must be greater than {{minSeconds}} seconds.",placeholders:{minSeconds:"$1"}},"^Created container$":{gettext:"Container created."},"^Created pod: (.+)$":{gettext:'Pod "{{imageName}}" created.',placeholders:{imageName:"$1"}},"^Creating device on LoRa platform failed$":{gettext:"Could not create the device in the LoRa platform."},"^CSV file contained empty dataset$":{gettext:"No entries found in uploaded CSV file."},"^Cycle detected for route (.+?)!$":{gettext:"Cycle detected for route {{route}}.",placeholders:{route:"$1"}},"^Data broker processing is currently overloaded and may stop forwarding your data\\. Please contact support\\.$":{gettext:"Data broker processing is currently overloaded and may stop forwarding your data. Please contact support."},"^Data broker processing is not able to connect do destination tenant, thus data forwarding is not working\\. Please contact support\\.$":{gettext:"Data broker processing is not able to connect to destination tenant, thus data forwarding is not working. Please contact support."},"^Delete bulk operation$":{gettext:"Delete bulk operation"},"^Delete bulk operation: (.+)$":{gettext:"Delete bulk operation: {{updatesList}}",placeholders:Ji},"^Device id '(.+?)' contains '(.+?)' character which is not permitted.$":{gettext:'ID "{{deviceId}}" contains invalid character: "{{invalidCharacter}}".',placeholders:{deviceId:"$1",invalidCharacter:"$2"}},"^Device name: '(.+?)', alarm text: '(.+?)'$":{gettext:'Device name: "{{deviceName}}", alarm text: "{{alarmText | translate}}"',placeholders:{deviceName:"$1",alarmText:"$2"}},"^Device (.+?) already registered to a tenant.$":{gettext:"Device {{ devEUI }} is already registered in your tenant or in another tenant in the platform.",placeholders:{devEUI:"$1"}},"^Display name$":{gettext:"Login alias"},"^Domain name in uploaded certificate differs from the one in use$":{gettext:"Domain name in uploaded certificate differs from the one in use. Please deactivate the custom domain before uploading new certificate."},"^Domain name is already in use by another tenant!$":{gettext:"Domain name is already used by another tenant."},"^Duplicated connector for instanceUrl (.+?)!$":{gettext:"Target URL {{targetUrl}} already used by another connector.",placeholders:{targetUrl:"$1"}},"^Duplicated connector for name (.+?)!$":{gettext:'Connector name "{{name}}" already used by another connector.',placeholders:{name:"$1"}},"^Entry is outside of the target dir: (.+)$":{gettext:'File entry outside of the target directory: "{{path}}".',placeholders:{path:"$1"}},"^Error during password validation. : Password must have at least (\\d+?) characters and no more than (\\d+?) and must contain only Latin1 characters.$":{gettext:"Password is invalid. It must have at least {{minCharactersCount}} and no more than {{maxCharactersCount}} characters.",placeholders:{minCharactersCount:"$1",maxCharactersCount:"$2"}},"^Error during password validation. : Your password has been used already. Choose another.$":{gettext:"This password has already been used earlier. Use a different one."},"^Error in statement (.+?):(.+?)! : Incorrect syntax near '(.+?)' near reserved keyword '(.+?)' \\[([\\S\\s]+?)\\]$":{gettext:'Error in statement {{moduleName}}:{{statementNumber}}. Incorrect syntax near expression "{{expression}}" near reserved keyword "{{keyword}}".',placeholders:{moduleName:"$1",statementNumber:"$2",expression:"$3",keyword:"$4"}},"^External id not found; external id = ID \\[type=(.+?), value=(.+?)\\]$":{gettext:'External ID not found for type "{{type}}" and value "{{value}}".',placeholders:{type:"$1",value:"$2"}},"^Error occurred when trying to find an Application for id ID (.+) : Could not find application by ID (\\d+)$":{gettext:"Could not find application by ID {{applicationId}}.",placeholders:{applicationId:"$2"}},'^Http status code: 404\n{error="options/Not Found",message="Unable to find option by given key: sigfox-agent/provider.token",info="https://www.cumulocity.com/guides/reference-guide/#error_reporting",details="null"}':{gettext:"Unable to find option by given key: sigfox-agent/provider.token"},"^Failed to delete application.  : Cannot remove application assigned to other tenants.$":{gettext:"Could not delete application assigned to other tenants."},"^Failed to extract certificate from PKCS12$":{gettext:"Failed to extract certificate from PKCS12."},"^Failed to update domain at the platform$":{gettext:"Failed to update domain at the platform."},"^Finding device data from database failed : No managedObject for id '(.+?)'!$":{gettext:'Could not find managed object with ID "{{deviceId}}".',placeholders:{deviceId:"$1"}},"^Following mandatory fields should be included: (.+?)$":{gettext:"Following mandatory fields should be included: {{fields}}",placeholders:{fields:"$1"}},"^Global Role updated$":{gettext:"Global role updated"},"^Global Role (.+?) updated$":{gettext:'Global role "{{name}}" updated',placeholders:{name:"$1"}},"^Global Role (.+?) updated: (.+)$":{gettext:'Global role "{{name}}" updated: {{updatesList}}',placeholders:{name:"$1",updatesList:{capture:"$2",translate:{"applications \\[([^\\]]+?)\\] added":{gettext:"applications {{list}} added",placeholders:{list:"$1"}},"applications \\[([^\\]]+?)\\] removed":{gettext:"applications {{list}} removed",placeholders:{list:"$1"}},"roles \\[([^\\]]+?)\\] added":{gettext:"roles {{list}} added",placeholders:{list:"$1"}},"roles \\[([^\\]]+?)\\] removed":{gettext:"roles {{list}} removed",placeholders:{list:"$1"}}}}}},"^Global Roles$":{gettext:"Global roles"},"^Operation updated: (.+)$":{gettext:"Operation updated: {{updatesList}}",placeholders:{updatesList:{capture:"$1",translate:{"status='(.+?)'":{gettext:'status: "{{ status | translate }}"',placeholders:{status:"$1"}},"description='(.+?)'":{gettext:'description: "{{ description | translate }}"',placeholders:{description:"$1"}},"device name='(.+?)'":{gettext:'device name: "{{ deviceName }}"',placeholders:{deviceName:"$1"}},"failure reason='(.+?)'":{gettext:'failure reason: "{{ failureReason | translate }}"',placeholders:{failureReason:"$1"}}}}}},"^ID \\[type=(.+?), value=(.+?)\\] was already bound to different Global ID.$":{gettext:'External ID "{{value}}" of the type "{{type}}" already exists.',placeholders:{type:"$1",value:"$2"}},"^Invalid credentials! : Bad credentials$":{gettext:"Invalid credentials."},"^Invalid credentials! : No phone number provided$":{gettext:"Log into the management tenant first and enter your phone number."},"^Inventory Role removed$":{gettext:"Inventory role removed"},"^Inventory Role (.+?) removed":{gettext:'Inventory role "{{name}}" deleted.',placeholders:{name:"$1"}},"^Inventory Role updated$":{gettext:"Inventory role updated"},"^Inventory Role (.+?) updated":{gettext:'Inventory role "{{name}}" updated.',placeholders:{name:"$1"}},"^I/O error: Connection refused; nested exception is Connection refused : Connection refused":{gettext:"Connection refused"},"^I/O error: Read timed out; nested exception is Read timed out : Read timed out":{gettext:"Read timed out"},"^Log file requested$":{gettext:"Log file requested."},"^Managed object deleted$":{gettext:"Managed object deleted"},'^Managed object "(.+?)" deleted$':{gettext:'Managed object "{{name}}" deleted',placeholders:{name:"$1"}},"^Maximum file size exceeded$":{gettext:"Maximum file size exceeded."},"^Message with ID (.+?) doesn't exist in smart rest template (.+?)$":{gettext:'Message with ID "{{messageId}}" doesn\'t exist in SmartREST template with ID "{{templateId}}"',placeholders:{messageId:"$1",templateId:"$2"}},"^name of Application cannot start with '(.+)' prefix.$":{gettext:'Application name must not start with "{{ prefix }}".',placeholders:{prefix:"$1"}},"^NewDeviceRequest for id = (.+?) already exists.$":{gettext:"Device registration request with ID {{id}} already exists.",placeholders:{id:"$1"}},"^NewDeviceRequest for device id (.+?) is in state BLOCKED, not PENDING_ACCEPTANCE.$":{gettext:'Device registration request with ID "{{deviceId}}" is in state "Blocked", not "Pending acceptance". Remove this registration request and start over.',placeholders:{deviceId:"$1"}},"^No communication with device since (.+?)$":{gettext:"No communication with device since {{timestamp | absoluteDate}}.",placeholders:{timestamp:"$1"}},"^No data received from device within required interval.$":{gettext:"No data received from device within required interval."},"^No LoRa provider settings are found. Please configure the connectivity settings.$":{gettext:"No LoRa provider settings are found. Please configure the connectivity settings."},"^Not within any context!$":{gettext:"A problem occurred with microservice subscription."},"^Maximum age cannot be bigger than 10 years.$":{gettext:"Maximum age cannot be bigger than 10 years."},"^Microservice application name incorrect. Please use only lower-case letters, digits and dashes. Maximum length is (\\d+) characters.$":{gettext:"Microservice application name is incorrect: only lower case letters, digits and dashes allowed. Maximum length: {{maxLength}}.",placeholders:{maxLength:"$1"}},"^Microservice not available.*$":{gettext:"Microservice is not available."},"^Operation created$":{gettext:"Operation created."},"^Operation updated$":{gettext:"Operation updated."},"^Operation created: status='(.+?)'.":{gettext:'Operation created: status: "{{ status | translate }}".',placeholders:{status:"$1"}},"^Option created$":{gettext:"Option created."},'^Option "(.+?)" created$':{gettext:'Option "{{option}}" created.',placeholders:{option:"$1"}},"^Option deleted$":{gettext:"Option deleted."},'^Option "(.+?)" deleted$':{gettext:'Option "{{option}}" deleted.',placeholders:{option:"$1"}},"^Owner field error. : Cannot introduce cyclic dependency.":{gettext:"Could not introduce cyclic ownership dependency."},"^Password change is temporary blocked.$":{gettext:"Password change is temporarily blocked."},"^Password cipher does not match":{gettext:"Password cipher does not match."},"^Platform application cannot be added to, nor removed from any tenant.$":{gettext:"Platform application cannot be added to, nor removed from any tenant."},"^Private key must be provided in KEY_PAIR credentials$":{gettext:'Private key must be provided when "Public/private keys" option is selected.'},"^Private key cipher does not match":{gettext:"Private key cipher does not match"},'^Protocol "(.+?)" does not support "(.+?)" credentials type$':{gettext:'Protocol "{{protocol}}" does not support "{{credentialsType}}" credentials type.',placeholders:{protocol:"$1",credentialsType:"$2"}},"^Provided security key does not match key stored for device (.+?).$":{gettext:'Provided security token does not match the security token stored for this device "{{deviceId}}".',placeholders:{deviceId:"$1"}},"^Provided security key does not match key stored for device (.+?).Reached maximum number of failed attempts while trying to register this device. Request will now be blocked and has to be removed manually to restart the process.$":{gettext:'The provided security token does not match the token stored for device "{{deviceId}}". You have reached the maximum number of failed attempts while trying to register this device. The request will now be blocked and must be removed manually to restart the process.',placeholders:{deviceId:"$1"}},'^pulling image "(.+)"$':{gettext:'Pulling image: "{{imageName}}".',placeholders:{imageName:"$1"}},"^Real-time event processing is currently overloaded and may stop processing your events\\. Please contact support\\.$":{gettext:"Real-time event processing is currently overloaded and may stop processing your events. Please contact support."},"^Resource ID \\[type=com_cumulocity_model_idtype_GId, value=(.+?)\\] for this request not found.$":{gettext:'Could not find the resource with ID "{{id}}".',placeholders:{id:"$1"}},"^Retrieve configuration snapshot from device (.+?)":{gettext:"Retrieve configuration snapshot from device {{deviceName}}",placeholders:{deviceName:"$1"}},"^Retrieve (.+?) configuration snapshot from device (.+?)":{gettext:"Retrieve {{configurationType}} configuration snapshot from device {{deviceName}}",placeholders:{configurationType:"$1",deviceName:"$2"}},"^Scaled up replica set (.+) to (\\d+)$":{gettext:'Replica set "{{replicaSetName}}" scaled up to "{{scaleNumber}}".',placeholders:{replicaSetName:"$1",scaleNumber:"$2"}},"^Send configuration snapshot (.+?) of configuration type (.+?) to device (.+?)":{gettext:"Send configuration snapshot {{snapshotName}} of configuration type {{configurationType}} to device {{deviceName}}",placeholders:{snapshotName:"$1",configurationType:"$2",deviceName:"$3"}},"^Send configuration snapshot (.+?) to device (.+?)":{gettext:"Send configuration snapshot {{snapshotName}} to device {{deviceName}}",placeholders:{snapshotName:"$1",deviceName:"$2"}},"^Simulator state is invalid: (.+)$":{gettext:"Simulator state is invalid: {{violations}}",placeholders:{violations:{capture:"$1",translate:{"(\\w+?) - may not be null":{gettext:'"{{field}}" should not be null',placeholders:{field:"$1"}},"(\\w+?) - must be less than or equal to (\\d+)":{gettext:'"{{field}}" must be less than or equal to {{maxValue}}',placeholders:{field:"$1",maxValue:"$2"}},"(\\w+?) - should not contain null values":{gettext:'"{{field}}" should not contain null values',placeholders:{field:"$1"}}}}}},"^Smart rest template (.+?) doesn't exist$":{gettext:'SmartREST template with ID "{{templateId}}" doesn\'t exist.',placeholders:{templateId:"$1"}},"^Smart rule created$":{gettext:"Smart rule created."},"^Smart rule updated$":{gettext:"Smart rule updated."},"^Smart rule enabled$":{gettext:"Smart rule activated."},"^Smart rule disabled$":{gettext:"Smart rule deactivated."},"^Smart rule deleted$":{gettext:"Smart rule deleted."},'^Smart rule "(.+?)" created$':{gettext:'Smart rule "{{name}}" created.',placeholders:{name:"$1"}},'^Smart rule "(.+?)" updated$':{gettext:'Smart rule "{{name}}" updated.',placeholders:{name:"$1"}},'^Smart rule "(.+?)" enabled$':{gettext:'Smart rule "{{name}}" activated.',placeholders:{name:"$1"}},'^Smart rule "(.+?)" disabled$':{gettext:'Smart rule "{{name}}" deactivated.',placeholders:{name:"$1"}},'^Smart rule "(.+?)" deleted$':{gettext:'Smart rule "{{name}}" deleted.',placeholders:{name:"$1"}},"^Started container$":{gettext:"Container started."},"^Successfully assigned (.+) to (.+)$":{gettext:'"{{imageName}}" assigned to "{{address}}".',placeholders:{imageName:"$1",address:"$2"}},'^Successfully pulled image "(.+)"$':{gettext:'Image "{{imageName}}" pulled.',placeholders:{imageName:"$1"}},"^Tenant creation failed. : Tenant with given id already exists.$":{gettext:"Could not create a tenant. Tenant with given domain/URL already exists."},'^Tenant id cannot be a reserved sql keyword "(.+?)".$':{gettext:'Could not use a reserved SQL keyword "{{tenantId}}" as a domain name.',placeholders:{tenantId:"$1"}},'^Tenant "(.+?)" activated$':{gettext:'Tenant "{{tenant}}" activated.',placeholders:{tenant:"$1"}},"^Tenant (.+?) has sub-tenants, please remove them first!$":{gettext:'Could not remove tenant "{{tenant}}". Remove its subtenants first.',placeholders:{tenant:"$1"}},"^Tenant activated$":{gettext:"Tenant activated."},'^Tenant "(.+?)" created$':{gettext:'Tenant "{{tenant}}" created.',placeholders:{tenant:"$1"}},"^Tenant created$":{gettext:"Tenant created."},'^Tenant "(.+?)" deleted$':{gettext:'Tenant "{{tenant}}" deleted.',placeholders:{tenant:"$1"}},"^Tenant deleted$":{gettext:"Tenant deleted."},'^Tenant "(.+?)" suspended$':{gettext:'Tenant "{{tenant}}" suspended.',placeholders:{tenant:"$1"}},"^Tenant suspended$":{gettext:"Tenant suspended"},'^Tenant "(.+?)" updated: (.+?)$':{gettext:'Tenant "{{tenant}}" updated: {{properties}}.',placeholders:{tenant:"$1",properties:"$2"}},"^Tenant updated$":{gettext:"Tenant updated."},"^Too Many Requests$":{gettext:"Too many requests. Try again later."},"^User alias equals username '(.+)'$":{gettext:"Username and login alias must be different."},"^User created$":{gettext:"User created"},"^User (.+?) created$":{gettext:'User "{{name}}" created',placeholders:{name:"$1"}},"^User deleted$":{gettext:"User deleted"},"^User (.+?) deleted$":{gettext:'User "{{name}}" deleted',placeholders:{name:"$1"}},"^(.+?) user login with OAuth internal mode failed$":{gettext:'"{{name}}" user login with OAI-Secure mode failed',placeholders:{name:"$1"}},"^User updated$":{gettext:"User updated"},"^User (.+?) updated: (.+)$":{gettext:'User "{{name}}" updated: {{updatesList}}',placeholders:{name:"$1",updatesList:{capture:"$2",translate:{"delegatedBy='(.+?)'":{gettext:'delegated by: "{{delegate}}"',placeholders:{delegate:"$1"}},"owner='(.+?)'":{gettext:'owner: "{{owner}}"',placeholders:{owner:"$1"}},"inventory assignment \\[(.+?)\\] added":{gettext:"inventory assignment [{{inventoryAssignment}}] added",placeholders:{inventoryAssignment:"$1"}},"inventory assignment \\[(.+?)\\] removed":{gettext:"inventory assignment [{{inventoryAssignment}}] removed",placeholders:{inventoryAssignment:"$1"}},"applications \\[(.+?)\\] added$":{gettext:"applications [{{applicationsList}}] added",placeholders:{applicationsList:"$1"}},"applications \\[(.+?)\\] removed$":{gettext:"applications [{{applicationsList}}] removed",placeholders:{applicationsList:"$1"}},"global roles \\[(.+?)\\] added$":{gettext:"global roles [{{globalRolesList}}] added",placeholders:{globalRolesList:"$1"}},"global roles \\[(.+?)\\] removed$":{gettext:"global roles [{{globalRolesList}}] removed",placeholders:{globalRolesList:"$1"}}}}}},"^User with username '(.+?)' already exists! : Duplicated: (.+?)$":{gettext:'User "{{username}}" already exists.',placeholders:{username:"$1"}},"^User with username or alias '(.+)' already exists! : Duplicated: (.+)$":{gettext:'User with username or login alias "{{usernameOrAlias}}" already exists.',placeholders:{usernameOrAlias:"$1"}},"^User with email '(.+?)' already exists! : Duplicated: (.+?)$":{gettext:'User with email "{{email}}" already exists.',placeholders:{email:"$1"}},"^unable to find option with given key (.+?) : Could not find entity Option by ID (.+?)!$":{gettext:'Unable to get tenant option: "{{option}}".',placeholders:{option:"$2"}},"^unable to find option with given key (.+?) : There is no system property for key (.+?)$":{gettext:'Unable to get system option: "{{option}}".',placeholders:{option:"$2"}},"^Write failed with error code 16733 and error message 'trying to index text where term list is too big, max is 4mb _id: \"(.+?)\"'$":{gettext:"The uploaded image cannot be bigger than 4 MB. Please upload a smaller one."},"^Write failed with error code 17280 and error message 'WiredTigerIndex::insert: key too large to index, failing (.+?) { : \"(.+?)\" }'$":{gettext:"The selected name is too long. Please try a shorter one."},"^You have reached devices limit. No more devices can be registered.$":{gettext:"You reached devices limit. No more devices can be registered."},'^(.+) succeeded for volume "(.+)"':{gettext:'Operation "{{operation}}" succeeded for volume "{{volume}}".',placeholders:{operation:"$1",volume:"$2"}},"^Exception on tenant (.+) in statement '(.+)': Invocation exception when invoking method '(.+)' of class '(.+)' passing parameters \\[(.+)\\] for statement '(.+)': (.+) : (.+)$":{gettext:'Exception on tenant {{tenantId}} in statement "{{moduleName}}": Invocation exception when invoking method "{{methodName}}" of class "{{classPath}}" passing parameters [{{parameters}}] for statement "{{statement}}": {{exceptionType}} : {{exceptionMessage}}.',placeholders:{tenantId:"$1",moduleName:"$2",methodName:"$3",classPath:"$4",parameters:"$5",statement:"$6",exceptionType:"$7",exceptionMessage:"$8"}},"^No nodes are available that match all of the predicates: (.+).$":{gettext:"No nodes are available that match all of the predicates: [{{predicates}}].",placeholders:{predicates:"$1"}},"^Readiness probe failed: (.+) (.+): (.+): request canceled while waiting for connection \\(Client.Timeout exceeded while awaiting headers\\)$":{gettext:"Readiness probe failed: {{requestMethod}} {{uri}}: {{protocol}}: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers).",placeholders:{requestMethod:"$1",uri:"$2",protocol:"$3"}},"^Liveness probe failed: (.+) (.+): (.+): request canceled while waiting for connection \\(Client.Timeout exceeded while awaiting headers\\)$":{gettext:"Liveness probe failed: {{requestMethod}} {{uri}}: {{protocol}}: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers).",placeholders:{requestMethod:"$1",uri:"$2",protocol:"$3"}},"^Error syncing pod$":{gettext:"Pod synchronization error."},"^Failed create pod sandbox.$":{gettext:"Pod sandbox creation failed."},'^Exception on tenant (.+) in statement \'(.+)\': Http status code: (\\d+) \\{error="alarm/Unprocessable Entity",message="(.+)",info="https://www.cumulocity.com/guides/reference-guide/#error_reporting",details="null"\\}$':{gettext:'Exception on tenant {{tenantId}} in statement "{{statement}}": HTTP status code: {{httpStatusCode}} : {{message | translate}}',placeholders:{tenantId:"$1",statement:"$2",httpStatusCode:"$3",message:"$4"}},"^User '(.+)' is managed by a remote identity management service defined by an administrator, direct update is forbidden$":{gettext:'User "{{userName}}" is managed by a remote identity management service defined by an administrator, direct update is forbidden.',placeholders:{userName:"$1"}},'^Added new child device to "(.+)" \\(ID: (.+)\\).$':{gettext:'Added new child device to "{{parentDeviceName}}" (ID: {{parentDeviceId}}).',placeholders:{parentDeviceName:"$1",parentDeviceId:"$2"}},'^Updated child device of "(.+)" \\(ID: (.+)\\).$':{gettext:'Updated child device of "{{parentDeviceName}}" (ID: {{parentDeviceId}}).',placeholders:{parentDeviceName:"$1",parentDeviceId:"$2"}},'^Added child device "(.+)" \\(ID: (.+)\\).$':{gettext:'Added child device "{{name}}" (ID: {{id}}).',placeholders:{name:"$1",id:"$2"}},'^Removed child device "(.+)" \\(ID: (.+)\\).$':{gettext:'Removed child device "{{name}}" (ID: {{id}}).',placeholders:{name:"$1",id:"$2"}},'^Change value of "(.+)" to (.+) (.+).$':{gettext:'Change value of "{{name}}" to {{value}}{{unit}}.',placeholders:{name:"$1",value:"$2",unit:"$3"}},'^Change value of "(.+)" to (.+).$':{gettext:'Change value of "{{name}}" to {{value}}.',placeholders:{name:"$1",value:"$2"}},'^Change status of "(.+)" to "(.+)".$':{gettext:'Change status of "{{name}}" to "{{label}}".',placeholders:{name:"$1",label:"$2"}},'^Send message "(.+)".$':{gettext:'Send message "{{str}}".',placeholders:{str:"$1"}},"^Close relay (.+).$":{gettext:"Close relay {{number}}.",placeholders:{number:"$1"}},"^Open relay (.+).$":{gettext:"Open relay {{number}}.",placeholders:{number:"$1"}},"^Change trace status to (.+).$":{gettext:"Change trace status to {{state | translate}}.",placeholders:{state:"$1"}},"^Change relay status to (.+).$":{gettext:"Change relay status to {{status | translate}}.",placeholders:{status:"$1"}},"^Closing relay (.+).$":{gettext:"Closing relay {{number}}.",placeholders:{number:"$1"}},"^Opening relay (.+).$":{gettext:"Opening relay {{number}}.",placeholders:{number:"$1"}},"^Update bulk operation$":{gettext:"Update bulk operation"},"^Update bulk operation: (.+)$":{gettext:"Update bulk operation: {{updatesList}}",placeholders:Ji},'^Update firmware to: "?(.+?)"? \\(version: (.+)\\)\\.?$':{gettext:'Update firmware to: "{{ name }}" (version: {{ version }})',placeholders:{name:"$1",version:"$2"}},'^Update firmware to: "?(.+?)"?\\.?$':{gettext:'Update firmware to: "{{ name }}"',placeholders:{name:"$1"}},"^Update configuration to (.+).$":{gettext:"Update configuration to: {{ name }}.",placeholders:{name:"$1"}},"^Apply device profile: (.+).?$":{gettext:"Apply device profile: {{ name }}",placeholders:{name:"$1"}},"^Execute generic command: (.+).?$":{gettext:"Execute generic command: {{command}}",placeholders:{command:"$1"}},"^Failed to refresh application. : Cannot refresh non local-hosted application.$":{gettext:"Could not reactivate the application as it is not hosted locally."},"^Failed to refresh application. : Cannot refresh application without active version id.$":{gettext:"Could not reactivate the application as it has no active version."},"^Scaled down replica set (.+) to (\\d+)$":{gettext:'Replica set "{{replicaSetName}}" scaled down to "{{scaleNumber}}".',placeholders:{replicaSetName:"$1",scaleNumber:"$2"}},"^Deleted pod: (.+)$":{gettext:'Pod "{{imageName}}" deleted.',placeholders:{imageName:"$1"}},'^Container image "(.+)" already present on machine$':{gettext:'Container image "{{imageName}}" already exists.',placeholders:{imageName:"$1"}},"^Error updating tenant! Cannot insert second configuration for Password code grant internal/Bad Request$":{gettext:"This login mode was already set by another administrator. Refresh the page to update the data."},"^Application deleted$":{gettext:"Application deleted"},'^Microservice application "(.+?)" deleted for tenant "(.+?)"$':{gettext:'Microservice application "{{appName}}" deleted for tenant "{{tenant}}"',placeholders:{appName:"$1",tenant:"$2"}},'^Hosted application "(.+?)" deleted for tenant "(.+?)"$':{gettext:'Hosted application "{{appName}}" deleted for tenant "{{tenant}}"',placeholders:{appName:"$1",tenant:"$2"}},'^External application "(.+?)" deleted for tenant "(.+?)"$':{gettext:'External application "{{appName}}" deleted for tenant "{{tenant}}"',placeholders:{appName:"$1",tenant:"$2"}},"^Application activated$":{gettext:"Application activated"},'^Microservice application "(.+?)" activated: version \\[(.+?)\\] added, activeVersionId \\[(.+?)\\] added$':{gettext:'Microservice application "{{appName}}" activated: version "{{version}}" added, activeVersionId "{{activeVersionId}}" added',placeholders:{appName:"$1",version:"$2",activeVersionId:"$3"}},'^Hosted application "(.+?)" activated: version \\[(.+?)\\] added, activeVersionId \\[(.+?)\\] added$':{gettext:'Hosted application "{{appName}}" activated: version "{{version}}" added, activeVersionId "{{activeVersionId}}" added',placeholders:{appName:"$1",version:"$2",activeVersionId:"$3"}},'^External application "(.+?)" activated: version \\[(.+?)\\] added, activeVersionId \\[(.+?)\\] added$':{gettext:'External application "{{appName}}" activated: version "{{version}}" added, activeVersionId "{{activeVersionId}}" added',placeholders:{appName:"$1",version:"$2",activeVersionId:"$3"}},"^(.+?) user logged in to the platform with OAuth internal login mode$":{gettext:'"{{name}}" user logged in to the platform with OAI-Secure login mode',placeholders:{name:"$1"}},"^Scaling application '(.+?)' from (.+?) to (.+?) instances$":{gettext:'Scaling application "{{appName}}" from {{from}} to {{to}} instances',placeholders:{appName:"$1",from:"$2",to:"$3"}},"^User logout$":{gettext:"User logout"},"^(.+?) user logout$":{gettext:'"{{name}}" user logout',placeholders:{name:"$1"}},"^Authentication with id: (.+?) configuration updated.$":{gettext:'Authentication configuration with ID "{{id}}" updated.',placeholders:{id:"$1"}},"^Authentication configuration with id: (.+?) added.$":{gettext:'Authentication configuration with ID "{{id}}" added.',placeholders:{id:"$1"}},"^Configuration type: basic.$":{gettext:"Configuration type: Basic Auth."},"^Configuration type: oauth2_internal.$":{gettext:"Configuration type: OAI-Secure."},"^Configuration type: oauth2.$":{gettext:"Configuration type: Single sign-on."},"^Device put into maintenance state$":{gettext:"Device put into maintenance state"},"^device with id: (.+?) is put into maintenance state$":{gettext:'Device with ID "{{deviceId}}" is put into maintenance state',placeholders:{deviceId:"$1"}},"^Connector updated$":{gettext:"Connector updated"},"^Connector (.+?) updated: filters [(.+?)] added$":{gettext:'Connector "{{name}}" updated: filters [{{filters}}] added',placeholders:{name:"$1",filters:"$2"}},"^Connector deleted$":{gettext:"Connector deleted"},"^Connector (.+?) deleted$":{gettext:'Connector "{{name}}" deleted',placeholders:{name:"$1"}},"^Connector created$":{gettext:"Connector created"},"^Connector (.+?) created: (.+?) added, (.+?)$":{gettext:'Connector "{{name}}" created: {{configuration}} added, {{baseProperties}}',placeholders:{name:"$1",configuration:"$2",baseProperties:"$3"}},"^Connector (.+?) updated: (.+?) added, (.+?) removed$":{gettext:'Connector "{{name}}" updated: {{newConfig}} added, {{oldConfig}} removed',placeholders:{name:"$1",newConfig:"$2",oldConfig:"$3"}},"^Connector (.+?) updated: (.+?) removed, (.+?) added$":{gettext:'Connector "{{name}}" updated: {{newConfig}} added, {{oldConfig}} removed',placeholders:{name:"$1",oldConfig:"$2",newConfig:"$3"}},"^Can read all data of the asset and manage all inventory data, but cannot perform operations. Can also acknowledge and clear alarms. Can create and updates dashboards.$":{gettext:"Can read all data of the asset and manage all inventory data, but cannot perform operations. Can also acknowledge and clear alarms. Can create and updates dashboards."},"^Operations: All$":{gettext:"Operations: All"},"^Can remotely manage the assets by sending operations to the device. This includes for example remote configuration, software update, etc.$":{gettext:"Can remotely manage the assets by sending operations to the device. This includes remote configuration, software update and more."},"^Operations: Restart Device$":{gettext:"Operations: Restart Device"},"^Can restart devices.$":{gettext:"Can restart devices."},"^Reader$":{gettext:"Reader"},"^Can read all data of the asset.$":{gettext:"Can read all data of the asset."},"^Enables administrative permissions. The first user created for the tenant receives this role$":{gettext:"Enables administrative permissions. The first user created for the tenant receives this role."},"^Can access all devices and their data but has no management permission in the tenant$":{gettext:"Can access all devices and their data but has no management permission in the tenant."},"^CEP Manager$":{gettext:"CEP Manager"},"^Has full access to all deployed CEP modules and SmartRules$":{gettext:"Has full access to all deployed CEP modules and smart rules."},"^Devicemanagement User$":{gettext:"Device Management User"},"^Gives access to bulk operations and device management application. This does not include access to any device data.$":{gettext:"Gives access to bulk operations and Device Management application. This does not include access to any device data."},"^A role marker for device users. After registration, a device automatically has this role$":{gettext:"A role marker for device users. After registration, a device automatically has this role."},"^Global Manager$":{gettext:"Global Manager"},"^Can read and write all data from all devices$":{gettext:"Can read and write all data from all devices."},"^Global Reader$":{gettext:"Global Reader"},"^Can read all data from all devices$":{gettext:"Can read all data from all devices."},"^Cockpit User$":{gettext:"Cockpit User"},"^User to work in Cockpit application. This does not include the access to any device data.$":{gettext:"User to work in Cockpit application. This does not include the access to any device data."},"^Global User Manager$":{gettext:"Global User Manager"},"^Can access and modify the full user hierarchy$":{gettext:"Can access and edit the full user hierarchy."},'^Can read all data \\(including users, in contrast to "Global Reader"\\)$':{gettext:'Can read all data (including users, in contrast to "Global Reader").'},"^Shared User Manager$":{gettext:"Shared User Manager"},"^Can create new user as his own sub-users and manage this$":{gettext:"Can create new own sub-users and manage them."},"^Tenant Manager$":{gettext:"Tenant Manager"},"^Can manage tenant wide configurations like applications, tenant options and retention rules$":{gettext:"Can manage tenant wide configurations like applications, tenant options and retention rules."},"^DATAHUB_ADMINISTRATOR$":{gettext:"DataHub Administrator"},"^Can conduct administrative tasks and manage offloading pipelines$":{gettext:"Can conduct administrative tasks and manage offloading pipelines."},"^DATAHUB_MANAGER$":{gettext:"DataHub Manager"},"^Can manage offloading pipelines$":{gettext:"Can manage offloading pipelines."},"^DATAHUB_READER$":{gettext:"DataHub Reader"},"^Can execute SQL queries against the data in the data lake$":{gettext:"Can execute SQL queries against the data in the data lake."},'^User "(.+?)" password was updated by user "(.+?)"$':{gettext:'"{{ targetUserName }}" user\'s password was updated by "{{ userName }}" user',placeholders:{targetUserName:"$1",userName:"$2"}},"^User password update$":{gettext:"User password update"},'^User "(.+?)" password updated$':{gettext:'"{{ userName }}" user changed own password',placeholders:{userName:"$1"}},"^LWM2M device type$":{gettext:"LWM2M device type"},"^LWM2M server URI$":{gettext:"LWM2M server URI"},"^coaps://<LWM2M-server-domain>:<coaps-port>$":{gettext:"coaps://<LWM2M-server-domain>:<coaps-port>"},"^CREATE$":{gettext:"CREATE"},"^DELETE$":{gettext:"DELETE"},"^Endpoint client ID$":{gettext:"Endpoint client ID"},"^Server public key$":{gettext:"Server public key"},"^Generate bootstrap server config$":{gettext:"Generate bootstrap server config"},"^LWM2M bootstrap short server ID$":{gettext:"LWM2M bootstrap short server ID"},"^LWM2M short server ID$":{gettext:"LWM2M short server ID"},"^Registration lifetime$":{gettext:"Registration lifetime"},"^in seconds$":{gettext:"in seconds"},"^Security instance offset$":{gettext:"Security instance offset"},"^Default minimum period$":{gettext:"Default minimum period"},"^Default maximum period$":{gettext:"Default maximum period"},"^Binding mode$":{gettext:"Binding mode"},"^applicable for LWM2M 1\\.0$":{gettext:"applicable for LWM2M 1.0"},"^Awake time registration parameter$":{gettext:"Awake time registration parameter"},"^in milliseconds, 0 means device is always online$":{gettext:"in milliseconds, 0 means device is always online"},"^Use common timestamp resources 5518 and 6050 or object specific timestamp for object 6 reported by the device if available$":{gettext:"Use common timestamp resources 5518 and 6050 or object specific timestamp for object 6 reported by the device if available"},"^Notification storing when disabled or offline$":{gettext:"Notification storing when disabled or offline"},"^Disable timeout$":{gettext:"Disable timeout"},"^LWM2M request timeout$":{gettext:"LWM2M request timeout"},"^in milliseconds$":{gettext:"in milliseconds"},"^Binary delivery encoding$":{gettext:"Binary delivery encoding"},"^Firmware update delivery method$":{gettext:"Firmware update delivery method"},"^Firmware update supported device protocol$":{gettext:"Firmware update supported device protocol"},"^Firmware update reset mechanism$":{gettext:"Firmware update reset mechanism"},"^Firmware update URL$":{gettext:"Firmware update URL"},"^Failed to find operation data in the internal memory store\\. Try again!$":{gettext:"Failed to find operation data in the internal memory store. Try again!"},"^Security mode$":{gettext:"Security mode"},"^Bootstrap PSK ID$":{gettext:"Bootstrap PSK ID"},"^Bootstrap pre-shared key$":{gettext:"Bootstrap pre-shared key"},"^LWM2M PSK ID$":{gettext:"LWM2M PSK ID"},"^LWM2M pre-shared key$":{gettext:"LWM2M pre-shared key"},"^LWM2M bulk device upload operation$":{gettext:"LWM2M bulk device upload operation"},"^This operation is only triggered by the agent when user uploads a CSV file with all required information to register new LWM2M devices\\. The source of the operation is the LWM2M device connector\\. Users are not able to trigger this operation using the shell command\\.$":{gettext:"This operation is only triggered by the agent when user uploads a CSV file with all required information to register new LWM2M devices. The source of the operation is the LWM2M device connector. Users are not able to trigger this operation using the shell command."},"^Write$":{gettext:"Write"},"^Execute$":{gettext:"Execute"},"^Execute with parameters$":{gettext:"Execute with parameters"},"^Execute with Parameters$":{gettext:"Execute with parameters"},"^Delete Instance$":{gettext:"Delete instance"},"^Create Instance$":{gettext:"Create instance"},"^Read Object$":{gettext:"Read object"},"^Read Instance$":{gettext:"Read instance"},"^LWM2M bulk device removal operation$":{gettext:"LWM2M bulk device removal operation"},"^This operation is only triggered by the agent when user uploads a CSV file with a list of endpoint IDs to delete from C8Y\\.The source of the operation is the LWM2M device connector\\. Users are not able to trigger this operation using the shell command\\.$":{gettext:"This operation is only triggered by the agent when user uploads a CSV file with a list of endpoint IDs to delete from the platform. The source of the operation is the LWM2M device connector. Users are not able to trigger this operation using the shell command."},"^Could not find device$":{gettext:"Could not find device"},"^Exception occurred while removing device (.+?)$":{gettext:"Exception occurred while removing device: {{ exceptionMessage }}",placeholders:{exceptionMessage:"$1"}},"^This command can be used to migrate LWM2M devices which are created in a non-standard way\\. It can take comma-separated device managed object IDs as parameters\\. If the IDs are specified then the migration will be done only for those devices\\. If the command is sent without any parameters then the agent will look up for possible Lwm2m devices that are not created in a standard way and try to migrate them\\. Usage: migrateLwm2mDevices 1122,3344 or migrateLwm2mDevices$":{gettext:"This command can be used to migrate LWM2M devices which are created in a non-standard way. It can take comma-separated device managed object IDs as parameters. If the IDs are specified then the migration will be done only for those devices. If the command is sent without any parameters then the agent will look up for possible LWM2M devices that are not created in a standard way and try to migrate them. Usage: migrateLwm2mDevices 1122,3344 or migrateLwm2mDevices"},"^Unable to migrate devices$":{gettext:"Unable to migrate devices"},"^Error while processing report$":{gettext:"Error while processing report"},"^Expected 1 endpointId argument$":{gettext:"Expected 1 endpointId argument"},"^LWM2M device registration$":{gettext:"LWM2M device registration"},"^The required and optional properties to register and setup LWM2M Devices$":{gettext:"The required and optional properties to register and setup LWM2M devices"},"^Bootstrap$":{gettext:"Bootstrap"},"^Advanced$":{gettext:"Advanced"},"^Bulk LWM2M device registration$":{gettext:"Bulk LWM2M device registration"},"^This command returns a list of shell commands with description that can be created for the Lwm2m device connector\\.$":{gettext:"This command returns a list of shell commands with description that can be created for the LWM2M device connector."},"^The following operations are supported:":{gettext:"The following operations are supported:"},"^PSK template$":{gettext:"PSK template"},"^A bulk registration CSV template showing all mandatory fields$":{gettext:"A bulk registration CSV template showing all mandatory fields"},"^Mandatory fields template$":{gettext:"Mandatory fields template"},"^General template$":{gettext:"General template"},"^A bulk registration CSV template for NO_SEC devices with all optional fields$":{gettext:"A bulk registration CSV template for NO_SEC devices with all optional fields"},"^A general bulk registration CSV template showing all possible fields$":{gettext:"A general bulk registration CSV template showing all possible fields"},"^A bulk registration CSV template for PSK devices with all optional fields$":{gettext:"A bulk registration CSV template for PSK devices with all optional fields"},"^NO_SEC template$":{gettext:"NO_SEC template"},"^Authentication to the Loriot platform failed with status code (.+?). Check if the credentials are correct or if Session ID is expired.$":{gettext:"Authentication to the LORIOT platform failed with status code {{ statusCode }}. Check if the credentials are correct or if Session ID is expired.",placeholders:{statusCode:"$1"}},"^Authentication to the Loriot platform failed with status code (.+?). Check if the base URL, credentials are correct and the application with the given ID exists.$":{gettext:"Authentication to the LORIOT platform failed with status code {{ statusCode }}. Check if the base URL, credentials are correct and the application with the given ID exists.",placeholders:{statusCode:"$1"}},"^Application output creation failed due to status code (.+?)$":{gettext:"Application output creation failed due to status code {{ statusCode }}.",placeholders:{statusCode:"$1"}},"^Application output update failed due to status code (.+?)$":{gettext:"Application output update failed due to status code {{ statusCode }}.",placeholders:{statusCode:"$1"}},"^Error creating the device due to status code (.+?). Check if the application Id, devEui, appEui and appKey are in the correct format or the device limit has been exceeded or has been registered with another account in the Loriot provider$":{gettext:"Error creating the device due to status code {{ statusCode }}. Check if the application name, Device EUI, Application EUI and Application key are in the correct format or the device limit has been exceeded or has been registered with another account in the LORIOT provider.",placeholders:{statusCode:"$1"}},"^Error retrieving application with given ID: (.+?) with status code 400. Check if the applicationId provided is in the correct format$":{gettext:"Error retrieving application with given ID: {{ applicationId }} with status code 400. Check if the selected application is correct",placeholders:{applicationId:"$1"}},"^LNS connection name can't be null or blank.$":{gettext:"LNS connection name can't be empty."},"^Unexpected error occurred while accessing the cached LNS connections map with key (.+?)$":{gettext:'Unexpected error occurred while accessing the cached LNS connections map with key "{{ connectionName }}".',placeholders:{connectionName:"$1"}},"^LNS connection named (.+?) doesn't exist.$":{gettext:'LNS connection named "{{ connectionName }}" doesn\'t exist.$',placeholders:{connectionName:"$1"}},"^LNS connection named (.+?) already exists.$":{gettext:'LNS connection named "{{ connectionName }}" already exists.$',placeholders:{connectionName:"$1"}},"^New LNS connection can't be null.$":{gettext:"New LNS connection can't be empty."},"^LNS connection to update can't be null.$":{gettext:"LNS connection to update can't be empty."},"^The name of the LNS connection to update can't be null.$":{gettext:"The name of the LNS connection to update can't be empty."},'^Can not delete the LNS connection with name "(.+?)" as it\'s associated with (.+?) device(s).$':{gettext:'Could not delete the LNS connection with the name "{{ connectionName }}" as it\'s associated with {{ numberOfDevices }} device(s).',placeholders:{connectionName:"$1",numberOfDevices:"$2"}},'^Can not update the LNS connection with name "(.+?)" as it\'s associated with (.+?) device(s).$':{gettext:'Could not update the LNS connection with the name "{{ connectionName }}" as it\'s associated with {{ numberOfDevices }} device(s).',placeholders:{connectionName:"$1",numberOfDevices:"$2"}},"^Authentication to the Actility platform failed with status code (.+?). Check if the credentials are correct.$":{gettext:"Authentication to the Actility platform failed with status code {{ statusCode }}. Check if the credentials are correct.",placeholders:{statusCode:"$1"}},"^Authentication to the Actility platform failed with status code (.+?). Check if the profile Id is correct.$":{gettext:"Authentication to the Actility platform failed with status code {{ statusCode }}. Check if the Profile ID is correct.",placeholders:{statusCode:"$1"}},"^Authentication to the Actility platform failed. Check if the base URL (.+?) is correct.$":{gettext:"Authentication to the Actility platform failed. Check if the base URL {{ baseUrl }} is correct.",placeholders:{baseUrl:"$1"}},"^Authentication to the Sigfox platform failed. Check if the base URL (.+) is correct.$":{gettext:"Authentication to the Sigfox platform failed. Check if the base URL {{ baseUrl }} is correct.",placeholders:{baseUrl:"$1"}},"^Authentication to the Sigfox platform failed. Check if the Parent group Id and/or the credentials are correct.$":{gettext:"Authentication to the Sigfox platform failed. Check if the Parent group ID and/or the credentials are correct."},"^Authentication to the Loriot platform failed with status code (.+?). Session Id might have expired.$":{gettext:"Authentication to the LORIOT platform failed with status code {{ statusCode }}. Session ID might have expired.",placeholders:{statusCode:"$1"}},"^Authentication to the Actility platform failed with status code (.+?). Check if the base URL and/or the credentials are correct.$":{gettext:"Authentication to the Actility platform failed with status code {{ statusCode }}. Check if the base URL and/or the credentials are correct.",placeholders:{statusCode:"$1"}}},to=Ci((function e(){bi(this,e),this.cachedDictionary={}}));to.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:to,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),to.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:to,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:to,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});var no=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;bi(this,e),this.http=t,this.optionsService=n,this.cachedLocaleDictionaryService=r,this.path=i,this.languages=o}return Ci(e,[{key:"getTranslation",value:function(e){var t=this,n=this.path||"",r="".concat(n).concat(e,".json");return this.languages&&this.languages[e]&&this.languages[e].url&&(r=this.languages[e].url),this.http.get(r).pipe((0,s.map)((function(n){return t.optionsService.langsDetails&&t.optionsService.langsDetails[e]?ci(ci({},n[e]),t.optionsService.langsDetails[e]):n[e]})),(0,s.tap)((function(n){t.cachedLocaleDictionaryService.cachedDictionary[e]=n})),(0,s.map)((function(e){return t.getDictionaryWithTrimmedKeys(e)})),(0,s.catchError)((function(){return(0,a.of)({})})))}},{key:"getDictionaryWithTrimmedKeys",value:function(e){return(0,c.mapKeys)(e,(function(e,t){return ro(t)}))}}]),e}();function ro(e){return e.replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," ").trim()}no.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:no,deps:[{token:Z},{token:Gi},{token:to},{token:Wi},{token:qi}],target:r["ɵɵFactoryTarget"].Injectable}),no.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:no}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:no,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:Z},{type:Gi},{type:to},{type:void 0,decorators:[{type:r.Inject,args:[Wi]}]},{type:void 0,decorators:[{type:r.Inject,args:[qi]}]}]}});var io=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n,[{key:"getValue",value:function(e,t){var n=ro(t),r=(0,c.get)(e,[n]);r||t.split(".").length>1&&(r=(0,c.get)(e,t));return r}}]),n}(ye.TranslateDefaultParser);io.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:io,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),io.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:io}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:io,decorators:[{type:r.Injectable}]});var oo=function(e){gi(n,e);var t=mi(n);function n(e,i,o){var a;return bi(this,n),(a=t.call(this,e,i,o)).htmlUpdateEvent=new r.EventEmitter,a}return Ci(n,[{key:"_elementRef",get:function(){return this.element}},{key:"_translateService",get:function(){return this.translateService}},{key:"checkNodes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.htmlMode||!this.isElementSimpleTextType()&&!this.isElementInnerHtmlEmpty()){if(this.htmlMode=!0,this.isLookupKeyMissing()&&(this._elementRef.nativeElement.lookupKey=this.getLookupKey()),this.lookupKeyExist()){var r=this.getNewTranslation();this.lastTranslation&&this.lastTranslation===r||(this.lastTranslation=r,this.updateHtmlContent(),this.htmlUpdateEvent.emit())}}else ni(vi(n.prototype),"checkNodes",this).call(this,e,t)}},{key:"ngOnDestroy",value:function(){this.htmlUpdateEvent.complete(),ni(vi(n.prototype),"ngOnDestroy",this).call(this)}},{key:"getLookupKey",value:function(){return this._elementRef.nativeElement.innerHTML.replace(/<!\x2D\x2D[\s\S]*?\x2D\x2D>/g,"").trim()}},{key:"isElementSimpleTextType",value:function(){return 1===this._elementRef.nativeElement.childNodes.length&&3===this._elementRef.nativeElement.childNodes[0].nodeType}},{key:"isElementInnerHtmlEmpty",value:function(){return!this._elementRef.nativeElement.innerHTML}},{key:"isLookupKeyMissing",value:function(){return!this._elementRef.nativeElement.lookupKey}},{key:"lookupKeyExist",value:function(){return this._elementRef.nativeElement.lookupKey}},{key:"getNewTranslation",value:function(){return this._translateService.instant(this._elementRef.nativeElement.lookupKey,this.currentParams||{})}},{key:"updateHtmlContent",value:function(){this._elementRef.nativeElement.innerHTML=this.lastTranslation}}]),n}(ye.TranslateDirective);oo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:oo,deps:[{token:ye.TranslateService},{token:r.ElementRef},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Directive}),oo.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:oo,selector:"[translate],[ngx-translate]",usesInheritance:!0,ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:oo,decorators:[{type:r.Directive,args:[{selector:"[translate],[ngx-translate]"}]}],ctorParameters:function(){return[{type:ye.TranslateService},{type:r.ElementRef},{type:r.ChangeDetectorRef}]}});var ao=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n)}(ye.TranslatePipe);ao.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ao,deps:null,target:r["ɵɵFactoryTarget"].Pipe}),ao.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ao,name:"translate",pure:!1}),ao.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ao}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ao,decorators:[{type:r.Injectable},{type:r.Pipe,args:[{name:"translate",pure:!1}]}]});var so=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n)}(ye.TranslateModule);so.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:so,deps:null,target:r["ɵɵFactoryTarget"].NgModule}),so.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:so,declarations:[ao,oo],exports:[ao,oo]}),so.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:so}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:so,decorators:[{type:r.NgModule,args:[{declarations:[ao,oo],exports:[ao,oo]}]}]});var co={"en-EN":"en","ja-JP":"ja","zh-CN":"zh","zh-TW":"zh","pt-BR":"pt"};function lo(e,t,n,r,i){return new no(e,t,n,r,i)}function po(e){return e.localePath}function uo(e){return e.languages}function go(e){return{get lang(){return ho(e.state.lang||"en")},toLowerCase:function(){return this.lang.toLowerCase()},toString:function(){return this.lang}}}function ho(e){return co[e]||e}var mo=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"providers",value:function(){return[{provide:r.LOCALE_ID,useFactory:go,deps:[Hi]},{provide:Ki,useValue:eo,multi:!0},{provide:Wi,useFactory:po,deps:[Gi]},{provide:qi,useFactory:uo,deps:[Gi]},{provide:ye.TranslateLoader,useFactory:lo,deps:[Z,Gi,to,Wi,qi]},{provide:ye.TranslateCompiler,useClass:ye.TranslateFakeCompiler},{provide:ye.TranslateParser,useClass:io},{provide:ye.MissingTranslationHandler,useClass:Zi},ye.TranslateStore,ye.TranslateService,{provide:ye.USE_STORE,useValue:void 0},{provide:ye.USE_DEFAULT_LANG,useValue:void 0},{provide:ye.USE_EXTEND,useValue:!1},{provide:ye.DEFAULT_LANGUAGE,useValue:void 0}]}},{key:"forRoot",value:function(){return{ngModule:e,providers:e.providers()}}}]),e}();mo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mo,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),mo.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:mo,imports:[me,ke.BsDatepickerModule],exports:[so]}),mo.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mo,imports:[me,ke.BsDatepickerModule,so]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mo,decorators:[{type:r.NgModule,args:[{exports:[so],imports:[me,ke.BsDatepickerModule]}]}]});var fo=new Map;function yo(e){return new Promise((function(t,r){fo.has(e)&&t(fo.get(e));try{n(82438)("./".concat(e,".mjs")).then((function(n){fo.set(e,n),t(n)}))}catch(e){r(e)}}))}var vo=function(){function e(t,n,r,i){var o=this;bi(this,e),this.ngxTranslate=t,this.ui=n,this.options=r,this.bsLocaleService=i,this.langsDetail=this.options.get("languages",{}),this.langs=(0,c.keys)(this.langsDetail).filter((function(e){return o.langsDetail[e]})),this.DEFAULT_SEPARATOR="_";var a=this.queryStringLang();a&&this.saveInLocalStorage(a)}var t,n;return Ci(e,[{key:"switchToLanguage",value:(n=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.replace("_","-"),e.prev=1,e.next=4,this.loadLocales(n);case 4:this.setBsLocale(n),e.next=17;break;case 7:if(e.prev=7,e.t0=e.catch(1),(r=n.split("-").shift())===n){e.next=16;break}return e.next=13,this.loadLocales(r);case 13:this.setBsLocale(r),e.next=17;break;case 16:throw e.t0;case 17:this.setLanguage(t);case 18:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return n.apply(this,arguments)})},{key:"loadLocales",value:(t=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(ho(t));case 2:n=e.sent,(0,u.registerLocaleData)(n.default);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"setLanguage",value:function(e){var t=this;this.ngxTranslate.setDefaultLang(this.options.get("defaultLanguage","en")),this.ngxTranslate.use(e).subscribe((function(){t.ui.state$.next(ci(ci({},t.ui.state),{},{lang:e}))}))}},{key:"firstSupportedLanguage",value:function(){var e=this,t=[this.queryStringLang(),this.localStorageLang()].concat([this.options.get("defaultLanguage")]).concat(this.browserLangs()).concat(["en"]).filter(Boolean).map((function(e){return e.toLowerCase()})).find((function(t){return e.getSupported(t)}));return this.getSupported(t)}},{key:"convertToLanguageCodePO",value:function(e){var t=e.indexOf("-")>-1?"-":this.DEFAULT_SEPARATOR,n=ii(e.split(t),2),r=n[0],i=n[1],o=i?"".concat(this.DEFAULT_SEPARATOR).concat(i):"";return"".concat(r).concat(o)}},{key:"getNativeLanguage",value:function(e){return((this.langsDetail||{})[e]||{}).nativeName||e}},{key:"saveInLocalStorage",value:function(t){window.localStorage.setItem(e.SAVE_LANGUAGE_KEY,t)}},{key:"getSupported",value:function(e){var t=this,n=this.langs.find((function(t){return t.toLowerCase()===e}));return n||this.langs.find((function(n){return t.getLessSpecific(n.toLowerCase())===t.getLessSpecific(e)||n.startsWith(e)}))}},{key:"queryStringLang",value:function(){return this.getQueryParameter("lang")}},{key:"getLessSpecific",value:function(e){return(0,c.isString)(e)?e.replace("-",this.DEFAULT_SEPARATOR).split(this.DEFAULT_SEPARATOR)[0]:""}},{key:"localStorageLang",value:function(){return window.localStorage.getItem(e.SAVE_LANGUAGE_KEY)}},{key:"browserLangs",value:function(){var e=window.navigator;return["languages","language","browserLanguage","systemLanguage","userLanguage"].reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push(r):Array.isArray(r)&&(t=t.concat(r)),t}),[])}},{key:"getQueryParameter",value:function(e){var t;return window.location.search.substring(1).split("&").find((function(n){var r=ii(n.split("="),2),i=r[0],o=r[1];return i===e&&(t=o),t})),t}},{key:"setBsLocale",value:function(e){switch(e){case"de":(0,Ce.defineLocale)(e,Ce.deLocale),this.bsLocaleService.use(e);break;case"en":default:(0,Ce.defineLocale)("en-gb",Ce.enGbLocale),this.bsLocaleService.use("en-gb");break;case"es":(0,Ce.defineLocale)(e,Ce.esLocale),this.bsLocaleService.use(e);break;case"fr":(0,Ce.defineLocale)(e,Ce.frLocale),this.bsLocaleService.use(e);break;case"ja":(0,Ce.defineLocale)(e,Ce.jaLocale),this.bsLocaleService.use(e);break;case"ko":(0,Ce.defineLocale)(e,Ce.koLocale),this.bsLocaleService.use(e);break;case"nl":(0,Ce.defineLocale)(e,Ce.nlLocale),this.bsLocaleService.use(e);break;case"pl":(0,Ce.defineLocale)(e,Ce.plLocale),this.bsLocaleService.use(e);break;case"pt":(0,Ce.defineLocale)(e,Ce.ptBrLocale),this.bsLocaleService.use(e);break;case"ru":(0,Ce.defineLocale)(e,Ce.ruLocale),this.bsLocaleService.use(e);break;case"zh":(0,Ce.defineLocale)(e,Ce.zhCnLocale),this.bsLocaleService.use(e)}}}],[{key:"defaultLang",value:function(){return window.localStorage.getItem(e.SAVE_LANGUAGE_KEY)}}]),e}();vo.SAVE_LANGUAGE_KEY="c8y_language",vo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vo,deps:[{token:ye.TranslateService},{token:Hi},{token:Gi},{token:ke.BsLocaleService,optional:!0}],target:r["ɵɵFactoryTarget"].Injectable}),vo.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vo,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vo,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:ye.TranslateService},{type:Hi},{type:Gi},{type:ke.BsLocaleService,decorators:[{type:r.Optional}]}]}});var bo=function(){function e(){bi(this,e)}return Ci(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.bytes(t,n)}}],[{key:"bytes",value:function(e,t){if((0,c.isNaN)(e)||!(0,c.isFinite)(e))return"-";if(0===e)return 0;var n=Math.floor(Math.log(e)/Math.log(1e3)),r=(e/Math.pow(1e3,Math.floor(n))).toFixed(t);return"".concat(r," ").concat(["bytes","kB","MB","GB","TB","PB"][n])}}]),e}();bo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bo,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),bo.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:bo,name:"bytes"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bo,decorators:[{type:r.Pipe,args:[{name:"bytes"}]}]});var ko=864e13,Co=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this,e)).translateService=r,i}return Ci(n,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=e,a=!1,s=!1;"number"!=typeof e||isNaN(e)||(o=Math.min(e,ko),o=Math.max(o,-ko),a=e<-ko,s=e>ko);var c=ni(vi(n.prototype),"transform",this).call(this,o,t,r,i);return a?c=this.translateService.instant("before {{date}}",{date:c}):s&&(c=this.translateService.instant("after {{date}}",{date:c})),c}}]),n}(u.DatePipe);Co.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Co,deps:[{token:r.LOCALE_ID},{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Pipe}),Co.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Co,name:"c8yDate"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Co,decorators:[{type:r.Pipe,args:[{name:"c8yDate"}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[r.LOCALE_ID]}]},{type:ye.TranslateService}]}});var Io=function(){function e(t,n){bi(this,e),this.elementRef=t,this.renderer=n,this.MARGIN_BOTTOM=10,this.VISIBILITY="visibility",this.DROPUP="dropup"}return Ci(e,[{key:"onClick",value:function(){var e,t;this.elementRef.nativeElement.classList.contains("open")&&((0,c.forEach)(this.elementRef.nativeElement.children,(function(n){n.classList.contains("dropdown-menu")&&(e=n),n.classList.contains("dropdown-toggle")&&(t=n)})),e&&t&&(this.renderer.setStyle(e,this.VISIBILITY,"hidden"),this.shouldDropup(e,t),this.renderer.removeStyle(e,this.VISIBILITY)))}},{key:"shouldDropup",value:function(e,t){var n=e.getBoundingClientRect().height,r=t.getBoundingClientRect().bottom,i=window.innerHeight;n+r+this.MARGIN_BOTTOM>=i?this.renderer.addClass(this.elementRef.nativeElement,this.DROPUP):this.elementRef.nativeElement.classList.contains(this.DROPUP)&&this.renderer.removeClass(this.elementRef.nativeElement,this.DROPUP)}}]),e}();Io.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Io,deps:[{token:r.ElementRef},{token:r.Renderer2}],target:r["ɵɵFactoryTarget"].Directive}),Io.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Io,selector:"[dropdown][c8yBsDropdownDirection],[dropdown][c8yDropdownDirection]",host:{listeners:{click:"onClick()"}},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Io,decorators:[{type:r.Directive,args:[{selector:"[dropdown][c8yBsDropdownDirection],[dropdown][c8yDropdownDirection]"}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:r.Renderer2}]},propDecorators:{onClick:[{type:r.HostListener,args:["click"]}]}});var wo=function(){function e(t,n){bi(this,e),this.el=t,this.renderer=n,this.c8yMatch=/^c8y-/,this.klasses=[],this.currentClasses=""}return Ci(e,[{key:"c8yIcon",set:function(e){this.updateIcon(e)}},{key:"isC8y",value:function(e){return this.c8yMatch.test(e)}},{key:"getClasses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";if(e){var n=e.trim(),r=this.isC8y(n),i=r?n.replace(this.c8yMatch,"c8y-icon-"):"dlt-c8y-icon-".concat(n);t="".concat(r?"c8y-icon":""," ").concat(i)}return t}},{key:"updateIcon",value:function(e){var t=this,n=this.getClasses(e);n!==this.currentClasses&&(this.currentClasses.split(/\s/).filter((function(e){return e})).forEach((function(e){t.renderer.removeClass(t.el.nativeElement,e)})),n.split(/\s/).filter((function(e){return e})).forEach((function(e){t.renderer.addClass(t.el.nativeElement,e)})),this.currentClasses=n)}}]),e}();wo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wo,deps:[{token:r.ElementRef},{token:r.Renderer2}],target:r["ɵɵFactoryTarget"].Directive}),wo.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:wo,selector:"[c8yIcon]",inputs:{c8yIcon:"c8yIcon"},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wo,decorators:[{type:r.Directive,args:[{selector:"[c8yIcon]"}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:r.Renderer2}]},propDecorators:{c8yIcon:[{type:r.Input}]}});var So,xo=["home","th","bar-chart-o","tasks","tachometer","bell","puzzle-piece","map-marker","location-arrow","globe","power-off","desktop","laptop","mobile","signal","qrcode","file","file-text","folder","folder-open","archive","ssd","book","bookmark","tag","flag","search","heart","star","bolt","cog","cogs","wrench","ban","user","users","sign-in","sign-out","upload","download","cloud-upload","cloud-download","cloud","hourglass","refresh","repeat","undo","lock","unlock","info","question-circle","exclamation-circle","bug","calendar","random","asterisk","key","link","chain-broken","external-link","picture-o","comment","bullhorn","phone","lightbulb-o","flask","cloud-network","exchange","code-fork","keyboard-o","terminal","code","clipboard","pencil","envelope","inbox","reply","share","thumbs-up","thumbs-down","check","plus","expand","compress","arrows","arrow-up","arrow-down","arrow-left","arrow-right","th-list","bars","table","columns","filter","sort","sort-up","sort-down","ellipsis-h","ellipsis-v","rss"],Do=Ci((function e(){bi(this,e)}));Do.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Do,deps:[],target:r["ɵɵFactoryTarget"].Component}),Do.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Do,selector:"c8y-ui-empty-state",inputs:{icon:"icon",title:"title",subtitle:"subtitle",horizontal:"horizontal"},ngImport:i,template:'<div class="c8y-empty-state" [ngClass]="{ \'c8y-empty-state--horizontal\': horizontal }">\n  <i [c8yIcon]="icon" class="c8y-icon-duocolor"></i>\n\n  <ng-container *ngIf="!horizontal">\n    <div>\n      <h3 class="text-medium p-b-4">{{ title | translate }}</h3>\n      <p *ngIf="subtitle">{{ subtitle | translate }}</p>\n      <div class="p-t-16">\n        <ng-container *ngTemplateOutlet="content"></ng-container>\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-container *ngIf="horizontal">\n    <div>\n      <p>\n        <strong>{{ title | translate }}</strong>\n      </p>\n      <p *ngIf="subtitle" class="small">{{ subtitle | translate }}</p>\n      <div class="small m-t-8">\n        <ng-container *ngTemplateOutlet="content"></ng-container>\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-template #content>\n    <ng-content></ng-content>\n  </ng-template>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Do,decorators:[{type:r.Component,args:[{selector:"c8y-ui-empty-state",template:'<div class="c8y-empty-state" [ngClass]="{ \'c8y-empty-state--horizontal\': horizontal }">\n  <i [c8yIcon]="icon" class="c8y-icon-duocolor"></i>\n\n  <ng-container *ngIf="!horizontal">\n    <div>\n      <h3 class="text-medium p-b-4">{{ title | translate }}</h3>\n      <p *ngIf="subtitle">{{ subtitle | translate }}</p>\n      <div class="p-t-16">\n        <ng-container *ngTemplateOutlet="content"></ng-container>\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-container *ngIf="horizontal">\n    <div>\n      <p>\n        <strong>{{ title | translate }}</strong>\n      </p>\n      <p *ngIf="subtitle" class="small">{{ subtitle | translate }}</p>\n      <div class="small m-t-8">\n        <ng-container *ngTemplateOutlet="content"></ng-container>\n      </div>\n    </div>\n  </ng-container>\n\n  <ng-template #content>\n    <ng-content></ng-content>\n  </ng-template>\n</div>\n'}]}],propDecorators:{icon:[{type:r.Input}],title:[{type:r.Input}],subtitle:[{type:r.Input}],horizontal:[{type:r.Input}]}}),function(e){e.ARCHIVE="archive",e.AUDIO="audio",e.CODE="code",e.EXCEL="excel",e.IMAGE="image",e.PDF="pdf",e.POWERPOINT="powerpoint",e.TEXT="text",e.VIDEO="video",e.WORD="word",e.EPL="epl"}(So||(So={}));var $o=function(){function e(t,n){var r;bi(this,e),this.systemOptionsService=t,this.inventoryBinaryService=n,this.DEFAULT_BYTES_LIMIT=52428800,this.FILENAME_MAX_LENGTH=128,this.fileTypeExtensionsMap=(li(r={},So.ARCHIVE,{exts:["7z","apk","cab","gz","iso","jar","rar","tar","zip"]}),li(r,So.AUDIO,{exts:["3gp","aiff","aac","amr","m4a","m4p","mp3","oga","ogg","raw","wav","wma"]}),li(r,So.CODE,{exts:["aspx","exe","htm","html","jad","js","json","jsp","php","xml"]}),li(r,So.EXCEL,{exts:["xls","xlsx"]}),li(r,So.IMAGE,{exts:["bmp","gif","jpeg","jpg","png","tiff","svg","ico","apng","webp"]}),li(r,So.PDF,{exts:["pdf"]}),li(r,So.POWERPOINT,{exts:["ppt","pptx"]}),li(r,So.TEXT,{exts:["txt"]}),li(r,So.VIDEO,{exts:["asf","avi","flv","mov","mp4","ogv","qt","rm","rmvb","wmv","3gp"]}),li(r,So.WORD,{exts:["doc","docx"]}),li(r,So.EPL,{exts:["mon"]}),r),this.fileSizeLimitCfg={systemOption:{category:"files",key:"max.size"},defaultBytesLimit:this.DEFAULT_BYTES_LIMIT,actualBytesLimit:void 0}}var t,n,r,i,o;return Ci(e,[{key:"haveValidSizes",value:(o=ui(di().mark((function e(t){var n,r=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBytesSizeLimit();case 2:return n=e.sent,e.abrupt("return",(0,c.every)(t,(function(e){return r.size(e)<=n})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"loadBytesSizeLimit",value:(i=ui(di().mark((function e(){var t,n,r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.DEFAULT_BYTES_LIMIT,!this.fileSizeLimitCfg.actualBytesLimit){e.next=3;break}return e.abrupt("return",this.fileSizeLimitCfg.actualBytesLimit);case 3:return n=this.fileSizeLimitCfg.systemOption,e.prev=4,e.next=7,this.systemOptionsService.detail(n);case 7:if(r=e.sent,i=r.data.value){e.next=11;break}return e.abrupt("return",t);case 11:if(o=parseInt(i,10),!(0,c.isNaN)(o)){e.next=14;break}return e.abrupt("return",t);case 14:this.fileSizeLimitCfg.actualBytesLimit=o,t=o,e.next=20;break;case 18:e.prev=18,e.t0=e.catch(4);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e,this,[[4,18]])}))),function(){return i.apply(this,arguments)})},{key:"size",value:function(e){var t=(0,c.get)(e,"length")||(0,c.get)(e,"size"),n=(0,c.get)(e,"_attachments"),r=(0,c.get)(n,(0,c.first)((0,c.keys)(n)));return(0,c.isUndefined)(t)?(0,c.get)(r,"length"):t}},{key:"haveValidExtensions",value:function(e,t){var n=this;if(!t)return!0;var r=(e.item?Array.from(e):Array.isArray(e)?e:[e]).map((function(e){var t;return null===(t=n.getFileExtension(e))||void 0===t?void 0:t.toLowerCase()})),i=this.extractFileExtensions(t);return r.every((function(e){return i.includes(e)}))}},{key:"checkMaxLength",value:function(e){var t=this;return(0,c.every)(e,(function(e){return t.FILENAME_MAX_LENGTH>e.name.length}))}},{key:"getFileExtension",value:function(e){var t=e.name.split(".");if(1!==t.length)return t.pop()}},{key:"getFileExtensions",value:function(){return(0,c.uniq)((0,c.flatten)((0,c.map)(this.fileTypeExtensionsMap,(function(e){return e.exts}))))}},{key:"getGenericFileTypes",value:function(){return Object.keys(this.fileTypeExtensionsMap)}},{key:"mapGenericFileTypesToExtensions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.map((function(t){return e.fileTypeExtensionsMap[t].exts}));return(0,c.uniq)((0,c.flatten)(n))}},{key:"extractFileExtensions",value:function(e){var t=this;if(!e)return[];var n=e.split(",").map((function(e){return e.toLowerCase().trim()})),r=n.filter((function(e){return t.isGenericType(e)})),i=n.filter((function(e){return!t.isGenericType(e)})),o=[].concat(wi(this.mapGenericFileTypesToExtensions(r)),wi(i)).map((function(e){return e.replace(".","")}));return(0,c.uniq)(o)}},{key:"toBase64",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(String(r.result))},r.onerror=function(e){return n(e)}}))}},{key:"getFile",value:(r=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inventoryBinaryService.download(t.id);case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return r=e.sent,e.abrupt("return",new File([r],t.name,{type:t.contentType}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getHashSumOfFile",value:(n=ui(di().mark((function e(t){var n,r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:return n=e.sent,e.next=5,crypto.subtle.digest("SHA-256",n);case 5:return r=e.sent,i=Array.from(new Uint8Array(r)),o=i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"download",value:(t=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFile(t);case 2:n=e.sent,(0,Ie.saveAs)(n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isGenericType",value:function(e){return Object.values(So).includes(e)}}]),e}();$o.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$o,deps:[{token:g.SystemOptionsService},{token:g.InventoryBinaryService}],target:r["ɵɵFactoryTarget"].Injectable}),$o.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$o,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$o,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:g.SystemOptionsService},{type:g.InventoryBinaryService}]}});var Eo=function(){function e(t){bi(this,e),this.realtimeSubject=t,this.isActive=new a.BehaviorSubject(!0)}return Ci(e,[{key:"active",get:function(){return this.isActive.value}},{key:"onAll$",value:function(e){var t=this.realtimeSubject.getObservableForChannel(this.getChannel(e));return this.isActive.pipe((0,s.switchMap)((function(e){return e?t:a.NEVER})))}},{key:"start",value:function(){this.active||this.isActive.next(!0)}},{key:"stop",value:function(){this.active&&this.isActive.next(!1)}},{key:"onCreate$",value:function(e){return this.onAll$(e).pipe((0,s.filter)((function(e){return"CREATE"===e.realtimeAction})),(0,s.map)((function(e){return e.data})))}},{key:"onUpdate$",value:function(e){return this.onAll$(e).pipe((0,s.filter)((function(e){return"UPDATE"===e.realtimeAction})),(0,s.map)((function(e){return e.data})))}},{key:"onDelete$",value:function(e){return this.onAll$(e).pipe((0,s.filter)((function(e){return"DELETE"===e.realtimeAction})),(0,s.map)((function(e){return(0,we.su)(e.data)})))}},{key:"getIdString",value:function(e){var t;return t="object"===ti(e)?e.id:e,String(t)}},{key:"getChannel",value:function(e){return e?this.channel().replace("*",this.getIdString(e)):this.channel()}}]),e}(),To=function(){function e(t,n){bi(this,e),this.element=t,this.cdRef=n,this.useIntersection=!0,this.hidden=!1,this.class="c8y-list__item p-0",this.maxIterations=10,this.hideNoMoreDataHint=!1,this.onLoad=new r.EventEmitter,this.isLoading=!1,this.counter=0,this.hasNoMoreData=!1,this.LOAD_SAME_PAGE_THRESHOLD=50,this.destroyed=!1}var t;return Ci(e,[{key:"hostClass",get:function(){return this.hidden||!this.hasMore&&!this.hasNoMoreData?"":this.class}},{key:"hasMore",get:function(){return this.paging&&(this.paging.totalPages>this.paging.currentPage||!!this.paging.nextPage)}},{key:"ngAfterContentInit",value:function(){var e=this;this.destroyed=!1,this.useIntersection&&"IntersectionObserver"in window&&(this.intersectionObserver=new IntersectionObserver((function(t){return e.buttonInView(t[0])}),{root:this.container?this.container.nativeElement:null}),this.intersectionObserver.observe(this.element.nativeElement)),this.hasNoMoreData=this.shouldShowNoMoreDataHint()}},{key:"ngOnDestroy",value:function(){this.destroyed=!0,this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver.unobserve(this.element.nativeElement),clearTimeout(this.loadUntilIntersected))}},{key:"loadMore",value:(t=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.destroyed){e.next=17;break}if(this.isLoading=!0,this.cdRef.detectChanges(),t&&t.stopPropagation(),!this.hasMore){e.next=14;break}return e.next=7,this.paging.next();case 7:n=e.sent,this.paging=n.paging,this.onLoad.emit(n.data),this.intersectionLoading(),this.hasNoMoreData=this.shouldShowNoMoreDataHint(),e.next=16;break;case 14:this.counter=0,this.isLoading=!1;case 16:this.cdRef.detectChanges();case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"intersectionLoading",value:function(){var e=this;this.useIntersection&&this.hasMore&&null!==this.loadUntilIntersected?(this.loadUntilIntersected=setTimeout((function(){return e.loadMore()}),this.getLoadingThreshold()),this.useIntersection=this.shouldSwitchMode()):(this.isLoading=!1,this.loadUntilIntersected=void 0,this.cdRef.detectChanges())}},{key:"getLoadingThreshold",value:function(){return this.LOAD_SAME_PAGE_THRESHOLD*this.counter++}},{key:"shouldShowNoMoreDataHint",value:function(){return(0!==this.counter||this.noMoreDataHint)&&!this.hasMore&&!this.hidden}},{key:"shouldSwitchMode",value:function(){return this.counter<this.maxIterations||this.hidden}},{key:"buttonInView",value:function(e){e.isIntersecting?this.loadMore():this.loadUntilIntersected?(clearTimeout(this.loadUntilIntersected),this.loadUntilIntersected=null,this.isLoading=!1,this.cdRef.detectChanges()):this.loadUntilIntersected=null}}]),e}();To.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:To,deps:[{token:r.ElementRef},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Component}),To.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:To,selector:"c8y-load-more",inputs:{paging:"paging",useIntersection:"useIntersection",hidden:"hidden",container:"container",class:"class",maxIterations:"maxIterations",noMoreDataHint:"noMoreDataHint",loadingTemplate:"loadingTemplate",hideNoMoreDataHint:"hideNoMoreDataHint",loadNextLabel:"loadNextLabel",loadingLabel:"loadingLabel"},outputs:{onLoad:"onLoad"},host:{properties:{class:"this.hostClass"}},ngImport:i,template:'<button\n  class="btn btn-default btn-block text-center"\n  (click)="loadMore($event)"\n  [ngClass]="{ \'btn-pending\': isLoading }"\n  *ngIf="hasMore && !(loadingTemplate && isLoading)"\n  [style.visibility]="hidden ? \'hidden\' : \'visible\'"\n  [style.height]="hidden ? \'1px\' : null"\n  title="{{ \'Load more\' | translate }}"\n>\n  <ng-container *ngIf="!isLoading">\n    <span *ngIf="loadNextLabel; else loadPage" [innerHTML]="loadNextLabel | translate"></span>\n    <ng-template #loadPage>\n      <span translate ngNonBindable [translateParams]="{ pageNo: paging.currentPage + 1 }">\n        Load page {{ pageNo }}</span\n      >\n    </ng-template>\n  </ng-container>\n  <ng-container *ngIf="isLoading">\n    <span *ngIf="loadingLabel; else loading" [innerHTML]="loadingLabel | translate"></span>\n    <ng-template #loading>\n      <span translate ngNonBindable [translateParams]="{ pageNo: paging.currentPage + 1 }">\n        Page {{ pageNo }} is loading…\n      </span>\n    </ng-template>\n  </ng-container>\n</button>\n\n<ng-container *ngIf="hasNoMoreData && !hideNoMoreDataHint && !isLoading">\n  <ng-container *ngTemplateOutlet="noMoreDataHint || finishHint"></ng-container>\n</ng-container>\n\n<ng-template #finishHint>\n  <div class="legend form-block center last-record" title="{{ \'Last record\' | translate }}">\n    <i [c8yIcon]="\'circle\'"></i>\n  </div>\n</ng-template>\n\n<ng-container *ngIf="loadingTemplate && isLoading">\n  <ng-container *ngTemplateOutlet="loadingTemplate"></ng-container>\n</ng-container>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:To,decorators:[{type:r.Component,args:[{selector:"c8y-load-more",template:'<button\n  class="btn btn-default btn-block text-center"\n  (click)="loadMore($event)"\n  [ngClass]="{ \'btn-pending\': isLoading }"\n  *ngIf="hasMore && !(loadingTemplate && isLoading)"\n  [style.visibility]="hidden ? \'hidden\' : \'visible\'"\n  [style.height]="hidden ? \'1px\' : null"\n  title="{{ \'Load more\' | translate }}"\n>\n  <ng-container *ngIf="!isLoading">\n    <span *ngIf="loadNextLabel; else loadPage" [innerHTML]="loadNextLabel | translate"></span>\n    <ng-template #loadPage>\n      <span translate ngNonBindable [translateParams]="{ pageNo: paging.currentPage + 1 }">\n        Load page {{ pageNo }}</span\n      >\n    </ng-template>\n  </ng-container>\n  <ng-container *ngIf="isLoading">\n    <span *ngIf="loadingLabel; else loading" [innerHTML]="loadingLabel | translate"></span>\n    <ng-template #loading>\n      <span translate ngNonBindable [translateParams]="{ pageNo: paging.currentPage + 1 }">\n        Page {{ pageNo }} is loading…\n      </span>\n    </ng-template>\n  </ng-container>\n</button>\n\n<ng-container *ngIf="hasNoMoreData && !hideNoMoreDataHint && !isLoading">\n  <ng-container *ngTemplateOutlet="noMoreDataHint || finishHint"></ng-container>\n</ng-container>\n\n<ng-template #finishHint>\n  <div class="legend form-block center last-record" title="{{ \'Last record\' | translate }}">\n    <i [c8yIcon]="\'circle\'"></i>\n  </div>\n</ng-template>\n\n<ng-container *ngIf="loadingTemplate && isLoading">\n  <ng-container *ngTemplateOutlet="loadingTemplate"></ng-container>\n</ng-container>\n'}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:r.ChangeDetectorRef}]},propDecorators:{paging:[{type:r.Input}],useIntersection:[{type:r.Input}],hidden:[{type:r.Input}],container:[{type:r.Input}],class:[{type:r.Input}],maxIterations:[{type:r.Input}],noMoreDataHint:[{type:r.Input}],loadingTemplate:[{type:r.Input}],hideNoMoreDataHint:[{type:r.Input}],loadNextLabel:[{type:r.Input}],loadingLabel:[{type:r.Input}],onLoad:[{type:r.Output}],hostClass:[{type:r.HostBinding,args:["class"]}]}});var _o=function(){function e(t,n,r,i){bi(this,e),this._viewport=null,this._scrolledIndexChange=new a.Subject,this.destroy=new a.Subject,this._itemSizePx=t,this._offsetSizePx=n,this._minBufferPx=r,this._maxBufferPx=i,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,s.distinctUntilChanged)()),this.destroy$=this.destroy.asObservable()}return Ci(e,[{key:"attach",value:function(e){var t=this;this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange(),(0,a.fromEvent)(window,"scroll").pipe((0,s.takeUntil)(this.destroy$),(0,s.debounceTime)(10)).subscribe((function(){t._updateRenderedRange()}))}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null,this.destroy.next(),this.destroy.complete()}},{key:"updateItemAndBufferSize",value:function(e,t,n,r){this._itemSizePx=e,this._offsetSizePx=t,this._minBufferPx=n,this._maxBufferPx=r,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSizePx,t)}},{key:"_updateTotalContentSize",value:function(){var e=this;this._viewport&&(this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSizePx+this._offsetSizePx),this._viewport._changeDetectorRef.detectChanges(),setTimeout((function(){var t,n=e._viewport.elementRef.nativeElement.children[0].children;n.length>0&&(e._itemSizePx=null===(t=n[0])||void 0===t?void 0:t.clientHeight,e._viewport.setTotalContentSize(e._viewport.getDataLength()*e._itemSizePx+e._offsetSizePx))}),100))}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var e=window.innerHeight,t=window.pageYOffset,n=this._viewport.getRenderedRange(),r={start:n.start,end:n.end},i=this._viewport.getDataLength(),o=this._itemSizePx>0?t/this._itemSizePx:0;if(r.end>i){var a=Math.ceil(e/this._itemSizePx),s=Math.max(0,Math.min(o,i-a));o!==s&&(o=s,t=s*this._itemSizePx,r.start=Math.floor(o)),r.end=Math.max(0,Math.min(i,r.start+a))}var c=t-r.start*this._itemSizePx;if(c<this._minBufferPx&&0!==r.start){var l=Math.ceil((this._maxBufferPx-c)/this._itemSizePx);r.start=Math.max(0,r.start-l),r.end=Math.min(i,Math.ceil(o+(e+this._minBufferPx)/this._itemSizePx))}else{var d=r.end*this._itemSizePx-(t+e);if(d<this._minBufferPx&&r.end!==i){var p=Math.ceil((this._maxBufferPx-d)/this._itemSizePx);p>0&&(r.end=Math.min(i,r.end+p),r.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSizePx)))}}this._viewport.setRenderedRange(r),this._viewport.setRenderedContentOffset(this._itemSizePx*r.start),this._scrolledIndexChange.next(Math.floor(o))}}}]),e}();function Fo(e){return e._scrollStrategy}var Oo=function(){function e(){bi(this,e),this._itemSizePx=20,this._minBufferPx=100,this._maxBufferPx=200,this._offsetSizePx=0,this._scrollStrategy=new _o(this.itemSizePx,this.offsetSizePx,this.minBufferPx,this.maxBufferPx)}return Ci(e,[{key:"itemSizePx",get:function(){return this._itemSizePx},set:function(e){this._itemSizePx=(0,we.su)(e)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=(0,we.su)(e)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=(0,we.su)(e)}},{key:"offsetSizePx",get:function(){return this._offsetSizePx},set:function(e){this._offsetSizePx=(0,we.su)(e)}},{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSizePx,this.offsetSizePx,this.minBufferPx,this.maxBufferPx)}}]),e}();Oo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Oo,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Oo.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Oo,selector:"cdk-virtual-scroll-viewport[windowVirtualScrollStrategy]",inputs:{itemSizePx:"itemSizePx",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",offsetSizePx:"offsetSizePx"},providers:[{provide:p.yU,useFactory:Fo,deps:[(0,r.forwardRef)((function(){return Oo}))]}],usesOnChanges:!0,ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Oo,decorators:[{type:r.Directive,args:[{selector:"cdk-virtual-scroll-viewport[windowVirtualScrollStrategy]",providers:[{provide:p.yU,useFactory:Fo,deps:[(0,r.forwardRef)((function(){return Oo}))]}]}]}],propDecorators:{itemSizePx:[{type:r.Input}],minBufferPx:[{type:r.Input}],maxBufferPx:[{type:r.Input}],offsetSizePx:[{type:r.Input}]}});var Po=function(){function e(){bi(this,e),this.filterPipe=(0,a.pipe)((0,s.tap)()),this.trackByFn=function(e,t){return t.id}}return Ci(e,[{key:"apply",value:function(){var e=this;this.items$=(0,a.of)(this.items).pipe((function(t){return e.filterPipe(t)}),(0,s.map)((function(e){return e})))}}]),e}();Po.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Po,deps:[],target:r["ɵɵFactoryTarget"].Component}),Po.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Po,selector:"c8y-virtual-scroller-wrapper",inputs:{items:"items",itemHeight:"itemHeight",containerHeight:"containerHeight",template:"template",filterPipe:"filterPipe",strategy:"strategy",trackByFn:"trackByFn"},ngImport:i,template:'<ng-container *ngIf="items$ |async as items" [ngSwitch]="strategy">\n    <ng-container *ngSwitchCase="\'window\'">\n      <cdk-virtual-scroll-viewport windowVirtualScrollStrategy [itemSizePx]="itemHeight">\n        <div *cdkVirtualFor="let item of items; index as i; trackBy: trackByFn">\n          <ng-container *ngTemplateOutlet="template; context: {$implicit: item, index: i}"></ng-container>\n        </div>\n      </cdk-virtual-scroll-viewport>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="\'fixed\'">\n      <cdk-virtual-scroll-viewport [itemSize]="itemHeight" [style.height]="containerHeight + \'px\'">\n        <div *cdkVirtualFor="let item of items; index as i; trackBy: trackByFn" >\n          <ng-container *ngTemplateOutlet="template; context: {$implicit: item, index: i}"></ng-container>\n        </div>\n      </cdk-virtual-scroll-viewport>\n    </ng-container>\n</ng-container>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:u.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:u.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"directive",type:p.xd,selector:"cdk-virtual-scroll-viewport[itemSize]",inputs:["itemSize","minBufferPx","maxBufferPx"]},{kind:"directive",type:p.x0,selector:"[cdkVirtualFor][cdkVirtualForOf]",inputs:["cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplate","cdkVirtualForTemplateCacheSize"]},{kind:"component",type:p.N7,selector:"cdk-virtual-scroll-viewport",inputs:["orientation","appendOnly"],outputs:["scrolledIndexChange"]},{kind:"directive",type:Oo,selector:"cdk-virtual-scroll-viewport[windowVirtualScrollStrategy]",inputs:["itemSizePx","minBufferPx","maxBufferPx","offsetSizePx"]},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Po,decorators:[{type:r.Component,args:[{selector:"c8y-virtual-scroller-wrapper",template:'<ng-container *ngIf="items$ |async as items" [ngSwitch]="strategy">\n    <ng-container *ngSwitchCase="\'window\'">\n      <cdk-virtual-scroll-viewport windowVirtualScrollStrategy [itemSizePx]="itemHeight">\n        <div *cdkVirtualFor="let item of items; index as i; trackBy: trackByFn">\n          <ng-container *ngTemplateOutlet="template; context: {$implicit: item, index: i}"></ng-container>\n        </div>\n      </cdk-virtual-scroll-viewport>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="\'fixed\'">\n      <cdk-virtual-scroll-viewport [itemSize]="itemHeight" [style.height]="containerHeight + \'px\'">\n        <div *cdkVirtualFor="let item of items; index as i; trackBy: trackByFn" >\n          <ng-container *ngTemplateOutlet="template; context: {$implicit: item, index: i}"></ng-container>\n        </div>\n      </cdk-virtual-scroll-viewport>\n    </ng-container>\n</ng-container>\n'}]}],propDecorators:{items:[{type:r.Input}],itemHeight:[{type:r.Input}],containerHeight:[{type:r.Input}],template:[{type:r.Input}],filterPipe:[{type:r.Input}],strategy:[{type:r.Input}],trackByFn:[{type:r.Input}]}});var No=function(){function e(t,n,i,o){var c=this;bi(this,e),this.tpl=t,this.vcr=n,this.componentFactoryResolver=i,this.cdRef=o,this.cachedData=[],this.loadMoreMode="auto",this.dataPipe=(0,a.pipe)((0,s.tap)()),this.itemDataPipe=(0,a.pipe)((0,s.map)((function(e){return[e]})),(function(e){return c.dataPipe(e)}),(0,s.map)((function(e){return ii(e,1)[0]}))),this.maxIterations=10,this.realtimeOptions={},this.unsubscribe$=new a.Subject,this.c8yForEnableVirtualScroll=!1,this.c8yForVirtualScrollStrategy="window",this.c8yForCount=new r.EventEmitter,this.count=0}return Ci(e,[{key:"shouldUseLoadMoreButton",get:function(){return"auto"===this.loadMoreMode||"show"===this.loadMoreMode||"hidden"===this.loadMoreMode}},{key:"hasMoreData",get:function(){return this.loadMore&&this.loadMore.hasMore}},{key:"length",get:function(){return this.cachedData.length}},{key:"c8yForOf",set:function(e){var t=this;e&&(this.obs$=((0,a.isObservable)(e)?e:(0,a.of)(e)).pipe((0,s.map)((function(e){if(null===e)return t.paging=null,[];var n=e.paging,r=e.data;return t.paging=n,r}))))}},{key:"c8yForLoadMore",set:function(e){this.loadMoreMode=e}},{key:"c8yForPipe",set:function(e){e&&(this.dataPipe=e)}},{key:"c8yForNotFound",set:function(e){this.notFoundTemplate=e,this.loadMore&&(this.loadMore.noMoreDataHint=e)}},{key:"c8yForMaxIterations",set:function(e){this.maxIterations=e}},{key:"c8yForLoadingTemplate",set:function(e){this.loadingTemplate=e}},{key:"c8yForLoadNextLabel",set:function(e){this.loadNextLabel=e}},{key:"c8yForRealtime",set:function(e){this.realtime=e}},{key:"c8yForRealtimeOptions",set:function(e){this.realtimeOptions=e}},{key:"c8yForComparator",set:function(e){this.comparator=e}},{key:"ngOnInit",value:function(){this.handleRealtime()}},{key:"ngOnChanges",value:function(e){var t=this;if(this.obs$&&(e.c8yForPipe||e.c8yForOf)){this.unsubscribePaging(),this.virtualScrollInstance&&(this.virtualScrollInstance.filterPipe=this.dataPipe,window.scrollTo({top:0}));var n=!this.hasMoreData&&!!e.c8yForPipe&&!e.c8yForOf;n&&(this.obs$=(0,a.of)(this.cachedData)),this.pagingSub=this.obs$.pipe((0,s.tap)((function(e){n||(t.cachedData=e)}))).pipe((function(e){return t.dataPipe(e)})).subscribe((function(e){t.updateCount(e.length),t.render(e,n)}))}}},{key:"ngOnDestroy",value:function(){this.unsubscribePaging(),this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"handleRealtime",value:function(){this.realtime&&(this.handleRealtimeCreate(),this.handleRealtimeUpdate(),this.handleRealtimeDelete())}},{key:"handleRealtimeCreate",value:function(){var e=this,t=this.realtimeOptions.entityOrId;this.realtime.onCreate$(t).pipe((function(t){return e.itemDataPipe(t)}),(0,s.filter)((function(e){return e})),(0,s.takeUntil)(this.unsubscribe$)).subscribe((function(t){return e.insert(t)}))}},{key:"handleRealtimeUpdate",value:function(){var e=this,t=this.realtimeOptions.entityOrId;this.realtime.onUpdate$(t).pipe((function(t){return(0,a.combineLatest)([t,t.pipe((function(t){return e.itemDataPipe(t)}),(0,s.map)((function(e){return void 0!==e})))])}),(0,s.takeUntil)(this.unsubscribe$)).subscribe((function(t){var n=ii(t,2),r=n[0],i=n[1],o=e.realtimeOptions,a=o.insertOnUpdate,s=o.removeOnUpdate;e.isDisplayed((0,we.su)(r.id))?i?e.update(r):s&&e.remove((0,we.su)(r.id)):i&&a&&e.insert(r)}))}},{key:"handleRealtimeDelete",value:function(){var e=this,t=this.realtimeOptions.entityOrId;this.realtime.onDelete$(t).pipe((0,s.takeUntil)(this.unsubscribe$)).subscribe((function(t){return e.remove((0,we.su)(t))}))}},{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.c8yForEnableVirtualScroll)return this.virtualScrollInstance||(this.virtualScrollInstance=this.createVirtualScrollWrapperComponent(),this.shouldUseLoadMoreButton&&(this.loadMore=this.createLoadMoreButtonComponent(!1))),void this.setVirtualScrollContents(e);this.vcr.clear(),e.forEach((function(e,n){var r={$implicit:e,index:n,length:t.length,hasMore:t.hasMoreData,loadMoreComponent:t.loadMore};t.vcr.createEmbeddedView(t.tpl,r)})),this.shouldUseLoadMoreButton&&(this.loadMore=this.createLoadMoreButtonComponent(n))}},{key:"append",value:function(e){var t=this;this.c8yForEnableVirtualScroll?this.appendVirtualScrollContent(e):e.forEach((function(e){var n=t.shouldUseLoadMoreButton?t.vcr.length-1:t.vcr.length,r={$implicit:e,index:n,length:t.length,hasMore:t.hasMoreData,loadMoreComponent:t.loadMore};t.vcr.createEmbeddedView(t.tpl,r,n)}))}},{key:"loadMoreData",value:function(e){e.length>0&&(this.updateCount(e.length),this.append(e)),this.cdRef.detectChanges()}},{key:"createLoadMoreButtonComponent",value:function(e){var t=this,n=this.componentFactoryResolver.resolveComponentFactory(To),r=this.vcr.createComponent(n).instance;return r.paging=this.paging,r.useIntersection="auto"===this.loadMoreMode||"hidden"===this.loadMoreMode,r.hidden="hidden"===this.loadMoreMode,r.maxIterations=this.maxIterations,r.noMoreDataHint=this.notFoundTemplate,r.loadingTemplate=this.loadingTemplate,r.loadNextLabel=this.loadNextLabel,this.pagingSub=r.onLoad.pipe((0,s.map)((function(e){return t.checkForDuplicates(e)})),(0,s.tap)((function(e){t.cachedData=t.cachedData.concat(e)}))).pipe((function(e){return t.dataPipe(e)})).subscribe((function(e){return t.loadMoreData(e)})),e&&(0,c.assign)(r,this.loadMore),r}},{key:"createVirtualScrollWrapperComponent",value:function(){var e=this.componentFactoryResolver.resolveComponentFactory(Po),t=this.vcr.createComponent(e).instance;return t.items=this.cachedData,t.itemHeight=this.c8yForVirtualScrollElementSize,t.template=this.tpl,t.strategy=this.c8yForVirtualScrollStrategy,t.containerHeight=this.c8yForVirtualScrollContainerHeight,t}},{key:"insert",value:function(e){var t,n=0;if(this.comparator&&this.cachedData.length)do{var r=this.vcr.get(n),i=(0,c.get)(r,"context.$implicit");(t=e&&i?this.comparator(e,i):0)<=0&&n++}while(t<=0&&n<this.cachedData.length);if(n<this.cachedData.length||0===this.cachedData.length){var o={$implicit:e,index:n,length:this.length,hasMore:this.hasMoreData};this.cachedData.splice(n,0,e);var a=this.tpl.createEmbeddedView(o);this.vcr.insert(a,n),this.updateCount(1)}}},{key:"update",value:function(e){this.forMatchingEmbeddedViewRef((function(t){return t&&e&&t.id===e.id}),(function(t){t.context.$implicit=e,t.markForCheck()}))}},{key:"remove",value:function(e){this.isDisplayed(e)&&this.updateCount(-1),this.forMatchingEmbeddedViewRef((function(t){return t&&(0,we.su)(t.id,NaN)===e}),(function(e){return e.destroy()}))}},{key:"updateCount",value:function(e){this.count+=e,this.c8yForCount.emit(this.count)}},{key:"isDisplayed",value:function(e){var t=!1;return this.forMatchingEmbeddedViewRef((function(t){return t&&(0,we.su)(t.id,NaN)===e}),(function(){t=!0})),t}},{key:"forMatchingEmbeddedViewRef",value:function(e,t){for(var n=0;n<this.vcr.length;n++){var r=this.vcr.get(n);e((0,c.get)(r,"context.$implicit"))&&t(r)}}},{key:"checkForDuplicates",value:function(e){var t=this;return this.realtime?e.filter((function(e){return!t.cachedData.some((function(t){return t.id===e.id}))})):e}},{key:"unsubscribePaging",value:function(){this.pagingSub&&this.pagingSub.unsubscribe()}},{key:"setVirtualScrollContents",value:function(e){this.c8yForEnableVirtualScroll&&this.virtualScrollInstance&&(this.virtualScrollInstance.items=e,this.virtualScrollInstance.apply())}},{key:"appendVirtualScrollContent",value:function(e){this.c8yForEnableVirtualScroll&&this.virtualScrollInstance&&(this.virtualScrollInstance.items=this.virtualScrollInstance.items.concat(e),this.virtualScrollInstance.apply())}}]),e}();No.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:No,deps:[{token:r.TemplateRef},{token:r.ViewContainerRef},{token:r.ComponentFactoryResolver},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Directive}),No.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:No,selector:"[c8yFor]",inputs:{c8yForOf:"c8yForOf",c8yForLoadMore:"c8yForLoadMore",c8yForPipe:"c8yForPipe",c8yForNotFound:"c8yForNotFound",c8yForMaxIterations:"c8yForMaxIterations",c8yForLoadingTemplate:"c8yForLoadingTemplate",c8yForLoadNextLabel:"c8yForLoadNextLabel",c8yForRealtime:"c8yForRealtime",c8yForRealtimeOptions:"c8yForRealtimeOptions",c8yForComparator:"c8yForComparator",c8yForEnableVirtualScroll:"c8yForEnableVirtualScroll",c8yForVirtualScrollElementSize:"c8yForVirtualScrollElementSize",c8yForVirtualScrollStrategy:"c8yForVirtualScrollStrategy",c8yForVirtualScrollContainerHeight:"c8yForVirtualScrollContainerHeight"},outputs:{c8yForCount:"c8yForCount"},usesOnChanges:!0,ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:No,decorators:[{type:r.Directive,args:[{selector:"[c8yFor]"}]}],ctorParameters:function(){return[{type:r.TemplateRef},{type:r.ViewContainerRef},{type:r.ComponentFactoryResolver},{type:r.ChangeDetectorRef}]},propDecorators:{c8yForOf:[{type:r.Input}],c8yForLoadMore:[{type:r.Input}],c8yForPipe:[{type:r.Input}],c8yForNotFound:[{type:r.Input}],c8yForMaxIterations:[{type:r.Input}],c8yForLoadingTemplate:[{type:r.Input}],c8yForLoadNextLabel:[{type:r.Input}],c8yForRealtime:[{type:r.Input}],c8yForRealtimeOptions:[{type:r.Input}],c8yForComparator:[{type:r.Input}],c8yForEnableVirtualScroll:[{type:r.Input}],c8yForVirtualScrollElementSize:[{type:r.Input}],c8yForVirtualScrollStrategy:[{type:r.Input}],c8yForVirtualScrollContainerHeight:[{type:r.Input}],c8yForCount:[{type:r.Output}]}});var Ao=function(){function e(t){bi(this,e),this.translateService=t,this.internalApps={administration:"Administration",cockpit:"Cockpit",devicemanagement:"Device management"}}return Ci(e,[{key:"transform",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Cumulocity",n=this.getAppName(t);return e=this.isPublicApp(t)?"{{ appName | translate }} (public)":n,this.translateService.stream(e,{appName:n})}},{key:"getAppName",value:function(e){var t=this.getFirstDefined([(0,Se.get)(e,"name"),(0,Se.get)(e,"contextPath"),e])||"";return this.internalApps[t]||this.humanize(t)}},{key:"getFirstDefined",value:function(e){return(0,Se.find)(e,(0,Se.negate)(Se.isUndefined))}},{key:"isPublicApp",value:function(e){return Boolean((0,Se.get)(e,"public"))}},{key:"humanize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/_/g," ").split("");return t[0]=(t[0]||"").toUpperCase(),t.join("")}}]),e}();Ao.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ao,deps:[{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Pipe}),Ao.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Ao,name:"humanizeAppName"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ao,decorators:[{type:r.Pipe,args:[{name:"humanizeAppName"}]}],ctorParameters:function(){return[{type:ye.TranslateService}]}});var Mo,Ro=function(){function e(){bi(this,e)}return Ci(e,[{key:"transform",value:function(t){return e.humanize(t)}}],[{key:"humanize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.replace(/\./g," ").replace(/c8y[\s,_]*/gi,"").replace(/_/g," ").replace(/([A-Z][a-z])/g," $1").replace(/^\$\.?/,"").replace(/^\s*/,"").replace(/\s*$/,"").replace(/\s+/g," "),(0,c.upperFirst)(e)}}]),e}();Ro.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ro,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),Ro.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Ro,name:"humanize"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ro,decorators:[{type:r.Pipe,args:[{name:"humanize"}]}]}),function(e){e.DEVICE="device",e.GROUP="group"}(Mo||(Mo={}));var Lo=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"isAnyDevice",value:function(t){return e.isRootDevice(t)||!e.hasFragmentOrTypeFromBlacklist(t)}},{key:"hasFragmentOrTypeFromBlacklist",value:function(t){return e.hasTypeFromBlacklist(t)||e.hasFragmentFromBlacklist(t)}},{key:"hasTypeFromBlacklist",value:function(t){var n=(0,c.get)(t,"type","");return(0,c.some)(e.TYPES_FOR_NO_DEVICE,(function(e){return n.includes(e)}))}},{key:"hasFragmentFromBlacklist",value:function(t){return!!(0,c.find)(e.FRAGMENTS_FOR_NO_DEVICE,(function(e){return!(0,c.isUndefined)(t[e])}))}},{key:"isRootDevice",value:function(t){return!!t[e.DEVICE_FRAGMENT_TYPE]}}]),e}();Lo.FRAGMENTS_FOR_NO_DEVICE=["c8y_Dashboard","c8y_Report","c8y_Kpi","c8y_ExportConfiguration","c8y_IsBinary","c8y_NoDevice","c8y_IsDeviceGroup","c8y_IsDynamicGroup","c8y_Group","com_cumulocity_model_smartrest_SmartRestTemplate","com_cumulocity_model_devicesimulator_SensorTemplate","_attachments","c8y_IsDeviceType","c8y_objectmapping_ObjectMapping","c8y_IsAssetType"],Lo.TYPES_FOR_NO_DEVICE=["c8y_ConfigurationDump","c8y_Firmware","c8y_SmartRule","c8y_Software","impact_object_mapping","c8y_UserPreference","c8y_TenantPolicy","c8y_PrivateSmartRule","c8y_SmartRest2Template","c8y_JsonSchema","c8y_DeviceShellTemplate","c8y_DemoStatus","c8y_DataBroker","c8y_Application_","brandingVariables","c8y_DeviceSimulator","c8y_CertificateMetadata","lwm2m_post_registration","c8y_microservice_manifest_"],Lo.DEVICE_FRAGMENT_TYPE="c8y_IsDevice",Lo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lo,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Lo.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lo,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lo,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});var Vo,jo=function(){function e(t,n,r){var i=this;bi(this,e),this.inventory=t,this.apiService=n,this.appStateService=r,this.ASSET_TYPE_GROUP_QUERY={__filter:{__and:[{__has:"c8y_IsAssetType"},{name:"group"}]}},this.assetTypesCache={},this.DEFAULT_GROUP_ICON="c8y-group",this.DEFAULT_GROUP_ICON_OPEN="c8y-group-open",this.appStateService.currentUser.pipe((0,s.map)((function(e){return null==e?void 0:e.id})),(0,s.distinctUntilChanged)(),(0,s.switchMap)((function(e){return e?(i.initAssetTypesCache(),i.subscribeForAssetTypeUpdates()):(i.assetTypesCache={},a.NEVER)}))).subscribe()}var t,n,r;return Ci(e,[{key:"initAssetTypesCache",value:(r=ui(di().mark((function e(){var t=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inventory.list({fragmentType:"c8y_IsAssetType",withChildren:!1,pageSize:2e3});case 2:return e.sent.data.forEach((function(e){return t.addAssetType(e)})),e.abrupt("return");case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getAssetTypeByName",value:function(e){if(this.assetTypesCache.hasOwnProperty(e))return this.assetTypesCache[e]}},{key:"getAssetTypeById",value:function(e){if(e)return Object.values(this.assetTypesCache).find((function(t){return t.id===e}))}},{key:"getIcon",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getAssetTypeByName(e),o=(null==i||null===(t=i.c8y_IsAssetType)||void 0===t||null===(n=t.icon)||void 0===n?void 0:n.name)||this.getDefaultGroupIcon(r);return o}},{key:"getDefaultGroupIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.DEFAULT_GROUP_ICON_OPEN:this.DEFAULT_GROUP_ICON}},{key:"createAssetTypeGroupIfNotExists",value:(n=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inventory.listQuery(this.ASSET_TYPE_GROUP_QUERY);case 2:if(!(e.sent.data.length>0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.createDefaultAssetTypeGroup();case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createDefaultAssetTypeGroup",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inventory.create({label:"Group",name:"group",description:"Default group asset type",c8y_IsAssetType:{icon:"folder",propertyIds:[],allowedAssetTypeIds:[],isNoneChildAssetsAllowed:"false"}});case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"addAssetType",value:function(e){e?this.assetTypesCache[e.name]=e:console.error("Asset type must not be null")}},{key:"deleteAssetType",value:function(e){if(e){var t=this.getAssetTypeById(e);t&&delete this.assetTypesCache[t.name]}else console.error("Asset type ID must not be null")}},{key:"updateAssetType",value:function(e){if(e){var t=this.getAssetTypeById(e.id);t&&(this.assetTypesCache[t.name]=Object.assign(t,e))}else console.error("Asset type must not be null")}},{key:"subscribeForAssetTypeUpdates",value:function(){var e=this;return this.apiService.hookResponse((function(t){return e.checkIfInventoryMoApiCall(t)})).pipe((0,s.tap)((function(t){var n;if(t||t.method){var r=null===(n=t.options)||void 0===n?void 0:n.body;if(r)try{var i=JSON.parse(r);if("DELETE"===t.method)return void e.deleteAssetType(i.id);if(!i.hasOwnProperty("c8y_IsAssetType"))return;if("PUT"===t.method)return void e.updateAssetType(i);e.addAssetType(i)}catch(e){}}})))}},{key:"checkIfInventoryMoApiCall",value:function(e){if(!e)return!1;var t="POST"===e.method||"DELETE"===e.method||"PUT"===e.method,n=e.url.includes("managedObjects");return t&&n}}]),e}();function Bo(e){return function(t,n,r){var i=r.value;r.value=function(){var t="_".concat(n,"Memoized");return this[t]||(this[t]=(0,c.memoize)(i,e)),this[t].apply(this,arguments)}}}jo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jo,deps:[{token:g.InventoryService},{token:x},{token:Hi}],target:r["ɵɵFactoryTarget"].Injectable}),jo.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jo,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jo,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:g.InventoryService},{type:x},{type:Hi}]}}),function(e){e.groupType="c8y_DeviceGroup",e.subGroupType="c8y_DeviceSubgroup",e.groupFragmentType="c8y_IsDeviceGroup",e.dataBrokerSourceFragment="c8y_BrokerSource",e.dynamicGroupType="c8y_DynamicGroup",e.dynamicGroupFragment="c8y_IsDynamicGroup",e.dynamicGroupColumnConfig="c8y_UIDeviceFilterConfig",e.dynamicGroupQueryString="c8y_DeviceQueryString"}(Vo||(Vo={}));var Uo=function(){function e(t){bi(this,e),this.assetTypesService=t,this.icons={brokerSourceInactive:{icon:"c8y-group-remote-inactive",iconOpen:"c8y-group-remote-inactive"},brokerSource:{icon:"c8y-group-remote",iconOpen:"c8y-group-remote-open"},group:{icon:"c8y-group",iconOpen:"c8y-group-open"},dynamicGroup:{icon:"c8y-group-smart",iconOpen:"c8y-group-smart-open"},other:{icon:"exchange",iconClass:"statusUnknown"}},this.dataBrokerSourceFragmentInactive="_".concat(Vo.dataBrokerSourceFragment)}return Ci(e,[{key:"getIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.determineMoType(e);if("asset"===n)return this.getAssetCustomIcon(e.type,t);var r=this.getDefaultIcon(n);return t&&r.iconOpen||r.icon}},{key:"isGroup",value:function(e){return!!e[Vo.groupFragmentType]||e.type===Vo.groupType}},{key:"isDynamicGroup",value:function(e){return!!e[Vo.dynamicGroupFragment]||e.type===Vo.dynamicGroupType}},{key:"isDataBroker",value:function(e){return!!e[Vo.dataBrokerSourceFragment]||!!e[this.dataBrokerSourceFragmentInactive]}},{key:"isDataBrokerActive",value:function(e){return!!e[Vo.dataBrokerSourceFragment]&&!e[this.dataBrokerSourceFragmentInactive]}},{key:"isAsset",value:function(e){return!!e.c8y_IsAsset}},{key:"isAnyGroup",value:function(e){return this.isGroup(e)||this.isDynamicGroup(e)||this.isDataBroker(e)||this.isDataBrokerActive(e)}},{key:"isDevice",value:function(e){return!!e.c8y_IsDevice}},{key:"getAssetCustomIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.assetTypesService.getIcon(e,t)}},{key:"getDefaultIcon",value:function(e){return this.icons[e]}},{key:"determineMoType",value:function(e){return this.isAsset(e)?"asset":this.isDynamicGroup(e)?"dynamicGroup":this.isDataBrokerActive(e)?"brokerSource":this.isDataBroker(e)?"brokerSourceInactive":this.isGroup(e)?"group":"other"}}]),e}();Uo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Uo,deps:[{token:jo}],target:r["ɵɵFactoryTarget"].Injectable}),Uo.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Uo,providedIn:"root"}),(0,ve.__decorate)([Bo((0,Se.property)("id")),(0,ve.__metadata)("design:type",Function),(0,ve.__metadata)("design:paramtypes",[Object,Boolean]),(0,ve.__metadata)("design:returntype",String)],Uo.prototype,"getIcon",null),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Uo,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:jo}]},propDecorators:{getIcon:[]}});var Go=function(){function e(t){bi(this,e),this.groupService=t}return Ci(e,[{key:"transform",value:function(e,t){return t===Mo.DEVICE?Lo.isAnyDevice(e):t===Mo.GROUP&&(this.groupService.isGroup(e)||this.groupService.isDynamicGroup(e))}}]),e}();Go.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Go,deps:[{token:Uo}],target:r["ɵɵFactoryTarget"].Pipe}),Go.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Go,name:"shouldShowMo"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Go,decorators:[{type:r.Pipe,args:[{name:"shouldShowMo"}]}],ctorParameters:function(){return[{type:Uo}]}});var zo=function(){function e(t){bi(this,e),this.groupService=t}return Ci(e,[{key:"transform",value:function(e){return this.groupService.getIcon(e)}}]),e}();zo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zo,deps:[{token:Uo}],target:r["ɵɵFactoryTarget"].Pipe}),zo.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:zo,name:"getGroupIcon"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zo,decorators:[{type:r.Pipe,args:[{name:"getGroupIcon"}]}],ctorParameters:function(){return[{type:Uo}]}});var Ho=function(){function e(t,n,r){bi(this,e),this.appState=t,this.inventory=n,this.user=r}var t,n;return Ci(e,[{key:"canEdit",value:function(e,t){return this.checkIfCanEdit(e,t)}},{key:"hasRole",value:function(e){var t=this.appState.currentUser.value;if(!t)throw new Error("Roles can only be requested if the user is logged in.");return this.user.hasRole(t,e)}},{key:"hasAllRoles",value:function(e){var t=this.appState.currentUser.value;if(!t)throw new Error("Roles can only be requested if the user is logged in.");return this.user.hasAllRoles(t,e)}},{key:"hasAnyRole",value:function(e){var t=this.appState.currentUser.value;if(!t)throw new Error("Roles can only be requested if the user is logged in.");return this.user.hasAnyRole(t,e)}},{key:"checkIfOwner",value:(n=ui(di().mark((function e(t){var n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appState.currentUser.value.userName;case 2:return n=e.sent,e.next=5,this.inventory.detail(t.id);case 5:return r=e.sent,i=r.data,e.abrupt("return",n===i.owner);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkWithRequest",value:function(e){var t=e.name,n={id:e.id,name:t};return this.inventory.update(n).then((function(){return!0})).catch((function(){return!1}))}},{key:"checkIfCanEdit",value:(t=ui(di().mark((function e(t,n){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hasAnyRole(t);case 2:if(!e.sent){e.next=6;break}return e.abrupt("return",!0);case 6:return e.next=8,this.checkIfOwner(n);case 8:if(!e.sent){e.next=12;break}return e.abrupt("return",!0);case 12:return e.next=14,this.checkWithRequest(n);case 14:if(!e.sent){e.next=16;break}return e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();Ho.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ho,deps:[{token:Hi},{token:g.InventoryService},{token:g.UserService}],target:r["ɵɵFactoryTarget"].Injectable}),Ho.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ho}),(0,ve.__decorate)([Bo((0,c.property)("id")),(0,ve.__metadata)("design:type",Function),(0,ve.__metadata)("design:paramtypes",[Object]),(0,ve.__metadata)("design:returntype",Promise)],Ho.prototype,"checkIfOwner",null),(0,ve.__decorate)([Bo((0,c.property)("id")),(0,ve.__metadata)("design:type",Function),(0,ve.__metadata)("design:paramtypes",[Object]),(0,ve.__metadata)("design:returntype",void 0)],Ho.prototype,"checkWithRequest",null),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ho,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:Hi},{type:g.InventoryService},{type:g.UserService}]},propDecorators:{checkIfOwner:[],checkWithRequest:[]}});var qo=function(){function e(t,n,r){bi(this,e),this.template=t,this.container=n,this.permissions=r,this.allowAny=!1}return Ci(e,[{key:"c8yIfAllowed",set:function(e){this.rolesIds=Array.isArray(e)?e:e?[e]:[]}},{key:"c8yIfAllowedAllowAny",set:function(e){this.allowAny=null===e||e}},{key:"ngOnInit",value:function(){this.rolesIds&&this.rolesIds.length&&!(this.allowAny?this.permissions.hasAnyRole(this.rolesIds):this.permissions.hasAllRoles(this.rolesIds))||this.container.createEmbeddedView(this.template)}}]),e}();qo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qo,deps:[{token:r.TemplateRef},{token:r.ViewContainerRef},{token:Ho}],target:r["ɵɵFactoryTarget"].Directive}),qo.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:qo,selector:"[c8yIfAllowed]",inputs:{c8yIfAllowed:"c8yIfAllowed",c8yIfAllowedAllowAny:"c8yIfAllowedAllowAny"},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qo,decorators:[{type:r.Directive,args:[{selector:"[c8yIfAllowed]"}]}],ctorParameters:function(){return[{type:r.TemplateRef},{type:r.ViewContainerRef},{type:Ho}]},propDecorators:{c8yIfAllowed:[{type:r.Input}],c8yIfAllowedAllowAny:[{type:r.Input}]}});var Wo=Ci((function e(){bi(this,e)}));Wo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wo,deps:[],target:r["ɵɵFactoryTarget"].Component}),Wo.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Wo,selector:"c8y-loading",ngImport:i,template:'\n    <div class="p-24 p-relative d-inline-block">\n      <div class="spinner">\n        <div class="rect1"></div>\n        <div class="rect2"></div>\n        <div class="rect3"></div>\n        <div class="rect4"></div>\n        <div class="rect5"></div>\n      </div>\n    </div>\n  ',isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wo,decorators:[{type:r.Component,args:[{selector:"c8y-loading",template:'\n    <div class="p-24 p-relative d-inline-block">\n      <div class="spinner">\n        <div class="rect1"></div>\n        <div class="rect2"></div>\n        <div class="rect3"></div>\n        <div class="rect4"></div>\n        <div class="rect5"></div>\n      </div>\n    </div>\n  '}]}]});var Ko=function(){function e(){bi(this,e)}return Ci(e,[{key:"transform",value:function(e,t,n){return t.apply(n||this,Array.isArray(e)?e:[e])}}]),e}();Ko.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ko,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),Ko.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Ko,name:"map"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ko,decorators:[{type:r.Pipe,args:[{name:"map"}]}]});var Yo=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Zo=function(e){gi(n,e);var t=mi(n);function n(e){return bi(this,n),t.call(this,e)}return Ci(n,[{key:"transform",value:function(e,t,r,i){if(t){var o=0;if(r){var a=r.match(Yo);if(null===a)throw new Error("".concat(r," is not a valid digit info"));o=Number.parseInt(a[5],10)}var s=Math.pow(10,o);e=function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(e),e=Math[t](e*s)/s}return ni(vi(n.prototype),"transform",this).call(this,e,r,i)}}]),n}(u.DecimalPipe);Zo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zo,deps:[{token:r.LOCALE_ID}],target:r["ɵɵFactoryTarget"].Pipe}),Zo.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Zo,name:"c8yNumber"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zo,decorators:[{type:r.Pipe,args:[{name:"c8yNumber"}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[r.LOCALE_ID]}]}]}});var Qo=Ci((function e(){bi(this,e)}));Qo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qo,deps:[],target:r["ɵɵFactoryTarget"].Component}),Qo.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Qo,selector:"c8y-operation-result",inputs:{text:"text",vertical:"vertical",size:"size",type:"type"},ngImport:i,template:'<style>\n  .stroke-anim {\n    animation: stroke-anim 0.75s ease-in-out 0s 1 forwards;\n  }\n  .check-anim {\n    animation: check-anim 0.35s ease-in-out 0.5s 1 forwards;\n  }\n  .symbol-anim {\n    animation: symbol-anim 0.35s ease-in-out 0.5s 1 forwards;\n  }\n\n  @keyframes stroke-anim {\n    0% {\n      stroke-dashoffset: 60;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  @keyframes check-anim {\n    0% {\n      stroke-dashoffset: 28;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes symbol-anim {\n    0% {\n      stroke-dashoffset: 7;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  .delay-05 {\n    animation-delay: 0.5s;\n  }\n</style>\n<div class="d-flex a-i-center p-24 m-24 p-b-0" [ngClass]="{ \'d-col j-c-center\': vertical }">\n  <svg *ngIf="type === \'success\'" viewBox="0 0 24 24" [ngStyle]="{ \'max-width.px\': size || 64 }">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n      <polyline\n        stroke="var(--input-validation-success, #008800)"\n        stroke-width="2"\n        stroke-linejoin="round"\n        points="7.8678862 11.508 11.9656988 15.984 20.2137797 7.44836856"\n        class="check-anim"\n        stroke-dasharray="28"\n        stroke-dashoffset="28"\n      ></polyline>\n      <path\n        d="M18.3656773,3.02795925 C16.5689809,1.75089408 14.3721808,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 C18.0751322,23 23,18.0751322 23,12"\n        id="Path"\n        class="stroke-anim"\n        stroke="var(--input-validation-success, #008800)"\n        stroke-width="2"\n        stroke-dasharray="60"\n        stroke-dashoffset="60"\n      ></path>\n    </g>\n  </svg>\n\n  <svg *ngIf="type === \'error\'" viewBox="0 0 24 24" [ngStyle]="{ \'max-width.px\': size || 64 }">\n    <g id="Artboard-Copy-3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <line\n        x1="12"\n        y1="13.5356315"\n        x2="12"\n        y2="7"\n        id="Path-2"\n        stroke="var(--input-validation-error, #E0000E)"\n        class="symbol-anim"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n      ></line>\n      <line\n        x1="12"\n        y1="17.7678157"\n        x2="12"\n        y2="17.2321843"\n        id="Path-2"\n        stroke="var(--input-validation-error, #E0000E)"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n        class="symbol-anim"\n      ></line>\n      <circle\n        id="Oval"\n        stroke="var(--input-validation-error, #E0000E)"\n        stroke-width="2"\n        cx="12"\n        cy="12"\n        r="11"\n        class="stroke-anim"\n        stroke-dasharray="70"\n        stroke-dashoffset="70"\n        stroke-linejoin="round"\n      ></circle>\n    </g>\n  </svg>\n\n  <svg *ngIf="type === \'warning\'" viewBox="0 0 24 24" [ngStyle]="{ \'max-width.px\': size || 64 }">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <line\n        x1="12"\n        y1="13.5356315"\n        x2="12"\n        y2="7"\n        id="Path-2"\n        stroke="var(--input-validation-warning, #FF801F)"\n        class="symbol-anim"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n      ></line>\n      <line\n        x1="12"\n        y1="17.7678157"\n        x2="12"\n        y2="17.2321843"\n        id="Path-2"\n        stroke="var(--input-validation-warning, #FF801F)"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n        class="symbol-anim"\n      ></line>\n\n      <g\n        fill-rule="nonzero"\n        stroke="var(--input-validation-warning, #FF801F)"\n        stroke-width="2"\n        class="stroke-anim"\n        stroke-dashoffset="1000"\n        stroke-dasharray="90"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-linejoin="round"\n      >\n        <path d="M12,1 L23,21 L1,21 L12,1 Z" id="Path"></path>\n      </g>\n    </g>\n  </svg>\n  <p *ngIf="text" class="text-center text-medium animated fadeIn delay-05 m-8">\n    {{ text }}\n  </p>\n</div>\n',styles:["\n  .stroke-anim {\n    animation: stroke-anim 0.75s ease-in-out 0s 1 forwards;\n  }\n  .check-anim {\n    animation: check-anim 0.35s ease-in-out 0.5s 1 forwards;\n  }\n  .symbol-anim {\n    animation: symbol-anim 0.35s ease-in-out 0.5s 1 forwards;\n  }\n\n  @keyframes stroke-anim {\n    0% {\n      stroke-dashoffset: 60;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  @keyframes check-anim {\n    0% {\n      stroke-dashoffset: 28;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes symbol-anim {\n    0% {\n      stroke-dashoffset: 7;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  .delay-05 {\n    animation-delay: 0.5s;\n  }\n"],dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qo,decorators:[{type:r.Component,args:[{selector:"c8y-operation-result",template:'<style>\n  .stroke-anim {\n    animation: stroke-anim 0.75s ease-in-out 0s 1 forwards;\n  }\n  .check-anim {\n    animation: check-anim 0.35s ease-in-out 0.5s 1 forwards;\n  }\n  .symbol-anim {\n    animation: symbol-anim 0.35s ease-in-out 0.5s 1 forwards;\n  }\n\n  @keyframes stroke-anim {\n    0% {\n      stroke-dashoffset: 60;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  @keyframes check-anim {\n    0% {\n      stroke-dashoffset: 28;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes symbol-anim {\n    0% {\n      stroke-dashoffset: 7;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  .delay-05 {\n    animation-delay: 0.5s;\n  }\n</style>\n<div class="d-flex a-i-center p-24 m-24 p-b-0" [ngClass]="{ \'d-col j-c-center\': vertical }">\n  <svg *ngIf="type === \'success\'" viewBox="0 0 24 24" [ngStyle]="{ \'max-width.px\': size || 64 }">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n      <polyline\n        stroke="var(--input-validation-success, #008800)"\n        stroke-width="2"\n        stroke-linejoin="round"\n        points="7.8678862 11.508 11.9656988 15.984 20.2137797 7.44836856"\n        class="check-anim"\n        stroke-dasharray="28"\n        stroke-dashoffset="28"\n      ></polyline>\n      <path\n        d="M18.3656773,3.02795925 C16.5689809,1.75089408 14.3721808,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 C18.0751322,23 23,18.0751322 23,12"\n        id="Path"\n        class="stroke-anim"\n        stroke="var(--input-validation-success, #008800)"\n        stroke-width="2"\n        stroke-dasharray="60"\n        stroke-dashoffset="60"\n      ></path>\n    </g>\n  </svg>\n\n  <svg *ngIf="type === \'error\'" viewBox="0 0 24 24" [ngStyle]="{ \'max-width.px\': size || 64 }">\n    <g id="Artboard-Copy-3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <line\n        x1="12"\n        y1="13.5356315"\n        x2="12"\n        y2="7"\n        id="Path-2"\n        stroke="var(--input-validation-error, #E0000E)"\n        class="symbol-anim"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n      ></line>\n      <line\n        x1="12"\n        y1="17.7678157"\n        x2="12"\n        y2="17.2321843"\n        id="Path-2"\n        stroke="var(--input-validation-error, #E0000E)"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n        class="symbol-anim"\n      ></line>\n      <circle\n        id="Oval"\n        stroke="var(--input-validation-error, #E0000E)"\n        stroke-width="2"\n        cx="12"\n        cy="12"\n        r="11"\n        class="stroke-anim"\n        stroke-dasharray="70"\n        stroke-dashoffset="70"\n        stroke-linejoin="round"\n      ></circle>\n    </g>\n  </svg>\n\n  <svg *ngIf="type === \'warning\'" viewBox="0 0 24 24" [ngStyle]="{ \'max-width.px\': size || 64 }">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <line\n        x1="12"\n        y1="13.5356315"\n        x2="12"\n        y2="7"\n        id="Path-2"\n        stroke="var(--input-validation-warning, #FF801F)"\n        class="symbol-anim"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n      ></line>\n      <line\n        x1="12"\n        y1="17.7678157"\n        x2="12"\n        y2="17.2321843"\n        id="Path-2"\n        stroke="var(--input-validation-warning, #FF801F)"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-dasharray="7"\n        stroke-dashoffset="7"\n        class="symbol-anim"\n      ></line>\n\n      <g\n        fill-rule="nonzero"\n        stroke="var(--input-validation-warning, #FF801F)"\n        stroke-width="2"\n        class="stroke-anim"\n        stroke-dashoffset="1000"\n        stroke-dasharray="90"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-linejoin="round"\n      >\n        <path d="M12,1 L23,21 L1,21 L12,1 Z" id="Path"></path>\n      </g>\n    </g>\n  </svg>\n  <p *ngIf="text" class="text-center text-medium animated fadeIn delay-05 m-8">\n    {{ text }}\n  </p>\n</div>\n'}]}],propDecorators:{text:[{type:r.Input}],vertical:[{type:r.Input}],size:[{type:r.Input}],type:[{type:r.Input}]}});var Xo=function(){function e(t,n,r,i){bi(this,e),this.viewContainer=t,this.resolver=n,this.renderer=r,this.el=i,this.properties={}}return Ci(e,[{key:"c8yOutlet",set:function(e){if(e)if(this._element instanceof Element&&this.renderer.removeChild(this._element.parentElement,this._element),this.viewContainer.clear(),e instanceof r.TemplateRef)this.viewContainer.createEmbeddedView(e);else if(e instanceof Element){var t=this.renderer.parentNode(this.el.nativeElement);this.destroy(),e.createCopy?this._element=e.createCopy():this._element=e,this.renderer.insertBefore(t,this._element,this.el.nativeElement)}else{var n=this.resolver.resolveComponentFactory(e),i=this.viewContainer.createComponent(n);(0,c.assign)(i.instance,this.properties)}}},{key:"c8yOutletProperties",set:function(e){this.properties=e}},{key:"ngOnDestroy",value:function(){this.destroy()}},{key:"destroy",value:function(){if(this._element){var e=this.renderer.parentNode(this._element);this.renderer.removeChild(e,this._element)}}}]),e}();Xo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xo,deps:[{token:r.ViewContainerRef},{token:r.ComponentFactoryResolver},{token:r.Renderer2},{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Directive}),Xo.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Xo,selector:"[c8yOutlet]",inputs:{c8yOutlet:"c8yOutlet",c8yOutletProperties:"c8yOutletProperties"},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xo,decorators:[{type:r.Directive,args:[{selector:"[c8yOutlet]"}]}],ctorParameters:function(){return[{type:r.ViewContainerRef},{type:r.ComponentFactoryResolver},{type:r.Renderer2},{type:r.ElementRef}]},propDecorators:{c8yOutlet:[{type:r.Input}],c8yOutletProperties:[{type:r.Input}]}});var Jo=Ci((function e(){bi(this,e),this.message="Loading…",this.progress=null}));Jo.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jo,deps:[],target:r["ɵɵFactoryTarget"].Component}),Jo.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Jo,selector:"c8y-progress-bar",inputs:{message:"message",progress:"progress"},ngImport:i,template:'<div class="bg-inherit">\n  <div class="progress progress-striped active" *ngIf="progress !== null">\n    <div\n    class="progress-bar"\n    role="progressbar"\n    [attr.aria-valuenow]="progress"\n    aria-valuemin="0"\n    aria-valuemax="100"\n    [style.width]="progress + \'%\'"\n    ></div>\n  </div>\n  <div class="spinner-snake" *ngIf="progress === null"></div>\n  <p *ngIf="message">\n    {{ message | translate }}\n  </p>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jo,decorators:[{type:r.Component,args:[{selector:"c8y-progress-bar",template:'<div class="bg-inherit">\n  <div class="progress progress-striped active" *ngIf="progress !== null">\n    <div\n    class="progress-bar"\n    role="progressbar"\n    [attr.aria-valuenow]="progress"\n    aria-valuemin="0"\n    aria-valuemax="100"\n    [style.width]="progress + \'%\'"\n    ></div>\n  </div>\n  <div class="spinner-snake" *ngIf="progress === null"></div>\n  <p *ngIf="message">\n    {{ message | translate }}\n  </p>\n</div>\n'}]}],propDecorators:{message:[{type:r.Input}],progress:[{type:r.Input}]}});var ea=function(){function e(){bi(this,e)}return Ci(e,[{key:"transform",value:function(e){var t=e.firstName,n=void 0===t?"":t,r=e.lastName,i=void 0===r?"":r,o=e.userName,a=void 0===o?"":o,s=n.trim().split(/\s+/).shift().substr(0,1),c=i.trim().split(/\s+/).pop();return(s=c?s?"".concat(s,". "):"":n.split(/\s+/).shift())||c?s+c:a}}]),e}();ea.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ea,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),ea.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ea,name:"shortenUserName"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ea,decorators:[{type:r.Pipe,args:[{name:"shortenUserName"}]}]});var ta=function(){function e(){bi(this,e)}return Ci(e,[{key:"transform",value:function(e){var t=(0,c.mapValues)(e,(function(e){return"boolean"==typeof e.showIf?(0,a.of)(e.showIf):"function"==typeof e.showIf?Ai(e.showIf()):(0,a.of)(!0)}));return(0,a.combineLatest)((0,c.entries)(t).map((function(e){var t=ii(e,2),n=t[0];return t[1].pipe((0,s.map)((function(e){return{key:n,showIf:e}})))}))).pipe((0,s.map)((function(t){return t.forEach((function(t){return e[t.key].showIf=t.showIf})),(0,c.omitBy)(e,(function(e){return!e.showIf}))})))}}]),e}();ta.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ta,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),ta.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ta,name:"showIfFilter"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ta,decorators:[{type:r.Pipe,args:[{name:"showIfFilter"}]}]});var na=function(){function e(t,n,r){bi(this,e),this.userService=t,this.appStateService=n,this.applicationService=r,this.MANAGEMENT="management",this.ROLE_TENANT_MANAGEMENT_READ="ROLE_TENANT_MANAGEMENT_READ"}var t,n,r;return Ci(e,[{key:"isManagementTenant",value:(r=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.appStateService.currentTenant.value,e.abrupt("return",this.isManagement(t));case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"isEnterpriseTenant",value:(n=ui(di().mark((function e(){var t,n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hasApp({name:"branding"});case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return e.next=6,this.hasApp({name:"feature-branding"});case 6:e.t0=e.sent;case 7:return t=e.t0,e.next=10,this.hasApp({name:"sslmanagement"});case 10:return n=e.sent,e.next=13,this.hasApp({name:"feature-user-hierarchy"});case 13:return r=e.sent,e.next=16,this.hasApp({name:"feature-broker"});case 16:return i=e.sent,e.abrupt("return",t&&n&&r&&i);case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"canReadTenants",value:function(){var e=this.appStateService.currentTenant.value,t=this.appStateService.currentUser.value;return(this.isManagement(e)||e.allowCreateTenants)&&this.userService.hasRole(t,this.ROLE_TENANT_MANAGEMENT_READ)}},{key:"getPreferredLoginOption",value:function(e){var t={type:g.TenantLoginOptionType.BASIC,userManagementSource:g.UserManagementSource.INTERNAL};if(e){var n=e.filter(this.isVisibleOnLoginPage);return n.find(this.isOauthInternal)||n.find(this.isBasic)||n.find(this.isOauth2)||t}return t}},{key:"getOauth2Option",value:function(e){var t=this;return e.find((function(e){return t.isVisibleOnLoginPage(e)&&t.isOauth2(e)}))}},{key:"isVisibleOnLoginPage",value:function(e){return e.visibleOnLoginPage}},{key:"isOauthInternal",value:function(e){return e.type===g.TenantLoginOptionType.OAUTH2_INTERNAL}},{key:"isBasic",value:function(e){return e.type===g.TenantLoginOptionType.BASIC}},{key:"isOauth2",value:function(e){return e.type===g.TenantLoginOptionType.OAUTH2&&e.grantType===g.GrantType.AUTHORIZATION_CODE}},{key:"isMicroserviceSubscribedInCurrentTenant",value:function(e){return(null==e?void 0:e.length)>0&&this.getSubscribedMicroservicesInCurrentTenant().some((function(t){return[t.name,t.contextPath].includes(e)}))}},{key:"getSubscribedMicroservicesInCurrentTenant",value:function(){return(0,c.get)(this.appStateService.currentTenant,"value.applications.references",[]).map((function(e){return e.application})).filter((function(e){return e.type===g.ApplicationType.MICROSERVICE}))}},{key:"hasApp",value:(t=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationService.isAvailable(t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isManagement",value:function(e){return e.name===this.MANAGEMENT}}]),e}();na.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:na,deps:[{token:g.UserService},{token:Hi},{token:g.ApplicationService}],target:r["ɵɵFactoryTarget"].Injectable}),na.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:na}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:na,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:g.UserService},{type:Hi},{type:g.ApplicationService}]}});var ra=function(){function e(t){var n=this;bi(this,e),this.elementRef=t,this.focused=!1,this.resizeObserver=new window.ResizeObserver((function(){return!n.focused&&n.resize()}))}return Ci(e,[{key:"onInput",value:function(){this.resize()}},{key:"onFocus",value:function(){this.focused=!0}},{key:"onBlur",value:function(){this.focused=!1}},{key:"ngOnInit",value:function(){var e,t=this;this.resizeObserver.observe(null===(e=this.elementRef)||void 0===e?void 0:e.nativeElement),setTimeout((function(){return t.resize()}))}},{key:"ngOnDestroy",value:function(){var e;this.resizeObserver.unobserve(null===(e=this.elementRef)||void 0===e?void 0:e.nativeElement)}},{key:"resize",value:function(){var e;this.elementRef.nativeElement.style.height="32px",this.elementRef.nativeElement.style.height=(null===(e=this.elementRef)||void 0===e?void 0:e.nativeElement.scrollHeight)+"px"}}]),e}();ra.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ra,deps:[{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Directive}),ra.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:ra,selector:"[c8y-textarea-autoresize]",host:{listeners:{":input":"onInput()",":focus":"onFocus()",":blur":"onBlur()"}},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ra,decorators:[{type:r.Directive,args:[{selector:"[c8y-textarea-autoresize]"}]}],ctorParameters:function(){return[{type:r.ElementRef}]},propDecorators:{onInput:[{type:r.HostListener,args:[":input"]}],onFocus:[{type:r.HostListener,args:[":focus"]}],onBlur:[{type:r.HostListener,args:[":blur"]}]}});var ia=function(){function e(){bi(this,e),this.LOCAL_STORAGE_KEY="userPreferences",this.store={};try{var t=window.localStorage.getItem(this.LOCAL_STORAGE_KEY);t&&(this.store=JSON.parse(t)||{})}catch(e){}}return Ci(e,[{key:"get",value:function(e){return(0,a.of)(this.store[e])}},{key:"set",value:function(e,t){return this.store[e]=t,this.saveJsonStore()}},{key:"saveJsonStore",value:function(){return window.localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(this.store))}}]),e}(),oa=function(){function e(t){bi(this,e),this.inventory=t,this.TYPE="c8y_UserPreference"}var t,n;return Ci(e,[{key:"get",value:(n=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inventory.list({fragmentType:t});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.length?r[0][t]:void 0);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"set",value:(t=ui(di().mark((function e(t,n){var r,i,o,a,s;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inventory.list({fragmentType:t});case 2:return i=e.sent,o=i.data,li(r={},t,n),li(r,"type",this.TYPE),a=r,o.length?(a.id=o[0].id,s=this.inventory.update(a)):s=this.inventory.create(a),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),aa=function(){function e(t,n,r){bi(this,e),this.user=t,this.inventory=n,this.appState=r,this.preferenceChanges$=new a.Subject,this.storage={local:new ia,inventory:new oa(this.inventory)},this.currentUser=this.appState.currentUser.pipe((0,s.filter)((function(e){return null!==e})))}return Ci(e,[{key:"observe",value:function(e){return(0,a.concat)(this.get(e),this.preferenceChanges$.pipe((0,s.filter)((function(t){return t.key===e})),(0,s.map)((function(e){return e.value}))))}},{key:"get",value:function(e){var t=this;return this.currentUser.pipe((0,s.first)(),(0,s.switchMap)((function(n){return t.getForUser(e,n)})))}},{key:"set",value:function(e,t){var n=this;return new Promise((function(r,i){n.currentUser.pipe((0,s.first)()).subscribe((function(i){n.preferenceChanges$.next({key:e,value:t}),r(n.setForUser(e,t,i))}),i)}))}},{key:"getForUser",value:function(e,t){var n=this.getRawKey(e,t),r=this.getStorage(t);return(0,a.from)(r.get(n))}},{key:"setForUser",value:function(e,t,n){var r=this.getRawKey(e,n),i=this.getStorage(n);return Promise.resolve(i.set(r,t))}},{key:"getRawKey",value:function(e,t){var n=t.userName.replace(/\./g,"__");return"".concat(e).concat(n)}},{key:"getStorage",value:function(e){return this.user.hasAllRoles(e,["ROLE_INVENTORY_READ","ROLE_INVENTORY_ADMIN"])?this.storage.inventory:this.storage.local}}]),e}();aa.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:aa,deps:[{token:g.UserService},{token:g.InventoryService},{token:Hi}],target:r["ɵɵFactoryTarget"].Injectable}),aa.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:aa}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:aa,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:g.UserService},{type:g.InventoryService},{type:Hi}]}});var sa=function(){function e(){bi(this,e)}return Ci(e,[{key:"getEntries",value:function(e){return new a.Observable((function(t){var n=new zip.BlobReader(e);zip.createReader(n,(function(e){e.getEntries((function(e){t.next(e),t.complete()}))}),(function(e){t.error({message:e})}))}))}},{key:"getData",value:function(e){return new a.Observable((function(t){var n=new zip.BlobWriter;e.getData(n,(function(e){t.next(e),t.complete()}))}))}},{key:"getJsonData",value:function(e,t){var n=this;return this.getEntries(e).pipe((0,s.map)((function(e){var n=e.find((function(e){return e.filename===t.filename}));return n||(0,a.throwError)("File not found ".concat(JSON.stringify(t))),n})),(0,s.concatMap)((function(e){return n.getData(e)})),(0,s.switchMap)(function(){var e=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,s.map)((function(e){return JSON.parse(e)})))}}]),e}();function ca(e,t,n){return function(){var r=e.queryStringLang(),i=e.firstSupportedLanguage();r&&e.getSupported(r)?e.switchToLanguage(r):t.currentUser.pipe((0,s.map)((function(e){return e&&e.userName})),(0,s.filter)((function(e){return!!e})),(0,s.distinctUntilChanged)(),(0,s.switchMap)((function(){return n.get("language")})),(0,s.startWith)(i),(0,s.filter)((function(e){return!!e})),(0,s.distinctUntilChanged)()).subscribe((function(t){e.switchToLanguage(t)}))}}var la=new r.InjectionToken("iconList"),da=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"providers",value:function(){return[].concat(wi(E.providers()),[{provide:Ui,useValue:window.C8Y_APP||{},multi:!0},{provide:r.APP_INITIALIZER,useFactory:ca,deps:[vo,Hi,aa],multi:!0},{provide:la,useValue:xo,multi:!1}],wi(mo.providers()),[aa,Gi,Hi,Ho,na,Ro,Go,zo,Ao,ea,Ko,Co,sa,$o,bo])}},{key:"forRoot",value:function(){return{ngModule:e,providers:e.providers()}}}]),e}();da.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:da,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),da.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:da,declarations:[Do,wo,Xo,Ro,Go,zo,Ao,qo,ea,No,To,Ko,Jo,Co,Zo,Wo,Io,ra,Qo,Po,Oo,bo,ta],imports:[u.CommonModule,mo,T.TooltipModule,p.Cl],exports:[Do,wo,Xo,mo,u.CommonModule,Ao,Ro,Go,zo,qo,ea,No,To,Ko,Jo,Co,Zo,Wo,Io,ra,Qo,Po,Oo,bo,ta]}),da.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:da,imports:[u.CommonModule,mo,T.TooltipModule,p.Cl,mo,u.CommonModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:da,decorators:[{type:r.NgModule,args:[{imports:[u.CommonModule,mo,T.TooltipModule,p.Cl],exports:[Do,wo,Xo,mo,u.CommonModule,Ao,Ro,Go,zo,qo,ea,No,To,Ko,Jo,Co,Zo,Wo,Io,ra,Qo,Po,Oo,bo,ta],declarations:[Do,wo,Xo,Ro,Go,zo,Ao,qo,ea,No,To,Ko,Jo,Co,Zo,Wo,Io,ra,Qo,Po,Oo,bo,ta],entryComponents:[To,Wo,Po]}]}]});var pa=function(){function e(t){bi(this,e),this.options=t,this.STORAGE_KEY="acceptCookieNotice",this.COOKIE_BANNER="cookieBanner",this.PREVIEW_COOKIE_BANNER="previewCookieBanner",this.IS_PREVIEW="preview",this.COOKIE_PREFERENCES_CONFIG="cookiePreferences",this.isCookieBannerShowed$=new a.Subject,this.cookieDescriptions={required:"These cookies are required to enable core site functionality. They perform a task or operation without which a site's functionality would not be possible.",functional:"These cookies are used to track site usage and to process my personal data to measure and improve usability and performance. We will neither forward this data to any third party nor use this data for direct marketing purposes. I recognize that I can opt in and out of these cookies at any time.",marketing:"These cookies are used to target advertising to a user."}}return Ci(e,[{key:"getCookiePreferencesConfig",value:function(){return this.options.get(this.COOKIE_PREFERENCES_CONFIG)}},{key:"getCookieBannerSettings",value:function(){var e;return this.isPreviewMode()&&(e=this.options.get(this.PREVIEW_COOKIE_BANNER))?e:e=this.options.get(this.COOKIE_BANNER)||{}}},{key:"setCookies",value:function(e){var t=ci({},e);Object.entries(t).forEach((function(e){var n=ii(e,2),r=n[0],i=n[1];t[r]="string"==typeof i||i})),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}},{key:"shouldShowCookieBanner",value:function(){var e=this.getCookieBannerSettings(),t=!!e.cookieBannerText&&!this.getUserCookiePreferences();return this.isPreviewMode()?!(e&&e.cookieBannerDisabled):t}},{key:"getUserCookiePreferences",value:function(){return JSON.parse(localStorage.getItem(this.STORAGE_KEY))}},{key:"isConfigCookiePreferencesDefined",value:function(){return!!this.getCookiePreferencesConfig()}},{key:"isFunctionalCookieEnabled",value:function(){return!0===(this.getUserCookiePreferences()||{}).functional}},{key:"getCookieDescription",value:function(e){var t=this.getCookiePreferencesConfig();return"string"==typeof t[e]?t[e]:this.cookieDescriptions[e]}},{key:"transformCookiePreferencesToList",value:function(e){return Object.entries(e).map((function(e){var t=ii(e,2),n=t[0];return{name:n,value:t[1],isReadonly:"required"===n}}))}},{key:"transformCookiePreferencesListToCookiePreferences",value:function(e){return e.reduce((function(e,t){return e[t.name]=t.value,e}),{})}},{key:"isPreviewMode",value:function(){return this.options.get(this.IS_PREVIEW,!1,!0)}}]),e}();pa.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pa,deps:[{token:Gi}],target:r["ɵɵFactoryTarget"].Injectable}),pa.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pa,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pa,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Gi}]}});var ua=function(){function e(t,n,r,i,o,s){bi(this,e),this.document=t,this.appState=n,this.options=r,this.cookieBannerService=i,this.userPreferencesService=o,this.translateService=s,this.tagFunction$=new a.BehaviorSubject(null),this.USER_PREFERENCES_GAINSIGHT_KEY="gainsightEnabled",this.USER_PREFERENCES_GAINSIGHT_BOT_KEY="gainsightBotEnabled",this.HIDE_GAINSIGHT_BOT_STYLE_ID="hide-gs-bot",this.GAINSIGHT_URL="web-sdk.aptrinsic.com/api/aptrinsic.js?a=",this.GAINSIGHT_GLOBAL_SCOPE="aptrinsic",this.SCRIPT_EXECUTION_WAIT_TIME=500,this.OPTIONS_KEY_CATEGORY="gainsight",this.OPTIONS_KEY_NAME="api.key",this.isScriptLoaded=!1}var t,n,r,i;return Ci(e,[{key:"isGainsightPreferenceDisabledInUserPreferences",value:(i=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userPreferencesService.get(t).toPromise();case 2:return n=e.sent,e.abrupt("return",!1===n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"setFunctionalCookie",value:function(e){var t=this.cookieBannerService.getUserCookiePreferences();t&&(Object.keys(t).forEach((function(n){"functional"!==n||(t[n]=e)})),localStorage.setItem("acceptCookieNotice",JSON.stringify(t)))}},{key:"getGainsightKey",value:(r=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.options.gainsightKey,e.t0){e.next=5;break}return e.next=4,this.options.getSystemOption(this.OPTIONS_KEY_CATEGORY,this.OPTIONS_KEY_NAME);case 4:e.t0=e.sent;case 5:return this.gainsightKey=e.t0,e.abrupt("return",this.gainsightKey);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"tagFunction",get:function(){return window[this.GAINSIGHT_GLOBAL_SCOPE]}},{key:"loadTag",value:(n=ui((function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return di().mark((function r(){var i,o;return di().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=document.createElement("script"),r.next=3,t.getGainsightKey();case 3:(o=r.sent)&&!t.isScriptLoaded&&(t.loadScriptTag(i,o),(0,a.combineLatest)(t.appState.currentUser,(0,a.fromEvent)(i,"load"),t.appState.state$.pipe((0,s.filter)((function(e){return e.versions.backend})),(0,s.map)((function(e){return e.versions})),(0,s.take)(1))).pipe((0,s.delay)(t.SCRIPT_EXECUTION_WAIT_TIME),(0,s.filter)((function(e){var t=ii(e,2),n=t[0];return!(!t[1]||!n)}))).subscribe((function(r){var i=ii(r,3),o=i[0],a=i[2],s=t.getInstanceIdFromUrl();n&&t.identify(o,e,s,a.ui.ngx,a.backend),t.isScriptLoaded=!0,t.tagFunction$.next(t.tagFunction)})));case 5:case"end":return r.stop()}}),r)}))()})),function(e){return n.apply(this,arguments)})},{key:"identify",value:function(e,t,n,r,i){var o=window,a=e.id,s=e.email,c=e.userName,l=e.firstName,d=e.lastName,p=t.name,u=t.customProperties,g=t.domainName,h=(u||{}).externalReference;o[this.GAINSIGHT_GLOBAL_SCOPE]("identify",{id:"".concat(a,"_").concat(p,"_").concat(n),email:s,userName:c,firstName:l,lastName:d,domainName:g,versionUI:r,versionBE:i,userLanguage:this.translateService.currentLang,instanceId:n,externalReference:h},{id:"".concat(p,"_").concat(n),instanceId:n})}},{key:"triggerEvent",value:function(e,t){this.tagFunction&&e&&(e=this.prepareEventName(e),this.tagFunction("track",e,t))}},{key:"translateToEnglish",value:function(e){var t=this.translateService.currentLang;return"en"===t?e:(t&&t!==this.cachedLanguage&&(this.cachedRevertedTranslations=void 0),this.cachedRevertedTranslations||(this.cachedLanguage=t,this.cachedRevertedTranslations=this.getRevertedTranslations(t)),this.getEnTranslation(e,this.cachedRevertedTranslations))}},{key:"shouldLoadGainsightTag",value:function(e){return this.cookieBannerService.isConfigCookiePreferencesDefined()&&this.cookieBannerService.isFunctionalCookieEnabled()&&!this.isGainsightDisabled(e)&&!this.isCustomBranding()}},{key:"canEditProductExperienceSettings",value:(t=ui(di().mark((function e(){var t,n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.appState.currentTenant.value,n=t.customProperties,e.t0=!!this.gainsightKey,e.t0){e.next=7;break}return e.next=6,this.getGainsightKey();case 6:e.t0=!!e.sent;case 7:return r=e.t0,e.abrupt("return",r&&this.cookieBannerService.isConfigCookiePreferencesDefined()&&!this.isGainsightDisabled(n)&&!!this.cookieBannerService.getUserCookiePreferences()&&!this.isCustomBranding());case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"switchKnowledgeHubBotVisibility",value:function(e){!0!==e?this.addHidingStyle(this.HIDE_GAINSIGHT_BOT_STYLE_ID):this.removeHidingStyle(this.HIDE_GAINSIGHT_BOT_STYLE_ID)}},{key:"addHidingStyle",value:function(e){if(!this.document.getElementById(e)){var t=this.document.createElement("style");t.id=e,t.textContent="#apt-widget { display:none }",this.document.head.appendChild(t)}}},{key:"removeHidingStyle",value:function(e){var t=this.document.getElementById(e);null==t||t.remove()}},{key:"prepareEventName",value:function(e){return e.split(":").map((function(e){return(0,c.camelCase)(function(e){return e.replace(/`[\w\W]*`/g,"")}(e))})).join(":")}},{key:"isGainsightDisabled",value:function(e){return!1===(e&&e.gainsightEnabled)}},{key:"isCustomBranding",value:function(){return!!(this.options.get("brandingCssVars")||{})["brand-logo-img"]}},{key:"loadScriptTag",value:function(e,t){try{var n=window,r=document.getElementsByTagName("script")[0],i=location.protocol,o=this.GAINSIGHT_GLOBAL_SCOPE;e.src="".concat(i,"//").concat(this.GAINSIGHT_URL).concat(t),n[this.GAINSIGHT_GLOBAL_SCOPE]=n[this.GAINSIGHT_GLOBAL_SCOPE]||function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(n[o].q=n[o].q||[]).push(t)},n[o].p=t,e.async=!0,r.parentNode.insertBefore(e,r)}catch(e){console.warn("Failed to load Gainsight PX",e)}}},{key:"getInstanceIdFromUrl",value:function(){var e=location.hostname;return e.substring(e.indexOf(".")+1)}},{key:"getRevertedTranslations",value:function(e){var t=this.translateService.store.translations[e],n={};return Object.keys(t).forEach((function(e){n[t[e]]=e})),n}},{key:"getEnTranslation",value:function(e,t){var n=t[e];if(!n)return e;return n=n.replace(/\`(.*?)\`/,"")}}]),e}();ua.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ua,deps:[{token:u.DOCUMENT},{token:Hi},{token:Gi},{token:pa},{token:aa},{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Injectable}),ua.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ua,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ua,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:u.DOCUMENT,decorators:[{type:r.Inject,args:[u.DOCUMENT]}]},{type:Hi},{type:Gi},{type:pa},{type:aa},{type:ye.TranslateService}]}});var ga=function(){function e(t){bi(this,e),this.gainsightService=t,this.navigatorOpen=!1,this.hasTabs=!1,this.isTabsHorizontal=!1,this.isPageToolbarExpanded=!1,this.uiActionBar=!0,this.items$=(0,a.of)([]),this.right$=(0,a.of)([]),this.left$=(0,a.of)([]),this.more$=(0,a.of)([]),this.hidden$=(0,a.of)(!0),this.hidden=!0,this.destroy$=new a.Subject}return Ci(e,[{key:"mouseDown",value:function(e){if("page-toolbar"!==e.getAttribute("id")){var t=e.closest("[px-event]")||e.closest("[title]")||e.closest("[uib-tooltip]");if(t){var n=t.getAttribute("px-event")||t.getAttribute("title")||t.getAttribute("uib-tooltip"),r=this.gainsightService.translateToEnglish(n);this.gainsightService.triggerEvent("actionBarItem:".concat(r),{url:t.baseURI})}}}},{key:"ngOnInit",value:function(){var e=this;this.right$=this.items$.pipe((0,s.map)((function(e){return(0,c.filter)(e,{placement:"right"})})),(0,s.map)((function(t){return(0,c.sortBy)(t,e.byPriority)}))),this.left$=this.items$.pipe((0,s.map)((function(e){return(0,c.filter)(e,{placement:"left"})})),(0,s.map)((function(t){return(0,c.sortBy)(t,e.byPriority)}))),this.more$=this.items$.pipe((0,s.map)((function(e){return(0,c.filter)(e,{placement:"more"})})),(0,s.map)((function(t){return(0,c.sortBy)(t,e.byPriority)}))),this.hidden$=this.items$.pipe((0,s.map)((function(e){return!(e&&e.length)}))),this.hidden$.pipe((0,s.takeUntil)(this.destroy$)).subscribe((function(t){e.hidden=t}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"byPriority",value:function(e){return-e.priority}}]),e}();ga.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ga,deps:[{token:ua}],target:r["ɵɵFactoryTarget"].Component}),ga.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ga,selector:"c8y-action-bar",inputs:{navigatorOpen:"navigatorOpen",hasTabs:"hasTabs",isTabsHorizontal:"isTabsHorizontal",items$:"items$"},host:{listeners:{mousedown:"mouseDown($event.target)"},properties:{"class.navigator-open":"this.navigatorOpen","class.has-tabs":"this.hasTabs","class.horizontal-tabs":"this.isTabsHorizontal","class.c8y-ui-action-bar":"this.uiActionBar",hidden:"this.hidden"},classAttribute:"c8y-ui-action-bar"},ngImport:i,template:'<div class="navbar-header">\n  <p class="text-label-small p-l-16 p-t-8 p-b-8 visible-xs">\n    <span class="text-primary">{{ \'Action bar\' | translate }}</span>\n  </p>\n</div>\n\n<div id="page-toolbar" class="navbar-collapse">\n  <ul class="nav navbar-nav navbar-left">\n    <ng-container *ngFor="let item of left$ | async">\n      <ng-container *c8yOutlet="item.template"></ng-container>\n    </ng-container>\n  </ul>\n  <ul class="nav navbar-nav navbar-right">\n    <ng-container *ngFor="let item of right$ | async">\n      <ng-container *c8yOutlet="item.template"></ng-container>\n    </ng-container>\n    <li class="no-remove more-wrapper" *ngIf="(more$ | async).length > 0">\n      <div class="dropdown" dropdown>\n        <button\n          title="{{ \'More\' | translate }}…"\n          class="dropdown-toggle c8y-dropdown d-flex"\n          dropdownToggle\n          aria-haspopup="true"\n          aria-expanded="false"\n        >\n          <span class="text-truncate" translate>More…</span>\n          <i [c8yIcon]="\'caret-down\'"></i>\n        </button>\n        <ul class="dropdown-menu visible-xs">\n          <ng-container *ngFor="let item of more$ | async">\n            <ng-container *c8yOutlet="item.template"></ng-container>\n          </ng-container>\n        </ul>\n        <ul class="dropdown-menu dropdown-menu-right hidden-xs" *dropdownMenu>\n          <ng-container *ngFor="let item of more$ | async">\n            <ng-container *c8yOutlet="item.template"></ng-container>\n          </ng-container>\n        </ul>\n      </div>\n    </li>\n  </ul>\n</div>\n',dependencies:[{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Xo,selector:"[c8yOutlet]",inputs:["c8yOutlet","c8yOutletProperties"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ga,decorators:[{type:r.Component,args:[{selector:"c8y-action-bar",host:{class:"c8y-ui-action-bar"},template:'<div class="navbar-header">\n  <p class="text-label-small p-l-16 p-t-8 p-b-8 visible-xs">\n    <span class="text-primary">{{ \'Action bar\' | translate }}</span>\n  </p>\n</div>\n\n<div id="page-toolbar" class="navbar-collapse">\n  <ul class="nav navbar-nav navbar-left">\n    <ng-container *ngFor="let item of left$ | async">\n      <ng-container *c8yOutlet="item.template"></ng-container>\n    </ng-container>\n  </ul>\n  <ul class="nav navbar-nav navbar-right">\n    <ng-container *ngFor="let item of right$ | async">\n      <ng-container *c8yOutlet="item.template"></ng-container>\n    </ng-container>\n    <li class="no-remove more-wrapper" *ngIf="(more$ | async).length > 0">\n      <div class="dropdown" dropdown>\n        <button\n          title="{{ \'More\' | translate }}…"\n          class="dropdown-toggle c8y-dropdown d-flex"\n          dropdownToggle\n          aria-haspopup="true"\n          aria-expanded="false"\n        >\n          <span class="text-truncate" translate>More…</span>\n          <i [c8yIcon]="\'caret-down\'"></i>\n        </button>\n        <ul class="dropdown-menu visible-xs">\n          <ng-container *ngFor="let item of more$ | async">\n            <ng-container *c8yOutlet="item.template"></ng-container>\n          </ng-container>\n        </ul>\n        <ul class="dropdown-menu dropdown-menu-right hidden-xs" *dropdownMenu>\n          <ng-container *ngFor="let item of more$ | async">\n            <ng-container *c8yOutlet="item.template"></ng-container>\n          </ng-container>\n        </ul>\n      </div>\n    </li>\n  </ul>\n</div>\n'}]}],ctorParameters:function(){return[{type:ua}]},propDecorators:{navigatorOpen:[{type:r.Input},{type:r.HostBinding,args:["class.navigator-open"]}],hasTabs:[{type:r.Input},{type:r.HostBinding,args:["class.has-tabs"]}],isTabsHorizontal:[{type:r.Input},{type:r.HostBinding,args:["class.horizontal-tabs"]}],uiActionBar:[{type:r.HostBinding,args:["class.c8y-ui-action-bar"]}],items$:[{type:r.Input}],hidden:[{type:r.HostBinding}],mouseDown:[{type:r.HostListener,args:["mousedown",["$event.target"]]}]}});var ha=Ci((function e(){bi(this,e)}));ha.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ha,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),ha.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ha,declarations:[ga,ji],imports:[d.BsDropdownModule,da,l.CollapseModule,o.RouterModule],exports:[ga,ji]}),ha.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ha,imports:[d.BsDropdownModule,da,l.CollapseModule,o.RouterModule.forChild([])]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ha,decorators:[{type:r.NgModule,args:[{declarations:[ga,ji],imports:[d.BsDropdownModule,da,l.CollapseModule,o.RouterModule.forChild([])],exports:[ga,ji]}]}]});var ma=new r.InjectionToken("ActionFactory"),fa=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this)).injector=e,i.factories=[],i.refreshTrigger=new a.Subject,i.state$=new a.BehaviorSubject(new Set),i.items$=$i(r,i.refreshTrigger,[function(){return i.injector.get(ma,[])},function(){return i.factories},Fi(i.state$)]).pipe((0,s.map)((function(e){return Oi(e)})),(0,s.shareReplay)(1)),i}return Ci(n,[{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"state",get:function(){return this.state$.value}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}}]),n}(Ri);fa.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fa,deps:[{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),fa.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fa,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fa,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router}]}});var ya=function(){function e(){bi(this,e),this.isPageToolbarExpanded=!1,this.items=[]}return Ci(e,[{key:"hasItems",get:function(){return!!this.items.length}},{key:"getByPriority",value:function(){return(0,c.sortBy)(this.items,this.byPriority)}},{key:"invoke",value:function(e){e.action&&e.action.call()}},{key:"byPriority",value:function(e){return-e.priority}}]),e}();ya.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ya,deps:[],target:r["ɵɵFactoryTarget"].Component}),ya.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ya,selector:"c8y-action-outlet",inputs:{items:"items"},host:{properties:{"class.main-header-item":"this.hasItems"}},ngImport:i,template:'<div class="dropdown" dropdown *ngIf="items && items.length > 0">\n  <button\n    type="button"\n    class="main-header-button dropdown-toggle c8y-dropdown"\n    dropdownToggle\n    aria-haspopup="true"\n    aria-expanded="true"\n    title="{{\'Actions\' | translate}}">\n    <i [c8yIcon]="\'plus-circle\'" class="icon-2x"></i>\n  </button>\n\n  <ul class="dropdown-menu cog-dropdown" *dropdownMenu>\n    <ng-container *ngFor="let item of getByPriority()">\n      <ng-container *c8yOutlet="item.template"></ng-container>\n      <li *ngIf="item.label">\n        <button title="{{ item.label | translate }}" [attr.disabled]="item.disabled ? \'disabled\' : null" (click)="invoke(item)">\n          <i *ngIf="item.icon" [c8yIcon]="item.icon"></i>{{item.label | translate}}\n        </button>\n      </li>\n    </ng-container>\n  </ul>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Xo,selector:"[c8yOutlet]",inputs:["c8yOutlet","c8yOutletProperties"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ya,decorators:[{type:r.Component,args:[{selector:"c8y-action-outlet",template:'<div class="dropdown" dropdown *ngIf="items && items.length > 0">\n  <button\n    type="button"\n    class="main-header-button dropdown-toggle c8y-dropdown"\n    dropdownToggle\n    aria-haspopup="true"\n    aria-expanded="true"\n    title="{{\'Actions\' | translate}}">\n    <i [c8yIcon]="\'plus-circle\'" class="icon-2x"></i>\n  </button>\n\n  <ul class="dropdown-menu cog-dropdown" *dropdownMenu>\n    <ng-container *ngFor="let item of getByPriority()">\n      <ng-container *c8yOutlet="item.template"></ng-container>\n      <li *ngIf="item.label">\n        <button title="{{ item.label | translate }}" [attr.disabled]="item.disabled ? \'disabled\' : null" (click)="invoke(item)">\n          <i *ngIf="item.icon" [c8yIcon]="item.icon"></i>{{item.label | translate}}\n        </button>\n      </li>\n    </ng-container>\n  </ul>\n</div>\n'}]}],propDecorators:{hasItems:[{type:r.HostBinding,args:["class.main-header-item"]}],items:[{type:r.Input}]}});var va=function(){function e(t){bi(this,e),this.actionService=t,this.disabled=!1,this.priority=0}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.viewInitTimeout=setTimeout((function(){return e.actionService.add(e)}))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.viewInitTimeout),this.actionService.remove(this)}}]),e}();va.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:va,deps:[{token:fa}],target:r["ɵɵFactoryTarget"].Component}),va.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:va,selector:"c8y-action",inputs:{disabled:"disabled",label:"label",priority:"priority",icon:"icon"},viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0}],ngImport:i,template:"<ng-template #template>\n  <li>\n    <ng-content></ng-content>\n  </li>\n</ng-template>"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:va,decorators:[{type:r.Component,args:[{selector:"c8y-action",template:"<ng-template #template>\n  <li>\n    <ng-content></ng-content>\n  </li>\n</ng-template>"}]}],ctorParameters:function(){return[{type:fa}]},propDecorators:{disabled:[{type:r.Input}],label:[{type:r.Input}],priority:[{type:r.Input}],icon:[{type:r.Input}],template:[{type:r.ViewChild,args:["template",{static:!1}]}]}});var ba=Ci((function e(){bi(this,e)}));ba.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ba,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),ba.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ba,declarations:[ya,va],imports:[da,d.BsDropdownModule,o.RouterModule],exports:[ya,va]}),ba.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ba,imports:[da,d.BsDropdownModule,o.RouterModule.forChild([])]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ba,decorators:[{type:r.NgModule,args:[{declarations:[ya,va],imports:[da,d.BsDropdownModule,o.RouterModule.forChild([])],exports:[ya,va]}]}]});var ka=function(e){gi(n,e);var t=mi(n);function n(){var e;return bi(this,n),(e=t.apply(this,arguments)).state$=new a.BehaviorSubject([]),e.MAX_ALERTS=3,e.ALERT_TIMEOUT=3e3,e}return Ci(n,[{key:"state",get:function(){return this.state$.value}},{key:"add",value:function(e){this.addAlert(e)}},{key:"addByText",value:function(e,t,n){this.addAlert({text:t,type:e,detailedData:n})}},{key:"list",value:function(){return this.state}},{key:"remove",value:function(e){var t=this;this.changeAlerts(this.state.filter((function(n){return!t.areSame(e,n)})))}},{key:"update",value:function(e,t){var n=this;this.changeAlerts(this.state.map((function(r){return n.areSame(e,r)&&Object.assign(r,t),r})))}},{key:"removeLastDanger",value:function(){var e=this.state.reverse().find((function(e){return"danger"===e.type}));this.changeAlerts(this.state.filter((function(t){return t!==e})))}},{key:"saveSuccess",value:function(e){var t=this;return function(){var n="".concat(e," saved successfully");t.addByText("success",n)}}},{key:"createSuccess",value:function(e){var t=this;return function(){var n="".concat(e," created successfully");t.addByText("success",n)}}},{key:"clearAll",value:function(){this.changeAlerts([])}},{key:"success",value:function(e,t){this.addByText("success",e,t)}},{key:"danger",value:function(e,t){this.addByText("danger",e,t)}},{key:"info",value:function(e,t){this.addByText("info",e,t)}},{key:"warning",value:function(e,t){this.addByText("warning",e,t)}},{key:"addServerFailure",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger",r=e.data,i=e.res,o=(null==r?void 0:r.message)||null;r&&("object"===ti(r)?t=r.exceptionMessage:"string"==typeof r&&(t=r));var a=!(!o&&!t);o||(o="A server error occurred."),i&&!a&&(t={status:i.status,statusText:i.statusText,url:i.url}),this.addAlert({type:n,text:o,detailedData:t})}},{key:"areSame",value:function(e,t){return e.text===t.text&&e.type===t.type&&(0,c.isEqual)(e.detailedData,t.detailedData)&&e.onClose===t.onClose&&e.onDetail===t.onDetail}},{key:"changeAlerts",value:function(e){this.state$.next(e)}},{key:"addAlert",value:function(e){var t=this;if(!e.text&&!e.type)throw new Error("Cannot add empty alert");this.state.find((function(n){return t.areSame(e,n)}))||(this.changeAlerts([].concat(wi(this.state),[e])),this.hideAutomaticallyIfNeeded(e),this.removeOldestIfMax())}},{key:"hideAutomaticallyIfNeeded",value:function(e){var t=this,n="success"===e.type,r=!e.detailedData,i=n&&r?this.ALERT_TIMEOUT:0;void 0!==e.timeout&&(i=e.timeout),i&&setTimeout((function(){return t.remove(e)}),i)}},{key:"removeOldestIfMax",value:function(){if(this.state.length>this.MAX_ALERTS){var e=(ai(t=this.state)||xi(t)||Si(t)||oi()).slice(1);this.changeAlerts(e)}var t}}]),n}(Ri);ka.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ka,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),ka.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ka,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ka,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});var Ca=Ci((function e(){bi(this,e)}));Ca.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ca,deps:[],target:r["ɵɵFactoryTarget"].Component}),Ca.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ca,selector:"c8y-alert-details",ngImport:i,template:"<ng-content></ng-content>",isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ca,decorators:[{type:r.Component,args:[{selector:"c8y-alert-details",template:"<ng-content></ng-content>"}]}]});var Ia=function(){function e(t){bi(this,e),this.alertService=t}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.containDetailsComponent||(this.detailedData=null),this.viewInitTimeout=setTimeout((function(){return e.alertService.add(e)}))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.viewInitTimeout),this.alertService.remove(this)}}]),e}();Ia.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ia,deps:[{token:ka}],target:r["ɵɵFactoryTarget"].Component}),Ia.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ia,selector:"c8y-alert",inputs:{type:"type",onDetail:"onDetail",onClose:"onClose"},queries:[{propertyName:"containDetailsComponent",first:!0,predicate:Ca,descendants:!0}],viewQueries:[{propertyName:"detailedData",first:!0,predicate:["detailedData"],descendants:!0},{propertyName:"text",first:!0,predicate:["text"],descendants:!0}],ngImport:i,template:'<ng-template #text>\r\n  <ng-content select="c8y-alert-text"></ng-content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #detailedData>\r\n  <ng-content select="c8y-alert-details"></ng-content>\r\n</ng-template>'}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ia,decorators:[{type:r.Component,args:[{selector:"c8y-alert",template:'<ng-template #text>\r\n  <ng-content select="c8y-alert-text"></ng-content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #detailedData>\r\n  <ng-content select="c8y-alert-details"></ng-content>\r\n</ng-template>'}]}],ctorParameters:function(){return[{type:ka}]},propDecorators:{type:[{type:r.Input}],onDetail:[{type:r.Input}],onClose:[{type:r.Input}],detailedData:[{type:r.ViewChild,args:["detailedData",{static:!1}]}],text:[{type:r.ViewChild,args:["text",{static:!1}]}],containDetailsComponent:[{type:r.ContentChild,args:[Ca,{static:!1}]}]}});var wa=function(){function e(t,n){bi(this,e),this.position=t,this.alertService=n,this.detailDisplayedAlert={},this.isStatic=!1,this.isStatic="static"===this.position}return Ci(e,[{key:"alerts",get:function(){return this.alertService.state$}},{key:"getClass",value:function(e){var t=[];return"danger"!==e.type&&t.push("interact"),t.push("alert-".concat(e.type)),t.join(" ")}},{key:"close",value:function(e){e.onClose&&e.onClose(),this.alertService.remove(e)}},{key:"showDetails",value:function(e){if(e.onDetail)return e.onDetail();this.detailDisplayedAlert=Object.assign({},e),this.detailDisplayedAlert.mode="raw",this.setDetailsContent(e)}},{key:"hasDetails",value:function(e){return e.detailedData||e.onDetail}},{key:"closeDetails",value:function(){this.detailDisplayedAlert={}}},{key:"isDetailsShow",value:function(e){return this.alertService.areSame(e,this.detailDisplayedAlert)}},{key:"isTemplateRef",value:function(e){return e instanceof r.TemplateRef}},{key:"template",value:function(e){return this.isTemplateRef(e)?e:void 0}},{key:"setDetailsContent",value:function(e){this.isTemplateRef(e.detailedData)||"string"==typeof e.detailedData?this.detailDisplayedAlert.contents=e.detailedData:this.detailDisplayedAlert.contents=JSON.stringify(e.detailedData,null,2)}}]),e}();wa.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wa,deps:[{token:"position",attribute:!0},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),wa.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:wa,selector:"c8y-alert-outlet",host:{properties:{"class.static":"this.isStatic"}},ngImport:i,template:'<div\n  class="alert animated fadeInRightBig m-t-16"\n  *ngFor="let alert of alerts | async"\n  [ngClass]="[getClass(alert), isDetailsShow(alert) ? \'expanded\' : \'\']"\n>\n  <button title="{{ \'Close\' | translate }}" type="button" class="close" (click)="close(alert)">\n    <span aria-hidden="true">&times;</span>\n    <span class="sr-only">{{ \'Close\' | translate }}</span>\n  </button>\n\n  <div *ngIf="!isTemplateRef(alert.text); else template(alert.text)">\n    <strong *ngIf="!alert.allowHtml" [textContent]="alert.text | translate" class="message"></strong>\n    <strong *ngIf="alert.allowHtml" [innerHTML]="alert.text | translate" class="message"></strong>\n  </div>\n  <p *ngIf="hasDetails(alert) && !isDetailsShow(alert)" class="text-muted m-t-8">\n    <button\n      title="{{ \'Show details\' | translate }}"\n      class="btn btn-clean"\n      (click)="showDetails(alert)"\n    >\n      <i c8yIcon="chevron-down"></i>\n      {{ \'Show details\' | translate }}\n    </button>\n  </p>\n  <p *ngIf="hasDetails(alert) && isDetailsShow(alert)" class="text-muted m-t-8">\n    <button title="{{ \'Hide details\' | translate }}" class="btn btn-clean" (click)="closeDetails()">\n      <i c8yIcon="chevron-up"></i>\n      {{ \'Hide details\' | translate }}\n    </button>\n  </p>\n  <div *ngIf="isDetailsShow(alert)">\n    <div *ngIf="!isTemplateRef(detailDisplayedAlert.contents); else template(alert.detailedData)">\n      <pre><code [textContent]="detailDisplayedAlert.contents | translate"></code></pre>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wa,decorators:[{type:r.Component,args:[{selector:"c8y-alert-outlet",template:'<div\n  class="alert animated fadeInRightBig m-t-16"\n  *ngFor="let alert of alerts | async"\n  [ngClass]="[getClass(alert), isDetailsShow(alert) ? \'expanded\' : \'\']"\n>\n  <button title="{{ \'Close\' | translate }}" type="button" class="close" (click)="close(alert)">\n    <span aria-hidden="true">&times;</span>\n    <span class="sr-only">{{ \'Close\' | translate }}</span>\n  </button>\n\n  <div *ngIf="!isTemplateRef(alert.text); else template(alert.text)">\n    <strong *ngIf="!alert.allowHtml" [textContent]="alert.text | translate" class="message"></strong>\n    <strong *ngIf="alert.allowHtml" [innerHTML]="alert.text | translate" class="message"></strong>\n  </div>\n  <p *ngIf="hasDetails(alert) && !isDetailsShow(alert)" class="text-muted m-t-8">\n    <button\n      title="{{ \'Show details\' | translate }}"\n      class="btn btn-clean"\n      (click)="showDetails(alert)"\n    >\n      <i c8yIcon="chevron-down"></i>\n      {{ \'Show details\' | translate }}\n    </button>\n  </p>\n  <p *ngIf="hasDetails(alert) && isDetailsShow(alert)" class="text-muted m-t-8">\n    <button title="{{ \'Hide details\' | translate }}" class="btn btn-clean" (click)="closeDetails()">\n      <i c8yIcon="chevron-up"></i>\n      {{ \'Hide details\' | translate }}\n    </button>\n  </p>\n  <div *ngIf="isDetailsShow(alert)">\n    <div *ngIf="!isTemplateRef(detailDisplayedAlert.contents); else template(alert.detailedData)">\n      <pre><code [textContent]="detailDisplayedAlert.contents | translate"></code></pre>\n    </div>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Attribute,args:["position"]}]},{type:ka}]},propDecorators:{isStatic:[{type:r.HostBinding,args:["class.static"]}]}});var Sa=Ci((function e(){bi(this,e)}));Sa.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Sa,deps:[],target:r["ɵɵFactoryTarget"].Component}),Sa.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Sa,selector:"c8y-alert-text",ngImport:i,template:"<ng-content></ng-content>",isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Sa,decorators:[{type:r.Component,args:[{selector:"c8y-alert-text",template:"<ng-content></ng-content>"}]}]});var xa=Ci((function e(){bi(this,e)}));xa.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xa,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),xa.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:xa,declarations:[wa,Ia,Ca,Sa],imports:[da],exports:[wa,Ia,Ca,Sa]}),xa.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xa,imports:[da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xa,decorators:[{type:r.NgModule,args:[{imports:[da],exports:[wa,Ia,Ca,Sa],declarations:[wa,Ia,Ca,Sa]}]}]});var Da=function(){function e(t){bi(this,e),this.children=[],this.parents=[],this.routerLinkExact=!0,this.open=!1,this.hidden=!1,this.draggable=!1,this.droppable=!1,this.dragged=!1,this.draggedHover=!1,this.confirm=void 0,this._priority=0,this.update(t)}return Ci(e,[{key:"hasChildren",get:function(){return this.children.length>0}},{key:"id",get:function(){return"navigator_node_"+(0,c.snakeCase)(this.label)}},{key:"priority",get:function(){if(this._priority)return this._priority;var e=this.children.map((function(e){return e.priority||0}));return e.length&&e.length?Math.max.apply(Math,wi(e)):0},set:function(e){this._priority=e}},{key:"openOnStart",value:function(e){return!1}},{key:"add",value:function(e){if(e===this)throw new Error("Adding node to itself");-1===this.children.indexOf(e)&&this.children.push(e),-1===e.parents.indexOf(this)&&e.parents.push(this),this.updateChildren()}},{key:"remove",value:function(e){var t=this.children.indexOf(e),n=e.parents.indexOf(this);t>-1&&this.children.splice(t,1),n>-1&&e.parents.splice(n,1),this.updateChildren()}},{key:"update",value:function(e){e&&(Object.assign(this,e),void 0!==e.hidden&&this.parents.forEach((function(e){e.updateHidden()})))}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";if("string"==typeof e)if("label"===t){var n=e.toLocaleLowerCase();e=function(e){var t=e.label;return n===t.toLowerCase()}}else{var r=e;e=function(e){var t=e.featureId;return r===t}}if("object"===ti(e)&&(e=(0,c.matches)(e)),"function"!=typeof e)throw new Error("Invalid search predicate");return this.children.reduce((function(t,n){return t||n.find(e)}),this.children.find(e))}},{key:"empty",value:function(){this.children.length=0}},{key:"click",value:function(){}},{key:"drop",value:function(e){e.stopPropagation(),clearTimeout(this.expandDragTimeout)}},{key:"dragStart",value:function(e){e.stopPropagation(),e.dataTransfer.setData("node","node"),this.dragged=!0}},{key:"dragEnd",value:function(e){e.stopPropagation(),this.dragged=!1}},{key:"canDrop",get:function(){return this.droppable}},{key:"canNavigate",get:function(){return void 0!==this.path}},{key:"dragEnter",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.draggedHover=!0,this.open||(this.expandDragTimeout=setTimeout((function(){return t.expand()}),1e3))}},{key:"dragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.draggedHover=!1,clearTimeout(this.expandDragTimeout)}},{key:"expand",value:function(){this.open||(this.open=!0,this.click({open:!0,expander:!0}))}},{key:"traverse",value:function(e){this.children&&this.children.forEach((function(t){e(t),t.traverse(e)}))}},{key:"destroy",value:function(){}},{key:"countChildren",value:function(){return this.children.length}},{key:"toString",value:function(){return e.NAME}},{key:"hasChildDevices",value:function(){return!1}},{key:"updateChildren",value:function(){this.sort(),this.updateHidden()}},{key:"sort",value:function(){this.children.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:(e.label||"").toLowerCase()<(t.label||"").toLowerCase()?-1:(e.label||"").toLowerCase()>(t.label||"").toLowerCase()?1:0}))}},{key:"updateHidden",value:function(){void 0===this.path&&(this.hidden=!this.children.some((function(e){return!e.hidden})))}}]),e}();Da.NAME="NavigatorNode";var $a=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n,[{key:"addRoot",value:function(e){var t;if(e.preventDuplicates&&(t=this.find((function(t){var n=t.path,r=t.parents,i=t.label;return n===e.path&&i===e.label&&r.some((function(t){return t.label===e.parent}))})))&&!t.hidden)return t.routerLinkExact=!1,t;var n,r=e.parent,i=this.createNode(e);return r&&("object"===ti(r)?(n=this.find(r.label))&&n.update(r):"string"!=typeof r&&"function"!=typeof r||(n=this.find(r)),n||(n=this.createNode(r),this.find((function(e){return n===e}))||this.add(n))),(n||this).add(i),i}},{key:"createNode",value:function(e){if(e instanceof Da)return e;if("string"==typeof e)return new Da({label:e});if("object"===ti(e))return new Da(ci(ci({},e),{},{parent:void 0}));throw new Error("Wrong type of node data")}}]),n}(Da),Ea=new r.InjectionToken("NavigatorNodesFactory"),Ta=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;bi(this,n),(i=t.call(this)).injector=e,i.router=r,i.refreshTrigger=new a.Subject,i.state$=new a.BehaviorSubject(new Set),i.firstUrl=!0,i.factories=[];var o=new $a;return i.items$=Ei(r,i.refreshTrigger,[function(){return i.injector.get(Ea,[])},function(){return i.factories},Fi(i.state$)]).pipe((0,s.map)((function(e){var t=e.filter((function(e){return!e.parent})),n=e.filter((function(e){return e.parent})),r=Oi(t).concat(Oi(n));return o.empty(),r.forEach((function(e){return o.addRoot(e)})),o.children})),(0,s.shareReplay)(1)),i}return Ci(n,[{key:"openOnFirstUrl",value:function(e){return!(!this.firstUrl||!e.path)&&(this.router.isActive(e.path,e.routerLinkExact)||e.openOnStart(this.router.url))}},{key:"state",get:function(){return this.state$.value}},{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}}]),n}(Ri);Ta.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ta,deps:[{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),Ta.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ta,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ta,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router}]}});var _a=function(){function e(){bi(this,e)}var t,n,r;return Ci(e,[{key:"generateColor",value:(r=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sha256(t);case 2:return n=e.sent,e.abrupt("return",this.stringToColor(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"generateColorForDatapoint",value:(n=ui(di().mark((function e(t,n){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generateColor(JSON.stringify({fragment:t,series:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"sha256",value:(t=ui(di().mark((function e(t){var n,r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),o=i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"stringToColor",value:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);for(var r="#",i=0;i<3;i++){r+=(t>>8*i&255).toString(16).padStart(2,"0").substring(-2)}return r}}]),e}();_a.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_a,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),_a.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_a,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_a,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});var Fa,Oa=2e3;function Pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){return n.pipe((0,s.retryWhen)((function(n){return n.pipe((0,s.scan)((function(e,t){return{count:e.count+1,error:t}}),{count:0,error:void 0}),(0,s.tap)((function(e){if(e.count>t)throw e.error})),(0,s.delay)(e))})))}}!function(e){e.SUCCESS="success",e.WARNING="warning",e.DANGER="danger",e.INFO="info"}(Fa||(Fa={}));var Na=(li(Gr={},Fa.SUCCESS,"check-circle"),li(Gr,Fa.WARNING,"exclamation-triangle"),li(Gr,Fa.DANGER,"exclamation-circle"),li(Gr,Fa.INFO,"info-circle"),Gr),Aa=(li(zr={},Fa.SUCCESS,"text-".concat(Fa.SUCCESS)),li(zr,Fa.WARNING,"text-".concat(Fa.WARNING)),li(zr,Fa.DANGER,"text-".concat(Fa.DANGER)),li(zr,Fa.INFO,"text-".concat(Fa.INFO)),zr),Ma=(li(Hr={},Fa.SUCCESS,"alert-".concat(Fa.SUCCESS)),li(Hr,Fa.WARNING,"alert-".concat(Fa.WARNING)),li(Hr,Fa.DANGER,"alert-".concat(Fa.DANGER)),li(Hr,Fa.INFO,"alert-".concat(Fa.INFO)),Hr),Ra=(li(qr={},g.OperationStatus.PENDING,"clock-o"),li(qr,g.OperationStatus.EXECUTING,"refresh"),li(qr,g.OperationStatus.SUCCESSFUL,"check-circle"),li(qr,g.OperationStatus.FAILED,"exclamation-circle"),qr),La=(li(Wr={},g.OperationStatus.PENDING,"text-info"),li(Wr,g.OperationStatus.EXECUTING,"text-info"),li(Wr,g.OperationStatus.SUCCESSFUL,"text-success"),li(Wr,g.OperationStatus.FAILED,"text-danger"),Wr),Va=function(e){gi(n,e);var t=mi(n);function n(e,r,i){var o;bi(this,n),(o=t.call(this)).navigatorService=e,o.options=r,o.humanizeAppName=i,o.headerOpen=!1,o.DELAY_TO_AVOID_FLICKERING_ON_ASYNC_NODES=1e3,o.hasItemsInNavigator$=o.navigatorService.items$.pipe((0,s.delay)(o.DELAY_TO_AVOID_FLICKERING_ON_ASYNC_NODES),(0,s.map)((function(e){return!!e.length})),(0,s.distinctUntilChanged)()),o.state$=new a.BehaviorSubject({title:void 0,nav:{open:!1}}),o.title=void 0,o.header$=o.map((function(e){return e})),o.navigatorOpen$=o.map((function(e){return e.nav.open})).pipe((0,s.combineLatest)(o.hasItemsInNavigator$),(0,s.map)((function(e){var t=ii(e,2),n=t[0],r=t[1];return n&&r})));var c=document.querySelector("title"),l=!!r.globalTitle&&"string"==typeof r.globalTitle&&r.globalTitle.length>0;return o.title={elementRef:c,titleSuffix:l?"".concat(r.globalTitle," - ").concat(r.name):r.name},o.humanizeAppName.transform(r.name).subscribe((function(e){o.title.titleSuffix=l?"".concat(r.globalTitle," - ").concat(e):e})),o}return Ci(n,[{key:"state",get:function(){return this.state$.value}},{key:"navigatorHiddenOnStartup",get:function(){return this.options.hideNavigator}},{key:"largeWidth",get:function(){return document.documentElement.clientWidth>1200}},{key:"shouldToggle",get:function(){return this.largeWidth&&!this.navigatorHiddenOnStartup&&!this.state.nav.open}},{key:"toggle",value:function(){this.headerOpen=!this.headerOpen}},{key:"toggleNavigator",value:function(){this.state.nav.open=!this.state.nav.open,this.emitNewState()}},{key:"closeNavigator",value:function(){this.state.nav.open=!1,this.emitNewState()}},{key:"configNavigator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.nav=Object.assign(this.state.nav,e),this.emitNewState()}},{key:"changeTitle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.state.title=e,this.state.pageTitleUpdate=t,this.emitNewState()}},{key:"changePageTitle",value:function(e){this.title.elementRef.innerText=e?"".concat(e," / ").concat(this.title.titleSuffix):"".concat(this.title.titleSuffix)}},{key:"verifyIfNavOpen",value:function(){var e=this;this.hasItemsInNavigator$.pipe((0,s.debounceTime)(300)).subscribe((function(t){return t&&e.shouldToggle&&e.toggleNavigator()}))}},{key:"shouldShowBreadcrumbs",value:function(){return this.options.breadcrumbs}}]),n}(Ri);Va.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Va,deps:[{token:Ta},{token:Gi},{token:Ao}],target:r["ɵɵFactoryTarget"].Injectable}),Va.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Va,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Va,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Ta},{type:Gi},{type:Ao}]}});var ja=new r.InjectionToken("BreadcrumbFactory"),Ba=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this)).injector=e,i.factories=[],i.refreshTrigger=new a.Subject,i.state$=new a.BehaviorSubject(new Set),i.items$=$i(r,i.refreshTrigger,[function(){return i.injector.get(ja,[])},function(){return i.factories},Fi(i.state$)]).pipe((0,s.map)((function(e){return i.sortByPreferredPath(e)})),(0,s.shareReplay)(1)),i}return Ci(n,[{key:"state",get:function(){return this.state$.value}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}},{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"selectPreferredByPath",value:function(e){this.preferredPath=e,this.refresh()}},{key:"sortByPreferredPath",value:function(e){var t=this;return this.preferredPath?e.sort((function(e){return e.items.find((function(e){return!!e.path.match(t.preferredPath)}))?-1:1})):e}}]),n}(Ri);Ba.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ba,deps:[{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),Ba.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ba,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ba,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router}]}});var Ua=new r.InjectionToken("Hook docs"),Ga=[{icon:"c8y-c8y-data",label:"Concepts guide`KEEP_ORIGINAL`",url:"/concepts/introduction",type:"doc"},{icon:"c8y-user",label:"User guide`KEEP_ORIGINAL`",url:"/users-guide/getting-started",type:"doc"},{icon:"c8y-device-management",label:"Device integration tutorial`KEEP_ORIGINAL`",url:"/device-tutorials/tutorials-introduction",type:"doc"},{icon:"c8y-book",label:"Cumulocity IoT Edge`KEEP_ORIGINAL`",url:"/edge/overview",type:"doc"},{icon:"c8y-tools",label:"Microservice SDK guide`KEEP_ORIGINAL`",url:"/microservice-sdk/introduction",type:"doc"},{icon:"c8y-tools",label:"Device SDK guide`KEEP_ORIGINAL`",url:"/device-sdk/introduction",type:"doc"},{icon:"c8y-smart-rest",label:"Web SDK guide`KEEP_ORIGINAL`",url:"/web/introduction",type:"doc"},{icon:"c8y-data-explorer",label:"Streaming analytics guide`KEEP_ORIGINAL`",url:"/apama/introduction",type:"doc"},{icon:"c8y-bookmark",label:"Reference guide`KEEP_ORIGINAL`",url:"/reference/rest-implementation",type:"doc"},{icon:"gavel",label:"Legal notices",url:"https://documentation.softwareag.com/legal/",type:"doc"}],za=function(){function e(t,n,r,i){var o=this;bi(this,e),this.options=t,this.app=n,this.injector=r,this.factories=[],this.refreshTrigger=new a.Subject,this.DEFAULT_DOCS_BASE_URL="https://www.cumulocity.com/guides";var c=this.app.map((function(e){return e.supportUrl}));this.items$=Ei(i,[c,this.refreshTrigger],[function(){return o.injector.get(Ua,[])},function(){return o.factories},this]).pipe((0,s.startWith)([]),(0,s.shareReplay)(1))}return Ci(e,[{key:"getBaseUrl",value:function(){return this.options.get("docsBaseUrl",this.DEFAULT_DOCS_BASE_URL)}},{key:"templateStr",get:function(){return this.options.get("guideHrefTemplate","${docsBaseUrl}${partialUrl}")}},{key:"getUserGuideLink",value:function(e){return/^https?:/.test(e)?e:null===this.getBaseUrl?null:this.getLink(this.templateStr,e)}},{key:"list",value:function(){return this.items$.pipe((0,s.filter)((function(e){return!!e.length})),(0,s.first)()).toPromise()}},{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"get",value:function(){var e=this,t=this.options.get("docs",{}),n=t.links,r=t.noDefault,i=t.excludeDefault,o=void 0===i?[]:i,a=this.app.state.supportUrl,s=r?[]:Ga.map((function(t){return ci(ci({},t),{},{url:e.getUserGuideLink(t.url)})})).filter((function(e){var t=e.url;return!o.some((function(e){return new RegExp(e).test(t)}))}));return n&&(n.map((function(e){if((0,c.isUndefined)(e.type))return e.type="doc",e})),s=s.concat(n)),a&&s.push({icon:"comments",label:"Forum support",url:a,type:"doc"}),s}},{key:"getLink",value:function(e,t){if(e)return e.replace(/\${docsBaseUrl}/,this.getBaseUrl()).replace(/\${partialUrl}/,this.prefixWithSlash(t))}},{key:"prefixWithSlash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(e&&/^\//.test(e)),n=t?"/":"";return"".concat(n).concat(e)}}]),e}();za.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:za,deps:[{token:Gi},{token:Hi},{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),za.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:za,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:za,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Gi},{type:Hi},{type:r.Injector},{type:o.Router}]}});var Ha,qa=new r.InjectionToken("RESOLVING_COMPONENT_WAIT_TIME"),Wa=new r.InjectionToken("Hook Dynamic Component");!function(e){e.NOT_RENDER="NOT_RENDER",e.OVERLAY_ERROR="OVERLAY_ERROR",e.CUSTOM="CUSTOM"}(Ha||(Ha={}));var Ka=function(){function e(t){bi(this,e),this.injector=t,this._triggerBulkResolving=new a.Subject,this.requestId=0,this.bulkResolvingTrigger$=this._triggerBulkResolving.asObservable()}var t,n,r,i;return Ci(e,[{key:"executeResolvers",value:(i=ui(di().mark((function e(t,n){var r,i,o,a=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getRequestId(),i=n.map((function(e,n){return a.executeResolversForSingleComponent(e,t[n].config,r)})),o=this.waitForResults(i),this.triggerResolving(r),e.next=6,o;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"serialize",value:function(e,t){var n=this;return t.map((function(t,r){return n.serializeSingleComponent(t,e[r].config)}))}},{key:"serializeSingleComponent",value:function(e,t){var n=this,r={};return null!=e&&e.resolve?(Object.entries(e.resolve).forEach((function(i){var o=ii(i,2),a=o[0],s=o[1];try{var c=n.injector.get(s,null);c&&c.serialize?r[a]=c.serialize(t,a):console.warn('DynamicDetailsResolver: "'.concat(s,'" not found or does not implement serialize method.'))}catch(t){console.warn('Failed to serialize key: "'.concat(a,'" for dynamic component: "').concat(e.id,'"'))}})),r):r}},{key:"triggerResolving",value:function(e){this._triggerBulkResolving.next(e)}},{key:"executeResolversForSingleComponent",value:function(e,t,n){var r=this,i={};return null!=e&&e.resolve?(Object.entries(e.resolve).forEach((function(o){var a=ii(o,2),s=a[0],c=a[1];try{var l=r.injector.get(c,null);l&&l.resolve?i[s]=l.resolve(t,s,n):console.warn('DynamicDetailsResolver: "'.concat(c,'" not found or does not implement resolve method.'))}catch(t){console.warn('Failed to resolve key: "'.concat(s,'" for dynamic component: "').concat(e.id,'"'))}})),i):i}},{key:"waitForResults",value:(r=ui(di().mark((function e(t){var n=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){return n.waitForResultsOfSingleEntry(e)}))));case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"waitForResultsOfSingleEntry",value:(n=ui(di().mark((function e(t){var n,r,i=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,Promise.all(Object.values(t).map((function(e){return i.awaitResult(e)})));case 4:r=e.sent,Object.keys(t).forEach((function(e,t){return(0,Se.set)(n,e,r[t])})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn("Failed to to resolve data using dynamic component resolver.");case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),function(e){return n.apply(this,arguments)})},{key:"awaitResult",value:(t=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t instanceof Promise)){e.next=5;break}return e.next=4,t;case 4:case 8:return e.abrupt("return",e.sent);case 5:if(!(t instanceof a.Observable)){e.next=9;break}return e.next=8,t.toPromise();case 9:return e.abrupt("return",t);case 12:return e.prev=12,e.t0=e.catch(0),console.warn("Failed to to resolve data using dynamic component resolver."),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return t.apply(this,arguments)})},{key:"getRequestId",value:function(){return this.requestId++}}]),e}();Ka.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ka,deps:[{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),Ka.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ka,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ka,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector}]}});var Ya,Za=function(e){gi(i,e);var t,n,r=mi(i);function i(e,t,n,o){var c;return bi(this,i),(c=r.call(this)).injector=e,c.dynamicResolver=o,c.refreshTrigger=new a.Subject,c.state$=new a.BehaviorSubject(new Set),c.factories=[],c.items$=Ei(t,c.refreshTrigger,[function(){return c.injector.get(Wa,[])},function(){return c.factories},Fi(c.state$)]).pipe((0,s.takeUntil)((0,a.timer)(n)),(0,s.shareReplay)(1)),c}return Ci(i,[{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"state",get:function(){return this.state$.value}},{key:"getById",value:function(e){return e?this.items$.pipe((0,s.mergeMap)((function(e){return e})),(0,s.filter)((function(t){return t.id===e})),(0,s.take)(1)).toPromise():Promise.resolve(void 0)}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}},{key:"executeResolvers",value:(n=ui(di().mark((function e(t){var n,r,i=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){var t=e.componentId;return i.getById(t)})));case 2:return n=e.sent,e.next=5,this.dynamicResolver.executeResolvers(t,n);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"serializeConfigs",value:(t=ui(di().mark((function e(t){var n,r=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){var t=e.componentId;return r.getById(t)})));case 2:return n=e.sent,e.abrupt("return",this.dynamicResolver.serialize(t,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(Ri);Za.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Za,deps:[{token:r.Injector},{token:o.Router},{token:qa},{token:Ka}],target:r["ɵɵFactoryTarget"].Injectable}),Za.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Za,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Za,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router},{type:void 0,decorators:[{type:r.Inject,args:[qa]}]},{type:Ka}]}}),function(e){e.Device="device/:id",e.Group="group/:id",e.User="users/:id",e.Application="ecosystem/application/:id",e.Microservice="microservices/:id",e.SubscribedApplications="subscribedApplications/:id",e.Tenant="tenants/:id",e.Report="reports/:id",e.Service="service/:id",e.DatapointLibrary="datapointlibrary/:id"}(Ya||(Ya={}));var Qa=new r.InjectionToken("TabsFactory"),Xa=function(e){gi(n,e);var t=mi(n);function n(e,r,i,o){var c;return bi(this,n),(c=t.call(this)).injector=e,c.translateService=i,c.options=o,c.refreshTrigger=new a.Subject,c.state$=new a.BehaviorSubject(new Set),c.factories=[],c.items$=$i(r,c.refreshTrigger,[function(){return c.injector.get(Qa,[])},function(){return c.factories},Fi(c.state$)]).pipe((0,s.map)((function(e){return c.prepareTabs(e)})),(0,s.shareReplay)(1),(0,s.distinctUntilChanged)()),c.orientation$=c.items$.pipe((0,s.map)((function(e){var t=e.find((function(e){return e.orientation}));return t?t.orientation:c.options.tabsHorizontal?"horizontal":"vertical"})),(0,s.distinctUntilChanged)()),c}return Ci(n,[{key:"prepareTabs",value:function(e){return this.sortTabs(e.map((function(e){return ci(ci({},e),{},{template:e.template instanceof r.ViewContainerRef?e.template:void 0})})).filter((function(e,t,n){return t===n.findIndex((function(t){return t.path===e.path}))})))}},{key:"sortTabs",value:function(e){var t=this;return e.sort((function(e,n){var r=(n.priority||0)-(e.priority||0),i=t.translateService.instant(e.label),o=t.translateService.instant(n.label),a=i.localeCompare(o);return r||a}))}},{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"state",get:function(){return this.state$.value}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}},{key:"firstTab$",get:function(){return this.items$.pipe((0,s.map)((function(e){return e[0]})),(0,s.filter)(Boolean),(0,s.first)())}},{key:"areAvailable",value:function(e){var t=Array.from(this.state);return e.some((function(e){return t.some((function(t){return t.label===e}))}))}}]),n}(Ri);Xa.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xa,deps:[{token:r.Injector},{token:o.Router},{token:ye.TranslateService},{token:Gi}],target:r["ɵɵFactoryTarget"].Injectable}),Xa.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xa,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xa,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router},{type:ye.TranslateService},{type:Gi}]}});var Ja=function(){function e(t,n){bi(this,e),this.injector=t,this.router=n}return Ci(e,[{key:"routerStateSnapshot",get:function(){return this.router.routerState.snapshot}},{key:"resolve",value:function(e){var t=this,n=this.router.config.find((function(t){return e.routeConfig.path===t.path})).children;return(0,a.from)(n||[]).pipe((0,s.mergeMap)((function(n){return(0,a.from)(t.getGuards(n)).pipe((0,s.map)((function(n){return n.canActivate(e,t.routerStateSnapshot)})),(0,s.mergeMap)((function(e){return(0,a.isObservable)(e)?e:e&&"function"==typeof e.then?(0,a.from)(e):(0,a.of)(e)})),(0,s.tap)((function(e){Array.isArray(e)&&(n.tabs=e)})),(0,s.every)((function(e){return!!e})),(0,s.filter)((function(e){return e})),(0,s.mergeMap)((function(){return Array.isArray(n.tabs)?(0,a.from)(n.tabs):(0,a.of)(n)})),(0,s.map)((function(t){return t.label||t.path?{label:t.label,icon:t.icon,path:"".concat(decodeURIComponent(e.url.join("/")),"/").concat(t.path),priority:t.priority,hide:t.hide,featureId:t.featureId}:void 0})))})),(0,s.filter)((function(e){return!!e})),(0,s.toArray)())}},{key:"getGuards",value:function(e){var t=this,n=(e.canActivate||[]).map((function(e){return t.injector.get(e)}));return e.data&&e.data.showIf&&n.push({canActivate:e.data.showIf}),n}}]),e}();Ja.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ja,deps:[{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),Ja.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ja,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ja,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router}]}});var es=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"contextToService",value:function(t){return e.services.get(t)}}]),e}();es.services=new Map([[Ya.Device,g.InventoryService],[Ya.Group,g.InventoryService],[Ya.User,g.UserService],[Ya.Application,g.ApplicationService],[Ya.Microservice,g.ApplicationService],[Ya.SubscribedApplications,g.ApplicationService],[Ya.Tenant,g.TenantService],[Ya.Report,g.InventoryService],[Ya.Service,g.InventoryService],[Ya.DatapointLibrary,g.InventoryService]]);var ts=function(){function e(t,n,r,i,o){bi(this,e),this.tabsResolver=t,this.tabsService=n,this.router=r,this.apiService=i,this.injector=o,this.lastAddedTabs=[],this.refreshTrigger=new a.Subject,this.ID_REGEX=/([0-9]+)/}return Ci(e,[{key:"getContextData",value:function(e){var t=!e.snapshot.parent||e.snapshot.data.context?e.snapshot.data:e.parent.snapshot.data;return t.context?t:null}},{key:"init",value:function(e){var t=this;this.routerSubscription=this.router.events.pipe((0,s.filter)((function(e){return e instanceof o.NavigationEnd}))).subscribe((function(){return t.redirectToFirstTab()})),this.dataSubscription=e.data.pipe((0,s.merge)(this.updatedContext(e),this.refreshTrigger),(0,s.switchMap)((function(){return t.tabsResolver.resolve(e.snapshot)}))).subscribe((function(e){return t.updateTabs(e)}))}},{key:"destroy",value:function(){var e=this;this.dataSubscription.unsubscribe(),this.routerSubscription.unsubscribe(),this.lastAddedTabs.forEach((function(t){return e.tabsService.remove(t)}))}},{key:"refreshContext",value:function(){this.refreshTrigger.next()}},{key:"setContext",value:function(e,t){var n=!e.snapshot.parent||e.snapshot.data.context?e.snapshot.data:e.parent.snapshot.data;n&&(n.contextData=ci({},t))}},{key:"updatedContext",value:function(e){var t=e.snapshot.data,n=es.contextToService(t.context);if(n){var r=this.injector.get(n).getDetailUrl(t.contextData).replace(/\d+/g,"?\\d*"),i=new RegExp(r,"i"),o=new RegExp("".concat(r,"/child"),"i");return this.apiService.hookResponse((function(e){var t=e.url,n=e.method,r=i.test(t)&&["POST","PUT"].includes(n),a=o.test(t)&&["POST","DELETE"].includes(n);return r||a}))}return a.NEVER}},{key:"updateTabs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.lastAddedTabs.forEach((function(t){return e.tabsService.remove(t)})),this.lastAddedTabs=t,t.forEach((function(t){return e.tabsService.add(t)})),this.redirectToFirstTab()}},{key:"redirectToFirstTab",value:function(){var e=this,t=(this.router.url.match(this.ID_REGEX)||[]).shift();this.needsRedirect()&&this.tabsService.firstTab$.pipe((0,s.filter)((function(e){return!(null==e||!e.path)}))).subscribe((function(n){var r=(n.path.match(e.ID_REGEX)||[]).shift();t===r&&e.router.navigateByUrl(n.path,{replaceUrl:!0})}))}},{key:"needsRedirect",value:function(){var e=this.router.parseUrl(this.router.url).root.children[o.PRIMARY_OUTLET],t=this.getMatchingContextRoute(this.router.url);return t?t.split("/").length===e.segments.length:2===e.segments.length}},{key:"getMatchingContextRoute",value:function(e){var t=Object.values(Ya),n=e.replace(/\d(.*)/g,""),r=t.findIndex((function(e){return"/".concat(e.replace(":id",""))===n}));return t[r]}}]),e}();ts.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ts,deps:[{token:Ja},{token:Xa},{token:o.Router},{token:x},{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),ts.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ts,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ts,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Ja},{type:Xa},{type:o.Router},{type:x},{type:r.Injector}]}});var ns=new r.InjectionToken("RouteFactory"),rs=new r.InjectionToken("HookRoute"),is=function(){function e(t,n,r){var i=this;bi(this,e),this.injector=t,this.router=n,this.contextRouteService=r,this.refreshTrigger=new a.Subject,this.state=new Map,this.factories=[],this.refreshTrigger.pipe((0,s.startWith)(1),(0,s.switchMap)((function(){return Ti([function(){return i.injector.get(rs,[])},function(){return i.getComponentsViaDeprecatedHook()},function(){return i.factories}],n,!1)}))).subscribe((function(e){var t=e.filter((function(e){var t="".concat(e.context||"").concat(e.path),n=i.state.has(t);return n||i.state.set(t,e),!n}));i.addRoute(t)}))}return Ci(e,[{key:"refresh",value:function(){this.refreshTrigger.next(1),this.contextRouteService.refreshContext()}},{key:"addRoute",value:function(e){this.addRoutes(Array.isArray(e)?e:[e])}},{key:"getHref",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#/";return e.c8y_IsDeviceGroup||e.c8y_IsDynamicGroup?"".concat(t).concat(Ya.Group.replace(":id",e.id)):"".concat(t).concat(Ya.Device.replace(":id",e.id))}},{key:"getComponentsViaDeprecatedHook",value:function(){var e=this.injector.get(ns,[]);return e&&e.length,e}},{key:"addRoutes",value:function(e){var t=this,n=this.router.config.find((function(e){return"**"===e.path}));this.router.resetConfig([].concat(wi(this.router.config.filter((function(e){return"**"!==e.path}))),wi(e.map((function(e){return t.convertRoute(t.router.config,e)}))),[n]).filter(Boolean))}},{key:"convertRoute",value:function(e,t){if(!t.context)return t;e.forEach((function(e){e.data&&e.data.context===t.context&&(e.children=[t].concat(wi(e.children||[])))}))}}]),e}();is.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:is,deps:[{token:r.Injector},{token:o.Router},{token:ts}],target:r["ɵɵFactoryTarget"].Injectable}),is.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:is,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:is,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router},{type:ts}]}});var os,as=new r.InjectionToken("SearchFactory");!function(e){e.ONLY_DEVICES="onlyDevices",e.ONLY_GROUPS_AND_ASSETS="onlyGroupsAndAssets",e.ALL_FILTERS="allFilters"}(os||(os={}));var ss=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this)).injector=e,i.factories=[],i.refreshTrigger=new a.Subject,i.state$=new a.BehaviorSubject(new Set),i.items$=$i(r,i.refreshTrigger,[function(){return i.injector.get(as,[])},function(){return i.factories},Fi(i.state$)]).pipe((0,s.map)((function(e){return Oi(e)})),(0,s.shareReplay)(1)),i}return Ci(n,[{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"state",get:function(){return this.state$.value}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}}]),n}(Ri);ss.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ss,deps:[{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),ss.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ss,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ss,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router}]}});var cs=new r.InjectionToken("Generic wizard"),ls=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this)).injector=e,i.router=r,i.headerTemplate$=new a.Subject,i.bodyTemplate$=new a.Subject,i.footerTemplate$=new a.Subject,i.state$=new a.BehaviorSubject(new Set),i.refreshTrigger=new a.Subject,i.factories=[],i.items$=$i(i.router,i.refreshTrigger,[function(){return i.injector.get(cs,[])},function(){return i.factories},Fi(i.state$)]).pipe((0,s.map)((function(e){return i.getUniqueListBy(e,"name","wizardId")})),(0,s.shareReplay)(1)),i}return Ci(n,[{key:"state",get:function(){return this.state$.value}},{key:"refresh",value:function(){this.refreshTrigger.next()}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}},{key:"getEntriesListById",value:function(e){return this.items$.pipe((0,s.map)((function(t){return t.filter((function(t){return t.wizardId===e}))})))}},{key:"getUniqueListBy",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return wi(new Map(e.map((function(e){return[t.getUniqIdentifierForKeys(e,r),e]}))).values())}},{key:"getUniqIdentifierForKeys",value:function(e,t){return t.map((function(t){return e[t]})).join("_")}}]),n}(Ri);ls.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ls,deps:[{token:r.Injector},{token:o.Router}],target:r["ɵɵFactoryTarget"].Injectable}),ls.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ls,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ls,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router}]}});var ds=new r.InjectionToken("HookStepper"),ps=function(e){gi(n,e);var t=mi(n);function n(e,r,i){var o;return bi(this,n),(o=t.call(this)).injector=e,o.translateService=i,o.refreshTrigger=new a.Subject,o.state$=new a.BehaviorSubject(new Set),o.factories=[],o.items$=$i(r,o.refreshTrigger,[function(){return o.injector.get(ds,[])},function(){return o.factories},Fi(o.state$)]).pipe((0,s.shareReplay)(1),(0,s.distinctUntilChanged)()),o}return Ci(n,[{key:"sortSteps",value:function(e){var t=this;return e.sort((function(e,n){var r=(n.priority||0)-(e.priority||0),i=t.translateService.instant(e.label),o=t.translateService.instant(n.label),a=i.localeCompare(o);return r||a}))}},{key:"refresh",value:function(){this.refreshTrigger.next(1)}},{key:"state",get:function(){return this.state$.value}},{key:"add",value:function(e){this.state.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.delete(e),this.emitNewState()}},{key:"getById$",value:function(e){return this.items$.pipe((0,s.filter)((function(e){return e.length>0})),(0,s.map)((function(t){return t.filter((function(t){return t.stepperId===e}))})),(0,s.take)(1))}}]),n}(Ri);ps.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ps,deps:[{token:r.Injector},{token:o.Router},{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Injectable}),ps.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ps,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ps,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:o.Router},{type:ye.TranslateService}]}});var us,gs,hs=function(){function e(t,n,r,i,o,a,s,c,l,d,p,u,g){bi(this,e),this.tabs=t,this.navigator=n,this.action=r,this.actionBar=i,this.breadcrumb=o,this.dynamicComponent=a,this.search=s,this.c8yRouter=c,this.docs=l,this.wizard=d,this.stepper=p,this.compiler=u,this.injector=g,this.urlRemotesCache=null,this.remoteScriptSet=new Set,this.allHooks=[{token:ma,service:this.action,values:[]},{token:Li,service:this.actionBar,values:[]},{token:Ea,service:this.navigator,values:[]},{token:ja,service:this.breadcrumb,values:[]},{token:Wa,service:this.dynamicComponent,values:[]},{token:ns,service:this.c8yRouter,values:[]},{token:rs,service:this.c8yRouter,values:[]},{token:as,service:this.search,values:[]},{token:Qa,service:this.tabs,values:[]},{token:Ua,service:this.docs,values:[]},{token:cs,service:this.wizard,values:[]},{token:ds,service:this.stepper,values:[]}]}var t,i,o,a;return Ci(e,[{key:"resolveRemotePlugins",value:(a=ui(di().mark((function e(t){var n,i,o,a,s=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.filter((function(e){return e.factory})).map((function(e){var t=e.name;return e.factory[t]})),i=ei(n),e.prev=2,a=di().mark((function e(){var t,n,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=o.value)instanceof r.NgModuleFactory)){e.next=5;break}n=t,e.next=8;break;case 5:return e.next=7,s.compiler.compileModuleAsync(t);case 7:n=e.sent;case 8:i=n.create(s.injector),s.allHooks.forEach((function(e){e.values=[].concat(wi(e.values),wi(i.injector.get(e.token,[],r.InjectFlags.Self)))}));case 10:case"end":return e.stop()}}),e)})),i.s();case 5:if((o=i.n()).done){e.next=9;break}return e.delegateYield(a(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),i.e(e.t1);case 14:return e.prev=14,i.f(),e.finish(14);case 17:this.allHooks.forEach((function(e){e.values.length&&(e.service.factories=[].concat(wi(e.service.factories),wi(e.values)),e.service.refresh())}));case 18:case"end":return e.stop()}}),e,this,[[2,11,14,17]])}))),function(e){return a.apply(this,arguments)})},{key:"loadRemotes",value:(o=ui(di().mark((function e(t){var n,r,i,o,a,s,c,l;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:n=new Date,r=[],e.t0=di().keys(t);case 5:if((e.t1=e.t0()).done){e.next=38;break}if(i=e.t1.value,!t.hasOwnProperty(i)){e.next=36;break}o=t[i],a="/apps/".concat(i,"/remoteEntry.js?nocache=").concat(n.getTime()),s=ei(o),e.prev=11,s.s();case 13:if((c=s.n()).done){e.next=28;break}return l=c.value,e.prev=15,e.t2=r,e.next=19,this.loadRemoteModule(a,i,l);case 19:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=26;break;case 23:e.prev=23,e.t4=e.catch(15),console.warn("Could not load remote module '".concat(l,"' from url:"),a);case 26:e.next=13;break;case 28:e.next=33;break;case 30:e.prev=30,e.t5=e.catch(11),s.e(e.t5);case 33:return e.prev=33,s.f(),e.finish(33);case 36:e.next=5;break;case 38:return e.abrupt("return",r);case 39:case"end":return e.stop()}}),e,this,[[11,30,33,36],[15,23]])}))),function(e){return o.apply(this,arguments)})},{key:"mergeMFRemotes",value:function(e){return(0,c.reduce)(e,(function(e,t){return(0,c.forEach)(t,(function(t,n){var r=(0,c.get)(e,n,[]);e[n]=(0,c.union)(r,t)})),e}),{})}},{key:"clearURLRemotesCache",value:function(){this.urlRemotesCache=null}},{key:"loadUrlRemotes",value:function(){if(!this.urlRemotesCache){var e=new URLSearchParams(window.location.search).get("remotes");if(e)try{this.urlRemotesCache=JSON.parse(decodeURIComponent(e))}catch(e){console.warn("Failed to parse remotes: ".concat(e))}}return this.urlRemotesCache}},{key:"loadRemoteModule",value:(i=ui(di().mark((function e(t,n,r){var i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteScriptSet.has(t)){e.next=4;break}return this.remoteScriptSet.add(t),e.next=4,this.loadRemoteEntry(t);case 4:return(i=n).includes("@")&&(i=n.split("@")[0]),e.next=8,this.lookupExposedModule((0,c.camelCase)(i),r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"loadRemoteEntry",value:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.onerror=n,r.onload=function(){t()},document.body.append(r)}))}},{key:"lookupExposedModule",value:(t=ui(di().mark((function e(t,r){var i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.I("default");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Module ".concat(r," could not be loaded. Module Federation is not enabled in this application."),e.t0);case 8:return i=window[t],e.prev=9,e.next=12,i.init(n.S.default);case 12:return e.next=14,i.get(r);case 14:e.t1=e.sent,o=(0,e.t1)(),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(9),console.error("Module ".concat(r," could not be loaded."),e.t2);case 21:return e.abrupt("return",{name:r,factory:o});case 22:case"end":return e.stop()}}),e,null,[[0,5],[9,18]])}))),function(e,n){return t.apply(this,arguments)})}]),e}();hs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hs,deps:[{token:Xa},{token:Ta},{token:fa},{token:Vi},{token:Ba},{token:Za},{token:ss},{token:is},{token:za},{token:ls},{token:ps},{token:r.Compiler},{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),hs.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hs,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hs,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Xa},{type:Ta},{type:fa},{type:Vi},{type:Ba},{type:Za},{type:ss},{type:is},{type:za},{type:ls},{type:ps},{type:r.Compiler},{type:r.Injector}]}}),function(e){e.SETUP="setup"}(us||(us={})),function(e){e[e.START=0]="START",e[e.WIZARD=1]="WIZARD",e[e.FINALIZING=2]="FINALIZING",e[e.RELOADING=3]="RELOADING"}(gs||(gs={}));var ms="ROLE_APPLICATION_MANAGEMENT_ADMIN",fs="c8ySetupFinished",ys=function(){function e(t,n,r,i){var o=this;bi(this,e),this.stepperService=t,this.permissions=n,this.options=r,this.ui=i,this.isSetupNeeded$=this.ui.currentApplication.pipe((0,s.map)((function(e){return o.ui.isOwnerOfApplication(e)})),(0,s.switchMap)((function(e){return e?o.stepperService.getById$(us.SETUP):(0,a.of)([])})),(0,s.map)((function(e){return o.getNotCompletedSetupSteps(e)})),(0,s.map)((function(e){return o.options.forceSetup||o.options.isSetup&&o.needsSetup(e)})))}return Ci(e,[{key:"needsSetup",value:function(e){return e=this.excludeSetupFinishStep(e),this.hasPermission()?e.length>0:this.hasRequiredSteps(e)}},{key:"excludeSetupFinishStep",value:function(e){return e.filter((function(e){return e.setupId!==fs}))}},{key:"hasRequiredSteps",value:function(e){return e.some((function(e){return e.required}))}},{key:"hasPermission",value:function(){return this.permissions.hasRole(ms)}},{key:"getNotCompletedSetupSteps",value:function(e){var t=this;return this.ui.currentApplication.value?e.filter((function(e){var n;return e.setupId&&!((null===(n=t.ui.currentApplication.value.config)||void 0===n?void 0:n.setup)||[]).includes(e.setupId)})):e}}]),e}();ys.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ys,deps:[{token:ps},{token:Ho},{token:Gi},{token:Hi}],target:r["ɵɵFactoryTarget"].Injectable}),ys.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ys,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ys,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:ps},{type:Ho},{type:Gi},{type:Hi}]}});var vs=function(e){gi(n,e);var t=mi(n);function n(){var e;return bi(this,n),(e=t.apply(this,arguments)).state$=new a.BehaviorSubject({userMenuItems:new Set}),e}return Ci(n,[{key:"state",get:function(){return this.state$.value}},{key:"add",value:function(e){this.state.userMenuItems.add(e),this.emitNewState()}},{key:"remove",value:function(e){this.state.userMenuItems.delete(e),this.emitNewState()}}]),n}(Ri);vs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vs,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),vs.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vs,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vs,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});var bs=function(){function e(t){var n=this;bi(this,e),this.modal=t,this.status=Fa.INFO,this._labels={ok:"OK",cancel:"Cancel"},this.result=new Promise((function(e,t){n.dismiss=function(){t(),n.modal.hide()},n.close=function(){e(!!(0,c.isEmpty)(n.confirmOptions)||{confirmed:!0,confirmOptions:(0,c.mapValues)(n.confirmOptions,(function(e){return e.checked}))}),n.modal.hide()}}))}return Ci(e,[{key:"labels",get:function(){return this._labels},set:function(e){var t=e||{},n=t.ok,r=void 0===n?"OK":n,i=t.cancel,o=void 0===i?"Cancel":i;this._labels={ok:r,cancel:o}}},{key:"classIcon",get:function(){return"dlt-c8y-icon-".concat(Na[this.status])}},{key:"classAlert",get:function(){return Ma[this.status]}},{key:"ngOnDestroy",value:function(){this.dismiss()}}]),e}();bs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bs,deps:[{token:xe.BsModalRef}],target:r["ɵɵFactoryTarget"].Component}),bs.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:bs,selector:"c8y-confirm-modal",inputs:{title:"title",body:"body",confirmOptions:"confirmOptions",status:"status",labels:"labels"},ngImport:i,template:'<div class="c8y-prompt alert" [ngClass]="[classAlert]">\n  <h3 class="m-b-16 d-flex a-i-center" *ngIf="title">\n    <i class="dlt-c8y-icon" [ngClass]="[classIcon]"></i>\n    <span *ngIf="title">{{ title | translate }}</span>\n  </h3>\n  <p class="text-break-word m-b-16">{{ body | translate }}</p>\n  <div\n    class="c8y-checkbox plain m-b-8"\n    *ngFor="let co of confirmOptions | showIfFilter | async | keyvalue"\n  >\n    <label [title]="co.value.text | translate" class="c8y-checkbox">\n      <input\n        type="checkbox"\n        [checked]="co.value.checked"\n        (change)="co.value.checked = !co.value.checked"\n      />\n      <span></span>\n      <span class="text-muted">{{ co.value.text | translate }}</span>\n    </label>\n  </div>\n  <ng-content></ng-content>\n  <div class="alert-footer">\n    <button\n      title="{{ labels.cancel | translate }}"\n      type="button"\n      class="btn btn-default"\n      *ngIf="labels.cancel !== null"\n      (click)="dismiss()"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button\n      title="{{ labels.ok | translate }}"\n      type="button"\n      class="btn btn-primary"\n      (click)="close()"\n    >\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:u.KeyValuePipe,name:"keyvalue"},{kind:"pipe",type:ta,name:"showIfFilter"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bs,decorators:[{type:r.Component,args:[{selector:"c8y-confirm-modal",template:'<div class="c8y-prompt alert" [ngClass]="[classAlert]">\n  <h3 class="m-b-16 d-flex a-i-center" *ngIf="title">\n    <i class="dlt-c8y-icon" [ngClass]="[classIcon]"></i>\n    <span *ngIf="title">{{ title | translate }}</span>\n  </h3>\n  <p class="text-break-word m-b-16">{{ body | translate }}</p>\n  <div\n    class="c8y-checkbox plain m-b-8"\n    *ngFor="let co of confirmOptions | showIfFilter | async | keyvalue"\n  >\n    <label [title]="co.value.text | translate" class="c8y-checkbox">\n      <input\n        type="checkbox"\n        [checked]="co.value.checked"\n        (change)="co.value.checked = !co.value.checked"\n      />\n      <span></span>\n      <span class="text-muted">{{ co.value.text | translate }}</span>\n    </label>\n  </div>\n  <ng-content></ng-content>\n  <div class="alert-footer">\n    <button\n      title="{{ labels.cancel | translate }}"\n      type="button"\n      class="btn btn-default"\n      *ngIf="labels.cancel !== null"\n      (click)="dismiss()"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button\n      title="{{ labels.ok | translate }}"\n      type="button"\n      class="btn btn-primary"\n      (click)="close()"\n    >\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:xe.BsModalRef}]},propDecorators:{title:[{type:r.Input}],body:[{type:r.Input}],confirmOptions:[{type:r.Input}],status:[{type:r.Input}],labels:[{type:r.Input}]}});var ks=function(){function e(t,n){bi(this,e),this.modalService=t,this.gainsightService=n}var t,n,r;return Ci(e,[{key:"confirm",value:(r=ui((function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fa.INFO,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{eventName:"confirmModal"};return di().mark((function s(){var c,l;return di().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c={ok:i.ok||"Confirm",cancel:i.cancel||"Cancel"},l=n.modalService.show(bs,{initialState:{title:e,body:t,labels:c,status:r,confirmOptions:o},ignoreBackdropClick:!0}),a&&(a.data=ci(ci({},a.data),{},{title:e})),n.triggerEvent(l.content.result,c,a),s.next=6,l.content.result;case 6:return s.abrupt("return",s.sent);case 7:case"end":return s.stop()}}),s)}))()})),function(e,t){return r.apply(this,arguments)})},{key:"acknowledge",value:(n=ui((function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fa.INFO,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Confirm",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{eventName:"confirmModal"};return di().mark((function a(){var s,c;return di().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={ok:i,cancel:null},c=n.modalService.show(bs,{initialState:{title:e,body:t,labels:s,status:r},ignoreBackdropClick:!0}),o&&(o.data=ci(ci({},o.data),{},{title:e})),n.triggerEvent(c.content.result,s,o),a.next=6,c.content.result;case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),a)}))()})),function(e,t){return n.apply(this,arguments)})},{key:"confirmLogout",value:(t=ui((function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fa.WARNING,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return di().mark((function i(){var o,a;return di().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o={ok:r.ok||"Confirm and log out",cancel:r.cancel||"Cancel"},a=e||"You must log out to apply your changes. Do you want to proceed?",i.next=4,t.confirm("Logout required",a,n,o);case 4:return i.abrupt("return",i.sent);case 5:case"end":return i.stop()}}),i)}))()})),function(e){return t.apply(this,arguments)})},{key:"triggerEvent",value:function(e,t,n){var r=this,i=ci(ci({},n.data),{},{url:window.location.href});e.then((function(){r.gainsightService.triggerEvent(n.eventName,ci(ci({},i),{},{result:t.ok}))})).catch((function(){r.gainsightService.triggerEvent(n.eventName,ci(ci({},i),{},{result:t.cancel}))}))}}]),e}();ks.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ks,deps:[{token:xe.BsModalService},{token:ua}],target:r["ɵɵFactoryTarget"].Injectable}),ks.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ks,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ks,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:xe.BsModalService},{type:ua}]}});var Cs=function(){function e(t,n,r,i,o,a,s,c,l,d,p,u,g,h){bi(this,e),this.injector=t,this.client=n,this.basicAuth=r,this.cookieAuth=i,this.ui=o,this.user=a,this.tenant=s,this.realtime=c,this.alert=l,this.api=d,this.tenantUiService=p,this.tenantLoginOptionsService=u,this.translateService=g,this.location=h,this.rememberMe=!1,this.TOKEN_KEY="_tcy8",this.TFATOKEN_KEY="TFAToken",this.isFirstLogin=!0,this.GREEN_MIN_LENGTH_DEFAULT=8,this.ERROR_MESSAGES={minlength:"Password must have at least 8 characters and no more than 32.",password_missmatch:"Password confirmation does not match.",maxlength:"Password must have at least 8 characters and no more than 32.",password_strength:"Your password is not strong enough. Please include numbers, lower and upper case characters",remote_error:"Server error occurred.",email:"Invalid email address.",password_change:"Your password is expired. Please set a new password.",password_reset_token_expired:"Password reset link expired. Please enter your email address to receive a new one.",tfa_pin_invalid:"The code you entered is invalid. Please try again.",pattern_phonenumber:'Invalid phone number format. Only digits, spaces, slashes ("/") and dashes ("-") allowed.',pattern_newPassword:this.translateService.instant("Password must have at least 8 characters and no more than 32 and can only contain letters, numbers and following symbols: {{ symbols }}",{symbols:"`~!@#$%^&*()_|+-=?;:'\",.<>{}[]\\/"}),international_number_required:"International phone number required, in the format +49 9 876 543 210.",phone_number_error:"Could not update phone number.",pinAlreadySent:"The verification code was already sent. For a new verification code, please click on the link above.",passwordConfirm:"Password confirmation does not match.",tfaExpired:"Two-factor authentication token expired."},this.SUCCESS_MESSAGES={password_changed:"Password changed. You can now log in using new password.",password_reset_requested:"Password reset request has been sent. Please check your email.",resend_sms:"Verification code SMS resent.",send_sms:"Verification code SMS sent."},this.passwordStrengthSetting={enforcePasswordStrength:!1,greenMinLength:this.GREEN_MIN_LENGTH_DEFAULT,passwordStrengthValidity:!1},this.localhostRegExp=new RegExp("localhost"),this.localhostIpRegExp=new RegExp("127.0.0.1"),this.showTenantRegExp=new RegExp("showTenant"),this.autoLogout(),this.initLoginOptions()}var t,n,r,i,o,l,d,p,u,h,m,f,y,v,b;return Ci(e,[{key:"getTenant",value:function(){return this.client.tenant}},{key:"initLoginOptions",value:function(){var e=this.ui.state.loginOptions||[];this.loginMode=this.tenantUiService.getPreferredLoginOption(e),this.oauthOptions=this.tenantUiService.getOauth2Option(e)||{}}},{key:"redirectToOauth",value:function(){var e=this.oauthOptions.initRequest,t=(this.location?this.location._platformLocation:window).location.href,n=encodeURIComponent(t),r="".concat(e.includes("?")?"&":"?","originUri=").concat(n);window.location.href="".concat(e).concat(r)}},{key:"autoLogout",value:function(){var e=this,t=/invalid\scredentials.*pin.*generate/i,n=function(e){return e&&"string"==typeof e.message&&t.test(e.message)};this.ui.currentUser.pipe((0,s.switchMap)((function(t){return t?e.api.hookResponse((function(e){return 401===e.response.status})):a.EMPTY}))).subscribe(function(){var t=ui(di().mark((function t(r){var i,o,a;return di().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.response,o=!1,!n(i.data)){t.next=6;break}o=!0,t.next=11;break;case 6:if("function"!=typeof i.json){t.next=11;break}return t.next=9,i.clone().json();case 9:a=t.sent,n(a)&&(o=!0);case 11:o&&(e.logout(!1),setTimeout((function(){return e.alert.danger(e.ERROR_MESSAGES.tfaExpired)}),500));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getGreenMinLength",value:(b=ui(di().mark((function e(){var t,n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBasicAuthLoginOption();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={greenMinLength:null};case 5:return t=e.t0,n=t.greenMinLength,this.passwordStrengthSetting.greenMinLength=n||this.GREEN_MIN_LENGTH_DEFAULT,e.abrupt("return",this.passwordStrengthSetting.greenMinLength);case 9:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getEnforcePasswordStrength",value:(v=ui(di().mark((function e(t){var n=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getBasicAuthLoginOption(t).then((function(e){var t=(0,c.get)(e,"enforceStrength");return(0,c.isString)(t)?n.passwordStrengthSetting.enforcePasswordStrength="true"===t:n.passwordStrengthSetting.enforcePasswordStrength=!!t,n.passwordStrengthSetting.enforcePasswordStrength})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"getPasswordStrengthValidity",value:(y=ui(di().mark((function e(t){var n=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getBasicAuthLoginOption(t).then((function(e){var t=(0,c.get)(e,"strengthValidity");return(0,c.isString)(t)?n.passwordStrengthSetting.passwordStrengthValidity="true"===t:n.passwordStrengthSetting.passwordStrengthValidity=!!t,n.passwordStrengthSetting.passwordStrengthValidity})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"getPasswordStrengthEnforced",value:(f=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t&&t.refresh,e.abrupt("return",Promise.all([this.getEnforcePasswordStrength(n),this.getPasswordStrengthValidity(n)]).then((function(e){var t=ii(e,2),n=t[0],r=t[1];return n||r})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"cleanMessages",value:function(){this.alert.clearAll()}},{key:"addSuccessMessage",value:function(e){var t=this.SUCCESS_MESSAGES[e];t&&this.alert.add({text:t,type:"success",timeout:0})}},{key:"getAuthStrategy",value:function(){var e=this.cookieAuth,t=this.getStoredToken(),n=this.getStoredTfaToken();return t&&(e=this.basicAuth,this.setCredentials({token:t,tfa:n},this.basicAuth)),e}},{key:"useBasicAuth",value:function(e){return this.setCredentials(e,this.basicAuth),this.basicAuth}},{key:"login",value:(m=ui((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAuthStrategy(),n=arguments.length>1?arguments[1]:void 0;return di().mark((function r(){var i,o,a,s,c,l;return di().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.client.setAuth(t),r.next=3,e.tenant.current();case 3:return i=r.sent,o=i.data,n&&(n.tenant=o.name),r.next=8,e.shouldRedirectDomain(n);case 8:return r.next=10,e.switchLoginMode(n);case 10:if(!r.sent){r.next=12;break}t=e.cookieAuth;case 12:return r.next=14,e.user.current();case 14:return a=r.sent,s=a.data,r.next=18,e.verifyAppAccess();case 18:return c=e.getSupportUserName(n),(l=e.setCredentials({tenant:o.name,user:(c?"".concat(c,"$"):"")+s.userName},t))&&e.storeBasicAuthToken(l),r.next=23,e.authFulfilled(o,s,c);case 23:case"end":return r.stop()}}),r)}))()})),function(){return m.apply(this,arguments)})},{key:"authFulfilled",value:(h=ui(di().mark((function e(t,n,r){var i,o,a,s;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return e.next=3,this.tenant.current();case 3:i=e.sent,o=i.data,t=o,this.client.tenant=t.name;case 7:if(n){e.next=13;break}return e.next=10,this.user.current();case 10:a=e.sent,s=a.data,n=s;case 13:r||(r=null),this.ui.setUser({user:n,supportUserName:r}),this.ui.currentTenant.next(t);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return h.apply(this,arguments)})},{key:"switchLoginMode",value:(u=ui(di().mark((function e(t){var n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isPasswordGrantLogin(t);case 2:if(!(n=e.sent)||!t){e.next=21;break}return e.next=6,this.generateOauthToken(t);case 6:if((r=e.sent).ok){e.next=18;break}return e.prev=8,e.next=11,r.json();case 11:throw i=e.sent,{res:r,data:i};case 15:throw e.prev=15,e.t0=e.catch(8),e.t0;case 18:this.client.setAuth(this.cookieAuth),this.cleanLocalStorage(),this.basicAuth.logout();case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,this,[[8,15]])}))),function(e){return u.apply(this,arguments)})},{key:"generateOauthToken",value:(p=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isPasswordGrantLogin(t);case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=t;case 5:if(!e.t0){e.next=10;break}return n=new URLSearchParams({grant_type:"PASSWORD",username:t.user,password:t.password,tfa_code:t.tfa}),e.next=9,(new g.FetchClient).fetch(this.getUrlForOauth(t),{method:"POST",body:n.toString(),headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8"}});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"isPasswordGrantLogin",value:(d=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.loginMode,!this.isSupportUser(t)){e.next=7;break}if(this.managementLoginMode){e.next=6;break}return e.next=5,this.getManagementLoginMode();case 5:this.managementLoginMode=e.sent;case 6:n=this.managementLoginMode;case 7:return e.abrupt("return",this.tenantUiService.isOauthInternal(n));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"isSupportUser",value:function(e){return e&&e.user.includes("$")}},{key:"showTenant",value:function(){return!this.ui.state.loginOptions||this.isLocal()||this.isShowTenant()}},{key:"showTenantSetup",value:function(){return!this.ui.state.loginOptions&&!this.isLocal()}},{key:"logout",value:(l=ui((function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return di().mark((function n(){var r,i,o,a;return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,e.reset();case 4:return i=n.sent,o=ii(i,2),a=o[1],n.next=9,a.json();case 9:r=n.sent,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),e.alert.removeLastDanger();case 15:return n.prev=15,r&&r.url?e.redirect(r.url):t&&(e.location.replaceState({},"","",""),window.location.reload()),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])}))()})),function(){return l.apply(this,arguments)})},{key:"reset",value:(o=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cleanLocalStorage(),this.cleanSessionStorage(),this.realtime.disconnect(),this.ui.currentUser.next(null),e.abrupt("return",Promise.all([this.basicAuth.logout(),this.cookieAuth.logout()]));case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"saveTFAToken",value:function(e,t){t.setItem(this.TFATOKEN_KEY,e)}},{key:"verifyAppAccess",value:(i=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.ui.loadManifest();case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.res&&404===e.t0.res.status&&this.isLocal()){e.next=9;break}throw e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return i.apply(this,arguments)})},{key:"redirectToDomain",value:function(e){var t=new URL(window.location.href),n=t.href.replace(t.hostname,e);window.location.href=n}},{key:"setCredentials",value:function(e,t){e.tenant&&(this.client.tenant=e.tenant);var n=ci({token:this.basicAuth.updateCredentials({tenant:e.tenant,user:e.user})},e);return t.updateCredentials(n)}},{key:"isLocal",value:function(){var e=window.location.hostname;return this.localhostIpRegExp.test(e)||this.localhostRegExp.test(e)}},{key:"saveToken",value:function(e,t){t.setItem(this.TOKEN_KEY,e)}},{key:"storeBasicAuthToken",value:function(e){this.saveToken(e,sessionStorage),this.rememberMe&&this.saveToken(e,localStorage)}},{key:"cleanLocalStorage",value:function(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.TFATOKEN_KEY)}},{key:"cleanSessionStorage",value:function(){sessionStorage.removeItem(this.TOKEN_KEY),sessionStorage.removeItem(this.TFATOKEN_KEY)}},{key:"isShowTenant",value:function(){return this.showTenantRegExp.test(window.location.href)}},{key:"redirect",value:function(e){window.location.href=e}},{key:"getBasicAuthLoginOption",value:(r=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,this.ui.refreshLoginOptions();case 3:return n=this.ui.state.loginOptions||[],r=n.find((function(e){return"BASIC"===e.type})),e.abrupt("return",Promise.resolve(r));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getSupportUserName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getStoredCredentials();if(!e)return null;var t=e.user.match(/^(.+\/)?((.+)\$)?(.+)?$/)[3];return t}},{key:"getStoredCredentials",value:function(){var e=this.getStoredToken();return e?this.decodeToken(e):null}},{key:"getStoredToken",value:function(){return localStorage.getItem(this.TOKEN_KEY)||sessionStorage.getItem(this.TOKEN_KEY)}},{key:"getStoredTfaToken",value:function(){return localStorage.getItem(this.TFATOKEN_KEY)||sessionStorage.getItem(this.TFATOKEN_KEY)}},{key:"decodeToken",value:function(e){var t=decodeURIComponent(escape(window.atob(e))).match(/(([^/]*)\/)?([^/:]+):(.+)/);return{tenant:t[2],user:t[3],password:t[4]}}},{key:"getUrlForOauth",value:function(e){if((0,c.isEmpty)(e.tenant)&&this.loginMode.initRequest){var t=new URLSearchParams(this.loginMode.initRequest.split("?").pop());e.tenant=t.get("tenant_id")}return(0,c.isEmpty)(e.tenant)?"tenant/oauth":"tenant/oauth?tenant_id=".concat(e.tenant)}},{key:"getManagementLoginMode",value:(n=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tenantLoginOptionsService.listForManagement();case 2:return t=e.sent.data,e.abrupt("return",this.tenantUiService.getPreferredLoginOption(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"shouldRedirectDomain",value:(t=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isPasswordGrantLogin(t);case 2:if(n=e.sent,!this.isSupportUser(t)||!n||this.managementLoginMode.loginRedirectDomain===window.location.hostname||this.isLocal()){e.next=10;break}return r=this.injector.get(ks),e.next=9,r.acknowledge("Redirect required","Redirect to correct domain is required to log in as support user.",Fa.INFO,"Redirect");case 9:this.redirectToDomain(this.managementLoginMode.loginRedirectDomain);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();Cs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cs,deps:[{token:r.Injector},{token:g.FetchClient},{token:g.BasicAuth},{token:g.CookieAuth},{token:Hi},{token:g.UserService},{token:g.TenantService},{token:g.Realtime},{token:ka},{token:x},{token:na},{token:g.TenantLoginOptionsService},{token:ye.TranslateService},{token:u.LocationStrategy,optional:!0}],target:r["ɵɵFactoryTarget"].Injectable}),Cs.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cs}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cs,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:r.Injector},{type:g.FetchClient},{type:g.BasicAuth},{type:g.CookieAuth},{type:Hi},{type:g.UserService},{type:g.TenantService},{type:g.Realtime},{type:ka},{type:x},{type:na},{type:g.TenantLoginOptionsService},{type:ye.TranslateService},{type:u.LocationStrategy,decorators:[{type:r.Optional}]}]}});var Is=function(){function e(t){bi(this,e),this.modal=t,this.onDismiss=new r.EventEmitter,this.onClose=new r.EventEmitter,this.disabled=!1,this.customFooter=!1,this.headerClasses="",this._labels={ok:"OK",cancel:"Cancel"}}return Ci(e,[{key:"labels",get:function(){return this._labels},set:function(e){var t=e.ok,n=e.cancel;this._labels={ok:t,cancel:n}}},{key:"_dismiss",value:function(){var e=this,t=this.dismiss;!t&&this.modal&&(t=function(){return e.modal.hide()}),t&&t(),this.onDismiss.emit(!0)}},{key:"_close",value:function(){var e=this,t=this.close;!t&&this.modal&&(t=function(){return e.modal.hide()}),t&&t(),this.onClose.emit(!0)}},{key:"onEnterKeyDown",value:function(e){var t=(0,Se.isEmpty)(this.labels.ok)!==(0,Se.isEmpty)(this.labels.cancel),n=!this.customFooter&&this.labels.cancel,r=!this.customFooter&&!this.disabled&&this.labels.ok;t&&n&&this._dismiss(),t&&r&&this._close()}}]),e}();Is.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Is,deps:[{token:xe.BsModalRef,optional:!0}],target:r["ɵɵFactoryTarget"].Component}),Is.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Is,selector:"c8y-modal",inputs:{disabled:"disabled",close:"close",dismiss:"dismiss",title:"title",body:"body",customFooter:"customFooter",headerClasses:"headerClasses",labels:"labels"},outputs:{onDismiss:"onDismiss",onClose:"onClose"},host:{listeners:{"document:keydown.enter":"onEnterKeyDown($event)"}},ngImport:i,template:'<div class="viewport-modal">\n  <div class="modal-header {{ headerClasses }}" [ngClass]="{ separator: title }">\n    <ng-content select="[c8y-modal-title]"></ng-content>\n    <h3 [hidden]="!title">\n      {{ title | translate }}\n    </h3>\n  </div>\n  <div class="modal-inner-scroll">\n    <div [ngClass]="{ \'modal-body\': !customFooter, \'d-contents\': customFooter }">\n      <p *ngIf="title" class="text-center text-break-word">\n        {{ body }}\n      </p>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  <div class="modal-footer" *ngIf="!customFooter">\n    <ng-content select="[c8y-modal-footer]"></ng-content>\n    <button\n      title="{{ labels.cancel | translate }}"\n      *ngIf="labels.cancel"\n      class="btn btn-default"\n      (click)="_dismiss()"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button\n      title="{{ labels.ok | translate }}"\n      *ngIf="labels.ok"\n      class="btn btn-primary"\n      (click)="_close()"\n      [disabled]="disabled"\n    >\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Is,decorators:[{type:r.Component,args:[{selector:"c8y-modal",template:'<div class="viewport-modal">\n  <div class="modal-header {{ headerClasses }}" [ngClass]="{ separator: title }">\n    <ng-content select="[c8y-modal-title]"></ng-content>\n    <h3 [hidden]="!title">\n      {{ title | translate }}\n    </h3>\n  </div>\n  <div class="modal-inner-scroll">\n    <div [ngClass]="{ \'modal-body\': !customFooter, \'d-contents\': customFooter }">\n      <p *ngIf="title" class="text-center text-break-word">\n        {{ body }}\n      </p>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  <div class="modal-footer" *ngIf="!customFooter">\n    <ng-content select="[c8y-modal-footer]"></ng-content>\n    <button\n      title="{{ labels.cancel | translate }}"\n      *ngIf="labels.cancel"\n      class="btn btn-default"\n      (click)="_dismiss()"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button\n      title="{{ labels.ok | translate }}"\n      *ngIf="labels.ok"\n      class="btn btn-primary"\n      (click)="_close()"\n      [disabled]="disabled"\n    >\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:xe.BsModalRef,decorators:[{type:r.Optional}]}]},propDecorators:{onDismiss:[{type:r.Output}],onClose:[{type:r.Output}],disabled:[{type:r.Input}],close:[{type:r.Input}],dismiss:[{type:r.Input}],title:[{type:r.Input}],body:[{type:r.Input}],customFooter:[{type:r.Input}],headerClasses:[{type:r.Input}],labels:[{type:r.Input}],onEnterKeyDown:[{type:r.HostListener,args:["document:keydown.enter",["$event"]]}]}});var ws,Ss=Ci((function e(){bi(this,e)}));Ss.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ss,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Ss.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Ss,selector:"c8y-message",inputs:{name:"name",text:"text"},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ss,decorators:[{type:r.Directive,args:[{selector:"c8y-message"}]}],propDecorators:{name:[{type:r.Input}],text:[{type:r.Input}]}}),function(e){e.IS_REQUIRED="required",e.PATTERN="pattern",e.SHOULD_CONTAIN_NUMBER="number",e.SHOULD_BE_DEFINED="should-be-defined",e.GREATER_THAN_SCALE_MAX="greater-than-scale-max",e.LESS_THAN_SCALE_MIN="less-than-scale-min",e.GREATER_THAN_RANGE_MAX="greater-than-range-max",e.LESS_THAN_RANGE_MIN="less-than-range-min",e.MIN_ACTIVE_COUNT="minActiveCount",e.MAX_ACTIVE_COUNT="maxActiveCount"}(ws||(ws={}));var xs=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"get",value:function(e){return this.rules[e]}}]),e}();xs.messages=(li(Kr={deviceId:'Device ID must not contain spaces or slashes ("/").',domain:"Only lowercase letters, digits and hyphens allowed in the first part of the URI. Must start with a letter; hyphens only allowed in the middle. Must be a valid URI.",email:"Invalid email address.",emails:"Invalid email addresses.",internationalPhoneNumber:"International phone number required, in the format +49 9 876 543 210.",loginAlias:'Login alias must not contain slashes ("/", "\\") nor ("+"), (":"), ("$") signs.',max:"Max value: {{ max }}",min:"Min value: {{ min }}",minLength:"Should have at least {{ minLength }} characters",minlength:"Should have at least {{ requiredLength }} characters",maxLength:"Should have at most {{ maxLength }} characters",maxlength:"Should have at most {{ requiredLength }} characters",pattern:"Does not match pattern {{ requiredPattern }}",opcuaBrowsePath:"Invalid OPC UA URI.",password:"Password must have at least 8 characters and no more than 32 and can only contain letters, numbers and following symbols: `~!@#$%^&*()_|+-=?;:'\",.<>{}[]\\/",passwordConfirm:"Passwords do not match.",passwordStrength:"Password not good enough, password must be stronger (green).",phoneNumber:'Invalid phone number format. Only digits, spaces, slashes ("/") and dashes ("-") allowed.',required:"This field is required.",tenantId:"May contain lowercase letters, digits, and hyphens. Must start with a letter; hyphens only allowed in the middle; minimum 2 characters.",urlSegment:"Slash, single or double dots and white space not allowed.",user:'Username must not contain spaces nor slashes ("/", "\\") nor ("+"), (":"), ("$") signs.',httpUrl:"Must be a valid HTTP(S) URL.",noDots:"Dots not allowed.",simpleJsonPath:"Must be a valid JSON path"},ws.SHOULD_CONTAIN_NUMBER,"This field must contain a number."),li(Kr,ws.SHOULD_BE_DEFINED,"Value must be defined."),li(Kr,ws.GREATER_THAN_SCALE_MAX,"Value must be less than scale maximum."),li(Kr,ws.LESS_THAN_SCALE_MIN,"Value must be greater than scale minimum."),li(Kr,ws.GREATER_THAN_RANGE_MAX,"Value must be less than respective maximum."),li(Kr,ws.LESS_THAN_RANGE_MIN,"Value must be greater than respective minimum."),Kr),xs.rules={deviceId:{pattern:/^[^\s/]*$/},domain:{pattern:/^[a-z]+[a-z0-9-]*[a-z0-9]+\.{1}.+$/},groupName:{maxLength:254},hostname:{pattern:/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/},ip:{pattern:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/},opcuaBrowsePath:{pattern:/^(opc.tcp|http|https):\/\/[^ "]+$/},password:{pattern:/^[a-zA-Z0-9`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]{8,32}$/},phoneNumber:{pattern:/^$|^(\+|0{2})[\d\s/-]{1,30}$/},tenantId:{pattern:/^[a-z]+[a-z0-9-]*[a-z0-9]+$/},user:{pattern:/^[^\\/\s$:+]*$/},urlSegment:{pattern:/^(([.]{1,2})|([/])+|(([/]*)([.]{1,2})([/]*))|((.*)([/]|[ ]+)(.*))|(\s+))$/},loginAlias:{pattern:/^[^\\/$:+]*$/},noDots:{pattern:/^[^.]*$/},httpUrl:{pattern:/^(https?):\/\/.*$/}};var Ds=function(){function e(t){bi(this,e),this.translateService=t,this.show={},this.defaults=xs.messages,this.messages=[],this.messageMap={}}return Ci(e,[{key:"ngAfterContentInit",value:function(){this.messageMap=Object.assign({},this.defaults,this.customMessages.reduce((function(e,t){return e[t.name]=t.text,e}),{}))}},{key:"changVisibility",value:function(e){this.show=e,this.ngOnChanges()}},{key:"ngOnChanges",value:function(){var e=this;this.show?this.messages=Object.keys(this.show).map((function(t){return e.toMessage(t,e.show[t])})).filter((function(e){return null!==e})):this.messages=[]}},{key:"toMessage",value:function(e,t){var n=this.messageMap[e];if((!n||n===xs.messages.pattern)&&"pattern"===e&&"string"==typeof(null==t?void 0:t.requiredPattern)){var r=t.requiredPattern.replace(/^\//,"").replace(/\/$/,""),i=Object.keys(xs.rules).find((function(e){var t;return(null===(t=xs.rules[e].pattern)||void 0===t?void 0:t.source)===r}));i&&(e=i,n=this.messageMap[e])}return n?this.translateService.instant(n,t):null}}]),e}();Ds.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ds,deps:[{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Component}),Ds.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ds,selector:"c8y-messages",inputs:{show:"show",defaults:"defaults"},queries:[{propertyName:"customMessages",predicate:Ss}],usesOnChanges:!0,ngImport:i,template:'<small class="form-control-feedback-message">\n  <div class="d-block" *ngFor="let msg of messages">\n    {{msg | translate}}\n  </div>\n  <ng-content></ng-content>\n</small>\n',dependencies:[{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ds,decorators:[{type:r.Component,args:[{selector:"c8y-messages",template:'<small class="form-control-feedback-message">\n  <div class="d-block" *ngFor="let msg of messages">\n    {{msg | translate}}\n  </div>\n  <ng-content></ng-content>\n</small>\n'}]}],ctorParameters:function(){return[{type:ye.TranslateService}]},propDecorators:{show:[{type:r.Input}],defaults:[{type:r.Input}],customMessages:[{type:r.ContentChildren,args:[Ss]}]}});var $s=function(){function e(){bi(this,e),this.hasError=!1,this.hasWarning=!1,this.hasSuccess=!1,this.novalidation=!1,this.destroyed$=new a.Subject,this.VALIDATION_DEBOUNCE_MS=1e3}return Ci(e,[{key:"error",get:function(){return"error"===this.status||this.hasError}},{key:"warning",get:function(){return"warning"===this.status||this.hasWarning}},{key:"success",get:function(){return"success"===this.status||this.hasSuccess}},{key:"ngAfterContentInit",value:function(){this.initNgModel(),this.initFormControl()}},{key:"initNgModel",value:function(){var e=this;this.model&&(this.model.valueAccessor.registerOnTouched((function(){e.model.control&&!e.model.control.dirty&&(e.model.control.markAsDirty(),e.model.control.updateValueAndValidity({onlySelf:!0}))})),this.subscribeForChanges(this.model))}},{key:"initFormControl",value:function(){this.formControlName&&this.subscribeForChanges(this.formControlName.control)}},{key:"subscribeForChanges",value:function(e){var t=this;(0,a.merge)(e.valueChanges,e.statusChanges).pipe((0,s.filter)((function(){return e.dirty&&!t.novalidation})),(0,s.debounce)((function(){return t.hasError?(0,a.timer)(10):(0,a.timer)(t.VALIDATION_DEBOUNCE_MS)})),(0,s.takeUntil)(this.destroyed$)).subscribe((function(){return t.update(e)}))}},{key:"update",value:function(e){this.hasError="INVALID"===e.status,this.customErrorMessage?this.customErrorMessage.changVisibility(e.errors):this.errors=e.errors}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}}]),e}();$s.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$s,deps:[],target:r["ɵɵFactoryTarget"].Component}),$s.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:$s,selector:"c8y-form-group",inputs:{hasError:"hasError",hasWarning:"hasWarning",hasSuccess:"hasSuccess",novalidation:"novalidation",status:"status"},host:{properties:{"class.has-error":"this.error","class.has-warning":"this.warning","class.has-success":"this.success"},classAttribute:"form-group"},queries:[{propertyName:"customErrorMessage",first:!0,predicate:Ds,descendants:!0},{propertyName:"model",first:!0,predicate:De.NgModel,descendants:!0,static:!0},{propertyName:"formControlName",first:!0,predicate:De.FormControlName,descendants:!0,static:!0}],ngImport:i,template:'<ng-content></ng-content>\n<c8y-messages *ngIf="!customErrorMessage" [show]="errors"></c8y-messages>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Ds,selector:"c8y-messages",inputs:["show","defaults"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$s,decorators:[{type:r.Component,args:[{selector:"c8y-form-group",host:{class:"form-group"},template:'<ng-content></ng-content>\n<c8y-messages *ngIf="!customErrorMessage" [show]="errors"></c8y-messages>\n'}]}],propDecorators:{hasError:[{type:r.Input}],hasWarning:[{type:r.Input}],hasSuccess:[{type:r.Input}],novalidation:[{type:r.Input}],status:[{type:r.Input}],error:[{type:r.HostBinding,args:["class.has-error"]}],warning:[{type:r.HostBinding,args:["class.has-warning"]}],success:[{type:r.HostBinding,args:["class.has-success"]}],customErrorMessage:[{type:r.ContentChild,args:[Ds,{static:!1}]}],model:[{type:r.ContentChild,args:[De.NgModel,{static:!0}]}],formControlName:[{type:r.ContentChild,args:[De.FormControlName,{static:!0}]}]}});var Es=function(){function e(t,n,r,i){bi(this,e),this.el=t,this.renderer=n,this.translationService=r,this.ngControl=i,this.shouldSkipRequiredHint=!1,this.shouldSkipRequiredHint=!!this.el.nativeElement.closest("[placeholder-no-required-hint]")}return Ci(e,[{key:"ngAfterViewChecked",value:function(){var e,t,n;if(void 0!==(null===(e=this.el)||void 0===e||null===(t=e.nativeElement)||void 0===t?void 0:t.required)||null!==(n=this.ngControl)&&void 0!==n&&n.control){var r,i,o,a,s=((null===(r=this.el)||void 0===r||null===(i=r.nativeElement)||void 0===i?void 0:i.required)||(null===(o=this.ngControl)||void 0===o||null===(a=o.control)||void 0===a?void 0:a.hasValidator(De.Validators.required)))&&!this.shouldSkipRequiredHint,c=this.el.nativeElement.placeholder;this.placeholder===c&&this.req===s||this.updatePlaceholder(this.getTextForPlaceholder(c,s))}}},{key:"getTextForPlaceholder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.req=t;var n="(".concat(this.translationService.instant("required"),")"),r=e.lastIndexOf(n);return r>0&&(e=e.slice(0,r-1)),0===r&&(e=""),t?e.trim()?"".concat(e," ").concat(n):n:e}},{key:"updatePlaceholder",value:function(e){this.renderer.setAttribute(this.el.nativeElement,"placeholder",e),this.placeholder=e}}]),e}();Es.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Es,deps:[{token:r.ElementRef},{token:r.Renderer2},{token:ye.TranslateService},{token:De.NgControl,optional:!0}],target:r["ɵɵFactoryTarget"].Directive}),Es.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Es,selector:"input[required], input[formControlName]",ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Es,decorators:[{type:r.Directive,args:[{selector:"input[required], input[formControlName]"}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:r.Renderer2},{type:ye.TranslateService},{type:De.NgControl,decorators:[{type:r.Optional}]}]}});var Ts=function(){function e(t,n,i,o,a){bi(this,e),this.user=t,this.ui=n,this.client=i,this.alert=o,this.loginService=a,this.passwordConfirmedEmitter=new r.EventEmitter,this.loading=!1}var t;return Ci(e,[{key:"passwordConfirm",value:(t=ui(di().mark((function e(){var t,n,r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.password){e.next=21;break}return t=this.ui.currentSupportUserName.value,n=this.ui.currentUser.value.id,r={password:this.password,user:"".concat(t?"".concat(t,"$"):"").concat(n),tenant:this.client.tenant},e.prev=4,this.loading=!0,i=(0,c.clone)(this.loginService.useBasicAuth({})),delete r.tfa,i.updateCredentials(r),o=this.createNewClient(i,this.client.baseUrl),e.next=12,o.user.current();case 12:this.emitSuccessAndClose(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),e.t0.res&&401===e.t0.res.status&&e.t0.data&&/pin|totp/i.test(e.t0.data.message)?this.emitSuccessAndClose():this.alert.danger("Provided password doesn't match your current one.");case 18:return e.prev=18,this.loading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[4,15,18,21]])}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this.passwordConfirmedEmitter.emit(!1),this.modal._dismiss()}},{key:"createNewClient",value:function(e,t){return new g.Client(e,t)}},{key:"emitSuccessAndClose",value:function(){this.passwordConfirmedEmitter.emit(!0),this.modal._dismiss()}}]),e}();Ts.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ts,deps:[{token:g.UserService},{token:Hi},{token:g.FetchClient},{token:ka},{token:Cs}],target:r["ɵɵFactoryTarget"].Component}),Ts.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ts,selector:"c8y-password-confirm-modal",outputs:{passwordConfirmedEmitter:"passwordConfirmedEmitter"},viewQueries:[{propertyName:"modal",first:!0,predicate:["modal"],descendants:!0}],ngImport:i,template:'<c8y-modal [customFooter]="true" [title]="\'Confirm your current password\' | translate" #modal>\r\n  <form #confirmForm="ngForm" (ngSubmit)="confirmForm.form.valid && passwordConfirm()">\r\n    <div class="d-block p-24 p-b-0">\r\n      <c8y-form-group [hasWarning]="true">\r\n        <label translate for="currentPassword">Enter your password</label>\r\n        <input\r\n          id="currentPassword"\r\n          [(ngModel)]="password"\r\n          type="password"\r\n          name="password"\r\n          class="form-control"\r\n          placeholder="{{ \'Enter your password\' | translate }}"\r\n          required\r\n        />\r\n        <c8y-messages>\r\n          <c8y-message translate>\r\n            Enter the password of the user that you are currently logged in with.\r\n          </c8y-message>\r\n        </c8y-messages>\r\n      </c8y-form-group>\r\n    </div>\r\n    <div class="modal-footer separator-top bg-white sticky-bottom">\r\n      <button\r\n        title="{{ \'Cancel\' | translate }}"\r\n        class="btn btn-default"\r\n        type="button"\r\n        (click)="cancel()"\r\n        translate\r\n      >\r\n        Cancel\r\n      </button>\r\n      <button\r\n        title="{{ \'Confirm\' | translate }}"\r\n        class="btn btn-primary"\r\n        type="submit"\r\n        [disabled]="!confirmForm.form.valid || loading"\r\n        translate\r\n      >\r\n        Confirm\r\n      </button>\r\n    </div>\r\n  </form>\r\n</c8y-modal>\r\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Ss,selector:"c8y-message",inputs:["name","text"]},{kind:"component",type:Ds,selector:"c8y-messages",inputs:["show","defaults"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"component",type:Is,selector:"c8y-modal",inputs:["disabled","close","dismiss","title","body","customFooter","headerClasses","labels"],outputs:["onDismiss","onClose"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ts,decorators:[{type:r.Component,args:[{selector:"c8y-password-confirm-modal",template:'<c8y-modal [customFooter]="true" [title]="\'Confirm your current password\' | translate" #modal>\r\n  <form #confirmForm="ngForm" (ngSubmit)="confirmForm.form.valid && passwordConfirm()">\r\n    <div class="d-block p-24 p-b-0">\r\n      <c8y-form-group [hasWarning]="true">\r\n        <label translate for="currentPassword">Enter your password</label>\r\n        <input\r\n          id="currentPassword"\r\n          [(ngModel)]="password"\r\n          type="password"\r\n          name="password"\r\n          class="form-control"\r\n          placeholder="{{ \'Enter your password\' | translate }}"\r\n          required\r\n        />\r\n        <c8y-messages>\r\n          <c8y-message translate>\r\n            Enter the password of the user that you are currently logged in with.\r\n          </c8y-message>\r\n        </c8y-messages>\r\n      </c8y-form-group>\r\n    </div>\r\n    <div class="modal-footer separator-top bg-white sticky-bottom">\r\n      <button\r\n        title="{{ \'Cancel\' | translate }}"\r\n        class="btn btn-default"\r\n        type="button"\r\n        (click)="cancel()"\r\n        translate\r\n      >\r\n        Cancel\r\n      </button>\r\n      <button\r\n        title="{{ \'Confirm\' | translate }}"\r\n        class="btn btn-primary"\r\n        type="submit"\r\n        [disabled]="!confirmForm.form.valid || loading"\r\n        translate\r\n      >\r\n        Confirm\r\n      </button>\r\n    </div>\r\n  </form>\r\n</c8y-modal>\r\n'}]}],ctorParameters:function(){return[{type:g.UserService},{type:Hi},{type:g.FetchClient},{type:ka},{type:Cs}]},propDecorators:{passwordConfirmedEmitter:[{type:r.Output}],modal:[{type:r.ViewChild,args:["modal",{static:!1}]}]}});var _s=function(){function e(t){bi(this,e),this.modal=t,this.currentPasswordEmitter=new r.EventEmitter}return Ci(e,[{key:"passwordConfirm",value:function(){this.currentPasswordEmitter.emit(this.password),this.modal.hide()}},{key:"cancel",value:function(){this.currentPasswordEmitter.emit(null),this.modal.hide()}}]),e}();_s.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_s,deps:[{token:xe.BsModalRef}],target:r["ɵɵFactoryTarget"].Component}),_s.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:_s,selector:"c8y-current-password-modal",outputs:{currentPasswordEmitter:"currentPasswordEmitter"},ngImport:i,template:'<c8y-modal [customFooter]="true" [title]="\'Confirm your current password\' | translate" #modal>\n  <form #confirmForm="ngForm" (ngSubmit)="confirmForm.form.valid && passwordConfirm()">\n    <div class="d-block p-24">\n      <c8y-form-group [hasWarning]="true">\n        <label translate for="currentPassword">Enter your password</label>\n        <input\n          id="currentPassword"\n          [(ngModel)]="password"\n          type="password"\n          name="password"\n          class="form-control"\n          required\n        />\n        <c8y-messages>\n          <c8y-message translate>\n            The password of the user that you are currently logged in with.\n          </c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n    </div>\n    <div class="modal-footer separator-top bg-white sticky-bottom">\n      <button\n        title="{{ \'Cancel\' | translate }}"\n        class="btn btn-default"\n        type="button"\n        (click)="cancel()"\n        translate\n      >\n        Cancel\n      </button>\n      <button\n        title="{{ \'Confirm\' | translate }}"\n        class="btn btn-primary"\n        type="submit"\n        [disabled]="!confirmForm.form.valid"\n        translate\n      >\n        Confirm\n      </button>\n    </div>\n  </form>\n</c8y-modal>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Ss,selector:"c8y-message",inputs:["name","text"]},{kind:"component",type:Ds,selector:"c8y-messages",inputs:["show","defaults"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"component",type:Is,selector:"c8y-modal",inputs:["disabled","close","dismiss","title","body","customFooter","headerClasses","labels"],outputs:["onDismiss","onClose"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_s,decorators:[{type:r.Component,args:[{selector:"c8y-current-password-modal",template:'<c8y-modal [customFooter]="true" [title]="\'Confirm your current password\' | translate" #modal>\n  <form #confirmForm="ngForm" (ngSubmit)="confirmForm.form.valid && passwordConfirm()">\n    <div class="d-block p-24">\n      <c8y-form-group [hasWarning]="true">\n        <label translate for="currentPassword">Enter your password</label>\n        <input\n          id="currentPassword"\n          [(ngModel)]="password"\n          type="password"\n          name="password"\n          class="form-control"\n          required\n        />\n        <c8y-messages>\n          <c8y-message translate>\n            The password of the user that you are currently logged in with.\n          </c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n    </div>\n    <div class="modal-footer separator-top bg-white sticky-bottom">\n      <button\n        title="{{ \'Cancel\' | translate }}"\n        class="btn btn-default"\n        type="button"\n        (click)="cancel()"\n        translate\n      >\n        Cancel\n      </button>\n      <button\n        title="{{ \'Confirm\' | translate }}"\n        class="btn btn-primary"\n        type="submit"\n        [disabled]="!confirmForm.form.valid"\n        translate\n      >\n        Confirm\n      </button>\n    </div>\n  </form>\n</c8y-modal>\n'}]}],ctorParameters:function(){return[{type:xe.BsModalRef}]},propDecorators:{currentPasswordEmitter:[{type:r.Output}]}});var Fs=function(){function e(t){bi(this,e),this.modalService=t,this.DEFAULT_PASSWORD_MIN_LENGTH=8,this.GREEN={colorName:"green",color:"rgb(0, 128, 0)",description:"strong",passwordStrength:g.PasswordStrength.GREEN},this.YELLOW={colorName:"yellow",color:"rgb(255, 204, 51)",description:"medium",passwordStrength:g.PasswordStrength.YELLOW},this.RED={colorName:"red",color:"rgb(170, 0, 51)",description:"weak",passwordStrength:g.PasswordStrength.RED}}return Ci(e,[{key:"confirmPassword",value:function(){return this.modalService.show(Ts).content.passwordConfirmedEmitter.pipe((0,s.take)(1))}},{key:"currentPassword",value:function(){return this.modalService.show(_s,{class:"modal-sm"}).content.currentPasswordEmitter.pipe((0,s.take)(1))}},{key:"hasLowerCase",value:function(e){return-1!==e.search(/[a-z]/)}},{key:"hasUpperCase",value:function(e){return-1!==e.search(/[A-Z]/)}},{key:"hasNumbers",value:function(e){return-1!==e.search(/[0-9]/)}},{key:"hasSpecialChars",value:function(e){return-1!==e.search(/[^0-9a-zA-Z]+/)}},{key:"getStrengthColor",value:function(e){var t=(0,c.filter)([this.hasLowerCase(e),this.hasUpperCase(e),this.hasNumbers(e),this.hasSpecialChars(e)]).length;return t>3?this.GREEN:t>=3?this.YELLOW:this.RED}},{key:"getDefaultPasswordMinLength",value:function(){return this.DEFAULT_PASSWORD_MIN_LENGTH}}]),e}();Fs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fs,deps:[{token:xe.BsModalService}],target:r["ɵɵFactoryTarget"].Injectable}),Fs.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fs}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fs,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:xe.BsModalService}]}});var Os=function(){function e(t,n,i){bi(this,e),this.loginService=t,this.users=n,this.alert=i,this.verify=!0,this.onSuccess=new r.EventEmitter,this.totpUnconfirmedEmitter=new r.EventEmitter,this.loading=!1,this.hasError=!1,this.model={token:""}}var t;return Ci(e,[{key:"verifyCode",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,this.hasError=!1,!this.verify){e.next=6;break}return e.next=6,this.users.verifyTotpCode(this.model.token);case 6:this.onSuccess.emit(this.model.token),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),this.hasError=!0,this.alert.removeLastDanger(),this.loading=!1;case 14:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this.totpUnconfirmedEmitter.emit()}}]),e}();Os.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Os,deps:[{token:Cs},{token:g.UserService},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),Os.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Os,selector:"c8y-totp-challenge",inputs:{verify:"verify",loading:"loading",hasError:"hasError"},outputs:{onSuccess:"onSuccess",totpUnconfirmedEmitter:"totpUnconfirmedEmitter"},viewQueries:[{propertyName:"modal",first:!0,predicate:["modal"],descendants:!0}],ngImport:i,template:'<form #totpForm="ngForm" role="form" class="loginForm" (ngSubmit)="verifyCode()" novalidate>\n  <div class="d-block p-24 p-b-0">\n    <c8y-form-group\n      [hasError]="hasError"\n      [novalidation]="true"\n      [ngClass]="hasError ? \'p-b-24\' : \'\'"\n    >\n      <label translate for="totpToken">Verification code</label>\n\n      <input\n        id="totpToken"\n        [(ngModel)]="model.token"\n        name="totpToken"\n        type="text"\n        autocapitalize="off"\n        autocorrect="off"\n        autocomplete="off"\n        class="form-control"\n        placeholder="{{ \'e.g.\' | translate }} 624327"\n        required\n      />\n\n      <c8y-messages>\n        <c8y-message *ngIf="hasError" translate>\n          Invalid verification code. In case of key loss, contact your platform administrator.\n        </c8y-message>\n      </c8y-messages>\n      <p id="helpinput" *ngIf="!hasError" class="help-block" translate>\n        In case of key loss, please contact your platform administrator.\n      </p>\n    </c8y-form-group>\n  </div>\n  <div class="modal-footer separator-top bg-white sticky-bottom">\n    <button\n      title="{{ \'Cancel\' | translate }}"\n      class="btn btn-default"\n      type="button"\n      (click)="cancel()"\n    >\n      {{ \'Cancel\' | translate }}\n    </button>\n    <button\n      *ngIf="!loading"\n      title="{{ \'Verify\' | translate }}"\n      [disabled]="!totpForm.form.valid"\n      type="submit"\n      class="btn btn-primary form-group"\n    >\n      {{ \'Verify\' | translate }}\n    </button>\n\n    <button\n      *ngIf="loading"\n      title="{{ \'Verifying…\' | translate }}"\n      type="submit"\n      class="btn btn-primary btn-pending"\n    >\n      {{ \'Verifying…\' | translate }}\n    </button>\n  </div>\n</form>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Ss,selector:"c8y-message",inputs:["name","text"]},{kind:"component",type:Ds,selector:"c8y-messages",inputs:["show","defaults"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}],viewProviders:[{provide:De.ControlContainer,useExisting:De.NgForm}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Os,decorators:[{type:r.Component,args:[{selector:"c8y-totp-challenge",viewProviders:[{provide:De.ControlContainer,useExisting:De.NgForm}],template:'<form #totpForm="ngForm" role="form" class="loginForm" (ngSubmit)="verifyCode()" novalidate>\n  <div class="d-block p-24 p-b-0">\n    <c8y-form-group\n      [hasError]="hasError"\n      [novalidation]="true"\n      [ngClass]="hasError ? \'p-b-24\' : \'\'"\n    >\n      <label translate for="totpToken">Verification code</label>\n\n      <input\n        id="totpToken"\n        [(ngModel)]="model.token"\n        name="totpToken"\n        type="text"\n        autocapitalize="off"\n        autocorrect="off"\n        autocomplete="off"\n        class="form-control"\n        placeholder="{{ \'e.g.\' | translate }} 624327"\n        required\n      />\n\n      <c8y-messages>\n        <c8y-message *ngIf="hasError" translate>\n          Invalid verification code. In case of key loss, contact your platform administrator.\n        </c8y-message>\n      </c8y-messages>\n      <p id="helpinput" *ngIf="!hasError" class="help-block" translate>\n        In case of key loss, please contact your platform administrator.\n      </p>\n    </c8y-form-group>\n  </div>\n  <div class="modal-footer separator-top bg-white sticky-bottom">\n    <button\n      title="{{ \'Cancel\' | translate }}"\n      class="btn btn-default"\n      type="button"\n      (click)="cancel()"\n    >\n      {{ \'Cancel\' | translate }}\n    </button>\n    <button\n      *ngIf="!loading"\n      title="{{ \'Verify\' | translate }}"\n      [disabled]="!totpForm.form.valid"\n      type="submit"\n      class="btn btn-primary form-group"\n    >\n      {{ \'Verify\' | translate }}\n    </button>\n\n    <button\n      *ngIf="loading"\n      title="{{ \'Verifying…\' | translate }}"\n      type="submit"\n      class="btn btn-primary btn-pending"\n    >\n      {{ \'Verifying…\' | translate }}\n    </button>\n  </div>\n</form>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:g.UserService},{type:ka}]},propDecorators:{verify:[{type:r.Input}],onSuccess:[{type:r.Output}],totpUnconfirmedEmitter:[{type:r.Output}],loading:[{type:r.Input}],hasError:[{type:r.Input}],modal:[{type:r.ViewChild,args:["modal",{static:!1}]}]}});var Ps=function(){function e(t,n){bi(this,e),this.user=t,this.alert=n}var t;return Ci(e,[{key:"qrCodeImage",get:function(){return this.totpSecret?this.totpSecret.secretQrUrl:""}},{key:"secret",get:function(){return this.totpSecret?this.totpSecret.rawSecret:""}},{key:"qrData",get:function(){var e=this.qrCodeImage.split("chl=")[1];return e?decodeURIComponent(e):(this.alert.danger("Failed to generate a QR code."),"")}},{key:"ngOnInit",value:(t=ui(di().mark((function e(){var t,n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.generateTotpSecret();case 3:t=e.sent,n=t.data,this.totpSecret=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.alert.addServerFailure(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return t.apply(this,arguments)})}]),e}();Ps.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ps,deps:[{token:g.UserService},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),Ps.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ps,selector:"c8y-totp-setup",ngImport:i,template:'<div class="text-center">\n  <p class="m-24 m-t-16 m-b-0" translate>\n    Scan this QR code with your smartphone using the Google Authenticator app.\n  </p>\n\n  <div class="d-flex j-c-center">\n    <qrcode\n      [width]="180"\n      *ngIf="totpSecret"\n      [qrdata]="qrData"\n      [errorCorrectionLevel]="\'M\'"\n      [elementType]="\'svg\'"\n    ></qrcode>\n  </div>\n  <p class="text-center text-muted">\n    {{ secret }}\n  </p>\n</div>\n',dependencies:[{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:$e.QRCodeComponent,selector:"qrcode",inputs:["allowEmptyString","colorDark","colorLight","cssClass","elementType","errorCorrectionLevel","imageSrc","imageHeight","imageWidth","margin","qrdata","scale","version","width","alt","ariaLabel","title"],outputs:["qrCodeURL"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ps,decorators:[{type:r.Component,args:[{selector:"c8y-totp-setup",template:'<div class="text-center">\n  <p class="m-24 m-t-16 m-b-0" translate>\n    Scan this QR code with your smartphone using the Google Authenticator app.\n  </p>\n\n  <div class="d-flex j-c-center">\n    <qrcode\n      [width]="180"\n      *ngIf="totpSecret"\n      [qrdata]="qrData"\n      [errorCorrectionLevel]="\'M\'"\n      [elementType]="\'svg\'"\n    ></qrcode>\n  </div>\n  <p class="text-center text-muted">\n    {{ secret }}\n  </p>\n</div>\n'}]}],ctorParameters:function(){return[{type:g.UserService},{type:ka}]}});var Ns=function(){function e(t,n,r,i){bi(this,e),this.user=t,this.modalService=n,this.modal=r,this.loginService=i}var t;return Ci(e,[{key:"totpSetupVerified",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.user.activateTotp();case 2:return this.modal.hide(),e.prev=3,e.next=6,this.modalService.acknowledge("Logout required","You must log out in order to apply your changes",Fa.WARNING,"Log out");case 6:return e.next=8,this.loginService.logout();case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return t.apply(this,arguments)})},{key:"close",value:function(){this.modal.hide()}}]),e}();Ns.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ns,deps:[{token:g.UserService},{token:ks},{token:xe.BsModalRef},{token:Cs}],target:r["ɵɵFactoryTarget"].Component}),Ns.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ns,selector:"c8y-user-totp-setup",ngImport:i,template:'<c8y-modal [customFooter]="true" [title]="\'Set up two-factor authentication\' | translate">\n  <c8y-totp-setup></c8y-totp-setup>\n  <c8y-totp-challenge (onSuccess)="totpSetupVerified()" (totpUnconfirmedEmitter)="close()"></c8y-totp-challenge>\n</c8y-modal>\n',dependencies:[{kind:"component",type:Is,selector:"c8y-modal",inputs:["disabled","close","dismiss","title","body","customFooter","headerClasses","labels"],outputs:["onDismiss","onClose"]},{kind:"component",type:Os,selector:"c8y-totp-challenge",inputs:["verify","loading","hasError"],outputs:["onSuccess","totpUnconfirmedEmitter"]},{kind:"component",type:Ps,selector:"c8y-totp-setup"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ns,decorators:[{type:r.Component,args:[{selector:"c8y-user-totp-setup",template:'<c8y-modal [customFooter]="true" [title]="\'Set up two-factor authentication\' | translate">\n  <c8y-totp-setup></c8y-totp-setup>\n  <c8y-totp-challenge (onSuccess)="totpSetupVerified()" (totpUnconfirmedEmitter)="close()"></c8y-totp-challenge>\n</c8y-modal>\n'}]}],ctorParameters:function(){return[{type:g.UserService},{type:ks},{type:xe.BsModalRef},{type:Cs}]}});var As=function(){function e(){bi(this,e)}return Ci(e,[{key:"validate",value:function(e){return this.validateInternationalPhoneNumber(e)?null:{internationalPhoneNumber:!0}}},{key:"validateInternationalPhoneNumber",value:function(e){var t;try{var n=function(){return Te(wn,arguments)}(e.value);(t=n.isValid())&&e.value!==n.format("E.164")&&e.setValue(n.format("E.164"),{emitEvent:!1,emitModelToViewChange:!1})}catch(n){t=!e.value}return t}}]),e}();As.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:As,deps:[],target:r["ɵɵFactoryTarget"].Directive}),As.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:As,selector:"[c8yPhoneValidation]",providers:[{provide:De.NG_VALIDATORS,useExisting:As,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:As,decorators:[{type:r.Directive,args:[{selector:"[c8yPhoneValidation]",providers:[{provide:De.NG_VALIDATORS,useExisting:As,multi:!0}]}]}]});var Ms=function(){function e(){bi(this,e),this.c8yDefaultValidation=""}return Ci(e,[{key:"validate",value:function(e){if(!e.value)return null;var t=xs.get(this.c8yDefaultValidation);if(!t)throw new Error("Pattern ".concat(this.c8yDefaultValidation," not found."));var n=!0;return t.pattern&&(n=t.pattern.test(e.value)),t.maxLength&&(n=e.value.length<t.maxLength),t.minLength&&(n=e.value.length>=t.minLength),n?null:li({},this.c8yDefaultValidation,!0)}}]),e}();Ms.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ms,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Ms.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Ms,selector:"[c8yDefaultValidation]",inputs:{c8yDefaultValidation:"c8yDefaultValidation"},providers:[{provide:De.NG_VALIDATORS,useExisting:Ms,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ms,decorators:[{type:r.Directive,args:[{selector:"[c8yDefaultValidation]",providers:[{provide:De.NG_VALIDATORS,useExisting:Ms,multi:!0}]}]}],propDecorators:{c8yDefaultValidation:[{type:r.Input}]}});var Rs=function(){function e(t){bi(this,e),this.passwordConfirm=t}return Ci(e,[{key:"validate",value:function(e){var t=e.value,n=e.root.get(this.passwordConfirm);return n&&t!==n.value?{passwordConfirm:!0}:null}}]),e}();Rs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rs,deps:[{token:"passwordConfirm",attribute:!0}],target:r["ɵɵFactoryTarget"].Directive}),Rs.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Rs,selector:"[passwordConfirm]",providers:[{provide:De.NG_VALIDATORS,useExisting:Rs,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rs,decorators:[{type:r.Directive,args:[{selector:"[passwordConfirm]",providers:[{provide:De.NG_VALIDATORS,useExisting:Rs,multi:!0}]}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Attribute,args:["passwordConfirm"]}]}]}});var Ls=function(){function e(t){bi(this,e),this.passwordStrengthCheckerService=t,this.strength=new r.EventEmitter,this.password=""}return Ci(e,[{key:"password",set:function(e){"string"==typeof e&&(this.model=this.passwordStrengthCheckerService.getStrengthColor(e),this.strength.emit(this.model))}}]),e}();Ls.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ls,deps:[{token:Fs}],target:r["ɵɵFactoryTarget"].Component}),Ls.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ls,selector:"c8y-password-strength",inputs:{password:"password"},outputs:{strength:"strength"},ngImport:i,template:'<div class="password-strength password-{{ model.colorName }}">\r\n  <label class="password-strength-label small" translate>\r\n    Password strength\r\n  </label>\r\n  <div>\r\n    <div class="password-bar"></div>\r\n  </div>\r\n  <span class="small">\r\n    {{ model.description | translate }}\r\n  </span>\r\n</div>\r\n',dependencies:[{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ls,decorators:[{type:r.Component,args:[{selector:"c8y-password-strength",template:'<div class="password-strength password-{{ model.colorName }}">\r\n  <label class="password-strength-label small" translate>\r\n    Password strength\r\n  </label>\r\n  <div>\r\n    <div class="password-bar"></div>\r\n  </div>\r\n  <span class="small">\r\n    {{ model.description | translate }}\r\n  </span>\r\n</div>\r\n'}]}],ctorParameters:function(){return[{type:Fs}]},propDecorators:{password:[{type:r.Input,args:["password"]}],strength:[{type:r.Output}]}});var Vs=function(){function e(t,n,r){var i=this;bi(this,e),this.loginService=t,this.passwordStrengthChecker=n,this.passwordService=r,this.minGreenLength=0,this.checklist=[{label:"Include lowercase characters (for example, abcdef)",check:this.passwordStrengthChecker.hasLowerCase,icon:"",contextualColor:""},{label:"Include uppercase characters (for example, ABCDEF)",check:this.passwordStrengthChecker.hasUpperCase,icon:"",contextualColor:""},{label:"Include numbers (for example, 123456)",check:this.passwordStrengthChecker.hasNumbers,icon:"",contextualColor:""},{label:"Include symbols (for example, !@#$%^)",check:this.passwordStrengthChecker.hasSpecialChars,icon:"",contextualColor:""},{label:"Must have at least {{length}} characters",check:function(e){return e.length>=i.minGreenLength},icon:"",contextualColor:""}]}var t;return Ci(e,[{key:"password",set:function(e){"string"==typeof e&&this.onPasswordChange(e)}},{key:"ngOnInit",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loginService.getGreenMinLength();case 2:this.minGreenLength=e.sent,this.minGreenLength||(this.minGreenLength=this.passwordService.getDefaultPasswordMinLength());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"translateParams",get:function(){return{length:this.minGreenLength}}},{key:"onPasswordChange",value:function(e){this.checklist=(0,c.map)(this.checklist,(function(t){var n=t.check(e);return(0,c.assign)(t,{icon:n?"check-circle":"",contextualColor:n?"":"text-muted"}),t}))}}]),e}();Vs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vs,deps:[{token:Cs},{token:Fs},{token:Fs}],target:r["ɵɵFactoryTarget"].Component}),Vs.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Vs,selector:"c8y-password-check-list",inputs:{password:"password"},ngImport:i,template:'<div>\n  <span class="small">{{ \'Please meet 5 out of the 5 conditions below\' | translate }}:</span>\n  <ul class="list-unstyled">\n    <li class="small" *ngFor="let requirement of checklist">\n      <i [c8yIcon]="requirement.icon" class="text-success"></i>\n      <span\n        class="small {{ requirement.contextualColor }}"\n        [translate]="requirement.label"\n        [translateParams]="this.translateParams"\n      ></span>\n    </li>\n  </ul>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vs,decorators:[{type:r.Component,args:[{selector:"c8y-password-check-list",template:'<div>\n  <span class="small">{{ \'Please meet 5 out of the 5 conditions below\' | translate }}:</span>\n  <ul class="list-unstyled">\n    <li class="small" *ngFor="let requirement of checklist">\n      <i [c8yIcon]="requirement.icon" class="text-success"></i>\n      <span\n        class="small {{ requirement.contextualColor }}"\n        [translate]="requirement.label"\n        [translateParams]="this.translateParams"\n      ></span>\n    </li>\n  </ul>\n</div>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:Fs},{type:Fs}]},propDecorators:{password:[{type:r.Input,args:["password"]}]}});var js=function(){function e(t){bi(this,e),this.loginService=t,this.password=new r.EventEmitter,this.model={},this.changePassword=!1,this.passwordEnforced=!1}var t;return Ci(e,[{key:"ngOnInit",value:function(){var e=this;this.loadPasswordStrengthSettings(),this.loginService.getGreenMinLength().then((function(t){e.minlength=t}))}},{key:"newPasswordChanged",value:function(){this.password.emit({password:this.model.newPassword,passwordStrength:this.model.strength})}},{key:"loadPasswordStrengthSettings",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loginService.getPasswordStrengthEnforced({refresh:!0});case 2:this.passwordEnforced=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showPasswordStrength",value:function(){return this.model.newPassword&&this.model.newPassword.length>=this.minlength}},{key:"toggleChangePassword",value:function(){this.changePassword=!this.changePassword,this.changePassword||(this.password.emit({}),this.model={})}}]),e}();js.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:js,deps:[{token:Cs}],target:r["ɵɵFactoryTarget"].Component}),js.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:js,selector:"c8y-new-password",outputs:{password:"password"},ngImport:i,template:'<div class="form-group">\n  <button type="button" class="btn btn-default" (click)="toggleChangePassword()">\n    <ng-container *ngIf="!changePassword">\n      {{ \'Change password\' | translate }}\n    </ng-container>\n    <ng-container *ngIf="changePassword">\n      {{ \'Cancel password change\' | translate }}\n    </ng-container>\n  </button>\n</div>\n\n<div *ngIf="changePassword" class="row content-flex-50">\n  <div class="col-7">\n    <c8y-form-group>\n      <label for="newPassword" translate>Password</label>\n      <input\n        id="newPassword"\n        name="newPassword"\n        type="password"\n        #newPassword="ngModel"\n        class="form-control"\n        [(ngModel)]="model.newPassword"\n        (change)="newPasswordChanged()"\n        (input)="newPasswordConfirm.control.updateValueAndValidity()"\n        required\n        c8yDefaultValidation="password"\n        autocomplete="new-password"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group>\n      <label for="newConfirmPassword" translate>Confirm password</label>\n      <input\n        id="newConfirmPassword"\n        name="newPasswordConfirm"\n        type="password"\n        #newPasswordConfirm="ngModel"\n        class="form-control"\n        [(ngModel)]="model.newPasswordConfirm"\n        required\n        passwordConfirm="newPassword"\n        autocomplete="new-password"\n      />\n    </c8y-form-group>\n  </div>\n  <div class="col-5">\n    <c8y-password-strength\n      [password]="model.newPassword"\n      (strength)="model.strength = $event"\n    ></c8y-password-strength>\n\n    <c8y-password-check-list\n      class="m-t-32"\n      [password]="model.newPassword"\n      [hidden]="!passwordEnforced"\n    ></c8y-password-check-list>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:Ms,selector:"[c8yDefaultValidation]",inputs:["c8yDefaultValidation"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:Rs,selector:"[passwordConfirm]"},{kind:"component",type:Ls,selector:"c8y-password-strength",inputs:["password"],outputs:["strength"]},{kind:"component",type:Vs,selector:"c8y-password-check-list",inputs:["password"]},{kind:"pipe",type:ao,name:"translate"}],viewProviders:[{provide:De.ControlContainer,useExisting:De.NgForm}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:js,decorators:[{type:r.Component,args:[{selector:"c8y-new-password",viewProviders:[{provide:De.ControlContainer,useExisting:De.NgForm}],template:'<div class="form-group">\n  <button type="button" class="btn btn-default" (click)="toggleChangePassword()">\n    <ng-container *ngIf="!changePassword">\n      {{ \'Change password\' | translate }}\n    </ng-container>\n    <ng-container *ngIf="changePassword">\n      {{ \'Cancel password change\' | translate }}\n    </ng-container>\n  </button>\n</div>\n\n<div *ngIf="changePassword" class="row content-flex-50">\n  <div class="col-7">\n    <c8y-form-group>\n      <label for="newPassword" translate>Password</label>\n      <input\n        id="newPassword"\n        name="newPassword"\n        type="password"\n        #newPassword="ngModel"\n        class="form-control"\n        [(ngModel)]="model.newPassword"\n        (change)="newPasswordChanged()"\n        (input)="newPasswordConfirm.control.updateValueAndValidity()"\n        required\n        c8yDefaultValidation="password"\n        autocomplete="new-password"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group>\n      <label for="newConfirmPassword" translate>Confirm password</label>\n      <input\n        id="newConfirmPassword"\n        name="newPasswordConfirm"\n        type="password"\n        #newPasswordConfirm="ngModel"\n        class="form-control"\n        [(ngModel)]="model.newPasswordConfirm"\n        required\n        passwordConfirm="newPassword"\n        autocomplete="new-password"\n      />\n    </c8y-form-group>\n  </div>\n  <div class="col-5">\n    <c8y-password-strength\n      [password]="model.newPassword"\n      (strength)="model.strength = $event"\n    ></c8y-password-strength>\n\n    <c8y-password-check-list\n      class="m-t-32"\n      [password]="model.newPassword"\n      [hidden]="!passwordEnforced"\n    ></c8y-password-check-list>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Cs}]},propDecorators:{password:[{type:r.Output}]}});var Bs=function(){function e(t,n,i,o,a,s,c,l,d){bi(this,e),this.state=t,this.translate=n,this.bsModalService=i,this.alert=o,this.userService=a,this.tenantLoginOptionsService=s,this.tenantService=c,this.userPreferencesService=l,this.gainsightService=d,this.loading=!1,this.showProductUsageSetting=!1,this.isUsageTrackingEnabled=!0,this.isGainsightBotEnabled=!0,this.onUser=new r.EventEmitter,this.onLanguage=new r.EventEmitter,this.onProductExperience=new r.EventEmitter,this.onGainsightBot=new r.EventEmitter,this.onCancel=new r.EventEmitter,this.userHasActiveTotp=!1,this.userCanSetupTotp=!1,this.isPhoneRequired=!1}var t,n,i,o,a;return Ci(e,[{key:"user",get:function(){return this._user},set:function(e){e&&(this._user=(0,c.clone)(e),this.userIsExternal="OAUTH2"===e.customProperties.userOrigin,this.isPhoneRequired=this.isPhoneRequired&&e.twoFactorAuthenticationEnabled)}},{key:"ngOnInit",value:(a=ui(di().mark((function e(){var t,n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tenantService.current();case 2:return t=e.sent.data,e.next=5,this.tenantService.getTfaSettings(t);case 5:return n=e.sent,r=n.enabledOnSystemLevel,i=n.enabledOnTenantLevel,this.isTfaEnabled=r||i,e.next=11,this.initializeTotpSettings();case 11:this.user.twoFactorAuthenticationEnabled&&!this.userCanSetupTotp&&(this.isPhoneRequired=!0);case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onEnablingProductUsageTracking",value:(o=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||void 0!==this.isGainsightBotEnabled){e.next=4;break}return e.next=3,this.userPreferencesService.get(this.gainsightService.USER_PREFERENCES_GAINSIGHT_BOT_KEY).toPromise();case 3:this.isGainsightBotEnabled=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"langs",get:function(){return this.state.state.langs}},{key:"setupTotp",value:function(){this.bsModalService.show(Ns,{class:"modal-sm"}),this.cancel()}},{key:"cancel",value:function(){this.onCancel.emit()}},{key:"save",value:(i=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:this.showProductUsageSetting&&(this.onProductExperience.emit(this.isUsageTrackingEnabled),this.onGainsightBot.emit(this.isGainsightBotEnabled)),this.onUser.emit(this._user);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onNewPasswordChanged",value:function(e){this._user.password=e.password}},{key:"initializeTotpSettings",value:(n=ui(di().mark((function e(){var t,n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.canUserSetupTotp();case 3:if(this.userCanSetupTotp=e.sent,!this.userCanSetupTotp){e.next=10;break}return e.next=7,this.userService.getActivityTotp();case 7:t=e.sent,n=t.data,this.userHasActiveTotp=n.isActive;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.alert.removeLastDanger();case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return n.apply(this,arguments)})},{key:"canUserSetupTotp",value:(t=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tenantLoginOptionsService.listForCurrentTenant();case 2:return t=e.sent.data,e.abrupt("return",t.some((function(e){var t=e.tfaStrategy;return"totp"===(void 0===t?"":t).toLowerCase()})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();Bs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bs,deps:[{token:Hi},{token:vo},{token:xe.BsModalService},{token:ka},{token:g.UserService},{token:g.TenantLoginOptionsService},{token:g.TenantService},{token:aa},{token:ua}],target:r["ɵɵFactoryTarget"].Component}),Bs.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Bs,selector:"c8y-user-edit",inputs:{lang:"lang",loading:"loading",user:"user",showProductUsageSetting:"showProductUsageSetting",isUsageTrackingEnabled:"isUsageTrackingEnabled",isGainsightBotEnabled:"isGainsightBotEnabled"},outputs:{onUser:"onUser",onLanguage:"onLanguage",onProductExperience:"onProductExperience",onGainsightBot:"onGainsightBot",onCancel:"onCancel"},ngImport:i,template:'<form #userForm="ngForm" (ngSubmit)="userForm.form.valid && save()">\n  <div class="d-block p-24 p-b-0">\n    <div class="alert alert-warning" role="alert" *ngIf="userIsExternal" translate>\n      Some of the user settings are not editable here because they are managed via your\n      authorization server.\n    </div>\n    <c8y-form-group>\n      <label translate for="userName">Username (for example, email)</label>\n      <input\n        id="userName"\n        class="form-control"\n        [(ngModel)]="user.userName"\n        name="userName"\n        autocomplete="off"\n        required\n        maxlength="254"\n        placeholder="{{ \'e.g. joe.doe@example.com`LOCALIZE`\' | translate }}"\n        [disabled]="user.id"\n        c8yDefaultValidation="user"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group>\n      <label translate for="displayName">Login alias</label>\n      <input\n        id="displayName"\n        class="form-control"\n        [(ngModel)]="user.displayName"\n        name="displayName"\n        autocomplete="off"\n        maxlength="254"\n        placeholder="{{ \'e.g. joe.doe`LOCALIZE`\' | translate }}"\n        [disabled]="userIsExternal"\n        c8yDefaultValidation="loginAlias"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group [hasWarning]="!user.email">\n      <label translate for="userEmail">Email</label>\n      <input\n        id="userEmail"\n        class="form-control"\n        type="email"\n        name="email"\n        [maxlength]="254"\n        autocomplete="off"\n        placeholder="{{ \'e.g. joe.doe@example.com`LOCALIZE`\' | translate }}"\n        [(ngModel)]="user.email"\n        email\n        [required]="true"\n        [disabled]="userIsExternal"\n      />\n    </c8y-form-group>\n\n    <div class="row">\n      <div class="col-sm-6">\n        <c8y-form-group>\n          <label translate for="userFirstName">First name</label>\n          <input\n            id="userFirstName"\n            class="form-control"\n            autocomplete="off"\n            maxlength="50"\n            name="firstName"\n            [(ngModel)]="user.firstName"\n            [disabled]="userIsExternal"\n          />\n        </c8y-form-group>\n      </div>\n      <div class="col-sm-6">\n        <c8y-form-group>\n          <label translate for="userLastName">Last name</label>\n          <input\n            id="userLastName"\n            class="form-control"\n            autocomplete="off"\n            maxlength="50"\n            name="lastName"\n            [(ngModel)]="user.lastName"\n            [disabled]="userIsExternal"\n          />\n        </c8y-form-group>\n      </div>\n    </div>\n\n    <c8y-form-group>\n      <label translate for="userTelephone">Telephone</label>\n      <input\n        id="userTelephone"\n        class="form-control"\n        autocomplete="off"\n        name="phone"\n        maxlength="254"\n        [(ngModel)]="user.phone"\n        placeholder="{{ \'e.g. +49 9 876 543 210`LOCALIZE`\' | translate }}"\n        c8yPhoneValidation\n        c8yDefaultValidation="phoneNumber"\n        [required]="isPhoneRequired"\n        [disabled]="userIsExternal"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group>\n      <label translate for="userLang">Language</label>\n      <div class="c8y-select-wrapper">\n        <select\n          id="userLang"\n          class="form-control"\n          #selectLang\n          name="lang"\n          [(ngModel)]="lang"\n          (change)="onLanguage.emit(selectLang.value)"\n        >\n          <option *ngFor="let lang of langs" [value]="lang">\n            {{ translate.getNativeLanguage(lang) }}\n          </option>\n        </select>\n        <span></span>\n      </div>\n    </c8y-form-group>\n\n    <c8y-form-group class="p-t-8 p-b-8 separator-top" *ngIf="showProductUsageSetting">\n      <strong translate>Product experience</strong>\n      <label class="c8y-switch" for="productUsageTracking">\n        <input\n          id="productUsageTracking"\n          name="productUsageTracking"\n          type="checkbox"\n          (change)="onEnablingProductUsageTracking(isUsageTrackingEnabled)"\n          [(ngModel)]="isUsageTrackingEnabled"\n        />\n        <span></span>\n        {{ \'Enable anonymous tracking to enhance the product experience\' | translate }}\n      </label>\n      <ng-container *ngIf="isUsageTrackingEnabled">\n        <label class="c8y-switch m-l-0" for="knowledgeHubBot">\n          <input\n            id="knowledgeHubBot"\n            name="knowledgeHubBot"\n            type="checkbox"\n            [(ngModel)]="isGainsightBotEnabled"\n          />\n          <span></span>\n          {{ \'Enable Knowledge Hub\' | translate }}\n        </label>\n      </ng-container>\n    </c8y-form-group>\n\n    <div class="form-group" *ngIf="!userIsExternal">\n      <label class="control-label">{{ \'Login options\' | translate }}</label>\n      <c8y-new-password (password)="onNewPasswordChanged($event)"></c8y-new-password>\n      <button\n        title="{{ \'Set up two-factor authentication\' | translate }}"\n        class="btn btn-default"\n        type="button"\n        (click)="setupTotp()"\n        *ngIf="userCanSetupTotp && !userHasActiveTotp && isTfaEnabled"\n      >\n        {{ \'Set up two-factor authentication\' | translate }}\n      </button>\n    </div>\n\n    <c8y-form-group *ngIf="!!(state.state$ | async).newsletter">\n      <label translate>Newsletter</label>\n      <label\n        title="{{ \'Send me information about outages, maintenance or updates.\' | translate }}"\n        class="c8y-checkbox"\n      >\n        <input\n          type="checkbox"\n          name="newsletter"\n          [(ngModel)]="user.newsletter"\n          [disabled]="userIsExternal"\n        />\n        <span></span>\n        <span>\n          {{ \'Send me information about outages, maintenance or updates.\' | translate }}\n        </span>\n      </label>\n    </c8y-form-group>\n  </div>\n  <div class="modal-footer separator-top bg-white sticky-bottom">\n    <button\n      title="{{ \'Cancel\' | translate }}"\n      class="btn btn-default"\n      type="button"\n      (click)="cancel()"\n    >\n      {{ \'Cancel\' | translate }}\n    </button>\n    <button\n      title="{{ \'Save\' | translate }}"\n      class="btn btn-primary"\n      type="submit"\n      [disabled]="!userForm.form.valid || userForm.form.pristine || loading"\n    >\n      {{ \'Save\' | translate }}\n    </button>\n  </div>\n</form>\n',dependencies:[{kind:"directive",type:As,selector:"[c8yPhoneValidation]"},{kind:"directive",type:Ms,selector:"[c8yDefaultValidation]",inputs:["c8yDefaultValidation"]},{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.NgSelectOption,selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De["ɵNgSelectMultipleOption"],selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.CheckboxControlValueAccessor,selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]"},{kind:"directive",type:De.SelectControlValueAccessor,selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",inputs:["compareWith"]},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.MaxLengthValidator,selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",inputs:["maxlength"]},{kind:"directive",type:De.EmailValidator,selector:"[email][formControlName],[email][formControl],[email][ngModel]",inputs:["email"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:js,selector:"c8y-new-password",outputs:["password"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bs,decorators:[{type:r.Component,args:[{selector:"c8y-user-edit",template:'<form #userForm="ngForm" (ngSubmit)="userForm.form.valid && save()">\n  <div class="d-block p-24 p-b-0">\n    <div class="alert alert-warning" role="alert" *ngIf="userIsExternal" translate>\n      Some of the user settings are not editable here because they are managed via your\n      authorization server.\n    </div>\n    <c8y-form-group>\n      <label translate for="userName">Username (for example, email)</label>\n      <input\n        id="userName"\n        class="form-control"\n        [(ngModel)]="user.userName"\n        name="userName"\n        autocomplete="off"\n        required\n        maxlength="254"\n        placeholder="{{ \'e.g. joe.doe@example.com`LOCALIZE`\' | translate }}"\n        [disabled]="user.id"\n        c8yDefaultValidation="user"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group>\n      <label translate for="displayName">Login alias</label>\n      <input\n        id="displayName"\n        class="form-control"\n        [(ngModel)]="user.displayName"\n        name="displayName"\n        autocomplete="off"\n        maxlength="254"\n        placeholder="{{ \'e.g. joe.doe`LOCALIZE`\' | translate }}"\n        [disabled]="userIsExternal"\n        c8yDefaultValidation="loginAlias"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group [hasWarning]="!user.email">\n      <label translate for="userEmail">Email</label>\n      <input\n        id="userEmail"\n        class="form-control"\n        type="email"\n        name="email"\n        [maxlength]="254"\n        autocomplete="off"\n        placeholder="{{ \'e.g. joe.doe@example.com`LOCALIZE`\' | translate }}"\n        [(ngModel)]="user.email"\n        email\n        [required]="true"\n        [disabled]="userIsExternal"\n      />\n    </c8y-form-group>\n\n    <div class="row">\n      <div class="col-sm-6">\n        <c8y-form-group>\n          <label translate for="userFirstName">First name</label>\n          <input\n            id="userFirstName"\n            class="form-control"\n            autocomplete="off"\n            maxlength="50"\n            name="firstName"\n            [(ngModel)]="user.firstName"\n            [disabled]="userIsExternal"\n          />\n        </c8y-form-group>\n      </div>\n      <div class="col-sm-6">\n        <c8y-form-group>\n          <label translate for="userLastName">Last name</label>\n          <input\n            id="userLastName"\n            class="form-control"\n            autocomplete="off"\n            maxlength="50"\n            name="lastName"\n            [(ngModel)]="user.lastName"\n            [disabled]="userIsExternal"\n          />\n        </c8y-form-group>\n      </div>\n    </div>\n\n    <c8y-form-group>\n      <label translate for="userTelephone">Telephone</label>\n      <input\n        id="userTelephone"\n        class="form-control"\n        autocomplete="off"\n        name="phone"\n        maxlength="254"\n        [(ngModel)]="user.phone"\n        placeholder="{{ \'e.g. +49 9 876 543 210`LOCALIZE`\' | translate }}"\n        c8yPhoneValidation\n        c8yDefaultValidation="phoneNumber"\n        [required]="isPhoneRequired"\n        [disabled]="userIsExternal"\n      />\n    </c8y-form-group>\n\n    <c8y-form-group>\n      <label translate for="userLang">Language</label>\n      <div class="c8y-select-wrapper">\n        <select\n          id="userLang"\n          class="form-control"\n          #selectLang\n          name="lang"\n          [(ngModel)]="lang"\n          (change)="onLanguage.emit(selectLang.value)"\n        >\n          <option *ngFor="let lang of langs" [value]="lang">\n            {{ translate.getNativeLanguage(lang) }}\n          </option>\n        </select>\n        <span></span>\n      </div>\n    </c8y-form-group>\n\n    <c8y-form-group class="p-t-8 p-b-8 separator-top" *ngIf="showProductUsageSetting">\n      <strong translate>Product experience</strong>\n      <label class="c8y-switch" for="productUsageTracking">\n        <input\n          id="productUsageTracking"\n          name="productUsageTracking"\n          type="checkbox"\n          (change)="onEnablingProductUsageTracking(isUsageTrackingEnabled)"\n          [(ngModel)]="isUsageTrackingEnabled"\n        />\n        <span></span>\n        {{ \'Enable anonymous tracking to enhance the product experience\' | translate }}\n      </label>\n      <ng-container *ngIf="isUsageTrackingEnabled">\n        <label class="c8y-switch m-l-0" for="knowledgeHubBot">\n          <input\n            id="knowledgeHubBot"\n            name="knowledgeHubBot"\n            type="checkbox"\n            [(ngModel)]="isGainsightBotEnabled"\n          />\n          <span></span>\n          {{ \'Enable Knowledge Hub\' | translate }}\n        </label>\n      </ng-container>\n    </c8y-form-group>\n\n    <div class="form-group" *ngIf="!userIsExternal">\n      <label class="control-label">{{ \'Login options\' | translate }}</label>\n      <c8y-new-password (password)="onNewPasswordChanged($event)"></c8y-new-password>\n      <button\n        title="{{ \'Set up two-factor authentication\' | translate }}"\n        class="btn btn-default"\n        type="button"\n        (click)="setupTotp()"\n        *ngIf="userCanSetupTotp && !userHasActiveTotp && isTfaEnabled"\n      >\n        {{ \'Set up two-factor authentication\' | translate }}\n      </button>\n    </div>\n\n    <c8y-form-group *ngIf="!!(state.state$ | async).newsletter">\n      <label translate>Newsletter</label>\n      <label\n        title="{{ \'Send me information about outages, maintenance or updates.\' | translate }}"\n        class="c8y-checkbox"\n      >\n        <input\n          type="checkbox"\n          name="newsletter"\n          [(ngModel)]="user.newsletter"\n          [disabled]="userIsExternal"\n        />\n        <span></span>\n        <span>\n          {{ \'Send me information about outages, maintenance or updates.\' | translate }}\n        </span>\n      </label>\n    </c8y-form-group>\n  </div>\n  <div class="modal-footer separator-top bg-white sticky-bottom">\n    <button\n      title="{{ \'Cancel\' | translate }}"\n      class="btn btn-default"\n      type="button"\n      (click)="cancel()"\n    >\n      {{ \'Cancel\' | translate }}\n    </button>\n    <button\n      title="{{ \'Save\' | translate }}"\n      class="btn btn-primary"\n      type="submit"\n      [disabled]="!userForm.form.valid || userForm.form.pristine || loading"\n    >\n      {{ \'Save\' | translate }}\n    </button>\n  </div>\n</form>\n'}]}],ctorParameters:function(){return[{type:Hi},{type:vo},{type:xe.BsModalService},{type:ka},{type:g.UserService},{type:g.TenantLoginOptionsService},{type:g.TenantService},{type:aa},{type:ua}]},propDecorators:{lang:[{type:r.Input}],loading:[{type:r.Input}],user:[{type:r.Input}],showProductUsageSetting:[{type:r.Input}],isUsageTrackingEnabled:[{type:r.Input}],isGainsightBotEnabled:[{type:r.Input}],onUser:[{type:r.Output}],onLanguage:[{type:r.Output}],onProductExperience:[{type:r.Output}],onGainsightBot:[{type:r.Output}],onCancel:[{type:r.Output}]}});var Us=function(){function e(t,n,r,i,o,a,c,l,d,p,u,g,h,m){var f=this;bi(this,e),this.modal=t,this.user=n,this.ui=r,this.auth=i,this.client=o,this.alert=a,this.translate=c,this.userPreferences=l,this.modalService=d,this.c8yModalService=p,this.gainsightService=u,this.cookieBannerService=g,this.loginService=h,this.passwordService=m,this.loading=!1,this.showProductUsageSetting=!1,this.lang=this.ui.state.lang,this.modalService.onHide.pipe((0,s.take)(1)).subscribe((function(e){null!==e&&void 0!==f.changedLang&&f.translate.switchToLanguage(f.lang)}))}var t,n,r,i,o;return Ci(e,[{key:"ngOnInit",value:(o=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updateUserInAppState(),e.next=3,this.gainsightService.canEditProductExperienceSettings();case 3:if(this.showProductUsageSetting=e.sent,!this.showProductUsageSetting){e.next=12;break}if(!this.cookieBannerService.isFunctionalCookieEnabled()){e.next=12;break}return e.next=8,this.gainsightService.isGainsightPreferenceDisabledInUserPreferences(this.gainsightService.USER_PREFERENCES_GAINSIGHT_KEY);case 8:return this.currentUsageTrackingState=!e.sent,e.next=11,this.gainsightService.isGainsightPreferenceDisabledInUserPreferences(this.gainsightService.USER_PREFERENCES_GAINSIGHT_BOT_KEY);case 11:this.currentGainsightBotState=!e.sent;case 12:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onDismiss",value:function(){void 0!==this.changedLang&&this.translate.switchToLanguage(this.lang),this.modal.hide()}},{key:"onLanguage",value:function(e){this.changedLang=e,this.translate.switchToLanguage(this.changedLang)}},{key:"onProductExperience",value:function(e){this.usageTrackingState=e}},{key:"onGainsightBot",value:function(e){this.gainsightBotState=e}},{key:"updateAndClose",value:(i=ui(di().mark((function e(t){var n,r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loading=!0,n=!1,e.prev=2,r=Boolean(t.password),i=this.loginService.loginMode.type===g.TenantLoginOptionType.BASIC,"OAUTH2"===t.customProperties.userOrigin||!r){e.next=15;break}return e.next=9,this.passwordService.currentPassword().toPromise();case 9:if(o=e.sent){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,this.user.changeCurrentUserPassword(t.password,o);case 14:i&&this.updateCredentials(t.password);case 15:if(!this.changedLang||this.changedLang===this.lang){e.next=19;break}return e.next=18,this.persistLanguage(this.changedLang);case 18:n=e.sent;case 19:if(this.currentGainsightBotState===this.gainsightBotState){e.next=22;break}return e.next=22,this.userPreferences.set(this.gainsightService.USER_PREFERENCES_GAINSIGHT_BOT_KEY,this.gainsightBotState);case 22:if(this.currentUsageTrackingState===this.usageTrackingState){e.next=33;break}return e.next=25,this.userPreferences.set(this.gainsightService.USER_PREFERENCES_GAINSIGHT_KEY,this.usageTrackingState);case 25:if(this.gainsightService.setFunctionalCookie(this.usageTrackingState),!this.usageTrackingState){e.next=31;break}return e.next=29,this.gainsightService.loadTag(this.client.tenant);case 29:e.next=33;break;case 31:return e.next=33,this.gainsightTrackingAppReload();case 33:if("OAUTH2"===t.customProperties.userOrigin){e.next=38;break}return e.next=36,this.user.updateCurrent((0,c.omit)(t,"password"));case 36:return e.next=38,this.updateUserInAppState();case 38:this.modal.hide(),this.alert.success("User saved."),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(2),e.t0&&this.alert.addServerFailure(e.t0);case 45:return e.prev=45,this.loading=!1,n&&location.reload(),e.finish(45);case 49:case"end":return e.stop()}}),e,this,[[2,42,45,49]])}))),function(e){return i.apply(this,arguments)})},{key:"persistLanguage",value:(r=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.c8yModalService.confirm("Reload recommended","To change the language in the entire application, we recommend you to reload the page. If you have any unsaved changes, you can reload later. How would you like to proceed?",Fa.WARNING,{ok:"Reload now",cancel:"Reload later"});case 3:return this.translate.saveInLocalStorage(t),e.next=6,this.userPreferences.set("language",t);case 6:this.lang=t,n=!0,e.next=17;break;case 10:return e.prev=10,e.t0=e.catch(0),this.translate.saveInLocalStorage(t),e.next=15,this.userPreferences.set("language",t);case 15:this.lang=t,n=!1;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return r.apply(this,arguments)})},{key:"gainsightTrackingAppReload",value:(n=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.c8yModalService.confirm("Reload required","To change the tracking option in the entire application, you need to reload the page. If you have any unsaved changes, you can reload later. How would you like to proceed?",Fa.WARNING,{ok:"Reload now",cancel:"Reload later"});case 3:location.reload(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return n.apply(this,arguments)})},{key:"updateUserInAppState",value:(t=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.user.current();case 2:t=e.sent,this.ui.currentUser.next(t.data);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"updateCredentials",value:function(e){var t={password:e,user:this.ui.currentUser.value.id,tenant:this.client.tenant};this.auth.updateCredentials(t)}}]),e}();Us.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Us,deps:[{token:xe.BsModalRef},{token:g.UserService},{token:Hi},{token:g.BasicAuth},{token:g.FetchClient},{token:ka},{token:vo},{token:aa},{token:xe.BsModalService},{token:ks},{token:ua},{token:pa},{token:Cs},{token:Fs}],target:r["ɵɵFactoryTarget"].Component}),Us.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Us,selector:"c8y-user-edit-modal",ngImport:i,template:'<c8y-modal [customFooter]="true" [title]="\'Edit user\' | translate" (onDismiss)="onDismiss()">\n  <c8y-user-edit\n    [lang]="lang"\n    [user]="ui.currentUser | async"\n    [loading]="loading"\n    [isUsageTrackingEnabled]="currentUsageTrackingState"\n    [isGainsightBotEnabled]="currentGainsightBotState"\n    [showProductUsageSetting]="showProductUsageSetting"\n    (onLanguage)="onLanguage($event)"\n    (onProductExperience)="onProductExperience($event)"\n    (onGainsightBot)="onGainsightBot($event)"\n    (onUser)="updateAndClose($event)"\n    (onCancel)="onDismiss()"\n  >\n  </c8y-user-edit>\n</c8y-modal>\n',dependencies:[{kind:"component",type:Is,selector:"c8y-modal",inputs:["disabled","close","dismiss","title","body","customFooter","headerClasses","labels"],outputs:["onDismiss","onClose"]},{kind:"component",type:Bs,selector:"c8y-user-edit",inputs:["lang","loading","user","showProductUsageSetting","isUsageTrackingEnabled","isGainsightBotEnabled"],outputs:["onUser","onLanguage","onProductExperience","onGainsightBot","onCancel"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Us,decorators:[{type:r.Component,args:[{selector:"c8y-user-edit-modal",template:'<c8y-modal [customFooter]="true" [title]="\'Edit user\' | translate" (onDismiss)="onDismiss()">\n  <c8y-user-edit\n    [lang]="lang"\n    [user]="ui.currentUser | async"\n    [loading]="loading"\n    [isUsageTrackingEnabled]="currentUsageTrackingState"\n    [isGainsightBotEnabled]="currentGainsightBotState"\n    [showProductUsageSetting]="showProductUsageSetting"\n    (onLanguage)="onLanguage($event)"\n    (onProductExperience)="onProductExperience($event)"\n    (onGainsightBot)="onGainsightBot($event)"\n    (onUser)="updateAndClose($event)"\n    (onCancel)="onDismiss()"\n  >\n  </c8y-user-edit>\n</c8y-modal>\n'}]}],ctorParameters:function(){return[{type:xe.BsModalRef},{type:g.UserService},{type:Hi},{type:g.BasicAuth},{type:g.FetchClient},{type:ka},{type:vo},{type:aa},{type:xe.BsModalService},{type:ks},{type:ua},{type:pa},{type:Cs},{type:Fs}]}});var Gs=function(){function e(t){bi(this,e),this.alertService=t}var t,n;return Ci(e,[{key:"writeText",value:(n=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:this.alertService.success("Copied to clipboard."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.alertService.danger("Could not copy to clipboard.");case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return n.apply(this,arguments)})},{key:"readText",value:(t=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.readText();case 3:return t=e.sent,this.alertService.success("Pasted from clipboard."),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),this.alertService.danger("Could not paste from clipboard.");case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return t.apply(this,arguments)})}]),e}();Gs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gs,deps:[{token:ka}],target:r["ɵɵFactoryTarget"].Injectable}),Gs.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gs,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gs,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:ka}]}});var zs=function(){function e(t){bi(this,e),this.userService=t,this.priority=0,this.click=new r.EventEmitter}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.viewInitTimeout=setTimeout((function(){return e.userService.add(e)}))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.viewInitTimeout),this.userService.remove(this)}},{key:"onClick",value:function(){this.click.emit(this)}}]),e}();zs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zs,deps:[{token:vs}],target:r["ɵɵFactoryTarget"].Component}),zs.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:zs,selector:"c8y-user-menu-item",inputs:{icon:"icon",label:"label",link:"link",target:"target",priority:"priority"},outputs:{click:"click"},viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0}],ngImport:i,template:'<ng-template #template>\n  <li (click)="onClick()">\n    <a class="interact" [attr.href]="link" [attr.target]="target">\n      <i [c8yIcon]="icon"></i>\n      {{ label | translate }}\n      <ng-content></ng-content>\n    </a>\n  </li>\n</ng-template>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zs,decorators:[{type:r.Component,args:[{selector:"c8y-user-menu-item",template:'<ng-template #template>\n  <li (click)="onClick()">\n    <a class="interact" [attr.href]="link" [attr.target]="target">\n      <i [c8yIcon]="icon"></i>\n      {{ label | translate }}\n      <ng-content></ng-content>\n    </a>\n  </li>\n</ng-template>\n'}]}],ctorParameters:function(){return[{type:vs}]},propDecorators:{icon:[{type:r.Input}],label:[{type:r.Input}],link:[{type:r.Input}],target:[{type:r.Input}],priority:[{type:r.Input}],template:[{type:r.ViewChild,args:["template",{static:!1}]}],click:[{type:r.Output}]}});var Hs=function(){function e(t,n,r,i,o,a,s,c,l,d){bi(this,e),this.ui=t,this.bsModalService=n,this.modalService=r,this.loginService=i,this.translateService=o,this.tenantService=a,this.alertService=s,this.user=c,this.optionsService=l,this.clipbordService=d}var t,n,r,i,o;return Ci(e,[{key:"copyIt",value:function(e){this.clipbordService.writeText(e)}},{key:"editUser",value:(o=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.bsModalService.show(Us);case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"logout",value:(i=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loginService.logout();case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"activateSupportAccess",value:(r=ui(di().mark((function e(){var t,n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.optionsService.get("companyName","Cumulocity"),n=[this.translateService.instant(t?"You are about to allow a support user from {{companyName}} to access your tenant to help you with your issue.":"You are about to allow a support user to access your tenant to help you with your issue.",{companyName:t}),this.translateService.instant("Do you want to proceed?")].join(" "),r={ok:"Activate access",cancel:"Cancel"},i="Support user access activated.",e.prev=8,e.next=11,this.modalService.confirm("Activate support user access",n,Fa.DANGER,r);case 11:return e.next=13,this.tenantService.enableSupportUser();case 13:return e.next=15,this.refreshCurrentUser();case 15:this.alertService.success(i),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(8);case 20:case"end":return e.stop()}}),e,this,[[8,18]])}))),function(){return r.apply(this,arguments)})},{key:"deactivateSupportAccess",value:(n=ui(di().mark((function e(){var t,n,r,i,o,a,s,c,l,d;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Deactivate support user access",n=this.optionsService.get("companyName","Cumulocity"),r="You are about to block a support user from {{companyName}} from accessing your tenant to help you with your issue.",i="You are about to block a support user from accessing your tenant to help you with your issue.",e.next=6,this.user.current();case 6:return o=e.sent,a=o.data,e.next=10,this.user.hasRole(a,"ROLE_TENANT_ADMIN");case 10:return s=e.sent,c=[this.translateService.instant(n?r:i,{companyName:n}),s?this.translateService.instant("Deactivating support access as tenant admin will disable all other support requests on your tenant."):"",this.translateService.instant("Do you want to proceed?")].filter(Boolean).join(" "),l={ok:"Deactivate access",cancel:"Cancel"},d="Support user access deactivated.",e.prev=16,e.next=19,this.modalService.confirm(t,c,Fa.DANGER,l);case 19:return e.next=21,this.tenantService.disableSupportUser();case 21:return e.next=23,this.refreshCurrentUser();case 23:this.alertService.success(d),e.next=28;break;case 26:e.prev=26,e.t0=e.catch(16);case 28:case"end":return e.stop()}}),e,this,[[16,26]])}))),function(){return n.apply(this,arguments)})},{key:"getSortedItems",value:function(){return(0,c.sortBy)(Array.from(this.items),this.byPriority)}},{key:"refreshCurrentUser",value:(t=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.user.current();case 2:t=e.sent,this.ui.currentUser.next(t.data);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"byPriority",value:function(e){return-e.priority}}]),e}();Hs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hs,deps:[{token:Hi},{token:xe.BsModalService},{token:ks},{token:Cs},{token:ye.TranslateService},{token:g.TenantService},{token:ka},{token:g.UserService},{token:Gi},{token:Gs}],target:r["ɵɵFactoryTarget"].Component}),Hs.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Hs,selector:"c8y-user-menu-outlet",inputs:{items:"items"},ngImport:i,template:'<ng-container *ngIf="getSortedItems() as sortedUserMenuItems">\n<div\n  *ngIf="sortedUserMenuItems.length || (ui.currentUser | async)"\n  dropdown\n  class="dropdown"\n>\n  <button\n    class="main-header-button c8y-dropdown dropdown-toggle text-nowrap"\n    dropdownToggle\n  >\n    <span\n      *ngIf="ui.currentUser | async"\n      class="d-inline-block hidden-xs text-truncate m-r-8"\n      style="vertical-align: text-bottom; max-width: 104px;"\n      title="{{ui.currentUser | async | shortenUserName}}"\n    >\n      {{ui.currentUser | async | shortenUserName}}\n    </span>\n    <i\n      [c8yIcon]="\'c8y-user\'"\n      class="icon-2x"\n    ></i>\n  </button>\n  <ul\n    *dropdownMenu\n    class="dropdown-menu dropdown-menu-right"\n    style="max-width: 240px;"\n  >\n    <ng-container *ngFor="let item of sortedUserMenuItems">\n      <ng-container *ngIf="item.template">\n        <ng-container *c8yOutlet="item.template"></ng-container>\n      </ng-container>\n      <ng-container *ngIf="!item.template">\n        <li (click)="item.click()">\n          <a class="interact" [attr.href]="item.link" [attr.target]="item.target">\n            <i [c8yIcon]="item.icon"></i>\n            {{item.label | translate}}\n          </a>\n        </li>\n      </ng-container>\n    </ng-container>\n    <li\n      *ngIf="ui.currentTenant.value && !(ui.state$ | async).hidePowered"\n      role="separator"\n      class="divider"\n    ></li>\n    <li\n      class="dropdown-header bg-gray-white text-pre-normal"\n      style="margin-top: -1px;"\n      *ngIf="ui.currentTenant.value && !(ui.state$ | async).hidePowered"\n    >\n      <div class="flex-row">\n        <i\n          [c8yIcon]="\'info-circle\'"\n          class="text-info flex-item-v-start text-14"\n          style="margin: 1px 6px 0 -3px;"\n        ></i>\n        <span class="text-muted text-truncate">\n          {{\'Tenant ID\' | translate}}: <strong>\n            <span class="text-primary interact" (click)="$event.stopPropagation(); copyIt(ui.currentTenant.value.name)">\n              {{ui.currentTenant.value.name}}&nbsp;\n              <i [c8yIcon]="\'clipboard\'"></i>\n            </span>\n            </strong><br>\n          {{\'Backend\' | translate}}: <strong>{{(ui.state$ | async).versions.backend}}</strong><br>\n          {{\'UI\' | translate }}: <strong>{{ui.uiVersion}}</strong>\n        </span>\n      </div>\n    </li>\n  </ul>\n</div>\n</ng-container>\n\n\x3c!-- the default items --\x3e\n<c8y-user-menu-item\n  *ngIf="ui.currentUser | async"\n  [icon]="\'user-menu-male\'"\n  [label]="\'User settings\' | translate"\n  [priority]="20"\n  (click)="editUser()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="ui.currentUser | async"\n  [icon]="\'sign-out\'"\n  [label]="\'Logout\' | translate"\n  (click)="logout()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="!(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)"\n  [icon]="\'c8y-c8y-support\'"\n  [label]="\'Activate support\' | translate"\n  (click)="activateSupportAccess()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)"\n  [icon]="\'c8y-c8y-support\'"\n  [label]="\'Deactivate support\' | translate"\n  (click)="deactivateSupportAccess()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="(ui.state$ | async).supportUrl"\n  [icon]="\'question-circle\'"\n  [link]="(ui.state$ | async).supportUrl"\n  [target]="\'_blank\'"\n  [label]="\'Request support\' | translate"\n></c8y-user-menu-item>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Xo,selector:"[c8yOutlet]",inputs:["c8yOutlet","c8yOutletProperties"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"component",type:zs,selector:"c8y-user-menu-item",inputs:["icon","label","link","target","priority"],outputs:["click"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:ea,name:"shortenUserName"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hs,decorators:[{type:r.Component,args:[{selector:"c8y-user-menu-outlet",template:'<ng-container *ngIf="getSortedItems() as sortedUserMenuItems">\n<div\n  *ngIf="sortedUserMenuItems.length || (ui.currentUser | async)"\n  dropdown\n  class="dropdown"\n>\n  <button\n    class="main-header-button c8y-dropdown dropdown-toggle text-nowrap"\n    dropdownToggle\n  >\n    <span\n      *ngIf="ui.currentUser | async"\n      class="d-inline-block hidden-xs text-truncate m-r-8"\n      style="vertical-align: text-bottom; max-width: 104px;"\n      title="{{ui.currentUser | async | shortenUserName}}"\n    >\n      {{ui.currentUser | async | shortenUserName}}\n    </span>\n    <i\n      [c8yIcon]="\'c8y-user\'"\n      class="icon-2x"\n    ></i>\n  </button>\n  <ul\n    *dropdownMenu\n    class="dropdown-menu dropdown-menu-right"\n    style="max-width: 240px;"\n  >\n    <ng-container *ngFor="let item of sortedUserMenuItems">\n      <ng-container *ngIf="item.template">\n        <ng-container *c8yOutlet="item.template"></ng-container>\n      </ng-container>\n      <ng-container *ngIf="!item.template">\n        <li (click)="item.click()">\n          <a class="interact" [attr.href]="item.link" [attr.target]="item.target">\n            <i [c8yIcon]="item.icon"></i>\n            {{item.label | translate}}\n          </a>\n        </li>\n      </ng-container>\n    </ng-container>\n    <li\n      *ngIf="ui.currentTenant.value && !(ui.state$ | async).hidePowered"\n      role="separator"\n      class="divider"\n    ></li>\n    <li\n      class="dropdown-header bg-gray-white text-pre-normal"\n      style="margin-top: -1px;"\n      *ngIf="ui.currentTenant.value && !(ui.state$ | async).hidePowered"\n    >\n      <div class="flex-row">\n        <i\n          [c8yIcon]="\'info-circle\'"\n          class="text-info flex-item-v-start text-14"\n          style="margin: 1px 6px 0 -3px;"\n        ></i>\n        <span class="text-muted text-truncate">\n          {{\'Tenant ID\' | translate}}: <strong>\n            <span class="text-primary interact" (click)="$event.stopPropagation(); copyIt(ui.currentTenant.value.name)">\n              {{ui.currentTenant.value.name}}&nbsp;\n              <i [c8yIcon]="\'clipboard\'"></i>\n            </span>\n            </strong><br>\n          {{\'Backend\' | translate}}: <strong>{{(ui.state$ | async).versions.backend}}</strong><br>\n          {{\'UI\' | translate }}: <strong>{{ui.uiVersion}}</strong>\n        </span>\n      </div>\n    </li>\n  </ul>\n</div>\n</ng-container>\n\n\x3c!-- the default items --\x3e\n<c8y-user-menu-item\n  *ngIf="ui.currentUser | async"\n  [icon]="\'user-menu-male\'"\n  [label]="\'User settings\' | translate"\n  [priority]="20"\n  (click)="editUser()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="ui.currentUser | async"\n  [icon]="\'sign-out\'"\n  [label]="\'Logout\' | translate"\n  (click)="logout()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="!(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)"\n  [icon]="\'c8y-c8y-support\'"\n  [label]="\'Activate support\' | translate"\n  (click)="activateSupportAccess()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)"\n  [icon]="\'c8y-c8y-support\'"\n  [label]="\'Deactivate support\' | translate"\n  (click)="deactivateSupportAccess()"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf="(ui.state$ | async).supportUrl"\n  [icon]="\'question-circle\'"\n  [link]="(ui.state$ | async).supportUrl"\n  [target]="\'_blank\'"\n  [label]="\'Request support\' | translate"\n></c8y-user-menu-item>\n'}]}],ctorParameters:function(){return[{type:Hi},{type:xe.BsModalService},{type:ks},{type:Cs},{type:ye.TranslateService},{type:g.TenantService},{type:ka},{type:g.UserService},{type:Gi},{type:Gs}]},propDecorators:{items:[{type:r.Input}]}});var qs=function(){function e(t){bi(this,e),this.alertService=t,this.search=[]}return Ci(e,[{key:"getByPriority",value:function(){return(0,Se.sortBy)(this.search,this.byPriority)}},{key:"byPriority",value:function(e){return-e.priority}}]),e}();qs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qs,deps:[{token:ka}],target:r["ɵɵFactoryTarget"].Component}),qs.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:qs,selector:"c8y-search-outlet",inputs:{search:"search"},ngImport:i,template:'<ng-container *ngFor="let item of getByPriority()">\n  <ng-container *c8yOutlet="item.template"></ng-container>\n</ng-container>\n',dependencies:[{kind:"directive",type:Xo,selector:"[c8yOutlet]",inputs:["c8yOutlet","c8yOutletProperties"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qs,decorators:[{type:r.Component,args:[{selector:"c8y-search-outlet",template:'<ng-container *ngFor="let item of getByPriority()">\n  <ng-container *c8yOutlet="item.template"></ng-container>\n</ng-container>\n'}]}],ctorParameters:function(){return[{type:ka}]},propDecorators:{search:[{type:r.Input}]}});var Ws=function(){function e(){bi(this,e),this.showAll=!1,this.breadcrumbs=[]}return Ci(e,[{key:"normalizePath",value:function(e){return null==e?void 0:e.replace(/^#\/?/,"")}}]),e}();Ws.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ws,deps:[],target:r["ɵɵFactoryTarget"].Component}),Ws.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ws,selector:"c8y-breadcrumb-outlet",inputs:{breadcrumbs:"breadcrumbs"},ngImport:i,template:'<div\n  class="breadcrumbs-container"\n  [ngClass]="{\n    multiple: breadcrumbs.length > 1,\n    open: showAll\n  }"\n  *ngIf="breadcrumbs && breadcrumbs.length > 0"\n>\n  <button\n    *ngIf="breadcrumbs.length > 1"\n    class="btn-show-all-breadcrumbs pull-left"\n    (click)="showAll = !showAll"\n  >\n    <i\n      *ngIf="!showAll"\n      [c8yIcon]="\'caret-right\'"\n      tooltip="{{ \'Show all breadcrumbs\' | translate }}"\n      container="body"\n      placement="top"\n    ></i>\n    <i\n      *ngIf="showAll"\n      [c8yIcon]="\'caret-down\'"\n      tooltip="{{ \'Collapse breadcrumbs\' | translate }}"\n      container="body"\n      placement="top"\n    ></i>\n  </button>\n\n  <ul class="breadcrumbs text-muted" *ngFor="let breadcrumb of breadcrumbs; let first = first">\n    <ng-container *ngIf="first || showAll">\n      <li class="text-muted" *ngFor="let item of breadcrumb.items; let firstItem = first">\n        <span *ngIf="!firstItem"> > </span>\n        <ng-container *c8yOutlet="item.template"></ng-container>\n        <ng-container *ngIf="item.label && item.path">\n          <a\n            [routerLink]="normalizePath(item.path)"\n            class="word-break"\n            title="{{ item.label | translate }}"\n          >\n            <i [c8yIcon]="item.icon" *ngIf="firstItem" class="m-r-4"></i>\n            <span>{{ item.label | translate }}</span>\n          </a>\n        </ng-container>\n        <ng-container *ngIf="item.label && !item.path">\n          <i [c8yIcon]="item.icon" *ngIf="firstItem" class="m-r-4"></i>\n          <span>{{ item.label | translate }}</span>\n        </ng-container>\n      </li>\n    </ng-container>\n  </ul>\n</div>\n',dependencies:[{kind:"directive",type:o.RouterLinkWithHref,selector:"a[routerLink],area[routerLink]",inputs:["target","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","relativeTo","routerLink"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Xo,selector:"[c8yOutlet]",inputs:["c8yOutlet","c8yOutletProperties"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:T.TooltipDirective,selector:"[tooltip], [tooltipHtml]",inputs:["adaptivePosition","tooltip","placement","triggers","container","containerClass","boundariesElement","isOpen","isDisabled","delay","tooltipHtml","tooltipPlacement","tooltipIsOpen","tooltipEnable","tooltipAppendToBody","tooltipAnimation","tooltipClass","tooltipContext","tooltipPopupDelay","tooltipFadeDuration","tooltipTrigger"],outputs:["tooltipChange","onShown","onHidden","tooltipStateChanged"],exportAs:["bs-tooltip"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ws,decorators:[{type:r.Component,args:[{selector:"c8y-breadcrumb-outlet",template:'<div\n  class="breadcrumbs-container"\n  [ngClass]="{\n    multiple: breadcrumbs.length > 1,\n    open: showAll\n  }"\n  *ngIf="breadcrumbs && breadcrumbs.length > 0"\n>\n  <button\n    *ngIf="breadcrumbs.length > 1"\n    class="btn-show-all-breadcrumbs pull-left"\n    (click)="showAll = !showAll"\n  >\n    <i\n      *ngIf="!showAll"\n      [c8yIcon]="\'caret-right\'"\n      tooltip="{{ \'Show all breadcrumbs\' | translate }}"\n      container="body"\n      placement="top"\n    ></i>\n    <i\n      *ngIf="showAll"\n      [c8yIcon]="\'caret-down\'"\n      tooltip="{{ \'Collapse breadcrumbs\' | translate }}"\n      container="body"\n      placement="top"\n    ></i>\n  </button>\n\n  <ul class="breadcrumbs text-muted" *ngFor="let breadcrumb of breadcrumbs; let first = first">\n    <ng-container *ngIf="first || showAll">\n      <li class="text-muted" *ngFor="let item of breadcrumb.items; let firstItem = first">\n        <span *ngIf="!firstItem"> > </span>\n        <ng-container *c8yOutlet="item.template"></ng-container>\n        <ng-container *ngIf="item.label && item.path">\n          <a\n            [routerLink]="normalizePath(item.path)"\n            class="word-break"\n            title="{{ item.label | translate }}"\n          >\n            <i [c8yIcon]="item.icon" *ngIf="firstItem" class="m-r-4"></i>\n            <span>{{ item.label | translate }}</span>\n          </a>\n        </ng-container>\n        <ng-container *ngIf="item.label && !item.path">\n          <i [c8yIcon]="item.icon" *ngIf="firstItem" class="m-r-4"></i>\n          <span>{{ item.label | translate }}</span>\n        </ng-container>\n      </li>\n    </ng-container>\n  </ul>\n</div>\n'}]}],propDecorators:{breadcrumbs:[{type:r.Input}]}});var Ks=Ci((function e(t,n,r){var i=this;bi(this,e),this.headerService=t,this.element=n,this.zone=r,this.title=void 0,this.pageTitleUpdate=!0,this.headerService.map((function(e){return e.title})).subscribe((function(e){return i.title=e})),this.headerService.map((function(e){return e.pageTitleUpdate})).subscribe((function(e){return i.pageTitleUpdate=e})),this.zone.runOutsideAngular((function(){i.headerService.state$.pipe((0,s.debounceTime)(100),(0,s.filter)((function(e){return e.pageTitleUpdate})),(0,s.debounceTime)(100),(0,s.map)((function(){return i.element.nativeElement.querySelector("h1")})),(0,s.filter)((function(e){return null!==e})),(0,s.map)((function(e){return e.innerText})),(0,s.filter)(Boolean)).subscribe((function(e){return t.changePageTitle(e)}))}))}));Ks.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ks,deps:[{token:Va},{token:r.ElementRef},{token:r.NgZone}],target:r["ɵɵFactoryTarget"].Component}),Ks.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ks,selector:"c8y-title-outlet",ngImport:i,template:'<div class="c8y-ui-title">\n  <div class="title" *c8yOutlet="title"></div>\n</div>\n',dependencies:[{kind:"directive",type:Xo,selector:"[c8yOutlet]",inputs:["c8yOutlet","c8yOutletProperties"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ks,decorators:[{type:r.Component,args:[{selector:"c8y-title-outlet",template:'<div class="c8y-ui-title">\n  <div class="title" *c8yOutlet="title"></div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Va},{type:r.ElementRef},{type:r.NgZone}]}});var Ys=function(){function e(t){bi(this,e),this.options=t,this.name="",this.model={appIcon:"",showIcon:!0,iconClass:["c8y-icon"],appNameAbbr:"",iconStyle:{}},this.c8yAppIconsList={analyticsbuilder:"analytics-builder","analytics-builder":"analytics-builder",cockpit:"cockpit",devicemanagement:"device-management",administration:"administration",apamaepl:"apama-epl"},this.white=!1,this.defaultIconStyle={"background-repeat":"no-repeat","background-size":"contain",height:"36px",width:"36px"}}return Ci(e,[{key:"ngOnInit",value:function(){this.model.appIcon=this.iconFromAppDefinition()||this.findStaticIcon();var e=this.iconUrlFromAppDefinition();e&&(this.model.iconStyle=(0,c.assign)(this.defaultIconStyle,{"background-image":e})),this.model.showIcon=!!this.model.appIcon||!(0,c.isEmpty)(this.model.iconStyle),this.model.iconClass=["c8y-icon",this.mapFontAwesomeToDelightIcons(this.model.appIcon),this.white?"c8y-icon-white":"c8y-icon-duocolor"].filter((function(e){return!!e})),this.model.appNameAbbr=this.name.substr(0,2)}},{key:"findStaticIcon",value:function(){var e=this.contextPath||this.name,t=(0,c.find)((0,c.keys)(this.c8yAppIconsList),(function(t){return e.indexOf(t)>-1})),n=this.c8yAppIconsList[t];return n?"c8y-icon-".concat(n):void 0}},{key:"iconFromAppDefinition",value:function(){var e=this.app||this.options,t=["icon","class"];return(0,c.get)(e,["manifest"].concat(t))||(0,c.get)(e,t)}},{key:"iconUrlFromAppDefinition",value:function(){var e=this.app||this.options,t=["icon","url"];return(0,c.get)(e,["manifest"].concat(t))||(0,c.get)(e,t)}},{key:"mapFontAwesomeToDelightIcons",value:function(e){if(e){return e.replace(/fa-/gi,"dlt-c8y-icon-")}}}]),e}();Ys.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ys,deps:[{token:Gi}],target:r["ɵɵFactoryTarget"].Component}),Ys.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ys,selector:"c8y-app-icon",inputs:{contextPath:"contextPath",name:"name",app:"app"},host:{classAttribute:"c8y-app-icon"},ngImport:i,template:'<i *ngIf="model.showIcon" [ngClass]="model.iconClass" [ngStyle]="model.iconStyle"></i>\n<span *ngIf="!model.showIcon" class="app-noicon"> {{model.appNameAbbr}}</span>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ys,decorators:[{type:r.Component,args:[{selector:"c8y-app-icon",host:{class:"c8y-app-icon"},template:'<i *ngIf="model.showIcon" [ngClass]="model.iconClass" [ngStyle]="model.iconStyle"></i>\n<span *ngIf="!model.showIcon" class="app-noicon"> {{model.appNameAbbr}}</span>\n'}]}],ctorParameters:function(){return[{type:Gi}]},propDecorators:{contextPath:[{type:r.Input}],name:[{type:r.Input}],app:[{type:r.Input}]}});var Zs=new r.InjectionToken("ProductExperienceEventSource"),Qs=function(){function e(t,n){bi(this,e),this.component=t,this.gainsightService=n}return Ci(e,[{key:"onClick",value:function(){!this.component&&this.actionName&&this.gainsightService.triggerEvent(this.actionName,this.actionData)}},{key:"ngOnInit",value:function(){this.component&&(this.component.productExperienceEvent={eventName:this.actionName,data:this.actionData})}}]),e}();Qs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qs,deps:[{token:Zs,optional:!0,self:!0},{token:ua}],target:r["ɵɵFactoryTarget"].Directive}),Qs.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Qs,selector:"[c8yProductExperience]",inputs:{actionName:"actionName",actionData:"actionData"},host:{listeners:{click:"onClick()"}},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qs,decorators:[{type:r.Directive,args:[{selector:"[c8yProductExperience]"}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Self},{type:r.Optional},{type:r.Inject,args:[Zs]}]},{type:ua}]},propDecorators:{actionName:[{type:r.Input}],actionData:[{type:r.Input}],onClick:[{type:r.HostListener,args:["click"]}]}});var Xs=function(){function e(t,n){var r=this;bi(this,e),this.ui=t,this.applications=n;var i=this.ui,o=i.currentUser,c=i.currentTenant;(0,a.combineLatest)(o,c).pipe((0,s.first)()).subscribe((function(e){var t=ii(e,2),n=t[0],i=t[1];r.tenant=i,r.listAppsForUser(n)}))}var t;return Ci(e,[{key:"hideCloudApps",get:function(){return!1}},{key:"isActive",value:function(e){return e.contextPath===this.ui.state.app.contextPath}},{key:"getHref",value:function(e){return this.applications.getHref(e)}},{key:"listAppsForUser",value:(t=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.applications.listByUser(t,{pageSize:1e3});case 3:n=e.sent,r=n.data,this.apps=this.orderApps(this.filterApps(r));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"filterApps",value:function(e){return e=this.filterVisible(e),e=this.filterCloud(e),e=this.filterDuplicates(e)}},{key:"filterVisible",value:function(e){var t=["HOSTED","EXTERNAL"];return e.filter((function(e){return(0,c.includes)(t,e.type)&&!e.noAppSwitcher&&!(0,c.get)(e,"manifest.noAppSwitcher")}))}},{key:"filterCloud",value:function(e){var t=this.hideCloudApps,n=function(e){return!!e.cloud};return t||(this.oneCloudApps=this.orderApps(e.filter(n))),e.filter((function(e){return!n(e)}))}},{key:"filterDuplicates",value:function(e){var t=this;return e.filter((function(n){return!e.some((function(e){return n!==e&&n.contextPath&&n.contextPath===e.contextPath&&n.owner.tenant.id!==t.tenant.name}))}))}},{key:"orderApps",value:function(e){return(0,c.orderBy)(e,(function(e){return e.name.toLowerCase()}))}}]),e}();Xs.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xs,deps:[{token:Hi},{token:g.ApplicationService}],target:r["ɵɵFactoryTarget"].Component}),Xs.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Xs,selector:"c8y-app-switcher",ngImport:i,template:'<div class="app-switcher-dropdown" dropdown>\n  <button\n    class="main-header-button c8y-dropdown dropdown-toggle"\n    id="appSwitcherDropdown"\n    dropdownToggle\n    title="{{ \'Application switcher\' | translate }}"\n  >\n    <i c8yIcon="th" class="icon-2x"></i>\n  </button>\n  <div\n    *dropdownMenu\n    class="app-switcher-dropdown-menu dropdown-menu"\n    aria-labelledby="appSwitcherDropdown"\n  >\n    <div class="app-switcher-sagcloud" *ngIf="oneCloudApps && oneCloudApps.length > 0">\n      <a\n        title="{{ app.name | humanizeAppName | async }}"\n        class="appLink"\n        *ngFor="let app of oneCloudApps"\n        [href]="getHref(app)"\n        c8yProductExperience\n        [actionName]="\'appSwitched\'"\n        [actionData]="{ applicationName: app && app.name }"\n      >\n        <c8y-app-icon [app]="app" [name]="app.name" [contextPath]="app.contextPath"></c8y-app-icon>\n        <span class="text-truncate-wrap">{{ app | humanizeAppName | async }}</span>\n      </a>\n    </div>\n    <div class="app-switcher">\n      <a\n        title="{{ app.name | humanizeAppName | async }}"\n        class="appLink"\n        [ngClass]="isActive(app) ? \'active\' : \'\'"\n        *ngFor="let app of apps"\n        [href]="getHref(app)"\n        [rel]="app.type === \'EXTERNAL\' ? \'noopener noreferrer\' : \'\'"\n        c8yProductExperience\n        [actionName]="\'appSwitched\'"\n        [actionData]="{ applicationName: app && app.name }"\n      >\n        <c8y-app-icon [app]="app" [name]="app.name" [contextPath]="app.contextPath"></c8y-app-icon>\n        <span class="text-truncate-wrap">{{ app | humanizeAppName | async }}</span>\n      </a>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:Qs,selector:"[c8yProductExperience]",inputs:["actionName","actionData"]},{kind:"component",type:Ys,selector:"c8y-app-icon",inputs:["contextPath","name","app"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:Ao,name:"humanizeAppName"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xs,decorators:[{type:r.Component,args:[{selector:"c8y-app-switcher",template:'<div class="app-switcher-dropdown" dropdown>\n  <button\n    class="main-header-button c8y-dropdown dropdown-toggle"\n    id="appSwitcherDropdown"\n    dropdownToggle\n    title="{{ \'Application switcher\' | translate }}"\n  >\n    <i c8yIcon="th" class="icon-2x"></i>\n  </button>\n  <div\n    *dropdownMenu\n    class="app-switcher-dropdown-menu dropdown-menu"\n    aria-labelledby="appSwitcherDropdown"\n  >\n    <div class="app-switcher-sagcloud" *ngIf="oneCloudApps && oneCloudApps.length > 0">\n      <a\n        title="{{ app.name | humanizeAppName | async }}"\n        class="appLink"\n        *ngFor="let app of oneCloudApps"\n        [href]="getHref(app)"\n        c8yProductExperience\n        [actionName]="\'appSwitched\'"\n        [actionData]="{ applicationName: app && app.name }"\n      >\n        <c8y-app-icon [app]="app" [name]="app.name" [contextPath]="app.contextPath"></c8y-app-icon>\n        <span class="text-truncate-wrap">{{ app | humanizeAppName | async }}</span>\n      </a>\n    </div>\n    <div class="app-switcher">\n      <a\n        title="{{ app.name | humanizeAppName | async }}"\n        class="appLink"\n        [ngClass]="isActive(app) ? \'active\' : \'\'"\n        *ngFor="let app of apps"\n        [href]="getHref(app)"\n        [rel]="app.type === \'EXTERNAL\' ? \'noopener noreferrer\' : \'\'"\n        c8yProductExperience\n        [actionName]="\'appSwitched\'"\n        [actionData]="{ applicationName: app && app.name }"\n      >\n        <c8y-app-icon [app]="app" [name]="app.name" [contextPath]="app.contextPath"></c8y-app-icon>\n        <span class="text-truncate-wrap">{{ app | humanizeAppName | async }}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Hi},{type:g.ApplicationService}]}});var Js=function(){function e(){bi(this,e),this.quickLinks=[],this.helpAndSupport=[]}return Ci(e,[{key:"_quickLinks",set:function(e){e&&(this.quickLinks=e.filter((function(e){return"quicklink"===e.type})))}},{key:"_helpAndSupport",set:function(e){e&&(this.helpAndSupport=e.filter((function(e){return"doc"===e.type})))}}]),e}();Js.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Js,deps:[],target:r["ɵɵFactoryTarget"].Component}),Js.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Js,selector:"c8y-right-drawer",inputs:{_quickLinks:["quickLinks","_quickLinks"],_helpAndSupport:["helpAndSupport","_helpAndSupport"],app:"app"},ngImport:i,template:'<div class="c8y-right-drawer">\n  <div class="summary">\n    <h4 class="text-light">\n      {{ \'Welcome to\' | translate }} {{ app | humanizeAppName | async }}\n    </h4>\n  </div>\n\n  <div *ngIf="quickLinks.length">\n    <div class="legend form-block" translate>Quick links</div>\n    <div class="quick-links-drawer">\n      <ng-container *ngFor="let quickLink of quickLinks">\n        <a\n          class="quick-link"\n          [href]="quickLink.url || \'#\'"\n          (click)="quickLink.click && $event.preventDefault(); quickLink.click && quickLink.click();"\n          c8yProductExperience\n          [actionName]="\'quickLinkRightDrawer:\' + quickLink.label"\n          [actionData]=""\n        >\n          <h2 *ngIf="quickLink.icon"><i class="{{ quickLink.icon }}"></i></h2>\n          <img\n            *ngIf="quickLink.iconSrc"\n            [src]="quickLink.iconSrc"\n            style="max-width:50px;"\n            class="img-responsive center-block"\n            onerror="this.style.display = \'none\'">\n          {{ quickLink.label | translate }}\n        </a>\n      </ng-container>\n    </div>\n  </div>\n\n  <div *ngIf="helpAndSupport.length">\n    <div class="legend form-block m-t-24" translate>Help &amp; support</div>\n    <div class="help-support" *ngFor="let link of helpAndSupport">\n      <a\n        class="help-and-support-link text-truncate"\n        target="_blank"\n        rel="noopener noreferrer"\n        [href]="link.url"\n        c8yProductExperience\n        [actionName]="\'quickLinkRightDrawer:\' + link.label"\n        [actionData]=""\n      >\n        <i [c8yIcon]="link.icon"></i>\n        <span title="{{ link.label | translate }}" class="d-inline">\n          {{ link.label | translate }}\n        </span>\n      </a>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:Qs,selector:"[c8yProductExperience]",inputs:["actionName","actionData"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:Ao,name:"humanizeAppName"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Js,decorators:[{type:r.Component,args:[{selector:"c8y-right-drawer",template:'<div class="c8y-right-drawer">\n  <div class="summary">\n    <h4 class="text-light">\n      {{ \'Welcome to\' | translate }} {{ app | humanizeAppName | async }}\n    </h4>\n  </div>\n\n  <div *ngIf="quickLinks.length">\n    <div class="legend form-block" translate>Quick links</div>\n    <div class="quick-links-drawer">\n      <ng-container *ngFor="let quickLink of quickLinks">\n        <a\n          class="quick-link"\n          [href]="quickLink.url || \'#\'"\n          (click)="quickLink.click && $event.preventDefault(); quickLink.click && quickLink.click();"\n          c8yProductExperience\n          [actionName]="\'quickLinkRightDrawer:\' + quickLink.label"\n          [actionData]=""\n        >\n          <h2 *ngIf="quickLink.icon"><i class="{{ quickLink.icon }}"></i></h2>\n          <img\n            *ngIf="quickLink.iconSrc"\n            [src]="quickLink.iconSrc"\n            style="max-width:50px;"\n            class="img-responsive center-block"\n            onerror="this.style.display = \'none\'">\n          {{ quickLink.label | translate }}\n        </a>\n      </ng-container>\n    </div>\n  </div>\n\n  <div *ngIf="helpAndSupport.length">\n    <div class="legend form-block m-t-24" translate>Help &amp; support</div>\n    <div class="help-support" *ngFor="let link of helpAndSupport">\n      <a\n        class="help-and-support-link text-truncate"\n        target="_blank"\n        rel="noopener noreferrer"\n        [href]="link.url"\n        c8yProductExperience\n        [actionName]="\'quickLinkRightDrawer:\' + link.label"\n        [actionData]=""\n      >\n        <i [c8yIcon]="link.icon"></i>\n        <span title="{{ link.label | translate }}" class="d-inline">\n          {{ link.label | translate }}\n        </span>\n      </a>\n    </div>\n  </div>\n</div>\n'}]}],propDecorators:{_quickLinks:[{type:r.Input,args:["quickLinks"]}],_helpAndSupport:[{type:r.Input,args:["helpAndSupport"]}],app:[{type:r.Input}]}});var ec,tc=function(){function e(t,n,r,i,o,a,s){bi(this,e),this.headerService=t,this.actionService=n,this.breadcrumbService=r,this.searchService=i,this.appState=o,this.userMenuService=a,this.docs=s,this.canToggle$=this.headerService.hasItemsInNavigator$,this.appState$=this.appState.state$,this.drawerOpen=!1,this.headerOpen=!1,this.simple=!1}return Ci(e,[{key:"ngAfterViewInit",value:function(){this.headerService.verifyIfNavOpen()}}]),e}();tc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tc,deps:[{token:Va},{token:fa},{token:Ba},{token:ss},{token:Hi},{token:vs},{token:za}],target:r["ɵɵFactoryTarget"].Component}),tc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:tc,selector:"c8y-header-bar",inputs:{simple:"simple"},ngImport:i,template:'<div\n  class="app-main-header"\n  [ngClass]="{\n    open: (headerService.navigatorOpen$ | async) && !simple,\n    drawerOpen: drawerOpen\n  }"\n>\n  <div class="header-bar">\n    <button\n      *ngIf="(canToggle$ | async) && !simple"\n      type="button"\n      class="navigator-toggle main-header-button"\n      title="{{ \'Toggle navigator\' | translate }}"\n      (click)="headerService.toggleNavigator()"\n    >\n      <i [c8yIcon]="\'outdent\'" *ngIf="!(headerService.navigatorOpen$ | async)"></i>\n      <i [c8yIcon]="\'dedent-right\'" *ngIf="headerService.navigatorOpen$ | async"></i>\n    </button>\n    <div class="app-view">\n      <c8y-app-icon\n        [name]="(appState$ | async).app.name"\n        [contextPath]="(appState$ | async).app.contextPath"\n      ></c8y-app-icon>\n\n      <span class="page-header">\n        <c8y-title-outlet></c8y-title-outlet>\n        <c8y-breadcrumb-outlet\n          *ngIf="!simple"\n          [breadcrumbs]="breadcrumbService.items$ | async"\n          class="app-breadcrumbs"\n        ></c8y-breadcrumb-outlet>\n      </span>\n    </div>\n    <c8y-search-outlet\n      *ngIf="!simple"\n      title="{{ \'Search\' | translate }}"\n      [search]="searchService.items$ | async"\n      class="main-header-item"\n    ></c8y-search-outlet>\n    <c8y-action-outlet\n      *ngIf="!simple"\n      title="{{ \'Add\' | translate }}"\n      [items]="actionService.items$ | async"\n    ></c8y-action-outlet>\n    <c8y-app-switcher\n      *ngIf="appState.currentUser.value"\n      title="{{ \'Application switcher\' | translate }}"\n      class="main-header-item"\n    ></c8y-app-switcher>\n    <c8y-user-menu-outlet\n      [items]="(userMenuService.state$ | async).userMenuItems"\n      class="main-header-item"\n    ></c8y-user-menu-outlet>\n\n    <button\n      title="{{ \'Toggle side drawer\' | translate }}"\n      class="drawer-toggle main-header-button"\n      *ngIf="(appState$ | async).showRightDrawer && !simple"\n      (click)="drawerOpen = !drawerOpen"\n    >\n      <i [c8yIcon]="\'indent\'" *ngIf="drawerOpen"></i>\n      <i [c8yIcon]="\'dedent\'" *ngIf="!drawerOpen"></i>\n    </button>\n  </div>\n  <div class="head-toggler">\n    <button title="{{ \'Toggle\' | translate }}" type="button" (click)="headerService.toggle()">\n      <i [c8yIcon]="\'angle-right\'"></i>\n    </button>\n  </div>\n  <c8y-right-drawer\n    *ngIf="(appState$ | async).showRightDrawer"\n    [app]="(appState$ | async).app"\n    [quickLinks]="docs.items$ | async"\n    [helpAndSupport]="docs.items$ | async"\n  >\n  </c8y-right-drawer>\n  <div class="loading-bar" [ngClass]="{ active: (appState$ | async).isLoading }"></div>\n</div>\n',dependencies:[{kind:"component",type:Hs,selector:"c8y-user-menu-outlet",inputs:["items"]},{kind:"component",type:qs,selector:"c8y-search-outlet",inputs:["search"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:ya,selector:"c8y-action-outlet",inputs:["items"]},{kind:"component",type:Ws,selector:"c8y-breadcrumb-outlet",inputs:["breadcrumbs"]},{kind:"component",type:Ks,selector:"c8y-title-outlet"},{kind:"component",type:Ys,selector:"c8y-app-icon",inputs:["contextPath","name","app"]},{kind:"component",type:Xs,selector:"c8y-app-switcher"},{kind:"component",type:Js,selector:"c8y-right-drawer",inputs:["quickLinks","helpAndSupport","app"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tc,decorators:[{type:r.Component,args:[{selector:"c8y-header-bar",template:'<div\n  class="app-main-header"\n  [ngClass]="{\n    open: (headerService.navigatorOpen$ | async) && !simple,\n    drawerOpen: drawerOpen\n  }"\n>\n  <div class="header-bar">\n    <button\n      *ngIf="(canToggle$ | async) && !simple"\n      type="button"\n      class="navigator-toggle main-header-button"\n      title="{{ \'Toggle navigator\' | translate }}"\n      (click)="headerService.toggleNavigator()"\n    >\n      <i [c8yIcon]="\'outdent\'" *ngIf="!(headerService.navigatorOpen$ | async)"></i>\n      <i [c8yIcon]="\'dedent-right\'" *ngIf="headerService.navigatorOpen$ | async"></i>\n    </button>\n    <div class="app-view">\n      <c8y-app-icon\n        [name]="(appState$ | async).app.name"\n        [contextPath]="(appState$ | async).app.contextPath"\n      ></c8y-app-icon>\n\n      <span class="page-header">\n        <c8y-title-outlet></c8y-title-outlet>\n        <c8y-breadcrumb-outlet\n          *ngIf="!simple"\n          [breadcrumbs]="breadcrumbService.items$ | async"\n          class="app-breadcrumbs"\n        ></c8y-breadcrumb-outlet>\n      </span>\n    </div>\n    <c8y-search-outlet\n      *ngIf="!simple"\n      title="{{ \'Search\' | translate }}"\n      [search]="searchService.items$ | async"\n      class="main-header-item"\n    ></c8y-search-outlet>\n    <c8y-action-outlet\n      *ngIf="!simple"\n      title="{{ \'Add\' | translate }}"\n      [items]="actionService.items$ | async"\n    ></c8y-action-outlet>\n    <c8y-app-switcher\n      *ngIf="appState.currentUser.value"\n      title="{{ \'Application switcher\' | translate }}"\n      class="main-header-item"\n    ></c8y-app-switcher>\n    <c8y-user-menu-outlet\n      [items]="(userMenuService.state$ | async).userMenuItems"\n      class="main-header-item"\n    ></c8y-user-menu-outlet>\n\n    <button\n      title="{{ \'Toggle side drawer\' | translate }}"\n      class="drawer-toggle main-header-button"\n      *ngIf="(appState$ | async).showRightDrawer && !simple"\n      (click)="drawerOpen = !drawerOpen"\n    >\n      <i [c8yIcon]="\'indent\'" *ngIf="drawerOpen"></i>\n      <i [c8yIcon]="\'dedent\'" *ngIf="!drawerOpen"></i>\n    </button>\n  </div>\n  <div class="head-toggler">\n    <button title="{{ \'Toggle\' | translate }}" type="button" (click)="headerService.toggle()">\n      <i [c8yIcon]="\'angle-right\'"></i>\n    </button>\n  </div>\n  <c8y-right-drawer\n    *ngIf="(appState$ | async).showRightDrawer"\n    [app]="(appState$ | async).app"\n    [quickLinks]="docs.items$ | async"\n    [helpAndSupport]="docs.items$ | async"\n  >\n  </c8y-right-drawer>\n  <div class="loading-bar" [ngClass]="{ active: (appState$ | async).isLoading }"></div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Va},{type:fa},{type:Ba},{type:ss},{type:Hi},{type:vs},{type:za}]},propDecorators:{simple:[{type:r.Input}]}}),function(e){e[e.None=0]="None",e[e.Credentials=1]="Credentials",e[e.RecoverPassword=2]="RecoverPassword",e[e.SmsChallenge=3]="SmsChallenge",e[e.ChangePassword=4]="ChangePassword",e[e.TotpChallenge=5]="TotpChallenge",e[e.TotpSetup=6]="TotpSetup",e[e.ProvidePhoneNumber=7]="ProvidePhoneNumber",e[e.TenantIdSetup=8]="TenantIdSetup"}(ec||(ec={}));var nc=function(){function e(){bi(this,e),this.queryParamsToHandle=["tenant","user"]}return Ci(e,[{key:"getCredentialsFromQueryParams",value:function(){var e=this,t={};try{var n=new URLSearchParams(window.location.search);this.queryParamsToHandle.forEach((function(r){var i=e.getParameterFromQueryParams(n,r);i&&(t[r]=i)}))}catch(e){}return t}},{key:"removeCredentialsFromQueryParams",value:function(){var e=this;try{var t=new URLSearchParams(window.location.search);if(this.queryParamsToHandle.map((function(n){return e.removeParameterFromQueryParameters(t,n)})).reduceRight((function(e,t){return e||t}),!1))return window.location.search=t.toString(),!0}catch(e){}return!1}},{key:"removeParameterFromQueryParameters",value:function(e,t){var n="".concat(t);return!!e.has(n)&&(e.delete(n),!0)}},{key:"getParameterFromQueryParams",value:function(e,t){var n="".concat(t);if(!e.has(n))return null;var r=e.get(n);return r||null}}]),e}();nc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nc,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),nc.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nc}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nc,decorators:[{type:r.Injectable}]});var rc=function(){function e(t,n,i){bi(this,e),this.loginService=t,this.users=n,this.alert=i,this.onCancel=new r.EventEmitter,this.model={smsToken:""},this.isLoading=!1,this.resendTfa="0"}var t,n,i,o,a,s;return Ci(e,[{key:"verifyTFACode",value:(s=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,this.usesOAuthInternal();case 3:if(!e.sent){e.next=8;break}return e.next=6,this.verifyCodeWithOauth();case 6:e.next=10;break;case 8:return e.next=10,this.verifyCodeWithBasicAuth();case 10:this.isLoading=!1;case 11:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"resendTFASms",value:(a=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,this.users.verifyTFACode(this.resendTfa);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),403===e.t0.res.status?(this.loginService.cleanMessages(),this.loginService.addSuccessMessage("resend_sms")):this.alert.addServerFailure(e.t0);case 9:return e.prev=9,this.isLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])}))),function(){return a.apply(this,arguments)})},{key:"usesOAuthInternal",value:(o=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loginService.isPasswordGrantLogin(this.credentials));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"verifyCodeWithOauth",value:(i=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.credentials,e.next=4,this.loginService.switchLoginMode(ci(ci({},t),{},{tfa:this.model.smsToken}));case 4:return e.next=6,this.loginService.verifyAppAccess();case 6:return e.next=8,this.loginService.authFulfilled();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),401===(e.t0.res&&e.t0.res.status)?this.alert.danger("Invalid code"):this.alert.addServerFailure(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return i.apply(this,arguments)})},{key:"verifyCodeWithBasicAuth",value:(n=ui(di().mark((function e(){var t,n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.users.verifyTFACode(this.model.smsToken);case 3:return t=e.sent,n=t.res,r=n.headers.get("tfatoken"),this.credentials.tfa=r,e.next=9,this.loginWithTFA(r);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),403===(e.t0.res&&e.t0.res.status)?this.alert.danger("Invalid code"):this.alert.addServerFailure(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return n.apply(this,arguments)})},{key:"loginWithTFA",value:(t=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loginService.login(this.loginService.useBasicAuth({tfa:t}),this.credentials);case 3:this.loginService.saveTFAToken(t,sessionStorage),this.loginService.rememberMe&&this.loginService.saveTFAToken(t,localStorage),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.alert.addServerFailure(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return t.apply(this,arguments)})}]),e}();rc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:rc,deps:[{token:Cs},{token:g.UserService},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),rc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:rc,selector:"c8y-sms-challenge",inputs:{credentials:"credentials"},outputs:{onCancel:"onCancel"},ngImport:i,template:'<form #twoFactorForm="ngForm" role="form" class="loginForm" (ngSubmit)="verifyTFACode()" novalidate>\n  <div class="legend form-block center" translate>\n    Two-factor authentication\n  </div>\n\n  <c8y-form-group>\n    <label translate>Verification code</label>\n    <input\n      [(ngModel)]="model.smsToken"\n      #sms_token="ngModel"\n      type="text"\n      name="sms_token"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g.\' | translate }} 624327"\n      required\n    />\n    <p *ngIf="!twoFactorForm.form.valid || isLoading " class="help-block" translate>\n      Insert the code received via SMS.\n    </p>\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Verify\' | translate }}"\n    [disabled]="!twoFactorForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    translate\n  >\n    Verify\n  </button>\n\n  <div class="d-flex m-t-8">\n    <a\n      title="{{ \'Send new code\' | translate }}"\n      [ngClass]="{ disabled: isLoading }"\n      class="small pointer m-r-auto"\n      (click)="resendTFASms()"\n      translate\n    >\n      Send new code\n    </a>\n    <a\n      title="{{ \'Log in\' | translate }}"\n      class="small pointer m-l-auto"\n      (click)="onCancel.emit()"\n      translate\n    >\n      Log in\n    </a>\n  </div>\n</form>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:rc,decorators:[{type:r.Component,args:[{selector:"c8y-sms-challenge",template:'<form #twoFactorForm="ngForm" role="form" class="loginForm" (ngSubmit)="verifyTFACode()" novalidate>\n  <div class="legend form-block center" translate>\n    Two-factor authentication\n  </div>\n\n  <c8y-form-group>\n    <label translate>Verification code</label>\n    <input\n      [(ngModel)]="model.smsToken"\n      #sms_token="ngModel"\n      type="text"\n      name="sms_token"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g.\' | translate }} 624327"\n      required\n    />\n    <p *ngIf="!twoFactorForm.form.valid || isLoading " class="help-block" translate>\n      Insert the code received via SMS.\n    </p>\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Verify\' | translate }}"\n    [disabled]="!twoFactorForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    translate\n  >\n    Verify\n  </button>\n\n  <div class="d-flex m-t-8">\n    <a\n      title="{{ \'Send new code\' | translate }}"\n      [ngClass]="{ disabled: isLoading }"\n      class="small pointer m-r-auto"\n      (click)="resendTFASms()"\n      translate\n    >\n      Send new code\n    </a>\n    <a\n      title="{{ \'Log in\' | translate }}"\n      class="small pointer m-l-auto"\n      (click)="onCancel.emit()"\n      translate\n    >\n      Log in\n    </a>\n  </div>\n</form>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:g.UserService},{type:ka}]},propDecorators:{credentials:[{type:r.Input}],onCancel:[{type:r.Output}]}});var ic=function(){function e(t,n,i){bi(this,e),this.loginService=t,this.alert=n,this.userService=i,this.onCancel=new r.EventEmitter,this.onChangeView=new r.EventEmitter,this.requestInProgress=!1,this.sendTfa="0"}var t,n;return Ci(e,[{key:"save",value:(n=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.requestInProgress=!0,e.next=4,this.userService.savePhoneNumber(this.phoneNumber);case 4:return e.next=6,this.sendTFASms();case 6:this.onChangeView.emit({view:ec.SmsChallenge,credentials:this.credentials}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.alert.addServerFailure(e.t0);case 12:return e.prev=12,this.requestInProgress=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,9,12,15]])}))),function(){return n.apply(this,arguments)})},{key:"sendTFASms",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userService.verifyTFACode(this.sendTfa);case 3:e.next=13;break;case 5:if(e.prev=5,e.t0=e.catch(0),403!==e.t0.res.status){e.next=12;break}this.loginService.cleanMessages(),this.loginService.addSuccessMessage("send_sms"),e.next=13;break;case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return t.apply(this,arguments)})}]),e}();ic.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ic,deps:[{token:Cs},{token:ka},{token:g.UserService}],target:r["ɵɵFactoryTarget"].Component}),ic.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ic,selector:"c8y-provide-phone-number",inputs:{credentials:"credentials"},outputs:{onCancel:"onCancel",onChangeView:"onChangeView"},ngImport:i,template:'<form #twoFactorForm="ngForm" role="form" class="loginForm" (ngSubmit)="save()" novalidate>\n  <div class="legend form-block center" translate>\n    Two-factor authentication\n  </div>\n\n  <c8y-form-group [ngClass]="requestInProgress || twoFactorForm.invalid ? \'p-b-8\' : \'\'">\n    <label translate>Provide your phone number</label>\n\n    <input\n      class="form-control"\n      [(ngModel)]="phoneNumber"\n      #contactPhone="ngModel"\n      type="text"\n      name="phone"\n      autocomplete="off"\n      placeholder="{{ \'e.g. +49 9 876 543 210`LOCALIZE`\' | translate }}"\n      c8yPhoneValidation\n      c8yDefaultValidation="phoneNumber"\n      required\n    />\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Save and continue\' | translate }}"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    [disabled]="requestInProgress || twoFactorForm.invalid"\n  >\n    {{ \'Save and continue\' | translate }}\n  </button>\n\n  <div class="d-flex m-t-8">\n    <a\n      title="{{ \'Login\' | translate }}"\n      class="small pointer m-l-auto"\n      href="#"\n      (click)="onCancel.emit()"\n    >\n      {{ \'Login\' | translate }}\n    </a>\n  </div>\n</form>\n',dependencies:[{kind:"directive",type:As,selector:"[c8yPhoneValidation]"},{kind:"directive",type:Ms,selector:"[c8yDefaultValidation]",inputs:["c8yDefaultValidation"]},{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ic,decorators:[{type:r.Component,args:[{selector:"c8y-provide-phone-number",template:'<form #twoFactorForm="ngForm" role="form" class="loginForm" (ngSubmit)="save()" novalidate>\n  <div class="legend form-block center" translate>\n    Two-factor authentication\n  </div>\n\n  <c8y-form-group [ngClass]="requestInProgress || twoFactorForm.invalid ? \'p-b-8\' : \'\'">\n    <label translate>Provide your phone number</label>\n\n    <input\n      class="form-control"\n      [(ngModel)]="phoneNumber"\n      #contactPhone="ngModel"\n      type="text"\n      name="phone"\n      autocomplete="off"\n      placeholder="{{ \'e.g. +49 9 876 543 210`LOCALIZE`\' | translate }}"\n      c8yPhoneValidation\n      c8yDefaultValidation="phoneNumber"\n      required\n    />\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Save and continue\' | translate }}"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    [disabled]="requestInProgress || twoFactorForm.invalid"\n  >\n    {{ \'Save and continue\' | translate }}\n  </button>\n\n  <div class="d-flex m-t-8">\n    <a\n      title="{{ \'Login\' | translate }}"\n      class="small pointer m-l-auto"\n      href="#"\n      (click)="onCancel.emit()"\n    >\n      {{ \'Login\' | translate }}\n    </a>\n  </div>\n</form>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:ka},{type:g.UserService}]},propDecorators:{credentials:[{type:r.Input}],onCancel:[{type:r.Output}],onChangeView:[{type:r.Output}]}});var oc=function(){function e(t,n){bi(this,e),this.users=t,this.loginService=n,this.onChangeView=new r.EventEmitter,this.LOGIN_VIEWS=ec,this.isLoading=!1,this.model={email:"",tenantId:""}}var t;return Ci(e,[{key:"ngOnInit",value:function(){this.model.tenantId=this.loginService.getTenant()}},{key:"resetPassword",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,this.users.sendPasswordResetMail(this.model.email,this.model.tenantId);case 4:200===e.sent.res.status&&this.loginService.addSuccessMessage("password_reset_requested");case 7:return e.prev=7,this.loginService.reset(),this.isLoading=!1,e.finish(7);case 11:case"end":return e.stop()}}),e,this,[[0,,7,11]])}))),function(){return t.apply(this,arguments)})}]),e}();oc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:oc,deps:[{token:g.UserService},{token:Cs}],target:r["ɵɵFactoryTarget"].Component}),oc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:oc,selector:"c8y-recover-password",outputs:{onChangeView:"onChangeView"},ngImport:i,template:'<form #resetForm="ngForm" role="form" class="loginForm" (ngSubmit)="resetPassword()" novalidate>\n  <div class="legend form-block center" translate>\n    Forgot password?\n  </div>\n  <c8y-form-group class="tenantField" id="tenantField" *ngIf="loginService.showTenant()">\n    <label translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenantId"\n      #tenantId="ngModel"\n      type="text"\n      name="tenantId"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Tenant ID\' | translate }}"\n      required\n    />\n  </c8y-form-group>\n\n  <c8y-form-group>\n    <label translate>Email address</label>\n    <input\n      [(ngModel)]="model.email"\n      #email="ngModel"\n      type="text"\n      name="email"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Email address\' | translate }}"\n      email\n      required\n    />\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Reset password\' | translate }}"\n    [disabled]="!resetForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    translate\n  >\n    Reset password\n  </button>\n  <div class="text-center m-t-8">\n    <p>\n      <a\n        title="{{ \'Login\' | translate }}"\n        class="btn btn-link btn-sm"\n        (click)="onChangeView.emit({ view: LOGIN_VIEWS.Credentials })"\n        translate\n    >\n      Login\n    </a>\n    </p>\n  </div>\n</form>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.EmailValidator,selector:"[email][formControlName],[email][formControl],[email][ngModel]",inputs:["email"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:oc,decorators:[{type:r.Component,args:[{selector:"c8y-recover-password",template:'<form #resetForm="ngForm" role="form" class="loginForm" (ngSubmit)="resetPassword()" novalidate>\n  <div class="legend form-block center" translate>\n    Forgot password?\n  </div>\n  <c8y-form-group class="tenantField" id="tenantField" *ngIf="loginService.showTenant()">\n    <label translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenantId"\n      #tenantId="ngModel"\n      type="text"\n      name="tenantId"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Tenant ID\' | translate }}"\n      required\n    />\n  </c8y-form-group>\n\n  <c8y-form-group>\n    <label translate>Email address</label>\n    <input\n      [(ngModel)]="model.email"\n      #email="ngModel"\n      type="text"\n      name="email"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Email address\' | translate }}"\n      email\n      required\n    />\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Reset password\' | translate }}"\n    [disabled]="!resetForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    translate\n  >\n    Reset password\n  </button>\n  <div class="text-center m-t-8">\n    <p>\n      <a\n        title="{{ \'Login\' | translate }}"\n        class="btn btn-link btn-sm"\n        (click)="onChangeView.emit({ view: LOGIN_VIEWS.Credentials })"\n        translate\n    >\n      Login\n    </a>\n    </p>\n  </div>\n</form>\n'}]}],ctorParameters:function(){return[{type:g.UserService},{type:Cs}]},propDecorators:{onChangeView:[{type:r.Output}]}});var ac=function(){function e(){bi(this,e),this.GREEN={colorName:"green",color:"rgb(0, 128, 0)",description:"strong",passwordStrength:g.PasswordStrength.GREEN},this.YELLOW={colorName:"yellow",color:"rgb(255, 204, 51)",description:"medium",passwordStrength:g.PasswordStrength.YELLOW},this.RED={colorName:"red",color:"rgb(170, 0, 51)",description:"weak",passwordStrength:g.PasswordStrength.RED}}return Ci(e,[{key:"hasLowerCase",value:function(e){return-1!==e.search(/[a-z]/)}},{key:"hasUpperCase",value:function(e){return-1!==e.search(/[A-Z]/)}},{key:"hasNumbers",value:function(e){return-1!==e.search(/[0-9]/)}},{key:"hasSpecialChars",value:function(e){return-1!==e.search(/[^0-9a-zA-Z]+/)}},{key:"getStrengthColor",value:function(e){var t=(0,c.filter)([this.hasLowerCase(e),this.hasUpperCase(e),this.hasNumbers(e),this.hasSpecialChars(e)]).length;return t>3?this.GREEN:t>=3?this.YELLOW:this.RED}}]),e}();ac.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ac,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),ac.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ac}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ac,decorators:[{type:r.Injectable}]});var sc=function(){function e(){bi(this,e),this.buttons=[{label:"cancel",action:function(){return Promise.reject()}}],this.isOpen=!1,this.containerClass="",this.placement="right",this.outsideClick=!1}var t;return Ci(e,[{key:"show",value:(t=ui(di().mark((function e(t){var n,r=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.buttons=t||this.buttons,this.isOpen=!0,e.prev=2,e.next=5,new Promise((function(e,t){return r.click=function(n){return n().then(e).catch(t)}}));case 5:n=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),e.t0;case 11:return e.prev=11,this.isOpen=!1,e.finish(11);case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[2,8,11,14]])}))),function(e){return t.apply(this,arguments)})},{key:"buttonStatus",value:function(e){return e?"btn-".concat(e):"btn-link btn-clean"}},{key:"handleOutsideClick",value:function(){this.click((function(){return Promise.reject()}))}}]),e}();sc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:sc,deps:[],target:r["ɵɵFactoryTarget"].Component}),sc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:sc,selector:"c8y-popover-confirm",inputs:{buttons:"buttons",message:"message",title:"title",isOpen:"isOpen",containerClass:"containerClass",placement:"placement",outsideClick:"outsideClick"},viewQueries:[{propertyName:"popover",first:!0,predicate:Sn.PopoverDirective,descendants:!0}],ngImport:i,template:'<span\n  [popover]="popover"\n  container="body"\n  [isOpen]="isOpen"\n  [popoverTitle]="title | translate"\n  [placement]="placement"\n  [containerClass]="containerClass"\n  [outsideClick]="outsideClick"\n  (onHidden)="handleOutsideClick()"\n></span>\n<ng-template #popover>\n  <p class="m-b-8">\n    {{ message | translate }}\n  </p>\n  <div class="popover-footer">\n    <ng-container *ngFor="let button of buttons">\n      <button\n        title="{{ button.label | translate }}"\n        class="btn btn-sm m-r-16"\n        [ngClass]="buttonStatus(button.status)"\n        (click)="click(button.action)"\n      >\n        {{ button.label | translate }}\n      </button>\n    </ng-container>\n  </div>\n</ng-template>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:sc,decorators:[{type:r.Component,args:[{selector:"c8y-popover-confirm",template:'<span\n  [popover]="popover"\n  container="body"\n  [isOpen]="isOpen"\n  [popoverTitle]="title | translate"\n  [placement]="placement"\n  [containerClass]="containerClass"\n  [outsideClick]="outsideClick"\n  (onHidden)="handleOutsideClick()"\n></span>\n<ng-template #popover>\n  <p class="m-b-8">\n    {{ message | translate }}\n  </p>\n  <div class="popover-footer">\n    <ng-container *ngFor="let button of buttons">\n      <button\n        title="{{ button.label | translate }}"\n        class="btn btn-sm m-r-16"\n        [ngClass]="buttonStatus(button.status)"\n        (click)="click(button.action)"\n      >\n        {{ button.label | translate }}\n      </button>\n    </ng-container>\n  </div>\n</ng-template>\n'}]}],propDecorators:{popover:[{type:r.ViewChild,args:[Sn.PopoverDirective,{static:!1}]}],buttons:[{type:r.Input}],message:[{type:r.Input}],title:[{type:r.Input}],isOpen:[{type:r.Input}],containerClass:[{type:r.Input}],placement:[{type:r.Input}],outsideClick:[{type:r.Input}]}});var cc=Ci((function e(){bi(this,e)}));cc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cc,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),cc.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:cc,declarations:[bs,Is,sc],imports:[xe.ModalModule,da,Sn.PopoverModule],exports:[bs,Is,sc]}),cc.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cc,providers:[ks],imports:[xe.ModalModule.forRoot(),da,Sn.PopoverModule.forRoot()]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cc,decorators:[{type:r.NgModule,args:[{imports:[xe.ModalModule.forRoot(),da,Sn.PopoverModule.forRoot()],exports:[bs,Is,sc],declarations:[bs,Is,sc],providers:[ks],entryComponents:[bs]}]}]});var lc=function(){function e(){bi(this,e),this._enabled=!1,this.separator=","}return Ci(e,[{key:"emails",set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this._enabled&&(e.value||"").split(this.separator).map((function(e){return e.trim()})).some((function(e){return De.Validators.email(new De.FormControl(e))}))?{emails:!0}:null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}();lc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:lc,deps:[],target:r["ɵɵFactoryTarget"].Directive}),lc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:lc,selector:"[emails][formControlName],[emails][formControl],[emails][ngModel]",inputs:{emails:"emails"},providers:[{provide:De.NG_VALIDATORS,useExisting:lc,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:lc,decorators:[{type:r.Directive,args:[{selector:"[emails][formControlName],[emails][formControl],[emails][ngModel]",providers:[{provide:De.NG_VALIDATORS,useExisting:lc,multi:!0}]}]}],propDecorators:{emails:[{type:r.Input}]}});var dc=function(){function e(){bi(this,e),this.onSearch=new r.EventEmitter,this.filterChange$=new a.Subject,this.filterTerm="",this.CARRIAGE_RETURN_KEY=13,this.CARRIAGE_RETURN_CODE="Enter"}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;this.reset(),this.filterChange$.pipe((0,s.debounce)((function(t){return t.code===e.CARRIAGE_RETURN_CODE||t.keyCode===e.CARRIAGE_RETURN_KEY?(0,a.timer)(10):(0,a.timer)(300)})),(0,s.map)((function(e){return e.target.value})),(0,s.distinctUntilChanged)()).subscribe((function(t){e.filterTerm=t,e.onSearch.emit(t)}))}},{key:"reset",value:function(){this.filterTerm="",this.onSearch.emit("")}},{key:"ngOnDestroy",value:function(){this.filterChange$.complete()}}]),e}();dc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dc,deps:[],target:r["ɵɵFactoryTarget"].Component}),dc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:dc,selector:"c8y-filter",inputs:{icon:"icon"},outputs:{onSearch:"onSearch"},ngImport:i,template:'<div class="input-group input-group-search">\n  <input\n    class="form-control"\n    placeholder="{{ \'Filter…\' | translate }}"\n    type="text"\n    [value]="filterTerm"\n    (keyup)="filterChange$.next($event)"\n    px-event="Filter…"\n  />\n  <span class="input-group-btn">\n    <button class="btn btn-clean" px-event="Clear filtering" (click)="reset()">\n      <i [c8yIcon]="filterTerm.length === 0 ? \'search\' : \'close\'"></i>\n    </button>\n  </span>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dc,decorators:[{type:r.Component,args:[{selector:"c8y-filter",template:'<div class="input-group input-group-search">\n  <input\n    class="form-control"\n    placeholder="{{ \'Filter…\' | translate }}"\n    type="text"\n    [value]="filterTerm"\n    (keyup)="filterChange$.next($event)"\n    px-event="Filter…"\n  />\n  <span class="input-group-btn">\n    <button class="btn btn-clean" px-event="Clear filtering" (click)="reset()">\n      <i [c8yIcon]="filterTerm.length === 0 ? \'search\' : \'close\'"></i>\n    </button>\n  </span>\n</div>\n'}]}],propDecorators:{icon:[{type:r.Input}],onSearch:[{type:r.Output}]}});var pc=function(){function e(){bi(this,e),this.plus=!0,this.minus=!0,this.onRemove=new r.EventEmitter,this.onAdd=new r.EventEmitter}return Ci(e,[{key:"add",value:function(){this.onAdd.emit(this.index)}},{key:"remove",value:function(){this.onRemove.emit(this.index)}}]),e}();pc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pc,deps:[],target:r["ɵɵFactoryTarget"].Component}),pc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:pc,selector:"c8y-input-group-list",inputs:{plus:"plus",minus:"minus",index:"index"},outputs:{onRemove:"onRemove",onAdd:"onAdd"},ngImport:i,template:'<ng-container>\n  <div class="input-group">\n    <ng-content></ng-content>\n    <div class="input-group-btn">\n      <button\n        *ngIf="minus"\n        title="{{ \'Remove\' | translate }}"\n        class="btn btn-clean text-primary"\n        (click)="remove()"\n      >\n        <i c8yIcon="minus-circle" class="text-danger"></i>\n      </button>\n      <button\n        *ngIf="plus"\n        title="{{ \'Add\' | translate }}"\n        class="btn btn-clean text-primary"\n        (click)="add()"\n      >\n        <i c8yIcon="plus-circle"></i>\n      </button>\n    </div>\n  </div>\n</ng-container>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pc,decorators:[{type:r.Component,args:[{selector:"c8y-input-group-list",template:'<ng-container>\n  <div class="input-group">\n    <ng-content></ng-content>\n    <div class="input-group-btn">\n      <button\n        *ngIf="minus"\n        title="{{ \'Remove\' | translate }}"\n        class="btn btn-clean text-primary"\n        (click)="remove()"\n      >\n        <i c8yIcon="minus-circle" class="text-danger"></i>\n      </button>\n      <button\n        *ngIf="plus"\n        title="{{ \'Add\' | translate }}"\n        class="btn btn-clean text-primary"\n        (click)="add()"\n      >\n        <i c8yIcon="plus-circle"></i>\n      </button>\n    </div>\n  </div>\n</ng-container>\n'}]}],propDecorators:{plus:[{type:r.Input}],minus:[{type:r.Input}],index:[{type:r.Input}],onRemove:[{type:r.Output}],onAdd:[{type:r.Output}]}});var uc=function(){function e(){bi(this,e)}return Ci(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.listProjections.map((function(t){t!==e.listProjections.last&&setTimeout((function(){t.plus=!1}))})),this.listProjections.changes.subscribe((function(e){1!==e.length?e.map((function(t){setTimeout((function(){t.minus=!0})),t!==e.last&&setTimeout((function(){t.plus=!1})),t===e.last&&setTimeout((function(){t.plus=!0}))})):setTimeout((function(){e.first.plus=!0,e.first.minus=!1}))}))}}]),e}();uc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:uc,deps:[],target:r["ɵɵFactoryTarget"].Directive}),uc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:uc,selector:"[c8yInputGroupListContainer]",queries:[{propertyName:"listProjections",predicate:pc}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:uc,decorators:[{type:r.Directive,args:[{selector:"[c8yInputGroupListContainer]"}]}],propDecorators:{listProjections:[{type:r.ContentChildren,args:[pc]}]}});var gc=function(){function e(){bi(this,e),this.min=""}return Ci(e,[{key:"validate",value:function(e){var t="number"==typeof this.min?this.min:parseFloat(this.min);return!(0,c.isUndefined)(e.value)&&(0,c.isFinite)(t)&&null!==e.value&&e.value<t?{min:{min:t,actual:e.value}}:null}}]),e}();gc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gc,deps:[],target:r["ɵɵFactoryTarget"].Directive}),gc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:gc,selector:"[min]",inputs:{min:"min"},providers:[{provide:De.NG_VALIDATORS,useExisting:gc,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gc,decorators:[{type:r.Directive,args:[{selector:"[min]",providers:[{provide:De.NG_VALIDATORS,useExisting:gc,multi:!0}]}]}],propDecorators:{min:[{type:r.Input}]}});var hc=function(){function e(){bi(this,e)}return Ci(e,[{key:"data",get:function(){return this.ipRangeList},set:function(e){this.ipRangeList=e,0===this.ipRangeList.length&&this.add()}},{key:"add",value:function(){this.ipRangeList.push({ip:"",cidr:void 0})}},{key:"remove",value:function(e){this.ipRangeList.splice(e,1)}}]),e}();hc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hc,deps:[],target:r["ɵɵFactoryTarget"].Component}),hc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:hc,selector:"c8y-ip-range-input-list",inputs:{data:"data"},ngImport:i,template:'<c8y-form-group class="m-t-8 m-b-8">\n  <ul c8yInputGroupListContainer class="list-unstyled">\n    <li class="m-b-8" *ngFor="let item of data; let i = index">\n      <c8y-input-group-list [index]="i" (onAdd)="add()" (onRemove)="remove($event)">\n        <input\n          type="text"\n          name="ipAddress"\n          class="form-control m-r-4"\n          placeholder="{{ \'IP range start, e.g.\' | translate }} 192.168.0.1"\n          style="flex-grow: 2"\n          [(ngModel)]="item.ip"\n          [required]="true"\n          #ipAddress\n        />\n        <input\n          type="number"\n          name="cidr"\n          [min]="0"\n          class="form-control"\n          placeholder="{{ \'e.g.\' | translate }} 20"\n          [(ngModel)]="item.cidr"\n          [required]="true"\n          #cidr\n        />\n      </c8y-input-group-list>\n    </li>\n  </ul>\n</c8y-form-group>\n',dependencies:[{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NumberValueAccessor,selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.MinValidator,selector:"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]",inputs:["min"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:gc,selector:"[min]",inputs:["min"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"component",type:pc,selector:"c8y-input-group-list",inputs:["plus","minus","index"],outputs:["onRemove","onAdd"]},{kind:"directive",type:uc,selector:"[c8yInputGroupListContainer]"},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hc,decorators:[{type:r.Component,args:[{selector:"c8y-ip-range-input-list",template:'<c8y-form-group class="m-t-8 m-b-8">\n  <ul c8yInputGroupListContainer class="list-unstyled">\n    <li class="m-b-8" *ngFor="let item of data; let i = index">\n      <c8y-input-group-list [index]="i" (onAdd)="add()" (onRemove)="remove($event)">\n        <input\n          type="text"\n          name="ipAddress"\n          class="form-control m-r-4"\n          placeholder="{{ \'IP range start, e.g.\' | translate }} 192.168.0.1"\n          style="flex-grow: 2"\n          [(ngModel)]="item.ip"\n          [required]="true"\n          #ipAddress\n        />\n        <input\n          type="number"\n          name="cidr"\n          [min]="0"\n          class="form-control"\n          placeholder="{{ \'e.g.\' | translate }} 20"\n          [(ngModel)]="item.cidr"\n          [required]="true"\n          #cidr\n        />\n      </c8y-input-group-list>\n    </li>\n  </ul>\n</c8y-form-group>\n'}]}],propDecorators:{data:[{type:r.Input}]}});var mc=function(){function e(t){bi(this,e),this.invalidJSON=new r.EventEmitter,this.message="Must be a valid JSON object.",this.debounceTimeInMs=1e3,this.abstractCtrl=t.control}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.abstractCtrl.valueChanges.pipe((0,s.tap)((function(){return e.clearValidationMessage()})),(0,s.debounceTime)(this.debounceTimeInMs),(0,s.distinctUntilChanged)()).subscribe((function(t){e.validateInputAndPrettify(t)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}},{key:"validateInputAndPrettify",value:function(e){if(e)try{var t=JSON.parse(e),n=JSON.stringify(t,void 0,2);this.abstractCtrl.setValue(n)}catch(e){this.setErrorAndValidationMessage()}}},{key:"setErrorAndValidationMessage",value:function(){this.abstractCtrl.setErrors({invalidBodyTemplate:!0}),this.invalidJSON.emit(this.message)}},{key:"clearValidationMessage",value:function(){this.invalidJSON.emit(void 0)}}]),e}();mc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mc,deps:[{token:De.NgControl}],target:r["ɵɵFactoryTarget"].Directive}),mc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:mc,selector:"textarea[prettyValidJson]",outputs:{invalidJSON:"invalidJSON"},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mc,decorators:[{type:r.Directive,args:[{selector:"textarea[prettyValidJson]"}]}],ctorParameters:function(){return[{type:De.NgControl}]},propDecorators:{invalidJSON:[{type:r.Output}]}});var fc=function(){function e(){bi(this,e),this.max=""}return Ci(e,[{key:"validate",value:function(e){var t="number"==typeof this.max?this.max:parseFloat(this.max);return!(0,c.isUndefined)(e.value)&&(0,c.isFinite)(t)&&e.value>t?{max:{max:t,actual:e.value}}:null}}]),e}();fc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fc,deps:[],target:r["ɵɵFactoryTarget"].Directive}),fc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:fc,selector:"[max]",inputs:{max:"max"},providers:[{provide:De.NG_VALIDATORS,useExisting:fc,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fc,decorators:[{type:r.Directive,args:[{selector:"[max]",providers:[{provide:De.NG_VALIDATORS,useExisting:fc,multi:!0}]}]}],propDecorators:{max:[{type:r.Input}]}});var yc=Ci((function e(t){bi(this,e),this.elementRef=t}));yc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:yc,deps:[{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Directive}),yc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:yc,selector:'input[type="range"]',ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:yc,decorators:[{type:r.Directive,args:[{selector:'input[type="range"]'}]}],ctorParameters:function(){return[{type:r.ElementRef}]}});var vc=function(){function e(){var t=this;bi(this,e),this.changeEventListener=function(){return t.setValue()}}return Ci(e,[{key:"ngAfterContentInit",value:function(){this.setValue(),this.range.elementRef.nativeElement.addEventListener("input",this.changeEventListener)}},{key:"ngOnDestroy",value:function(){this.range.elementRef.nativeElement.removeEventListener("input",this.changeEventListener)}},{key:"setValue",value:function(){var e=this.range.elementRef.nativeElement,t=Number(100*(e.value-e.min)/(e.max-e.min)),n=12-.24*t;this.value=e.value,this.left="calc(".concat(t,"% + (").concat(n,"px))")}}]),e}();vc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vc,deps:[],target:r["ɵɵFactoryTarget"].Component}),vc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:vc,selector:"c8y-range",queries:[{propertyName:"range",first:!0,predicate:yc,descendants:!0,static:!0},{propertyName:"rangeValue",first:!0,predicate:["c8yRangeValue"],descendants:!0,static:!0}],ngImport:i,template:'<div class="range-wrap" style="--track-width: {{left}}">\n  <div class="range-value" [style.left]="left">\n    <span *ngIf="!rangeValue">{{ value }}</span>\n    <ng-container *ngTemplateOutlet="rangeValue"></ng-container>\n  </div>\n  <ng-content></ng-content>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vc,decorators:[{type:r.Component,args:[{selector:"c8y-range",template:'<div class="range-wrap" style="--track-width: {{left}}">\n  <div class="range-value" [style.left]="left">\n    <span *ngIf="!rangeValue">{{ value }}</span>\n    <ng-container *ngTemplateOutlet="rangeValue"></ng-container>\n  </div>\n  <ng-content></ng-content>\n</div>\n'}]}],propDecorators:{range:[{type:r.ContentChild,args:[yc,{static:!0}]}],rangeValue:[{type:r.ContentChild,args:["c8yRangeValue",{static:!0}]}]}});var bc=/^[^.\s]+(\.\S+)*$/;function kc(e){var t=De.Validators.pattern(bc)(e);return t?{simpleJsonPath:t.pattern}:null}var Cc=function(){function e(){bi(this,e)}return Ci(e,[{key:"validate",value:function(e){return kc(e)}}]),e}();Cc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cc,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Cc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Cc,selector:"[simpleJsonPath]",providers:[{provide:De.NG_VALIDATORS,useExisting:Cc,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cc,decorators:[{type:r.Directive,args:[{selector:"[simpleJsonPath]",providers:[{provide:De.NG_VALIDATORS,useExisting:Cc,multi:!0}]}]}]});var Ic=function(){function e(t,n){bi(this,e),this.elem=t,this.renderer=n,this.rows=1,this.minHeightPerRow=20}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=Number(this.heightPerRow);this.heightPerRow&&e&&e>this.minHeightPerRow?this.setHeight("".concat(this.rows*e,"px")):this.setHeight("".concat(this.rows*this.minHeightPerRow,"px"))}},{key:"setHeight",value:function(e){this.renderer.setStyle(this.elem.nativeElement,"height",e)}}]),e}();function wc(e,t,n){return function(r){var i=(0,c.find)(e,(function(e){return(0,c.isEqualWith)((0,c.get)(e,t),r.value,n)}));return i&&r.value?{uniqueByPath:{key:t,value:(0,c.get)(i,t)}}:null}}Ic.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ic,deps:[{token:r.ElementRef},{token:r.Renderer2}],target:r["ɵɵFactoryTarget"].Directive}),Ic.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Ic,selector:"textarea[heightPerRow]",inputs:{rows:"rows",heightPerRow:"heightPerRow"},host:{properties:{rows:"this.rows"}},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ic,decorators:[{type:r.Directive,args:[{selector:"textarea[heightPerRow]"}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:r.Renderer2}]},propDecorators:{rows:[{type:r.Input},{type:r.HostBinding,args:["rows"]}],heightPerRow:[{type:r.Input,args:["heightPerRow"]}]}});var Sc=function(){function e(){bi(this,e)}return Ci(e,[{key:"validate",value:function(e){return wc(this.collection,this.path,this.comparator)(e)}}]),e}();Sc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Sc,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Sc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Sc,selector:"[uniqueByPath]",inputs:{collection:"collection",path:"path",comparator:"comparator"},providers:[{provide:De.NG_VALIDATORS,useExisting:Sc,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Sc,decorators:[{type:r.Directive,args:[{selector:"[uniqueByPath]",providers:[{provide:De.NG_VALIDATORS,useExisting:Sc,multi:!0}]}]}],propDecorators:{collection:[{type:r.Input}],path:[{type:r.Input}],comparator:[{type:r.Input}]}});var xc=Ci((function e(){bi(this,e)}));xc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xc,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),xc.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:xc,declarations:[As,Ms,gc,fc,$s,Ss,Ds,pc,uc,mc,Ic,Es,hc,dc,lc,yc,vc,Cc,Sc],imports:[da,De.FormsModule,De.ReactiveFormsModule,Sn.PopoverModule],exports:[As,Ms,gc,fc,De.FormsModule,$s,Ss,Ds,pc,uc,mc,Ic,Es,hc,dc,lc,yc,vc,Cc,Sc]}),xc.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xc,imports:[da,De.FormsModule,De.ReactiveFormsModule,Sn.PopoverModule,De.FormsModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xc,decorators:[{type:r.NgModule,args:[{imports:[da,De.FormsModule,De.ReactiveFormsModule,Sn.PopoverModule],exports:[As,Ms,gc,fc,De.FormsModule,$s,Ss,Ds,pc,uc,mc,Ic,Es,hc,dc,lc,yc,vc,Cc,Sc],declarations:[As,Ms,gc,fc,$s,Ss,Ds,pc,uc,mc,Ic,Es,hc,dc,lc,yc,vc,Cc,Sc]}]}]});var Dc=Ci((function e(){bi(this,e)}));Dc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dc,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Dc.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Dc,declarations:[Os,Rs,Ls,Vs,js,Ts,_s,rc,Ps,ic],imports:[xc,T.TooltipModule,da,cc,$e.QRCodeModule],exports:[Os,Ls,Vs,Rs,js,Ts,_s,rc,Ps,ic]}),Dc.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dc,providers:[ac,Fs],imports:[xc,T.TooltipModule,da,cc,$e.QRCodeModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dc,decorators:[{type:r.NgModule,args:[{declarations:[Os,Rs,Ls,Vs,js,Ts,_s,rc,Ps,ic],imports:[xc,T.TooltipModule,da,cc,$e.QRCodeModule],exports:[Os,Ls,Vs,Rs,js,Ts,_s,rc,Ps,ic],entryComponents:[Ts],providers:[ac,Fs]}]}]});var $c=function(){function e(t){bi(this,e),this.passwordService=t}return Ci(e,[{key:"isStrong",value:function(e){return this.isPasswordGreen(this.passwordService.getStrengthColor(e).passwordStrength)}},{key:"isPasswordGreen",value:function(e){return e===g.PasswordStrength.GREEN}}]),e}();$c.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$c,deps:[{token:Fs}],target:r["ɵɵFactoryTarget"].Injectable}),$c.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$c,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$c,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Fs}]}});var Ec=function(){function e(t){bi(this,e),this.passwordService=t}return Ci(e,[{key:"passwordStrengthEnforced",set:function(e){this.forced=e}},{key:"validate",value:function(e){var t=this.passwordService.isStrong(e.value||"");return this.forced&&!t?{passwordStrength:!0}:null}}]),e}();Ec.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ec,deps:[{token:$c}],target:r["ɵɵFactoryTarget"].Directive}),Ec.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Ec,selector:"[passwordStrengthEnforced]",inputs:{passwordStrengthEnforced:"passwordStrengthEnforced"},providers:[{provide:De.NG_VALIDATORS,useExisting:Ec,multi:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ec,decorators:[{type:r.Directive,args:[{selector:"[passwordStrengthEnforced]",providers:[{provide:De.NG_VALIDATORS,useExisting:Ec,multi:!0}]}]}],ctorParameters:function(){return[{type:$c}]},propDecorators:{passwordStrengthEnforced:[{type:r.Input}]}});var Tc=function(){function e(t,n,i,o,a){bi(this,e),this.loginService=t,this.users=n,this.passwordStrengthCheckerService=i,this.options=o,this.alert=a,this.onChangeView=new r.EventEmitter,this.passwordPattern=/^[a-zA-Z0-9`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]{8,32}$/,this.isLoading=!1,this.model={tenantId:"",email:"",newPassword:"",newPasswordConfirm:""},this.emailReadOnly=!1,this.passwordStrengthEnforced=!1,this.TOKEN_PARAM="token",this.EMAIL_PARAM="email"}var t,n;return Ci(e,[{key:"ngOnInit",value:(n=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.model.tenantId=this.loginService.getTenant(),this.model.email=this.options.get(this.EMAIL_PARAM,""),this.emailReadOnly=!!this.model.email,e.next=5,this.loginService.getPasswordStrengthEnforced();case 5:this.passwordStrengthEnforced=e.sent;case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"changePassword",value:(t=ui(di().mark((function e(){var t,n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.passwordStrengthCheckerService.getStrengthColor(this.model.newPassword),n={token:this.credentials.token,email:this.model.email,newPassword:this.model.newPassword,passwordStrength:t.passwordStrength},e.prev=2,this.isLoading=!0,e.next=6,this.users.resetPassword(n,this.model.tenantId);case 6:200===e.sent.res.status&&(this.loginService.addSuccessMessage("password_changed"),this.credentials.token=void 0,this.options.set(this.TOKEN_PARAM,void 0),this.onChangeView.emit({view:ec.Credentials})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.alert.addServerFailure(e.t0);case 14:return e.prev=14,this.loginService.reset(),this.isLoading=!1,e.finish(14);case 18:case"end":return e.stop()}}),e,this,[[2,11,14,18]])}))),function(){return t.apply(this,arguments)})}]),e}();Tc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Tc,deps:[{token:Cs},{token:g.UserService},{token:Fs},{token:Gi},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),Tc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Tc,selector:"c8y-change-password",inputs:{credentials:"credentials"},outputs:{onChangeView:"onChangeView"},ngImport:i,template:'<form\n  role="form"\n  class="loginForm"\n  (ngSubmit)="changePassword()"\n  #changePasswordForm="ngForm"\n  novalidate\n>\n\n  <div\n    class="legend form-block center"\n    translate\n  >\n    Change password\n  </div>\n\n  <c8y-form-group class="tenantField" id="tenantField" *ngIf="loginService.showTenant()">\n    <label translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenantId"\n      #tenantId="ngModel"\n      type="text"\n      name="tenantId"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Tenant ID\' | translate }}"\n      required\n    />\n  </c8y-form-group>\n\n  <c8y-form-group>\n    <label translate>Email address</label>\n    <input\n      [(ngModel)]="model.email"\n      #email="ngModel"\n      type="text"\n      name="email"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Email address\' | translate }}"\n      email\n      required\n      [readonly]="emailReadOnly"\n    />\n  </c8y-form-group>\n\n  <div class="row content-flex-50">\n    <div class="col-7">\n      <c8y-form-group>\n        <label translate>New password</label>\n        <input\n          [(ngModel)]="model.newPassword"\n          #newPassword="ngModel"\n          type="password"\n          name="newPassword"\n          class="form-control"\n          placeholder="{{ \'New password\' | translate }}"\n          [pattern]="passwordPattern"\n          autocomplete="new-password"\n          [passwordStrengthEnforced]=\'passwordStrengthEnforced\'\n          required\n        />\n        <c8y-messages>\n          <c8y-message\n            name="pattern"\n            [text]="loginService.ERROR_MESSAGES.pattern_newPassword"\n          ></c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n\n      <c8y-form-group>\n        <label translate>Confirm password</label>\n        <input\n          [(ngModel)]="model.newPasswordConfirm"\n          #newPasswordConfirm="ngModel"\n          type="password"\n          name="newPasswordConfirm"\n          class="form-control"\n          placeholder="{{ \'Confirm password\' | translate }}"\n          passwordConfirm="newPassword"\n          autocomplete="new-password"\n          required\n        />\n        <c8y-messages>\n          <c8y-message\n            name="passwordConfirm"\n            [text]="loginService.ERROR_MESSAGES.passwordConfirm"\n          ></c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n    </div>\n    <div class="col-5">\n      <c8y-password-strength\n        [password]="model.newPassword"\n        [hidden]="!model.newPassword"\n      ></c8y-password-strength>\n      <c8y-password-check-list\n        class="m-t-32"\n        [password]="model.newPassword"\n        [hidden]="!model.newPassword || !passwordStrengthEnforced"\n      ></c8y-password-check-list>\n    </div>\n  </div>\n\n  <button\n    title="{{ \'Set password\' | translate }}"\n    [disabled]="!changePasswordForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    translate\n  >\n    Set password\n  </button>\n</form>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.PatternValidator,selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",inputs:["pattern"]},{kind:"directive",type:De.EmailValidator,selector:"[email][formControlName],[email][formControl],[email][ngModel]",inputs:["email"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Ls,selector:"c8y-password-strength",inputs:["password"],outputs:["strength"]},{kind:"component",type:Vs,selector:"c8y-password-check-list",inputs:["password"]},{kind:"directive",type:Rs,selector:"[passwordConfirm]"},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Ss,selector:"c8y-message",inputs:["name","text"]},{kind:"component",type:Ds,selector:"c8y-messages",inputs:["show","defaults"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:Ec,selector:"[passwordStrengthEnforced]",inputs:["passwordStrengthEnforced"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Tc,decorators:[{type:r.Component,args:[{selector:"c8y-change-password",template:'<form\n  role="form"\n  class="loginForm"\n  (ngSubmit)="changePassword()"\n  #changePasswordForm="ngForm"\n  novalidate\n>\n\n  <div\n    class="legend form-block center"\n    translate\n  >\n    Change password\n  </div>\n\n  <c8y-form-group class="tenantField" id="tenantField" *ngIf="loginService.showTenant()">\n    <label translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenantId"\n      #tenantId="ngModel"\n      type="text"\n      name="tenantId"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Tenant ID\' | translate }}"\n      required\n    />\n  </c8y-form-group>\n\n  <c8y-form-group>\n    <label translate>Email address</label>\n    <input\n      [(ngModel)]="model.email"\n      #email="ngModel"\n      type="text"\n      name="email"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'Email address\' | translate }}"\n      email\n      required\n      [readonly]="emailReadOnly"\n    />\n  </c8y-form-group>\n\n  <div class="row content-flex-50">\n    <div class="col-7">\n      <c8y-form-group>\n        <label translate>New password</label>\n        <input\n          [(ngModel)]="model.newPassword"\n          #newPassword="ngModel"\n          type="password"\n          name="newPassword"\n          class="form-control"\n          placeholder="{{ \'New password\' | translate }}"\n          [pattern]="passwordPattern"\n          autocomplete="new-password"\n          [passwordStrengthEnforced]=\'passwordStrengthEnforced\'\n          required\n        />\n        <c8y-messages>\n          <c8y-message\n            name="pattern"\n            [text]="loginService.ERROR_MESSAGES.pattern_newPassword"\n          ></c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n\n      <c8y-form-group>\n        <label translate>Confirm password</label>\n        <input\n          [(ngModel)]="model.newPasswordConfirm"\n          #newPasswordConfirm="ngModel"\n          type="password"\n          name="newPasswordConfirm"\n          class="form-control"\n          placeholder="{{ \'Confirm password\' | translate }}"\n          passwordConfirm="newPassword"\n          autocomplete="new-password"\n          required\n        />\n        <c8y-messages>\n          <c8y-message\n            name="passwordConfirm"\n            [text]="loginService.ERROR_MESSAGES.passwordConfirm"\n          ></c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n    </div>\n    <div class="col-5">\n      <c8y-password-strength\n        [password]="model.newPassword"\n        [hidden]="!model.newPassword"\n      ></c8y-password-strength>\n      <c8y-password-check-list\n        class="m-t-32"\n        [password]="model.newPassword"\n        [hidden]="!model.newPassword || !passwordStrengthEnforced"\n      ></c8y-password-check-list>\n    </div>\n  </div>\n\n  <button\n    title="{{ \'Set password\' | translate }}"\n    [disabled]="!changePasswordForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    translate\n  >\n    Set password\n  </button>\n</form>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:g.UserService},{type:Fs},{type:Gi},{type:ka}]},propDecorators:{credentials:[{type:r.Input}],onChangeView:[{type:r.Output}]}});var _c=function(){function e(t,n,i,o){bi(this,e),this.loginService=t,this.alert=n,this.ui=i,this.credentialsFromQueryParamsService=o,this.onChangeView=new r.EventEmitter,this.loginViewParams={disableTenant:!1,showTenant:!1},this.LOGIN_VIEWS=ec,this.model={},this.isLoading=!1,this.showLoginForm=!1,this.showBasicAuth=!1,this.oauthOptions={},this.showTenant=!1,this.PASSWORD_RESET_HEADER_NAME="passwordresettoken",this.NO_PHONE_HEADER_NAME="NoPhoneHeader"}var t;return Ci(e,[{key:"ngOnInit",value:function(){var e=this.loginService,t=e.oauthOptions,n=e.loginMode;this.model.tenant=this.loginService.getTenant(),this.showLoginForm=void 0===n.visibleOnLoginPage||n.visibleOnLoginPage,this.showBasicAuth="BASIC"===n.type,this.oauthOptions=t;var r=this.credentialsFromQueryParamsService.getCredentialsFromQueryParams();Object.assign(this.model,r),this.showTenant=this.loginViewParams.showTenant||this.loginService.showTenant()}},{key:"redirectToOauth",value:function(){this.loginService.redirectToOauth()}},{key:"login",value:(t=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,t=this.loginService.useBasicAuth(this.model),e.next=5,this.loginService.login(t,this.model);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.res&&e.t0.res.headers&&e.t0.res.headers.get(this.PASSWORD_RESET_HEADER_NAME)?this.handlePasswordReset(e.t0.res):e.t0.res&&401===e.t0.res.status&&/pin/i.test(e.t0.data.message)?this.handleSmsChallenge(e.t0.data.message):e.t0.res&&401===e.t0.res.status&&/TOTP/i.test(e.t0.data.message)?this.handleTotpChallenge(e.t0.data.message):e.t0.res&&e.t0.res.headers&&e.t0.res.headers.get(this.NO_PHONE_HEADER_NAME)&&!this.loginService.isSupportUser(this.model)?this.handleNoPhoneNumberProvided():(this.loginService.generateOauthToken(this.model),this.loginService.reset(),this.alert.addServerFailure(e.t0));case 10:return e.prev=10,this.isLoading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,7,10,13]])}))),function(){return t.apply(this,arguments)})},{key:"handlePasswordReset",value:function(e){this.alert.removeLastDanger(),this.model.token=e.headers.get(this.PASSWORD_RESET_HEADER_NAME),this.onChangeView.emit({view:ec.ChangePassword,credentials:this.model})}},{key:"handleTotpChallenge",value:function(e){/TOTP setup required/i.test(e)?this.onChangeView.emit({view:ec.TotpSetup,credentials:this.model}):this.onChangeView.emit({view:ec.TotpChallenge,credentials:this.model})}},{key:"handleSmsChallenge",value:function(e){/pin has already been generated/i.test(e)&&this.alert.warning("The verification code was already sent. For a new verification code, please click on the link above."),this.alert.removeLastDanger(),this.onChangeView.emit({view:ec.SmsChallenge,credentials:this.model})}},{key:"handleNoPhoneNumberProvided",value:function(){this.onChangeView.emit({view:ec.ProvidePhoneNumber,credentials:this.model}),this.alert.warning("Two-factor authentication has been turned on for this account. Provide your phone number above to save it in your user profile and start receiving verification codes via SMS.")}}]),e}();_c.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_c,deps:[{token:Cs},{token:ka},{token:Hi},{token:nc}],target:r["ɵɵFactoryTarget"].Component}),_c.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:_c,selector:"c8y-credentials",inputs:{loginViewParams:"loginViewParams"},outputs:{onChangeView:"onChangeView"},ngImport:i,template:'<div id="oauth" *ngIf="oauthOptions.initRequest && oauthOptions.visibleOnLoginPage">\n  <button\n    title="{{ oauthOptions.buttonName | translate }}"\n    (click)="redirectToOauth()"\n    class="btn btn-block btn-lg form-group"\n  >\n    <i [c8yIcon]="\'sign-in\'" class="pull-left"></i>\n    {{ oauthOptions.buttonName | translate }}\n  </button>\n</div>\n\n<form\n  role="form"\n  class="loginForm"\n  (ngSubmit)="login()"\n  #loginForm="ngForm"\n  *ngIf="showLoginForm"\n  novalidate\n>\n  <div\n    class="legend form-block center"\n    *ngIf="!(oauthOptions.initRequest && oauthOptions.visibleOnLoginPage); else orLegend"\n    translate\n  >\n    Login\n  </div>\n  <ng-template #orLegend>\n    <div class="legend form-block center" translate>or</div>\n  </ng-template>\n\n  <c8y-form-group class="tenantField" id="tenantField" *ngIf="showTenant">\n    <label for="tenant" translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenant"\n      #tenant="ngModel"\n      type="text"\n      name="tenant"\n      id="tenant"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g.\' | translate }} t12345"\n      placeholder-no-required-hint\n      [readonly]="loginViewParams.disableTenant"\n      required\n    />\n  </c8y-form-group>\n  <c8y-form-group>\n    <label for="user" translate>Username</label>\n    <input\n      [(ngModel)]="model.user"\n      #user="ngModel"\n      type="text"\n      name="user"\n      id="user"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g. joe or joe.doe@example.com`LOCALIZE`\' | translate }}"\n      placeholder-no-required-hint\n      required\n    />\n  </c8y-form-group>\n  <c8y-form-group>\n    <label for="password" translate>Password</label>\n    <input\n      [(ngModel)]="model.password"\n      #password="ngModel"\n      type="password"\n      name="password"\n      id="password"\n      class="form-control"\n      placeholder-no-required-hint\n      required\n    />\n  </c8y-form-group>\n  <div class="form-group" *ngIf="showBasicAuth">\n    <label title="{{ \'Remember me\' | translate }}" class="c8y-checkbox">\n      <input type="checkbox" name="remember" [(ngModel)]="loginService.rememberMe" />\n      <span></span>\n      <span>{{ \'Remember me\' | translate }}</span>\n    </label>\n  </div>\n  <button\n    title="{{ \'Log in\' | translate }}"\n    [disabled]="!loginForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n  >\n    {{ \'Log in\' | translate }}\n  </button>\n  <div class="text-center m-t-8">\n    <a\n      title="{{ \'Forgot password?\' | translate }}"\n      class="btn btn-link btn-sm"\n      (click)="onChangeView.emit({ view: LOGIN_VIEWS.RecoverPassword })"\n      >{{ \'Forgot password?\' | translate }}</a\n    >\n  </div>\n  <div class="text-center m-t-8" *ngIf="!!(ui.state$ | async).loginExtraLink">\n    <a\n      title="{{ (ui.state$ | async).loginExtraLink.label }}"\n      [href]="(ui.state$ | async).loginExtraLink.url"\n      class="btn btn-link btn-sm"\n    >\n      {{ (ui.state$ | async).loginExtraLink.label }}</a\n    >\n  </div>\n</form>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.CheckboxControlValueAccessor,selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_c,decorators:[{type:r.Component,args:[{selector:"c8y-credentials",template:'<div id="oauth" *ngIf="oauthOptions.initRequest && oauthOptions.visibleOnLoginPage">\n  <button\n    title="{{ oauthOptions.buttonName | translate }}"\n    (click)="redirectToOauth()"\n    class="btn btn-block btn-lg form-group"\n  >\n    <i [c8yIcon]="\'sign-in\'" class="pull-left"></i>\n    {{ oauthOptions.buttonName | translate }}\n  </button>\n</div>\n\n<form\n  role="form"\n  class="loginForm"\n  (ngSubmit)="login()"\n  #loginForm="ngForm"\n  *ngIf="showLoginForm"\n  novalidate\n>\n  <div\n    class="legend form-block center"\n    *ngIf="!(oauthOptions.initRequest && oauthOptions.visibleOnLoginPage); else orLegend"\n    translate\n  >\n    Login\n  </div>\n  <ng-template #orLegend>\n    <div class="legend form-block center" translate>or</div>\n  </ng-template>\n\n  <c8y-form-group class="tenantField" id="tenantField" *ngIf="showTenant">\n    <label for="tenant" translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenant"\n      #tenant="ngModel"\n      type="text"\n      name="tenant"\n      id="tenant"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g.\' | translate }} t12345"\n      placeholder-no-required-hint\n      [readonly]="loginViewParams.disableTenant"\n      required\n    />\n  </c8y-form-group>\n  <c8y-form-group>\n    <label for="user" translate>Username</label>\n    <input\n      [(ngModel)]="model.user"\n      #user="ngModel"\n      type="text"\n      name="user"\n      id="user"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g. joe or joe.doe@example.com`LOCALIZE`\' | translate }}"\n      placeholder-no-required-hint\n      required\n    />\n  </c8y-form-group>\n  <c8y-form-group>\n    <label for="password" translate>Password</label>\n    <input\n      [(ngModel)]="model.password"\n      #password="ngModel"\n      type="password"\n      name="password"\n      id="password"\n      class="form-control"\n      placeholder-no-required-hint\n      required\n    />\n  </c8y-form-group>\n  <div class="form-group" *ngIf="showBasicAuth">\n    <label title="{{ \'Remember me\' | translate }}" class="c8y-checkbox">\n      <input type="checkbox" name="remember" [(ngModel)]="loginService.rememberMe" />\n      <span></span>\n      <span>{{ \'Remember me\' | translate }}</span>\n    </label>\n  </div>\n  <button\n    title="{{ \'Log in\' | translate }}"\n    [disabled]="!loginForm.form.valid || isLoading"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n  >\n    {{ \'Log in\' | translate }}\n  </button>\n  <div class="text-center m-t-8">\n    <a\n      title="{{ \'Forgot password?\' | translate }}"\n      class="btn btn-link btn-sm"\n      (click)="onChangeView.emit({ view: LOGIN_VIEWS.RecoverPassword })"\n      >{{ \'Forgot password?\' | translate }}</a\n    >\n  </div>\n  <div class="text-center m-t-8" *ngIf="!!(ui.state$ | async).loginExtraLink">\n    <a\n      title="{{ (ui.state$ | async).loginExtraLink.label }}"\n      [href]="(ui.state$ | async).loginExtraLink.url"\n      class="btn btn-link btn-sm"\n    >\n      {{ (ui.state$ | async).loginExtraLink.label }}</a\n    >\n  </div>\n</form>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:ka},{type:Hi},{type:nc}]},propDecorators:{onChangeView:[{type:r.Output}],loginViewParams:[{type:r.Input}]}});var Fc=function(){function e(t,n,i){bi(this,e),this.loginService=t,this.userService=n,this.alert=i,this.onCancel=new r.EventEmitter,this.LOGIN_VIEWS=ec,this.loading=!1,this.hasError=!1,this.isSetup=!1}var t,n;return Ci(e,[{key:"ngOnInit",value:(n=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.view!==this.LOGIN_VIEWS.TotpSetup){e.next=4;break}return e.next=3,this.loginService.switchLoginMode(this.credentials);case 3:this.isSetup=!0;case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onTotpSuccess",value:(t=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,this.hasError=!1,this.credentials.tfa=t,!this.isSetup){e.next=7;break}return e.next=7,this.userService.activateTotp();case 7:return e.next=9,this.loginService.switchLoginMode(this.credentials);case 9:return e.next=11,this.loginService.verifyAppAccess();case 11:return e.next=13,this.loginService.authFulfilled();case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),this.alert.removeLastDanger(),e.t0.data&&"Access is denied"===e.t0.data.message&&this.alert.addServerFailure(e.t0),e.t0.data&&"Authentication failed! : User account is locked"===e.t0.data.message?this.alert.warning("Authentication failed due to: user account is locked."):this.hasError=!0;case 20:return e.prev=20,this.loading=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[0,15,20,23]])}))),function(e){return t.apply(this,arguments)})}]),e}();Fc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fc,deps:[{token:Cs},{token:g.UserService},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),Fc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Fc,selector:"c8y-totp-auth",inputs:{credentials:"credentials",view:"view"},outputs:{onCancel:"onCancel"},ngImport:i,template:'<div\n  class="legend form-block center"\n  translate\n>\n  Two-factor authentication\n</div>\n\n<c8y-totp-setup *ngIf="isSetup">\n</c8y-totp-setup>\n<c8y-totp-challenge\n  [loading]="loading"\n  [hasError]="hasError"\n  [verify]="view === LOGIN_VIEWS.TotpSetup"\n  (onSuccess)="onTotpSuccess($event)"\n></c8y-totp-challenge>\n\n<div class="text-center m-t-8">\n  <a\n    title="{{ \'Cancel\' | translate }}"\n    class="btn btn-link btn-sm"\n    (click)="onCancel.emit()"\n    translate\n  >\n    Cancel\n  </a>\n</div>\n',dependencies:[{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Os,selector:"c8y-totp-challenge",inputs:["verify","loading","hasError"],outputs:["onSuccess","totpUnconfirmedEmitter"]},{kind:"component",type:Ps,selector:"c8y-totp-setup"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fc,decorators:[{type:r.Component,args:[{selector:"c8y-totp-auth",template:'<div\n  class="legend form-block center"\n  translate\n>\n  Two-factor authentication\n</div>\n\n<c8y-totp-setup *ngIf="isSetup">\n</c8y-totp-setup>\n<c8y-totp-challenge\n  [loading]="loading"\n  [hasError]="hasError"\n  [verify]="view === LOGIN_VIEWS.TotpSetup"\n  (onSuccess)="onTotpSuccess($event)"\n></c8y-totp-challenge>\n\n<div class="text-center m-t-8">\n  <a\n    title="{{ \'Cancel\' | translate }}"\n    class="btn btn-link btn-sm"\n    (click)="onCancel.emit()"\n    translate\n  >\n    Cancel\n  </a>\n</div>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:g.UserService},{type:ka}]},propDecorators:{credentials:[{type:r.Input}],view:[{type:r.Input}],onCancel:[{type:r.Output}]}});var Oc=function(){function e(t,n,i,o,a){bi(this,e),this.client=t,this.ui=n,this.loginService=i,this.alert=o,this.translateService=a,this.onChangeView=new r.EventEmitter,this.LOGIN_VIEWS=ec,this.model={tenant:""}}var t;return Ci(e,[{key:"setupLoginMode",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.client.tenant=this.model.tenant,e.prev=1,e.next=4,this.ui.refreshLoginOptions();case 4:this.loginService.initLoginOptions(),this.redirectToCorrectDomain(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.res&&401===e.t0.res.status?this.alert.danger(this.translateService.instant('Could not find tenant with ID "{{ tenantId }}".',{tenantId:this.model.tenant})):this.alert.addServerFailure(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"redirectToCorrectDomain",value:function(){var e=this.loginService.loginMode.loginRedirectDomain;e?window.location.href.includes(e)?this.onChangeView.emit({view:ec.Credentials,loginViewParams:{showTenant:!0,disableTenant:!0}}):this.loginService.redirectToDomain(e):this.onChangeView.emit({view:ec.Credentials})}}]),e}();Oc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Oc,deps:[{token:g.FetchClient},{token:Hi},{token:Cs},{token:ka},{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Component}),Oc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Oc,selector:"c8y-tenant-id-setup",outputs:{onChangeView:"onChangeView"},ngImport:i,template:'<form #tenantIdSetupForm="ngForm" role="form" class="loginForm" (ngSubmit)="setupLoginMode()" novalidate>\n  <div class="legend form-block center" translate>\n    Tenant setup\n  </div>\n  <c8y-form-group class="tenantField" id="tenantField">\n    <label for="tenant" translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenant"\n      #tenant="ngModel"\n      type="text"\n      name="tenant"\n      id="tenant"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g.\' | translate }} t12345"\n      placeholder-no-required-hint\n      required\n    />\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Apply\' | translate }}"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    [disabled]="!tenantIdSetupForm.form.valid"\n    translate\n  >\n    Apply\n  </button>\n</form>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Oc,decorators:[{type:r.Component,args:[{selector:"c8y-tenant-id-setup",template:'<form #tenantIdSetupForm="ngForm" role="form" class="loginForm" (ngSubmit)="setupLoginMode()" novalidate>\n  <div class="legend form-block center" translate>\n    Tenant setup\n  </div>\n  <c8y-form-group class="tenantField" id="tenantField">\n    <label for="tenant" translate>Tenant ID</label>\n    <input\n      [(ngModel)]="model.tenant"\n      #tenant="ngModel"\n      type="text"\n      name="tenant"\n      id="tenant"\n      autocapitalize="off"\n      autocorrect="off"\n      class="form-control"\n      placeholder="{{ \'e.g.\' | translate }} t12345"\n      placeholder-no-required-hint\n      required\n    />\n  </c8y-form-group>\n\n  <button\n    title="{{ \'Apply\' | translate }}"\n    type="submit"\n    class="btn btn-primary btn-lg btn-block form-group"\n    [disabled]="!tenantIdSetupForm.form.valid"\n    translate\n  >\n    Apply\n  </button>\n</form>\n'}]}],ctorParameters:function(){return[{type:g.FetchClient},{type:Hi},{type:Cs},{type:ka},{type:ye.TranslateService}]},propDecorators:{onChangeView:[{type:r.Output}]}});var Pc=function(){function e(t,n,r,i){bi(this,e),this.loginService=t,this.options=n,this.alert=r,this.credentialsFromQueryParamsService=i,this.currentView=ec.None,this.LOGIN_VIEWS=ec,this.disabled=!1,this.credentials={},this.loginViewParams={},this.displayAlerts=!1,this.TOKEN_PARAM="token"}var t;return Ci(e,[{key:"ngOnInit",value:function(){var e=this.getResetPasswordToken();this.loginService.isFirstLogin&&(e?(this.credentials.token=e,this.reset()):this.loginAutomatically()),this.loginService.isFirstLogin=!1}},{key:"ngOnDestroy",value:function(){this.credentialsFromQueryParamsService.removeCredentialsFromQueryParams()}},{key:"handleLoginTemplate",value:function(e){this.currentView=e.view,this.credentials=e.credentials||{},this.loginViewParams=e.loginViewParams||{}}},{key:"onkeyup",value:function(e){"Enter"!==e.key&&this.loginService.cleanMessages()}},{key:"reset",value:function(){this.loginService.reset(),this.setView(),this.loginService.cleanMessages()}},{key:"loginAutomatically",value:(t=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loginService.login();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),(t=this.loginService.loginMode.type)===g.TenantLoginOptionType.OAUTH2?this.loginService.redirectToOauth():(this.reset(),t===g.TenantLoginOptionType.OAUTH2_INTERNAL&&"https:"!==window.location.protocol?this.alert.danger("Current login mode only supports HTTPS."):e.t0.res&&403===e.t0.res.status&&this.alert.addServerFailure(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return t.apply(this,arguments)})},{key:"setView",value:function(){this.loginService.showTenantSetup()?this.handleLoginTemplate({view:ec.TenantIdSetup}):this.credentials&&this.credentials.token?this.handleLoginTemplate({view:ec.ChangePassword,credentials:this.credentials}):this.handleLoginTemplate({view:ec.Credentials})}},{key:"getResetPasswordToken",value:function(){var e=this.options.get(this.TOKEN_PARAM);return e&&this.options.set(this.TOKEN_PARAM,void 0),e}}]),e}();Pc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pc,deps:[{token:Cs},{token:Gi},{token:ka},{token:nc}],target:r["ɵɵFactoryTarget"].Component}),Pc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Pc,selector:"c8y-login",inputs:{name:"name"},host:{listeners:{keyup:"onkeyup($event)"}},ngImport:i,template:'<div\n  class="loading card fadeInUp animated shadow5"\n  *ngIf="currentView !== LOGIN_VIEWS.None"\n  [ngSwitch]="currentView"\n>\n  <div class="card-block p-b-0">\n    <img class="mainlogo">\n    <c8y-credentials\n      *ngSwitchCase="LOGIN_VIEWS.Credentials"\n      (onChangeView)="handleLoginTemplate($event)"\n      [loginViewParams]="loginViewParams"\n    ></c8y-credentials>\n    <c8y-recover-password\n      *ngSwitchCase="LOGIN_VIEWS.RecoverPassword"\n      (onChangeView)="handleLoginTemplate($event)"\n    ></c8y-recover-password>\n    <c8y-change-password\n      *ngSwitchCase="LOGIN_VIEWS.ChangePassword"\n      (onChangeView)="handleLoginTemplate($event)"\n      [credentials]="credentials"\n    ></c8y-change-password>\n    <c8y-totp-auth\n      *ngSwitchCase="LOGIN_VIEWS.TotpChallenge"\n      (onCancel)="reset()"\n      [view]="currentView"\n      [credentials]="credentials"\n    >\n    </c8y-totp-auth>\n    <c8y-totp-auth\n      *ngSwitchCase="LOGIN_VIEWS.TotpSetup"\n      (onCancel)="reset()"\n      [view]="currentView"\n      [credentials]="credentials"\n    >\n    </c8y-totp-auth>\n    <c8y-sms-challenge\n      *ngSwitchCase="LOGIN_VIEWS.SmsChallenge"\n      (onCancel)="reset()"\n      [credentials]="credentials"\n    ></c8y-sms-challenge>\n\n    <c8y-provide-phone-number\n      *ngSwitchCase="LOGIN_VIEWS.ProvidePhoneNumber"\n      (onCancel)="reset()"\n      (onChangeView)="handleLoginTemplate($event)"\n      [credentials]="credentials"\n    ></c8y-provide-phone-number>\n    <c8y-tenant-id-setup\n      *ngSwitchCase="LOGIN_VIEWS.TenantIdSetup"\n      (onChangeView)="handleLoginTemplate($event)"\n    ></c8y-tenant-id-setup>\n\n    <c8y-alert-outlet position="static"></c8y-alert-outlet>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:u.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"component",type:rc,selector:"c8y-sms-challenge",inputs:["credentials"],outputs:["onCancel"]},{kind:"component",type:ic,selector:"c8y-provide-phone-number",inputs:["credentials"],outputs:["onCancel","onChangeView"]},{kind:"component",type:wa,selector:"c8y-alert-outlet"},{kind:"component",type:oc,selector:"c8y-recover-password",outputs:["onChangeView"]},{kind:"component",type:Tc,selector:"c8y-change-password",inputs:["credentials"],outputs:["onChangeView"]},{kind:"component",type:_c,selector:"c8y-credentials",inputs:["loginViewParams"],outputs:["onChangeView"]},{kind:"component",type:Fc,selector:"c8y-totp-auth",inputs:["credentials","view"],outputs:["onCancel"]},{kind:"component",type:Oc,selector:"c8y-tenant-id-setup",outputs:["onChangeView"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pc,decorators:[{type:r.Component,args:[{selector:"c8y-login",template:'<div\n  class="loading card fadeInUp animated shadow5"\n  *ngIf="currentView !== LOGIN_VIEWS.None"\n  [ngSwitch]="currentView"\n>\n  <div class="card-block p-b-0">\n    <img class="mainlogo">\n    <c8y-credentials\n      *ngSwitchCase="LOGIN_VIEWS.Credentials"\n      (onChangeView)="handleLoginTemplate($event)"\n      [loginViewParams]="loginViewParams"\n    ></c8y-credentials>\n    <c8y-recover-password\n      *ngSwitchCase="LOGIN_VIEWS.RecoverPassword"\n      (onChangeView)="handleLoginTemplate($event)"\n    ></c8y-recover-password>\n    <c8y-change-password\n      *ngSwitchCase="LOGIN_VIEWS.ChangePassword"\n      (onChangeView)="handleLoginTemplate($event)"\n      [credentials]="credentials"\n    ></c8y-change-password>\n    <c8y-totp-auth\n      *ngSwitchCase="LOGIN_VIEWS.TotpChallenge"\n      (onCancel)="reset()"\n      [view]="currentView"\n      [credentials]="credentials"\n    >\n    </c8y-totp-auth>\n    <c8y-totp-auth\n      *ngSwitchCase="LOGIN_VIEWS.TotpSetup"\n      (onCancel)="reset()"\n      [view]="currentView"\n      [credentials]="credentials"\n    >\n    </c8y-totp-auth>\n    <c8y-sms-challenge\n      *ngSwitchCase="LOGIN_VIEWS.SmsChallenge"\n      (onCancel)="reset()"\n      [credentials]="credentials"\n    ></c8y-sms-challenge>\n\n    <c8y-provide-phone-number\n      *ngSwitchCase="LOGIN_VIEWS.ProvidePhoneNumber"\n      (onCancel)="reset()"\n      (onChangeView)="handleLoginTemplate($event)"\n      [credentials]="credentials"\n    ></c8y-provide-phone-number>\n    <c8y-tenant-id-setup\n      *ngSwitchCase="LOGIN_VIEWS.TenantIdSetup"\n      (onChangeView)="handleLoginTemplate($event)"\n    ></c8y-tenant-id-setup>\n\n    <c8y-alert-outlet position="static"></c8y-alert-outlet>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Cs},{type:Gi},{type:ka},{type:nc}]},propDecorators:{name:[{type:r.Input}],onkeyup:[{type:r.HostListener,args:["keyup",["$event"]]}]}});var Nc=function(){function e(t,n,r,i){bi(this,e),this.router=t,this.renderer=n,this.el=r,this.header=i,this.tabs=[],this.orientation="vertical",this.navigatorOpen=!1,this.showLeft=!1,this.showRight=!1}return Ci(e,[{key:"isNavigatorOpen",get:function(){return this.navigatorOpen}},{key:"hasTabs",get:function(){var e=[];return this.tabs&&(e=this.tabs.filter((function(e){return!0!==e.hide}))),e.length>1}},{key:"isHorizontal",get:function(){return"horizontal"===this.orientation}},{key:"isVertical",get:function(){return"horizontal"!==this.orientation}},{key:"ngOnDestroy",value:function(){this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"ngAfterContentInit",value:function(){"horizontal"===this.orientation&&this.scrollSubscribe()}},{key:"isActive",value:function(e){return!(!e||!e.path)&&this.router.isActive(e.path,!1)}},{key:"navigateTo",value:function(e){this.header.toggle(),this.router.navigate([e])}},{key:"scroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right",t=this.getDimensions(),n=t.widthScroll,r=t.width,i=t.scrollLeft,o="left"===e?-1:1,a=i+r*o;a<0&&(a=0),a>n-r&&(a=n-r),this.container.nativeElement.scrollLeft=a}},{key:"scrollSubscribe",value:function(){var e,t=this;this.scrollSubscription=(0,a.merge)((0,a.fromEvent)(this.container.nativeElement,"scroll"),(0,a.fromEventPattern)((function(n){e=t.renderer.listen("window","resize",n)}),(function(){return e()}))).pipe((0,s.debounceTime)(250)).subscribe((function(){return t.updateScroll()}))}},{key:"updateScroll",value:function(){var e=this.getDimensions(),t=e.widthScroll,n=e.width,r=e.scrollLeft;this.showLeft=!!r,this.showRight=t>n+r}},{key:"getDimensions",value:function(){var e=this.tabsContainer.nativeElement,t=this.container.nativeElement;return{widthScroll:e.scrollWidth,width:t.clientWidth,scrollLeft:t.scrollLeft}}}]),e}();Nc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Nc,deps:[{token:o.Router},{token:r.Renderer2},{token:r.ElementRef},{token:Va}],target:r["ɵɵFactoryTarget"].Component}),Nc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Nc,selector:"c8y-tabs-outlet,c8y-ui-tabs",inputs:{tabs:"tabs",orientation:"orientation",navigatorOpen:"navigatorOpen"},host:{properties:{"class.navigator-open":"this.isNavigatorOpen","class.page-tabs":"this.hasTabs","class.page-tabs-horizontal":"this.isHorizontal","class.page-tabs-vertical":"this.isVertical"}},viewQueries:[{propertyName:"container",first:!0,predicate:["container"],descendants:!0,read:r.ElementRef,static:!0},{propertyName:"leftBtn",first:!0,predicate:["left"],descendants:!0,read:r.ElementRef},{propertyName:"rightBtn",first:!0,predicate:["right"],descendants:!0,read:r.ElementRef},{propertyName:"tabsContainer",first:!0,predicate:["tabsContainer"],descendants:!0,read:r.ElementRef}],ngImport:i,template:'<div #container class="tabContainer hidden-xs">\n  <button class="tabs-slider tabs-slider-left" #left *ngIf="showLeft" (click)="scroll(\'left\')">\n    <i [c8yIcon]="\'chevron-left\'"></i>\n  </button>\n  <button class="tabs-slider tabs-slider-right" #right *ngIf="showRight" (click)="scroll(\'right\')">\n    <i [c8yIcon]="\'chevron-right\'"></i>\n  </button>\n  <ul class="nav nav-tabs nav-tabsc8y" #tabsContainer>\n    <ng-container *ngFor="let tab of tabs">\n      <li [ngClass]="{ active: rla?.isActive }" *ngIf="!tab.component">\n        <a\n          [routerLink]="tab.path"\n          routerLinkActive\n          #rla="routerLinkActive"\n          title="{{ tab?.label | translate }}"\n        >\n          <i [c8yIcon]="tab?.icon" *ngIf="!tab.template && tab?.icon"></i>\n          <span class="txt" *ngIf="!tab.template && !tab.component">{{\n            tab?.label | translate\n          }}</span>\n        </a>\n        <ng-container *ngTemplateOutlet="tab.template"></ng-container>\n      </li>\n      <ng-container *ngComponentOutlet="tab.component"></ng-container>\n    </ng-container>\n  </ul>\n</div>\n\n<div class="visible-xs mobile-tabs">\n  <ul class="list-unstyled d-flex m-b-0">\n    <li class="c8y-select-wrapper flex-grow">\n      <select (change)="navigateTo($event.target.value)" #select>\n        <ng-container *ngFor="let tab of tabs">\n          <option *ngIf="!tab.component" [value]="tab.path" [selected]="isActive(tab)">\n            {{ tab?.label | translate }}\n          </option>\n        </ng-container>\n      </select>\n    </li>\n    <ng-container *ngFor="let tab of tabs">\n      <ng-container *ngIf="tab.component">\n        <ng-container *ngComponentOutlet="tab.component"></ng-container>\n      </ng-container>\n    </ng-container>\n  </ul>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgComponentOutlet,selector:"[ngComponentOutlet]",inputs:["ngComponentOutlet","ngComponentOutletInjector","ngComponentOutletContent","ngComponentOutletNgModule","ngComponentOutletNgModuleFactory"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:o.RouterLinkWithHref,selector:"a[routerLink],area[routerLink]",inputs:["target","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","relativeTo","routerLink"]},{kind:"directive",type:o.RouterLinkActive,selector:"[routerLinkActive]",inputs:["routerLinkActiveOptions","ariaCurrentWhenActive","routerLinkActive"],outputs:["isActiveChange"],exportAs:["routerLinkActive"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Nc,decorators:[{type:r.Component,args:[{selector:"c8y-tabs-outlet,c8y-ui-tabs",template:'<div #container class="tabContainer hidden-xs">\n  <button class="tabs-slider tabs-slider-left" #left *ngIf="showLeft" (click)="scroll(\'left\')">\n    <i [c8yIcon]="\'chevron-left\'"></i>\n  </button>\n  <button class="tabs-slider tabs-slider-right" #right *ngIf="showRight" (click)="scroll(\'right\')">\n    <i [c8yIcon]="\'chevron-right\'"></i>\n  </button>\n  <ul class="nav nav-tabs nav-tabsc8y" #tabsContainer>\n    <ng-container *ngFor="let tab of tabs">\n      <li [ngClass]="{ active: rla?.isActive }" *ngIf="!tab.component">\n        <a\n          [routerLink]="tab.path"\n          routerLinkActive\n          #rla="routerLinkActive"\n          title="{{ tab?.label | translate }}"\n        >\n          <i [c8yIcon]="tab?.icon" *ngIf="!tab.template && tab?.icon"></i>\n          <span class="txt" *ngIf="!tab.template && !tab.component">{{\n            tab?.label | translate\n          }}</span>\n        </a>\n        <ng-container *ngTemplateOutlet="tab.template"></ng-container>\n      </li>\n      <ng-container *ngComponentOutlet="tab.component"></ng-container>\n    </ng-container>\n  </ul>\n</div>\n\n<div class="visible-xs mobile-tabs">\n  <ul class="list-unstyled d-flex m-b-0">\n    <li class="c8y-select-wrapper flex-grow">\n      <select (change)="navigateTo($event.target.value)" #select>\n        <ng-container *ngFor="let tab of tabs">\n          <option *ngIf="!tab.component" [value]="tab.path" [selected]="isActive(tab)">\n            {{ tab?.label | translate }}\n          </option>\n        </ng-container>\n      </select>\n    </li>\n    <ng-container *ngFor="let tab of tabs">\n      <ng-container *ngIf="tab.component">\n        <ng-container *ngComponentOutlet="tab.component"></ng-container>\n      </ng-container>\n    </ng-container>\n  </ul>\n</div>\n'}]}],ctorParameters:function(){return[{type:o.Router},{type:r.Renderer2},{type:r.ElementRef},{type:Va}]},propDecorators:{tabs:[{type:r.Input}],orientation:[{type:r.Input}],navigatorOpen:[{type:r.Input}],isNavigatorOpen:[{type:r.HostBinding,args:["class.navigator-open"]}],hasTabs:[{type:r.HostBinding,args:["class.page-tabs"]}],isHorizontal:[{type:r.HostBinding,args:["class.page-tabs-horizontal"]}],isVertical:[{type:r.HostBinding,args:["class.page-tabs-vertical"]}],container:[{type:r.ViewChild,args:["container",{read:r.ElementRef,static:!0}]}],leftBtn:[{type:r.ViewChild,args:["left",{read:r.ElementRef,static:!1}]}],rightBtn:[{type:r.ViewChild,args:["right",{read:r.ElementRef,static:!1}]}],tabsContainer:[{type:r.ViewChild,args:["tabsContainer",{read:r.ElementRef,static:!1}]}]}});var Ac=function(){function e(){bi(this,e)}return Ci(e,[{key:"icon",get:function(){return this.node.icon||"cog"}},{key:"iconClass",get:function(){return"dlt-c8y-icon-".concat(this.icon)}}]),e}();Ac.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ac,deps:[],target:r["ɵɵFactoryTarget"].Component}),Ac.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ac,selector:"c8y-navigator-icon",inputs:{node:"node"},ngImport:i,template:'<i class="icon" [c8yIcon]="icon"></i>',isInline:!0,dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ac,decorators:[{type:r.Component,args:[{selector:"c8y-navigator-icon",template:'<i class="icon" [c8yIcon]="icon"></i>'}]}],propDecorators:{node:[{type:r.Input}]}});var Mc=function(){function e(t,n){bi(this,e),this.componentFactoryResolver=t,this.navigator=n,this.nodeClick=new r.EventEmitter}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.childrenNodes.forEach((function(t){return t.parentNode=e})),this.viewInitTimeout=setTimeout((function(){e.updateIcon(),e.openOnFirstUrl(),e.expandParentIfActive(),e.node.confirm=e.confirm}))}},{key:"openOnFirstUrl",value:function(){this.navigator.openOnFirstUrl(this.node)&&!this.node.open&&this.expandCollapse(!0)}},{key:"expandTitle",get:function(){return this.node.open?"Collapse":"Expand"}},{key:"click",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",n=arguments.length>1?arguments[1]:void 0;switch(t){case"expander":n&&(n.preventDefault(),n.stopPropagation()),e=!this.node.open;break;case"icon":case"link":e=!(!this.routerLinkActive||!this.routerLinkActive.isActive)||!this.node.open}this.handleExpandCollapse(e,t,n),this.nodeClick.emit(t)}},{key:"expandCollapse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.node.open=e,t&&this.childrenNodes.forEach((function(n){return n.expandCollapse(e,t)})),n.open=e,this.node.click(n)}},{key:"ngOnDestroy",value:function(){clearTimeout(this.viewInitTimeout),this.node&&this.node.destroy()}},{key:"handleExpandCollapse",value:function(e,t,n){var r;e===this.node.open||this.node.path&&!e&&"expander"!==t||this.expandCollapse(e,!1,(li(r={},t,!0),li(r,"$event",n),r))}},{key:"expandParentIfActive",value:function(){this.routerLinkActive&&this.routerLinkActive.isActive&&this.parentNode&&this.parentNode.expandCollapse(!0)}},{key:"updateIcon",value:function(){this.node.iconTemplate?this.updateIconTemplate():this.updateIconComponent()}},{key:"updateIconComponent",value:function(){var e=Ac;this.node&&this.node.iconComponent&&(e=this.node.iconComponent),this.iconSlot.clear();var t=this.componentFactoryResolver.resolveComponentFactory(e);this.iconSlot.createComponent(t).instance.node=this.node}},{key:"updateIconTemplate",value:function(){this.iconSlot.clear(),this.iconSlot.createEmbeddedView(this.node.iconTemplate)}}]),e}();Mc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Mc,deps:[{token:r.ComponentFactoryResolver},{token:Ta}],target:r["ɵɵFactoryTarget"].Component}),Mc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Mc,selector:"c8y-navigator-node",inputs:{node:"node",isRoot:"isRoot"},outputs:{nodeClick:"nodeClick"},viewQueries:[{propertyName:"iconSlot",first:!0,predicate:["icon"],descendants:!0,read:r.ViewContainerRef},{propertyName:"routerLinkActive",first:!0,predicate:o.RouterLinkActive,descendants:!0},{propertyName:"confirm",first:!0,predicate:sc,descendants:!0},{propertyName:"childrenNodes",predicate:Mc,descendants:!0}],ngImport:i,template:'<div\n  class="slot"\n  [hidden]="node.hidden"\n  (dragstart)="node.dragStart($event)"\n  (dragend)="node.dragEnd($event)"\n  (drop)="node.drop($event)"\n  [draggable]="node.draggable"\n  [ngClass]="{ dragged: node.dragged, disabled: node.loading }"\n>\n  <ng-container>\n    <a\n      class="link"\n      draggable="false"\n      (dragover)="node.canDrop && $event.preventDefault()"\n      (dragenter)="node.canDrop && node.dragEnter($event)"\n      (dragleave)="node.canDrop && node.dragLeave($event)"\n      title="{{node.label | translate}}"\n      [attr.id]="isRoot ? node.id : undefined"\n      [routerLink]="node.canNavigate ? node.path : undefined"\n      [routerLinkActive]="node.canNavigate ? \'active\' : \'\'"\n      [routerLinkActiveOptions]="{exact:node.routerLinkExact}"\n      (click)="click(node.canNavigate ? \'link\' : \'expander\', $event)"\n      [ngClass]="{\'root-link\':isRoot, open: node.open && node.hasChildren, parent: node.hasChildren, \'dragged-hover\': node.draggedHover && !node.dragged}"\n    >\n      <ng-container *ngTemplateOutlet="inner"></ng-container>\n    </a>\n  </ng-container>\n\n  <div\n    class="children panel-expand expand"\n    *ngIf="node.children.length"\n    [collapse]="!node.open"\n    [isAnimated]="true"\n  >\n    <c8y-navigator-node\n      *ngFor="let childNode of node.children"\n      [node]="childNode"\n      (nodeClick)="nodeClick.emit($event)"\n    >\n    </c8y-navigator-node>\n  </div>\n</div>\n\n<ng-template #inner>\n  \x3c!-- loader --\x3e\n  <i\n    class="icon-spin loadingIndicator"\n    [c8yIcon]="\'circle-o-notch\'"\n    *ngIf="node.loading && !isRoot"\n  >\n  </i>\n\n  \x3c!-- icon --\x3e\n  <div>\n    <ng-container #icon></ng-container>\n  </div>\n\n  \x3c!--title  --\x3e\n  <span>{{node.label | translate}}</span>\n\n  <i\n    class="expander"\n    [c8yIcon]="\'chevron-down\'"\n    *ngIf="node.hasChildren"\n    (click)="click(\'expander\', $event)"\n    title="{{expandTitle}}"\n  >\n  </i>\n\n  <c8y-popover-confirm\n    outsideClick="true"\n    containerClass="navigator-popover"\n  ></c8y-popover-confirm>\n</ng-template>\n',dependencies:[{kind:"directive",type:o.RouterLinkWithHref,selector:"a[routerLink],area[routerLink]",inputs:["target","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","relativeTo","routerLink"]},{kind:"directive",type:o.RouterLinkActive,selector:"[routerLinkActive]",inputs:["routerLinkActiveOptions","ariaCurrentWhenActive","routerLinkActive"],outputs:["isActiveChange"],exportAs:["routerLinkActive"]},{kind:"directive",type:l.CollapseDirective,selector:"[collapse]",inputs:["display","isAnimated","collapse"],outputs:["collapsed","collapses","expanded","expands"],exportAs:["bs-collapse"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"component",type:sc,selector:"c8y-popover-confirm",inputs:["buttons","message","title","isOpen","containerClass","placement","outsideClick"]},{kind:"component",type:Mc,selector:"c8y-navigator-node",inputs:["node","isRoot"],outputs:["nodeClick"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Mc,decorators:[{type:r.Component,args:[{selector:"c8y-navigator-node",template:'<div\n  class="slot"\n  [hidden]="node.hidden"\n  (dragstart)="node.dragStart($event)"\n  (dragend)="node.dragEnd($event)"\n  (drop)="node.drop($event)"\n  [draggable]="node.draggable"\n  [ngClass]="{ dragged: node.dragged, disabled: node.loading }"\n>\n  <ng-container>\n    <a\n      class="link"\n      draggable="false"\n      (dragover)="node.canDrop && $event.preventDefault()"\n      (dragenter)="node.canDrop && node.dragEnter($event)"\n      (dragleave)="node.canDrop && node.dragLeave($event)"\n      title="{{node.label | translate}}"\n      [attr.id]="isRoot ? node.id : undefined"\n      [routerLink]="node.canNavigate ? node.path : undefined"\n      [routerLinkActive]="node.canNavigate ? \'active\' : \'\'"\n      [routerLinkActiveOptions]="{exact:node.routerLinkExact}"\n      (click)="click(node.canNavigate ? \'link\' : \'expander\', $event)"\n      [ngClass]="{\'root-link\':isRoot, open: node.open && node.hasChildren, parent: node.hasChildren, \'dragged-hover\': node.draggedHover && !node.dragged}"\n    >\n      <ng-container *ngTemplateOutlet="inner"></ng-container>\n    </a>\n  </ng-container>\n\n  <div\n    class="children panel-expand expand"\n    *ngIf="node.children.length"\n    [collapse]="!node.open"\n    [isAnimated]="true"\n  >\n    <c8y-navigator-node\n      *ngFor="let childNode of node.children"\n      [node]="childNode"\n      (nodeClick)="nodeClick.emit($event)"\n    >\n    </c8y-navigator-node>\n  </div>\n</div>\n\n<ng-template #inner>\n  \x3c!-- loader --\x3e\n  <i\n    class="icon-spin loadingIndicator"\n    [c8yIcon]="\'circle-o-notch\'"\n    *ngIf="node.loading && !isRoot"\n  >\n  </i>\n\n  \x3c!-- icon --\x3e\n  <div>\n    <ng-container #icon></ng-container>\n  </div>\n\n  \x3c!--title  --\x3e\n  <span>{{node.label | translate}}</span>\n\n  <i\n    class="expander"\n    [c8yIcon]="\'chevron-down\'"\n    *ngIf="node.hasChildren"\n    (click)="click(\'expander\', $event)"\n    title="{{expandTitle}}"\n  >\n  </i>\n\n  <c8y-popover-confirm\n    outsideClick="true"\n    containerClass="navigator-popover"\n  ></c8y-popover-confirm>\n</ng-template>\n'}]}],ctorParameters:function(){return[{type:r.ComponentFactoryResolver},{type:Ta}]},propDecorators:{iconSlot:[{type:r.ViewChild,args:["icon",{read:r.ViewContainerRef,static:!1}]}],node:[{type:r.Input}],isRoot:[{type:r.Input}],routerLinkActive:[{type:r.ViewChild,args:[o.RouterLinkActive,{static:!1}]}],childrenNodes:[{type:r.ViewChildren,args:[Mc]}],nodeClick:[{type:r.Output}],confirm:[{type:r.ViewChild,args:[sc,{static:!1}]}]}});var Rc=function(){function e(t,n){bi(this,e),this.headerService=t,this.ngZone=n,this.open=!0,this.isShown$=new a.BehaviorSubject(!1)}return Ci(e,[{key:"ngOnChanges",value:function(){this.isShown$.next(this.nodes&&this.nodes.length>0)}},{key:"collapseNavigator",value:function(e){"link"!==e||this.headerService.largeWidth||this.headerService.closeNavigator()}},{key:"trackByPathOrLabel",value:function(e,t){return t.path?t.path:t.label}}]),e}();Rc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rc,deps:[{token:Va},{token:r.NgZone}],target:r["ɵɵFactoryTarget"].Component}),Rc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Rc,selector:"c8y-navigator-outlet, c8y-ui-navigator",inputs:{nodes:"nodes",open:"open"},usesOnChanges:!0,ngImport:i,template:'<nav class="navigator" *ngIf="isShown$ | async" [ngClass]="{ open: open }">\n  <ng-content select=".navigator-slot-top"></ng-content>\n  <ul class="navigatorContent">\n    <c8y-navigator-node (nodeClick)="collapseNavigator($event)" [node]="node" *ngFor="let node of nodes trackBy trackByPathOrLabel" [isRoot]="true"></c8y-navigator-node>\n  </ul>\n  <ng-content select=".navigator-slot-bottom"></ng-content>\n</nav>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Mc,selector:"c8y-navigator-node",inputs:["node","isRoot"],outputs:["nodeClick"]},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rc,decorators:[{type:r.Component,args:[{selector:"c8y-navigator-outlet, c8y-ui-navigator",template:'<nav class="navigator" *ngIf="isShown$ | async" [ngClass]="{ open: open }">\n  <ng-content select=".navigator-slot-top"></ng-content>\n  <ul class="navigatorContent">\n    <c8y-navigator-node (nodeClick)="collapseNavigator($event)" [node]="node" *ngFor="let node of nodes trackBy trackByPathOrLabel" [isRoot]="true"></c8y-navigator-node>\n  </ul>\n  <ng-content select=".navigator-slot-bottom"></ng-content>\n</nav>\n'}]}],ctorParameters:function(){return[{type:Va},{type:r.NgZone}]},propDecorators:{nodes:[{type:r.Input}],open:[{type:r.Input}]}});var Lc=function(){function e(t){bi(this,e),this.headerService=t,this.pageTitleUpdate=!0}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.viewInitTimeout=setTimeout((function(){return e.headerService.changeTitle(e.template,e.pageTitleUpdate)}))}},{key:"ngOnDestroy",value:function(){this.headerService.state.title===this.template&&(clearTimeout(this.viewInitTimeout),this.headerService.changeTitle())}}]),e}();Lc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lc,deps:[{token:Va}],target:r["ɵɵFactoryTarget"].Component}),Lc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Lc,selector:"c8y-title",inputs:{pageTitleUpdate:"pageTitleUpdate"},viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0,static:!0}],ngImport:i,template:'<ng-template #template>\n  <h1 class="text-truncate">\n    <ng-content></ng-content>\n  </h1>\n</ng-template>\n\n'}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lc,decorators:[{type:r.Component,args:[{selector:"c8y-title",template:'<ng-template #template>\n  <h1 class="text-truncate">\n    <ng-content></ng-content>\n  </h1>\n</ng-template>\n\n'}]}],ctorParameters:function(){return[{type:Va}]},propDecorators:{pageTitleUpdate:[{type:r.Input}],template:[{type:r.ViewChild,args:["template",{static:!0}]}]}});var Vc=Ci((function e(t){bi(this,e),this.templateRef=t}));Vc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vc,deps:[{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),Vc.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Vc,selector:"ng-template[c8yStepperIcon]",inputs:{name:["c8yStepperIcon","name"]},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vc,decorators:[{type:r.Directive,args:[{selector:"ng-template[c8yStepperIcon]"}]}],ctorParameters:function(){return[{type:r.TemplateRef}]},propDecorators:{name:[{type:r.Input,args:["c8yStepperIcon"]}]}});var jc=function(){function e(){bi(this,e),this.onStepClicked=new r.EventEmitter}return Ci(e,[{key:"stepSelected",value:function(){this.onStepClicked.emit(this.index)}}]),e}();jc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jc,deps:[],target:r["ɵɵFactoryTarget"].Component}),jc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:jc,selector:"c8y-stepper-progress",inputs:{iconOverrides:"iconOverrides",index:"index",selected:"selected",state:"state",disabled:"disabled"},outputs:{onStepClicked:"onStepClicked"},ngImport:i,template:'<button\n  type="button"\n  class="c8y-step"\n  [ngClass]="{\n    active: selected,\n    \'step-done\': state === \'done\' || state === \'_done\',\n    \'step-error\': state === \'error\',\n    \'step-warning\': state === \'warning\'\n  }"\n  [disabled]="disabled"\n  [ngSwitch]="!!(iconOverrides && iconOverrides[state])"\n  (click)="stepSelected()"\n>\n  <ng-container *ngSwitchCase="true" [ngTemplateOutlet]="iconOverrides[state]"></ng-container>\n  <ng-container *ngSwitchDefault [ngSwitch]="state">\n    <span *ngSwitchCase="\'edit\'">\n      <span [c8yIcon]="\'edit\'"></span>\n    </span>\n    <span *ngSwitchCase="\'done\'">\n      <span class="m-t-4" [c8yIcon]="\'check\'"></span>\n    </span>\n    <span *ngSwitchDefault> {{ index + 1 }} </span>\n  </ng-container>\n</button>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:u.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:u.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"directive",type:u.NgSwitchDefault,selector:"[ngSwitchDefault]"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jc,decorators:[{type:r.Component,args:[{selector:"c8y-stepper-progress",template:'<button\n  type="button"\n  class="c8y-step"\n  [ngClass]="{\n    active: selected,\n    \'step-done\': state === \'done\' || state === \'_done\',\n    \'step-error\': state === \'error\',\n    \'step-warning\': state === \'warning\'\n  }"\n  [disabled]="disabled"\n  [ngSwitch]="!!(iconOverrides && iconOverrides[state])"\n  (click)="stepSelected()"\n>\n  <ng-container *ngSwitchCase="true" [ngTemplateOutlet]="iconOverrides[state]"></ng-container>\n  <ng-container *ngSwitchDefault [ngSwitch]="state">\n    <span *ngSwitchCase="\'edit\'">\n      <span [c8yIcon]="\'edit\'"></span>\n    </span>\n    <span *ngSwitchCase="\'done\'">\n      <span class="m-t-4" [c8yIcon]="\'check\'"></span>\n    </span>\n    <span *ngSwitchDefault> {{ index + 1 }} </span>\n  </ng-container>\n</button>\n'}]}],propDecorators:{iconOverrides:[{type:r.Input}],index:[{type:r.Input}],selected:[{type:r.Input}],state:[{type:r.Input}],disabled:[{type:r.Input}],onStepClicked:[{type:r.Output}]}});var Bc=function(e){gi(n,e);var t=mi(n);function n(e,i,o){var s;return bi(this,n),(s=t.call(this,e,i,o)).dir=e,s.changeDetectorRef=i,s.elementRef=o,s.disableDefaultIcons={edit:!0,done:!0},s.disableProgressButtons=!1,s.hideStepProgress=!1,s.onStepChange=new r.EventEmitter,s._iconOverrides={},s._stepIndex=new a.Subject,s}return Ci(n,[{key:"ngAfterContentInit",value:function(){var e=this;ni(vi(n.prototype),"ngAfterContentInit",this).call(this),this._icons.forEach((function(t){var n=t.name,r=t.templateRef;return e._iconOverrides[n]=r})),this._stepIndexSubscription=this._stepIndex.subscribe((function(t){return e.onStepChange.emit(t)}))}},{key:"ngOnDestroy",value:function(){this._stepIndexSubscription&&!this._stepIndexSubscription.closed&&this._stepIndexSubscription.unsubscribe()}},{key:"getIndicatorType",value:function(e,t){var n=t;switch(this._getIndicatorType(e,t)){case Pn:this.disableDefaultIcons.edit||(n=Pn);break;case Nn:n=this.disableDefaultIcons.done?"_done":Nn}return n}},{key:"setIndex",value:function(e){var t,n;(null===(t=this.steps.toArray()[this.selectedIndex])||void 0===t||null===(n=t.stepControl)||void 0===n||!n.invalid||e<this.selectedIndex)&&(this.selectedIndex=e)}}]),n}(Ln);Bc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bc,deps:[{token:Dn.Is},{token:r.ChangeDetectorRef},{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Component}),Bc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Bc,selector:"c8y-stepper",inputs:{disableDefaultIcons:"disableDefaultIcons",disableProgressButtons:"disableProgressButtons",customClasses:"customClasses",hideStepProgress:"hideStepProgress"},outputs:{onStepChange:"onStepChange"},providers:[{provide:Ln,useExisting:Bc},{provide:Zs,useExisting:(0,r.forwardRef)((function(){return Bc}))}],queries:[{propertyName:"_icons",predicate:Vc,descendants:!0}],usesInheritance:!0,ngImport:i,template:'<ul *ngIf="!hideStepProgress" class="c8y-stepper" [ngClass]="customClasses">\n  <li *ngFor="let step of steps; let i = index">\n    <c8y-stepper-progress\n      [iconOverrides]="_iconOverrides"\n      [state]="getIndicatorType(i, step.state)"\n      [index]="i"\n      [selected]="selectedIndex === i"\n      [disabled]="disableProgressButtons"\n      (onStepClicked)="setIndex($event)"\n      title="{{ step.label | translate }}"\n      [ngClass]="{\'active\': selectedIndex === i}"\n    >\n    </c8y-stepper-progress>\n    <div class="c8y-step__label"  title="{{ step.label | translate }}">\n      {{ step.label | translate }}\n    </div>\n  </li>\n</ul>\n<ng-container [ngTemplateOutlet]="selected.content"></ng-container>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"component",type:jc,selector:"c8y-stepper-progress",inputs:["iconOverrides","index","selected","state","disabled"],outputs:["onStepClicked"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bc,decorators:[{type:r.Component,args:[{selector:"c8y-stepper",providers:[{provide:Ln,useExisting:Bc},{provide:Zs,useExisting:(0,r.forwardRef)((function(){return Bc}))}],template:'<ul *ngIf="!hideStepProgress" class="c8y-stepper" [ngClass]="customClasses">\n  <li *ngFor="let step of steps; let i = index">\n    <c8y-stepper-progress\n      [iconOverrides]="_iconOverrides"\n      [state]="getIndicatorType(i, step.state)"\n      [index]="i"\n      [selected]="selectedIndex === i"\n      [disabled]="disableProgressButtons"\n      (onStepClicked)="setIndex($event)"\n      title="{{ step.label | translate }}"\n      [ngClass]="{\'active\': selectedIndex === i}"\n    >\n    </c8y-stepper-progress>\n    <div class="c8y-step__label"  title="{{ step.label | translate }}">\n      {{ step.label | translate }}\n    </div>\n  </li>\n</ul>\n<ng-container [ngTemplateOutlet]="selected.content"></ng-container>\n'}]}],ctorParameters:function(){return[{type:Dn.Is},{type:r.ChangeDetectorRef},{type:r.ElementRef}]},propDecorators:{disableDefaultIcons:[{type:r.Input}],disableProgressButtons:[{type:r.Input}],customClasses:[{type:r.Input}],hideStepProgress:[{type:r.Input}],onStepChange:[{type:r.Output}],_icons:[{type:r.ContentChildren,args:[Vc,{descendants:!0}]}]}});var Uc={CLICK_STEPPER_CANCEL_BTN:"clickStepperCancelBtn",CLICK_STEPPER_NEXT_BTN:"clickStepperNextBtn",CLICK_STEPPER_BACK_BTN:"clickStepperBackBtn",CLICK_STEPPER_CUSTOM_BTN:"clickStepperCustomBtn"},Gc=function(){function e(t,n,i){bi(this,e),this.stepper=t,this.step=n,this.gainsightService=i,this.pending=!1,this.disabled=!1,this.onCancel=new r.EventEmitter,this.onNext=new r.EventEmitter,this.onBack=new r.EventEmitter,this.onCustom=new r.EventEmitter,this.showBtns={cancel:!1,back:!1,next:!1,custom:!1},this.forceShowBtns=!1}return Ci(e,[{key:"showButtons",set:function(e){e&&(this.showBtns=e,this.forceShowBtns=!0)}},{key:"ngAfterContentInit",value:function(){var e=this;this.forceShowBtns||(this.showBtns.cancel=this.onCancel.observers.length>0,this.showBtns.custom=this.onCustom.observers.length>0),this.stepper&&this.stepper._steps&&this.step&&!this.forceShowBtns&&(this.showBtns.back=this.stepper._steps.first!==this.step,this.showBtns.next=this.stepper._steps.last!==this.step),this.step&&this.step.stepControl&&(this.disabled=this.step.stepControl.invalid,this.statusChangeSubscription=this.step.stepControl.statusChanges.subscribe((function(){e.disabled=e.step.stepControl.invalid})))}},{key:"ngOnDestroy",value:function(){this.statusChangeSubscription&&!this.statusChangeSubscription.closed&&this.statusChangeSubscription.unsubscribe()}},{key:"cancel",value:function(){this.onCancel.emit(),this.triggerEvent(Uc.CLICK_STEPPER_CANCEL_BTN)}},{key:"next",value:function(){this.onNext.observers.length>0?this.onNext.emit({stepper:this.stepper,step:this.step}):this.stepper.next(),this.triggerEvent(Uc.CLICK_STEPPER_NEXT_BTN)}},{key:"back",value:function(){this.stepper.selected.completed=!1,this.onBack.observers.length>0?this.onBack.emit({stepper:this.stepper,step:this.step}):this.stepper.previous(),this.triggerEvent(Uc.CLICK_STEPPER_BACK_BTN)}},{key:"custom",value:function(){this.onCustom.emit(),this.triggerEvent(Uc.CLICK_STEPPER_CUSTOM_BTN)}},{key:"triggerEvent",value:function(e){var t,n,r=ci(ci({},null===(t=this.stepper.productExperienceEvent)||void 0===t?void 0:t.data),{},{action:e,step:this.gainsightService.translateToEnglish(this.step.label)}),i=(null===(n=this.stepper.productExperienceEvent)||void 0===n?void 0:n.eventName)||"c8yStepper";this.gainsightService.triggerEvent(i,r)}}]),e}();Gc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gc,deps:[{token:Bc,host:!0},{token:Rn,host:!0},{token:ua}],target:r["ɵɵFactoryTarget"].Component}),Gc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Gc,selector:"c8y-stepper-buttons",inputs:{labels:"labels",pending:"pending",disabled:"disabled",showButtons:"showButtons"},outputs:{onCancel:"onCancel",onNext:"onNext",onBack:"onBack",onCustom:"onCustom"},ngImport:i,template:'<div class="text-center">\n  <button *ngIf="showBtns.cancel" (click)="cancel()" type="button" class="btn btn-default">\n    <span *ngIf="labels?.cancel; else cancelLabel" title="{{ labels?.cancel | translate }}">{{\n      labels?.cancel | translate\n    }}</span>\n    <ng-template #cancelLabel>\n      <span title="{{ \'Cancel\' | translate }}">{{ \'Cancel\' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    *ngIf="showBtns.back"\n    type="button"\n    (click)="back()"\n    class="btn btn-default"\n    [disabled]="pending"\n    title="{{ labels?.back || \'Back\' | translate }}"\n    data-cy="back"\n  >\n    <span *ngIf="labels?.back; else backLabel" title="{{ labels?.back | translate }}">{{\n      labels?.back | translate\n    }}</span>\n    <ng-template #backLabel>\n      <span title="{{ \'Back\' | translate }}">{{ \'Back\' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    *ngIf="showBtns.custom"\n    (click)="custom()"\n    type="button"\n    class="btn"\n    [ngClass]="{\n      \'btn-default\': showBtns.next,\n      \'btn-primary\': !showBtns.next,\n      \'btn-pending\': pending\n    }"\n    [disabled]="disabled"\n    title="{{ labels?.custom || \'Complete\' | translate }}"\n    data-cy="custom"\n  >\n    <span *ngIf="labels?.custom; else customLabel" title="{{ labels?.custom | translate }}">{{\n      labels?.custom | translate\n    }}</span>\n    <ng-template #customLabel>\n      <span title="{{ \'Complete\' | translate }}">{{ \'Complete\' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    (click)="next()"\n    *ngIf="showBtns.next"\n    type="button"\n    class="btn btn-primary"\n    [ngClass]="{ \'btn-pending\': pending }"\n    [disabled]="disabled"\n    title="{{ labels?.next || \'Next\' | translate }}"\n    data-cy="next"\n  >\n    <span *ngIf="labels?.next; else nextLabel" title="{{ labels?.next | translate }}">{{\n      labels?.next | translate\n    }}</span>\n    <ng-template #nextLabel>\n      <span title="{{ \'Next\' | translate }}">{{ \'Next\' | translate }}</span>\n    </ng-template>\n  </button>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gc,decorators:[{type:r.Component,args:[{selector:"c8y-stepper-buttons",template:'<div class="text-center">\n  <button *ngIf="showBtns.cancel" (click)="cancel()" type="button" class="btn btn-default">\n    <span *ngIf="labels?.cancel; else cancelLabel" title="{{ labels?.cancel | translate }}">{{\n      labels?.cancel | translate\n    }}</span>\n    <ng-template #cancelLabel>\n      <span title="{{ \'Cancel\' | translate }}">{{ \'Cancel\' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    *ngIf="showBtns.back"\n    type="button"\n    (click)="back()"\n    class="btn btn-default"\n    [disabled]="pending"\n    title="{{ labels?.back || \'Back\' | translate }}"\n    data-cy="back"\n  >\n    <span *ngIf="labels?.back; else backLabel" title="{{ labels?.back | translate }}">{{\n      labels?.back | translate\n    }}</span>\n    <ng-template #backLabel>\n      <span title="{{ \'Back\' | translate }}">{{ \'Back\' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    *ngIf="showBtns.custom"\n    (click)="custom()"\n    type="button"\n    class="btn"\n    [ngClass]="{\n      \'btn-default\': showBtns.next,\n      \'btn-primary\': !showBtns.next,\n      \'btn-pending\': pending\n    }"\n    [disabled]="disabled"\n    title="{{ labels?.custom || \'Complete\' | translate }}"\n    data-cy="custom"\n  >\n    <span *ngIf="labels?.custom; else customLabel" title="{{ labels?.custom | translate }}">{{\n      labels?.custom | translate\n    }}</span>\n    <ng-template #customLabel>\n      <span title="{{ \'Complete\' | translate }}">{{ \'Complete\' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    (click)="next()"\n    *ngIf="showBtns.next"\n    type="button"\n    class="btn btn-primary"\n    [ngClass]="{ \'btn-pending\': pending }"\n    [disabled]="disabled"\n    title="{{ labels?.next || \'Next\' | translate }}"\n    data-cy="next"\n  >\n    <span *ngIf="labels?.next; else nextLabel" title="{{ labels?.next | translate }}">{{\n      labels?.next | translate\n    }}</span>\n    <ng-template #nextLabel>\n      <span title="{{ \'Next\' | translate }}">{{ \'Next\' | translate }}</span>\n    </ng-template>\n  </button>\n</div>\n'}]}],ctorParameters:function(){return[{type:Bc,decorators:[{type:r.Host}]},{type:Rn,decorators:[{type:r.Host}]},{type:ua}]},propDecorators:{labels:[{type:r.Input}],pending:[{type:r.Input}],disabled:[{type:r.Input}],onCancel:[{type:r.Output}],onNext:[{type:r.Output}],onBack:[{type:r.Output}],onCustom:[{type:r.Output}],showButtons:[{type:r.Input}]}});var zc=Ci((function e(){bi(this,e),this.showDefaultButtons=!0}));zc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zc,deps:[],target:r["ɵɵFactoryTarget"].Component}),zc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:zc,selector:"c8y-stepper-outlet",inputs:{steps:"steps",showDefaultButtons:"showDefaultButtons"},ngImport:i,template:'<c8y-stepper \n  [customClasses]="[\'p-t-32\', \'p-b-32\', \'m-l-48\', \'m-r-48\']" \n  class="d-flex d-col fit-h"\n  [disableDefaultIcons]="{ edit: true, done: false }"\n>\n  <cdk-step\n    *ngFor="let step of steps"\n    [label]="step.label"\n    [state]="step.state"\n    [completed]="step.completed"\n    [optional]="!step.required"\n  >\n    <ng-container *ngComponentOutlet="step.component"></ng-container>\n    <c8y-stepper-buttons *ngIf="showDefaultButtons"></c8y-stepper-buttons>\n    <ng-template c8yStepperIcon="error">\n      <span c8yIcon="error"></span>\n    </ng-template>\n    <ng-template c8yStepperIcon="warning">\n      <span c8yIcon="warning"></span>\n    </ng-template>\n    <ng-template c8yStepperIcon="done">\n      <span c8yIcon="check"></span>\n    </ng-template>\n  </cdk-step>\n</c8y-stepper>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgComponentOutlet,selector:"[ngComponentOutlet]",inputs:["ngComponentOutlet","ngComponentOutletInjector","ngComponentOutletContent","ngComponentOutletNgModule","ngComponentOutletNgModuleFactory"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Rn,selector:"cdk-step",inputs:["stepControl","label","errorMessage","aria-label","aria-labelledby","state","editable","optional","completed","hasError"],outputs:["interacted"],exportAs:["cdkStep"]},{kind:"component",type:Bc,selector:"c8y-stepper",inputs:["disableDefaultIcons","disableProgressButtons","customClasses","hideStepProgress"],outputs:["onStepChange"]},{kind:"directive",type:Vc,selector:"ng-template[c8yStepperIcon]",inputs:["c8yStepperIcon"]},{kind:"component",type:Gc,selector:"c8y-stepper-buttons",inputs:["labels","pending","disabled","showButtons"],outputs:["onCancel","onNext","onBack","onCustom"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zc,decorators:[{type:r.Component,args:[{selector:"c8y-stepper-outlet",template:'<c8y-stepper \n  [customClasses]="[\'p-t-32\', \'p-b-32\', \'m-l-48\', \'m-r-48\']" \n  class="d-flex d-col fit-h"\n  [disableDefaultIcons]="{ edit: true, done: false }"\n>\n  <cdk-step\n    *ngFor="let step of steps"\n    [label]="step.label"\n    [state]="step.state"\n    [completed]="step.completed"\n    [optional]="!step.required"\n  >\n    <ng-container *ngComponentOutlet="step.component"></ng-container>\n    <c8y-stepper-buttons *ngIf="showDefaultButtons"></c8y-stepper-buttons>\n    <ng-template c8yStepperIcon="error">\n      <span c8yIcon="error"></span>\n    </ng-template>\n    <ng-template c8yStepperIcon="warning">\n      <span c8yIcon="warning"></span>\n    </ng-template>\n    <ng-template c8yStepperIcon="done">\n      <span c8yIcon="check"></span>\n    </ng-template>\n  </cdk-step>\n</c8y-stepper>\n'}]}],propDecorators:{steps:[{type:r.Input}],showDefaultButtons:[{type:r.Input}]}});var Hc=function(){function e(){bi(this,e),this.groups=[],this.noParse=!1,this.emptyLabel=null,this._data={}}return Ci(e,[{key:"properties",get:function(){if(this.noParse)return this._properties;var e=[].concat(wi(this._properties),wi(this.groups.map((function(e){return{key:e,label:e,value:e,type:"group"}})))).filter((function(e){return void 0!==e.value&&null!==e.value}));return(0,c.sortBy)(e,["key"])},set:function(e){this._properties=this.parseProperties(e)}},{key:"data",set:function(e){this._data=e,this._properties=this.parseProperties(this._properties)}},{key:"hasGroup",value:function(e){if(!e.key)return!1;var t=e.key.split(".");return t.length>1&&this.groups.includes(t[0])}},{key:"ngOnInit",value:function(){this._properties=this.parseProperties(this._properties)}},{key:"identity",value:function(e,t){return t.value}},{key:"parseProperties",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return e.parsePropertyItem(t)}))}},{key:"parsePropertyItem",value:function(e){return this.noParse||(e.value=this.resolveValueFromKey(e),e.value=e.transform&&e.value?e.transform(e.value):e.value,e.type=this.resolveType(e),e.value=this.attachEmptyLabel(e)),e}},{key:"resolveValueFromKey",value:function(e){if(e.key&&this._data){var t=e.key.split("."),n=t[0];return t.length>1&&!this.groups.includes(n)&&this.groups.push(n),(0,c.get)(this._data,e.key)}return e.value}},{key:"resolveType",value:function(e){return Array.isArray(e.value)?"array":e.action&&e.value?"link":"string"}},{key:"attachEmptyLabel",value:function(e){return void 0===e.value||null===e.value?this.emptyLabel:e.value}}]),e}();Hc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hc,deps:[],target:r["ɵɵFactoryTarget"].Component}),Hc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Hc,selector:"c8y-properties-list",inputs:{properties:"properties",title:"title",icon:"icon",data:"data",groups:"groups",noParse:"noParse",emptyLabel:"emptyLabel"},ngImport:i,template:'<p class="m-b-8" *ngIf="title">\n  <i *ngIf="icon" [c8yIcon]="icon" class="text-info m-r-8"></i>\n  <span class="text-label-small">{{ title | translate }}</span>\n</p>\n<ul class="list-unstyled small">\n  <li\n    class="p-t-4 p-b-4 d-flex"\n    *ngFor="let prop of properties; let i = index; trackBy: identity"\n    [ngClass]="{\'separator-top-bottom\': i === 0,\n                \'separator-bottom\': i > 0}"\n    >\n    <div\n      [ngClass]="{\n        \'m-l-16\': hasGroup(prop),\n        legend: prop.type === \'group\',\n        \'form-block\': prop.type === \'group\',\n        \'m-b-0\': prop.type === \'group\',\n        \'m-t-4\': prop.type === \'group\'\n      }"\n      class="small text-medium text-nowrap m-r-4"\n    >\n      {{ prop.label | translate }}\n    </div>\n    <span [ngSwitch]="prop.type" class="flex-item-right">\n      <span *ngSwitchCase="\'string\'" class="flex-item-right">{{ prop.value }}</span>\n      <a\n        *ngSwitchCase="\'link\'"\n        (click)="prop.action($event, prop)"\n        class="flex-item-right pointer text-truncate m-l-4"\n        >{{ prop.value }}</a\n      >\n      <span *ngSwitchCase="\'array\'">\n        <span\n          class="label label-default m-l-4 text-truncate-wrap"\n          *ngFor="let propTag of prop.value"\n          (click)="prop.action && prop.action($event, propTag)"\n          [ngClass]="{\n            pointer: prop.action\n          }"\n          >{{ propTag }}</span\n        >\n      </span>\n    </span>\n  </li>\n</ul>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:u.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hc,decorators:[{type:r.Component,args:[{selector:"c8y-properties-list",template:'<p class="m-b-8" *ngIf="title">\n  <i *ngIf="icon" [c8yIcon]="icon" class="text-info m-r-8"></i>\n  <span class="text-label-small">{{ title | translate }}</span>\n</p>\n<ul class="list-unstyled small">\n  <li\n    class="p-t-4 p-b-4 d-flex"\n    *ngFor="let prop of properties; let i = index; trackBy: identity"\n    [ngClass]="{\'separator-top-bottom\': i === 0,\n                \'separator-bottom\': i > 0}"\n    >\n    <div\n      [ngClass]="{\n        \'m-l-16\': hasGroup(prop),\n        legend: prop.type === \'group\',\n        \'form-block\': prop.type === \'group\',\n        \'m-b-0\': prop.type === \'group\',\n        \'m-t-4\': prop.type === \'group\'\n      }"\n      class="small text-medium text-nowrap m-r-4"\n    >\n      {{ prop.label | translate }}\n    </div>\n    <span [ngSwitch]="prop.type" class="flex-item-right">\n      <span *ngSwitchCase="\'string\'" class="flex-item-right">{{ prop.value }}</span>\n      <a\n        *ngSwitchCase="\'link\'"\n        (click)="prop.action($event, prop)"\n        class="flex-item-right pointer text-truncate m-l-4"\n        >{{ prop.value }}</a\n      >\n      <span *ngSwitchCase="\'array\'">\n        <span\n          class="label label-default m-l-4 text-truncate-wrap"\n          *ngFor="let propTag of prop.value"\n          (click)="prop.action && prop.action($event, propTag)"\n          [ngClass]="{\n            pointer: prop.action\n          }"\n          >{{ propTag }}</span\n        >\n      </span>\n    </span>\n  </li>\n</ul>\n'}]}],propDecorators:{properties:[{type:r.Input}],title:[{type:r.Input}],icon:[{type:r.Input}],data:[{type:r.Input}],groups:[{type:r.Input}],noParse:[{type:r.Input}],emptyLabel:[{type:r.Input}]}});var qc=function(){function e(t,n,r,i,o,c){bi(this,e),this.options=t,this.stepperService=n,this.appState=r,this.alert=i,this.permissions=o,this.setupService=c,this.data$=new a.BehaviorSubject({}),this.currentSetupState=gs.START,this.completed$=(new a.Observable).pipe((0,s.startWith)(!0)),this.stepperId=us.SETUP,this.setupState=gs,this.properties=[],this.canSkip=!1,this.hasRole=!1,this.isOwner=!0,this.RELOAD_APP_TIMEOUT=2e3}var t,n;return Ci(e,[{key:"stepCompleted",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getByIndex(e);n.completed=t}},{key:"getByIndex",value:function(e){return this.steps.find((function(t){return t.index===e}))}},{key:"ngOnInit",value:(n=ui(di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stepperService.getById$(this.stepperId).toPromise();case 2:this.steps=e.sent.map((function(e,t){return ci(ci({},e),{},{index:t,completed:!1})})),this.options.forceSetup||(t=this.options.setup||[],this.steps=this.steps.filter((function(e){return-1===t.indexOf(e.setupId)}))),this.isOwner=this.appState.isOwnerOfApplication(),this.canSkip=!this.hasRequiredSteps(this.steps),this.hasRole=this.permissions.hasRole(ms),this.properties=[{label:"Description",key:"description"},{label:"Keywords",key:"keywords"},{label:"Source",key:"repository"},{label:"Version",key:"version"},{label:"Author",key:"author"},{label:"Required platform version",key:"requiredPlatformVersion"}];case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"skip",value:function(){this.setupService.isSetupNeeded$=(0,a.of)(!1)}},{key:"start",value:function(){this.currentSetupState=gs.WIZARD}},{key:"cancel",value:function(){this.currentSetupState=gs.START}},{key:"finish",value:function(){var e=this;this.currentSetupState=gs.FINALIZING,this.completed$.subscribe(function(){var t=ui(di().mark((function t(n){return di().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n?e.finalize():e.currentSetupState=gs.WIZARD;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"finalize",value:(t=ui(di().mark((function e(){var t,n,r=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.steps.filter((function(e){return e.setupId})).map((function(e){return e.setupId})),e.next=4,this.appState.currentApplicationConfig.pipe((0,s.take)(1)).toPromise();case 4:return n=e.sent,e.next=7,this.appState.updateCurrentApplicationConfig({setup:(0,c.uniq)([].concat(wi(n.setupDone||[]),wi(t)))});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),this.alert.addServerFailure(e.t0),this.currentSetupState=gs.WIZARD;case 13:return e.prev=13,this.currentSetupState=gs.RELOADING,setTimeout((function(){return r.reloadApp()}),this.RELOAD_APP_TIMEOUT),e.finish(13);case 17:case"end":return e.stop()}}),e,this,[[0,9,13,17]])}))),function(){return t.apply(this,arguments)})},{key:"verify",value:function(){var e=this;return this.steps.forEach((function(t,n){e.steps.length-1!==n&&(t.state=e.getState(t))})),!!this.steps.find((function(e){return"error"!==e.state}))}},{key:"reloadApp",value:function(){var e=location.href.split("?")[0].split("#")[0];location.href=e}},{key:"hasRequiredSteps",value:function(e){return e.some((function(e){return e.required}))}},{key:"getState",value:function(e){return!e.completed&&e.required?"error":e.completed||e.required?"done":"warning"}}]),e}();qc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qc,deps:[{token:Gi},{token:ps},{token:Hi},{token:ka},{token:Ho},{token:ys}],target:r["ɵɵFactoryTarget"].Component}),qc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:qc,selector:"c8y-setup",ngImport:i,template:'<c8y-title>\n  {{ options.name | humanizeAppName | async }}\n</c8y-title>\n\n<div\n  class="card content-fullpage fadeInRightBig animated"\n  *ngIf="currentSetupState !== setupState.START"\n>\n  <c8y-stepper-outlet\n    [showDefaultButtons]="false"\n    [steps]="steps"\n    class="d-contents"\n  ></c8y-stepper-outlet>\n</div>\n\n<div\n  class="card content-fullpage d-flex d-col fadeInUpBig animated"\n  *ngIf="currentSetupState === setupState.START"\n>\n  <div class="inner-scroll flex-grow">\n    <div class="card-block">\n      <div class="row">\n        <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 p-t-24">\n          <svg class="p-t-32" viewBox="0 0 360 190" style="max-width: 450px; margin: auto">\n            <g\n              id="ecosystem-welcome-illustration"\n              stroke="none"\n              stroke-width="1"\n              fill="none"\n              fill-rule="evenodd"\n            >\n              <g id="medium-img">\n                <g id="M---Nothing-found---illustration" transform="translate(27.000000, 0.000000)">\n                  <path\n                    d="M41.9882163,184.153177 C24.3512964,165.028818 14.796713,138.637202 18.0717117,113.128248 C21.3467105,87.6192947 38.0071399,63.7138452 61.8485298,52.9453596 C71.0829585,49.0513414 80.8096047,46.3893689 90.76767,45.0308169 C98.489456,43.8098001 118.605159,43.8098001 134.379236,43.8098001 C145.406066,43.8098001 181.235754,38.969866 207.015103,16.5355211 C213.745375,10.6511027 239.269332,-7.69357146 271.478495,5.11974949 C293.036399,13.6962892 308.780431,29.0693321 312.911736,38.3078689 C331.314825,79.4105311 320.017582,129.634042 291.233648,164.558065 C285.720232,171.251591 279.470694,177.592051 271.70384,181.608167 C268.726702,182.834918 265.624451,183.747258 262.449715,184.32971 L41.9882163,184.153177 Z"\n                    id="Path"\n                    fill="#CDE6F9"\n                    fill-rule="nonzero"\n                  ></path>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="28.1633729"\n                    cy="162.880435"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="65.7145367"\n                    cy="65.6884059"\n                    rx="4.02333899"\n                    ry="3.35144928"\n                  ></ellipse>\n                  <g\n                    id="Group"\n                    opacity="0.8"\n                    transform="translate(8.046677, 16.757247)"\n                    fill="#7BCAEF"\n                    fill-rule="nonzero"\n                  >\n                    <path\n                      d="M12.8344513,8.04347826 L2.50788129,8.04347826 C1.90488763,8.22105727 1.25665804,7.99364432 0.892621563,7.47681021 C0.528585083,6.95997611 0.528585083,6.26707703 0.892621563,5.75024293 C1.25665804,5.23340882 1.90488763,5.00599587 2.50788129,5.18357488 L12.8344513,5.18357488 C13.437445,5.00599587 14.0856746,5.23340882 14.4497111,5.75024293 C14.8137476,6.26707703 14.8137476,6.95997611 14.4497111,7.47681021 C14.0856746,7.99364432 13.437445,8.22105727 12.8344513,8.04347826 Z"\n                      id="Path"\n                    ></path>\n                    <path\n                      d="M7.64166184,13.2866345 C6.82691795,13.2866345 6.16643754,12.6197478 6.16643754,11.7971014 L6.16643754,1.37037037 C6.35002101,0.734836286 6.92699763,0.297906603 7.58265287,0.297906603 C8.2383081,0.297906603 8.81528471,0.734836286 8.99888356,1.37037037 L8.99888356,11.7971014 C9.00133839,12.5753731 8.40999101,13.2243764 7.64166184,13.2866345 Z"\n                      id="Path"\n                    ></path>\n                  </g>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="2.68222598"\n                    cy="90.4891305"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="257.493695"\n                    cy="157.518116"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#14629F"\n                    fill-rule="nonzero"\n                    cx="299.738754"\n                    cy="155.507247"\n                    rx="2.01166949"\n                    ry="2.01086957"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#96CAF3"\n                    fill-rule="nonzero"\n                    cx="260.175921"\n                    cy="59.6557971"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                    cx="329.913796"\n                    cy="111.938406"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    stroke="#96CAF3"\n                    cx="95.2190226"\n                    cy="144.782609"\n                    rx="4.02333899"\n                    ry="3.35144928"\n                  ></ellipse>\n                  <g\n                    id="Group"\n                    opacity="0.6"\n                    transform="translate(273.587050, 121.322464)"\n                    fill="#14629F"\n                    fill-rule="nonzero"\n                  >\n                    <path\n                      d="M12.1263437,8.01368761 L1.79977363,8.01368761 C1.17034461,7.82832349 0.737612147,7.24575058 0.737612147,6.5837359 C0.737612147,5.92172124 1.17034461,5.33914833 1.79977363,5.15378421 L12.1263437,5.15378421 C12.7293374,4.97620521 13.3775669,5.20361817 13.7416034,5.72045226 C14.1056399,6.23728637 14.1056399,6.93018545 13.7416034,7.44701956 C13.3775669,7.96385365 12.7293374,8.19126661 12.1263437,8.01368761 L12.1263437,8.01368761 Z"\n                      id="Path"\n                    ></path>\n                    <path\n                      d="M6.94830642,13.2419485 C6.13356254,13.2419485 5.47308212,12.5750618 5.47308212,11.7524155 L5.47308212,1.32568438 C5.6566656,0.690150295 6.23364221,0.253220612 6.88929744,0.253220612 C7.54495269,0.253220612 8.1219293,0.690150295 8.30552815,1.32568438 L8.30552815,11.7524155 C8.30798297,12.5306871 7.71663558,13.1796904 6.94830642,13.2419485 Z"\n                      id="Path"\n                    ></path>\n                  </g>\n                  <rect\n                    id="Rectangle"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    x="107.28904"\n                    y="128.025362"\n                    width="109.971265"\n                    height="48.2608695"\n                  ></rect>\n                  <polygon\n                    id="Path"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    points="205.744516 91.8297102 121.555988 91.8297102 107.28904 129.365942 217.260306 129.365942"\n                  ></polygon>\n                  <polygon\n                    id="Path"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    points="93.8779095 114.917472 103.478057 98.5326086 118.017943 121.471417 107.035845 128.025362"\n                  ></polygon>\n                  <polygon\n                    id="Path"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    points="209.213627 123.316736 216.813268 129.365942 232.012548 114.683402 221.373051 98.5326086"\n                  ></polygon>\n                  <polygon\n                    id="Path"\n                    fill="#96CAF3"\n                    fill-rule="nonzero"\n                    points="214.884986 105.235507 111.648803 105.235507 107.28904 129.365942 217.260306 129.365942"\n                  ></polygon>\n                  <path\n                    d="M91.6761446,30.3423163 C92.3222173,30.3423163 92.8459628,30.8537275 92.8459628,31.4845853 C92.8459628,32.1154431 92.3222173,32.6268545 91.6761446,32.6268545 C91.0300718,32.6268545 90.5063264,32.1154431 90.5063264,31.4845853 C90.5289441,30.8631053 91.0396757,30.3644014 91.6761446,30.3423163 Z M91.8662401,24.6309708 C92.4940745,24.6065819 93.1037929,24.8394323 93.5480901,25.2732662 C93.9923872,25.7071004 94.2308535,26.30246 94.2058764,26.9155089 L94.2058764,27.5152002 L89.5266036,27.5152002 L89.5266036,26.9155089 C89.4960305,26.2895723 89.7404154,25.6806341 90.1983788,25.2416359 C90.6563421,24.8026375 91.2843716,24.5752894 91.924731,24.6166924 L91.8662401,24.6309708 Z M91.8662401,23.4744232 C90.9292048,23.466734 90.0282593,23.8268063 89.3656519,24.4738094 C88.7030445,25.1208125 88.3342881,26.0005407 88.3421627,26.9155089 L88.3421627,27.5152002 L87.1723446,27.5152002 L87.1723446,35.5253623 L96.5601355,35.5253623 L96.5601355,27.5009219 L95.3903173,27.5009219 L95.3903173,26.9012306 C95.3981063,25.9961621 95.037351,25.1251451 94.3874206,24.4798095 C93.7374901,23.8344738 92.8516283,23.4676871 91.924731,23.460145 L91.8662401,23.4744232 Z"\n                    id="Shape"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                  ></path>\n                  <path\n                    d="M254.811469,24.8007247 L248.113249,12.7355072 L241.400339,24.8007247 L254.811469,24.8007247 Z M248.7155,22.7874058 L247.466929,22.7874058 L247.466929,21.6411367 L248.671434,21.6411367 L248.7155,22.7874058 Z M248.7155,20.5095632 L247.466929,20.5095632 L247.466929,17.5704117 L248.671434,17.5704117 L248.7155,20.5095632 Z"\n                    id="Shape"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                  ></path>\n                  <line\n                    x1="201.166949"\n                    y1="40.8876812"\n                    x2="187.755818"\n                    y2="60.9963769"\n                    id="Path"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                  ></line>\n                  <line\n                    x1="165.969438"\n                    y1="31.5036231"\n                    x2="165.285471"\n                    y2="55.6340579"\n                    id="Path"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                  ></line>\n                  <line\n                    x1="130.08796"\n                    y1="44.9094203"\n                    x2="146.181316"\n                    y2="63.6775362"\n                    id="Path"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                  ></line>\n                </g>\n                <polygon\n                  id="Fill-56"\n                  fill="#A5D1FE"\n                  fill-rule="nonzero"\n                  points="0 185 335 185 335 175 0 175"\n                ></polygon>\n              </g>\n            </g>\n          </svg>\n          <h1\n            class="p-t-16 p-b-16 text-center text-medium"\n            ngNonBindable\n            translate\n            [translateParams]="{ appName: options.name | humanizeAppName | async }"\n          >\n            Welcome to {{ appName }}\n          </h1>\n          <p class="lead text-normal" translate *ngIf="hasRole">\n            This application (or any plugin that you added recently) has pre-requirements that needs\n            to be configured first. This wizard will guide you through the steps that are necessary\n            to get your customized application up and running.\n          </p>\n          <div class="flex-grow" *ngIf="properties.length > 0">\n            <c8y-properties-list\n              icon="info"\n              [properties]="properties"\n              [data]="options"\n              [title]="\'Application properties\' | translate"\n            ></c8y-properties-list>\n          </div>\n          <div class="alert alert-danger m-32" *ngIf="!hasRole">\n            <strong translate>No permission</strong>\n            <div translate>\n              You don\'t have sufficient rights to setup this application. Contact an application\n              administrator to setup the required steps.\n            </div>\n          </div>\n          <div class="alert alert-danger m-32" *ngIf="!isOwner">\n            <strong translate>Not the owner</strong>\n            <div translate>\n              The current application is not owned by this tenant. Clone the application before\n              running the setup.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="card-footer separator d-flex j-c-center">\n    <button\n      class="btn"\n      (click)="skip()"\n      translate\n      *ngIf="canSkip"\n      [title]="\n        \'You can skip the setup now. It will be shown again as soon as you restart the application.\'\n          | translate\n      "\n    >\n      Skip\n    </button>\n\n    <button\n      class="btn btn-primary"\n      (click)="start()"\n      translate\n      [disabled]="!hasRole || !isOwner"\n      [title]="\'Start the setup wizard.\' | translate"\n    >\n      Start\n    </button>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Lc,selector:"c8y-title",inputs:["pageTitleUpdate"]},{kind:"component",type:zc,selector:"c8y-stepper-outlet",inputs:["steps","showDefaultButtons"]},{kind:"component",type:Hc,selector:"c8y-properties-list",inputs:["properties","title","icon","data","groups","noParse","emptyLabel"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:Ao,name:"humanizeAppName"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qc,decorators:[{type:r.Component,args:[{selector:"c8y-setup",template:'<c8y-title>\n  {{ options.name | humanizeAppName | async }}\n</c8y-title>\n\n<div\n  class="card content-fullpage fadeInRightBig animated"\n  *ngIf="currentSetupState !== setupState.START"\n>\n  <c8y-stepper-outlet\n    [showDefaultButtons]="false"\n    [steps]="steps"\n    class="d-contents"\n  ></c8y-stepper-outlet>\n</div>\n\n<div\n  class="card content-fullpage d-flex d-col fadeInUpBig animated"\n  *ngIf="currentSetupState === setupState.START"\n>\n  <div class="inner-scroll flex-grow">\n    <div class="card-block">\n      <div class="row">\n        <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 p-t-24">\n          <svg class="p-t-32" viewBox="0 0 360 190" style="max-width: 450px; margin: auto">\n            <g\n              id="ecosystem-welcome-illustration"\n              stroke="none"\n              stroke-width="1"\n              fill="none"\n              fill-rule="evenodd"\n            >\n              <g id="medium-img">\n                <g id="M---Nothing-found---illustration" transform="translate(27.000000, 0.000000)">\n                  <path\n                    d="M41.9882163,184.153177 C24.3512964,165.028818 14.796713,138.637202 18.0717117,113.128248 C21.3467105,87.6192947 38.0071399,63.7138452 61.8485298,52.9453596 C71.0829585,49.0513414 80.8096047,46.3893689 90.76767,45.0308169 C98.489456,43.8098001 118.605159,43.8098001 134.379236,43.8098001 C145.406066,43.8098001 181.235754,38.969866 207.015103,16.5355211 C213.745375,10.6511027 239.269332,-7.69357146 271.478495,5.11974949 C293.036399,13.6962892 308.780431,29.0693321 312.911736,38.3078689 C331.314825,79.4105311 320.017582,129.634042 291.233648,164.558065 C285.720232,171.251591 279.470694,177.592051 271.70384,181.608167 C268.726702,182.834918 265.624451,183.747258 262.449715,184.32971 L41.9882163,184.153177 Z"\n                    id="Path"\n                    fill="#CDE6F9"\n                    fill-rule="nonzero"\n                  ></path>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="28.1633729"\n                    cy="162.880435"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="65.7145367"\n                    cy="65.6884059"\n                    rx="4.02333899"\n                    ry="3.35144928"\n                  ></ellipse>\n                  <g\n                    id="Group"\n                    opacity="0.8"\n                    transform="translate(8.046677, 16.757247)"\n                    fill="#7BCAEF"\n                    fill-rule="nonzero"\n                  >\n                    <path\n                      d="M12.8344513,8.04347826 L2.50788129,8.04347826 C1.90488763,8.22105727 1.25665804,7.99364432 0.892621563,7.47681021 C0.528585083,6.95997611 0.528585083,6.26707703 0.892621563,5.75024293 C1.25665804,5.23340882 1.90488763,5.00599587 2.50788129,5.18357488 L12.8344513,5.18357488 C13.437445,5.00599587 14.0856746,5.23340882 14.4497111,5.75024293 C14.8137476,6.26707703 14.8137476,6.95997611 14.4497111,7.47681021 C14.0856746,7.99364432 13.437445,8.22105727 12.8344513,8.04347826 Z"\n                      id="Path"\n                    ></path>\n                    <path\n                      d="M7.64166184,13.2866345 C6.82691795,13.2866345 6.16643754,12.6197478 6.16643754,11.7971014 L6.16643754,1.37037037 C6.35002101,0.734836286 6.92699763,0.297906603 7.58265287,0.297906603 C8.2383081,0.297906603 8.81528471,0.734836286 8.99888356,1.37037037 L8.99888356,11.7971014 C9.00133839,12.5753731 8.40999101,13.2243764 7.64166184,13.2866345 Z"\n                      id="Path"\n                    ></path>\n                  </g>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="2.68222598"\n                    cy="90.4891305"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    cx="257.493695"\n                    cy="157.518116"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#14629F"\n                    fill-rule="nonzero"\n                    cx="299.738754"\n                    cy="155.507247"\n                    rx="2.01166949"\n                    ry="2.01086957"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    fill="#96CAF3"\n                    fill-rule="nonzero"\n                    cx="260.175921"\n                    cy="59.6557971"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                    cx="329.913796"\n                    cy="111.938406"\n                    rx="2.68222598"\n                    ry="2.68115941"\n                  ></ellipse>\n                  <ellipse\n                    id="Oval"\n                    stroke="#96CAF3"\n                    cx="95.2190226"\n                    cy="144.782609"\n                    rx="4.02333899"\n                    ry="3.35144928"\n                  ></ellipse>\n                  <g\n                    id="Group"\n                    opacity="0.6"\n                    transform="translate(273.587050, 121.322464)"\n                    fill="#14629F"\n                    fill-rule="nonzero"\n                  >\n                    <path\n                      d="M12.1263437,8.01368761 L1.79977363,8.01368761 C1.17034461,7.82832349 0.737612147,7.24575058 0.737612147,6.5837359 C0.737612147,5.92172124 1.17034461,5.33914833 1.79977363,5.15378421 L12.1263437,5.15378421 C12.7293374,4.97620521 13.3775669,5.20361817 13.7416034,5.72045226 C14.1056399,6.23728637 14.1056399,6.93018545 13.7416034,7.44701956 C13.3775669,7.96385365 12.7293374,8.19126661 12.1263437,8.01368761 L12.1263437,8.01368761 Z"\n                      id="Path"\n                    ></path>\n                    <path\n                      d="M6.94830642,13.2419485 C6.13356254,13.2419485 5.47308212,12.5750618 5.47308212,11.7524155 L5.47308212,1.32568438 C5.6566656,0.690150295 6.23364221,0.253220612 6.88929744,0.253220612 C7.54495269,0.253220612 8.1219293,0.690150295 8.30552815,1.32568438 L8.30552815,11.7524155 C8.30798297,12.5306871 7.71663558,13.1796904 6.94830642,13.2419485 Z"\n                      id="Path"\n                    ></path>\n                  </g>\n                  <rect\n                    id="Rectangle"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    x="107.28904"\n                    y="128.025362"\n                    width="109.971265"\n                    height="48.2608695"\n                  ></rect>\n                  <polygon\n                    id="Path"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    points="205.744516 91.8297102 121.555988 91.8297102 107.28904 129.365942 217.260306 129.365942"\n                  ></polygon>\n                  <polygon\n                    id="Path"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    points="93.8779095 114.917472 103.478057 98.5326086 118.017943 121.471417 107.035845 128.025362"\n                  ></polygon>\n                  <polygon\n                    id="Path"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                    points="209.213627 123.316736 216.813268 129.365942 232.012548 114.683402 221.373051 98.5326086"\n                  ></polygon>\n                  <polygon\n                    id="Path"\n                    fill="#96CAF3"\n                    fill-rule="nonzero"\n                    points="214.884986 105.235507 111.648803 105.235507 107.28904 129.365942 217.260306 129.365942"\n                  ></polygon>\n                  <path\n                    d="M91.6761446,30.3423163 C92.3222173,30.3423163 92.8459628,30.8537275 92.8459628,31.4845853 C92.8459628,32.1154431 92.3222173,32.6268545 91.6761446,32.6268545 C91.0300718,32.6268545 90.5063264,32.1154431 90.5063264,31.4845853 C90.5289441,30.8631053 91.0396757,30.3644014 91.6761446,30.3423163 Z M91.8662401,24.6309708 C92.4940745,24.6065819 93.1037929,24.8394323 93.5480901,25.2732662 C93.9923872,25.7071004 94.2308535,26.30246 94.2058764,26.9155089 L94.2058764,27.5152002 L89.5266036,27.5152002 L89.5266036,26.9155089 C89.4960305,26.2895723 89.7404154,25.6806341 90.1983788,25.2416359 C90.6563421,24.8026375 91.2843716,24.5752894 91.924731,24.6166924 L91.8662401,24.6309708 Z M91.8662401,23.4744232 C90.9292048,23.466734 90.0282593,23.8268063 89.3656519,24.4738094 C88.7030445,25.1208125 88.3342881,26.0005407 88.3421627,26.9155089 L88.3421627,27.5152002 L87.1723446,27.5152002 L87.1723446,35.5253623 L96.5601355,35.5253623 L96.5601355,27.5009219 L95.3903173,27.5009219 L95.3903173,26.9012306 C95.3981063,25.9961621 95.037351,25.1251451 94.3874206,24.4798095 C93.7374901,23.8344738 92.8516283,23.4676871 91.924731,23.460145 L91.8662401,23.4744232 Z"\n                    id="Shape"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                  ></path>\n                  <path\n                    d="M254.811469,24.8007247 L248.113249,12.7355072 L241.400339,24.8007247 L254.811469,24.8007247 Z M248.7155,22.7874058 L247.466929,22.7874058 L247.466929,21.6411367 L248.671434,21.6411367 L248.7155,22.7874058 Z M248.7155,20.5095632 L247.466929,20.5095632 L247.466929,17.5704117 L248.671434,17.5704117 L248.7155,20.5095632 Z"\n                    id="Shape"\n                    fill="#5FAEEC"\n                    fill-rule="nonzero"\n                  ></path>\n                  <line\n                    x1="201.166949"\n                    y1="40.8876812"\n                    x2="187.755818"\n                    y2="60.9963769"\n                    id="Path"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                  ></line>\n                  <line\n                    x1="165.969438"\n                    y1="31.5036231"\n                    x2="165.285471"\n                    y2="55.6340579"\n                    id="Path"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                  ></line>\n                  <line\n                    x1="130.08796"\n                    y1="44.9094203"\n                    x2="146.181316"\n                    y2="63.6775362"\n                    id="Path"\n                    stroke="#5FAEEC"\n                    stroke-width="2"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                  ></line>\n                </g>\n                <polygon\n                  id="Fill-56"\n                  fill="#A5D1FE"\n                  fill-rule="nonzero"\n                  points="0 185 335 185 335 175 0 175"\n                ></polygon>\n              </g>\n            </g>\n          </svg>\n          <h1\n            class="p-t-16 p-b-16 text-center text-medium"\n            ngNonBindable\n            translate\n            [translateParams]="{ appName: options.name | humanizeAppName | async }"\n          >\n            Welcome to {{ appName }}\n          </h1>\n          <p class="lead text-normal" translate *ngIf="hasRole">\n            This application (or any plugin that you added recently) has pre-requirements that needs\n            to be configured first. This wizard will guide you through the steps that are necessary\n            to get your customized application up and running.\n          </p>\n          <div class="flex-grow" *ngIf="properties.length > 0">\n            <c8y-properties-list\n              icon="info"\n              [properties]="properties"\n              [data]="options"\n              [title]="\'Application properties\' | translate"\n            ></c8y-properties-list>\n          </div>\n          <div class="alert alert-danger m-32" *ngIf="!hasRole">\n            <strong translate>No permission</strong>\n            <div translate>\n              You don\'t have sufficient rights to setup this application. Contact an application\n              administrator to setup the required steps.\n            </div>\n          </div>\n          <div class="alert alert-danger m-32" *ngIf="!isOwner">\n            <strong translate>Not the owner</strong>\n            <div translate>\n              The current application is not owned by this tenant. Clone the application before\n              running the setup.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="card-footer separator d-flex j-c-center">\n    <button\n      class="btn"\n      (click)="skip()"\n      translate\n      *ngIf="canSkip"\n      [title]="\n        \'You can skip the setup now. It will be shown again as soon as you restart the application.\'\n          | translate\n      "\n    >\n      Skip\n    </button>\n\n    <button\n      class="btn btn-primary"\n      (click)="start()"\n      translate\n      [disabled]="!hasRole || !isOwner"\n      [title]="\'Start the setup wizard.\' | translate"\n    >\n      Start\n    </button>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Gi},{type:ps},{type:Hi},{type:ka},{type:Ho},{type:ys}]}});var Wc=function(){function e(t){bi(this,e),this.cookieBannerService=t,this.closeSubject=new a.Subject,this.title="Cookie preferences",this.labels={ok:"Save settings",cancel:"Cancel"},this.status=Fa.INFO}var t;return Ci(e,[{key:"ngOnInit",value:function(){this.configCookiePreferencesList=this.cookieBannerService.transformCookiePreferencesToList(this.configCookiePreferences)}},{key:"ngAfterViewInit",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.modalRef.result;case 3:this.onClose(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.onDismiss();case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return t.apply(this,arguments)})},{key:"onClose",value:function(){var e=this.cookieBannerService.transformCookiePreferencesListToCookiePreferences(this.configCookiePreferencesList);this.closeSubject.next(e),this.closeSubject.complete()}},{key:"onDismiss",value:function(){this.closeSubject.next(void 0),this.closeSubject.complete()}},{key:"getCookieDescription",value:function(e){return this.cookieBannerService.getCookieDescription(e)}}]),e}();Wc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wc,deps:[{token:pa}],target:r["ɵɵFactoryTarget"].Component}),Wc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Wc,selector:"c8y-cookie-banner-preferences-modal",viewQueries:[{propertyName:"modalRef",first:!0,predicate:["modalRef"],descendants:!0}],ngImport:i,template:'<c8y-confirm-modal [title]="title" [status]="status" [labels]="labels" #modalRef>\n\n  <div *ngFor="let item of configCookiePreferencesList" class="row p-t-8 p-b-8 separator-top">\n    <div class="col-xs-2">\n      <div class="text-center">\n        <label class="c8y-switch">\n          <input\n            name="{{ item.name }}"\n            type="checkbox"\n            [(ngModel)]="item.value"\n            [disabled]="item.isReadonly"\n          />\n          <span></span>\n        </label>\n      </div>\n    </div>\n    <div class="col-xs-10">\n      <h4 class="text-medium">\n        {{ item.name | translate | humanize }}\n      </h4>\n      <p>\n        {{ getCookieDescription(item.name) | translate }}\n      </p>\n    </div>\n  </div>\n</c8y-confirm-modal>\n',dependencies:[{kind:"directive",type:De.CheckboxControlValueAccessor,selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"component",type:bs,selector:"c8y-confirm-modal",inputs:["title","body","confirmOptions","status","labels"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Ro,name:"humanize"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wc,decorators:[{type:r.Component,args:[{selector:"c8y-cookie-banner-preferences-modal",template:'<c8y-confirm-modal [title]="title" [status]="status" [labels]="labels" #modalRef>\n\n  <div *ngFor="let item of configCookiePreferencesList" class="row p-t-8 p-b-8 separator-top">\n    <div class="col-xs-2">\n      <div class="text-center">\n        <label class="c8y-switch">\n          <input\n            name="{{ item.name }}"\n            type="checkbox"\n            [(ngModel)]="item.value"\n            [disabled]="item.isReadonly"\n          />\n          <span></span>\n        </label>\n      </div>\n    </div>\n    <div class="col-xs-10">\n      <h4 class="text-medium">\n        {{ item.name | translate | humanize }}\n      </h4>\n      <p>\n        {{ getCookieDescription(item.name) | translate }}\n      </p>\n    </div>\n  </div>\n</c8y-confirm-modal>\n'}]}],ctorParameters:function(){return[{type:pa}]},propDecorators:{modalRef:[{type:r.ViewChild,args:["modalRef",{static:!1}]}]}});var Kc=function(){function e(t,n){bi(this,e),this.bsModalService=t,this.cookieBannerService=n,this.shouldDisable=!1}return Ci(e,[{key:"ngOnInit",value:function(){this.settings=this.cookieBannerService.getCookieBannerSettings(),this.cookiePreferences=this.cookieBannerService.getCookiePreferencesConfig(),this.shouldShowCookieBanner()}},{key:"onConfigurePreferences",value:function(){var e=this;this.disableButtons(!0);var t={configCookiePreferences:this.cookiePreferences};this.bsModalService.show(Wc,{initialState:t}).content.closeSubject.subscribe((function(t){e.disableButtons(!1),t&&(e.cookieBannerService.setCookies(t),e.setCookieBannerVisibility(!1))}))}},{key:"acceptCookies",value:function(){this.cookieBannerService.setCookies(this.cookiePreferences||{required:!0}),this.setCookieBannerVisibility(!1)}},{key:"rejectCookies",value:function(){this.cookieBannerService.setCookies({required:!0,functional:!1,marketing:!1}),this.setCookieBannerVisibility(!1)}},{key:"shouldShowCookieBanner",value:function(){this.setCookieBannerVisibility(this.cookieBannerService.shouldShowCookieBanner())}},{key:"disableButtons",value:function(e){this.shouldDisable=e}},{key:"setCookieBannerVisibility",value:function(e){this.showBanner=e,this.cookieBannerService.isCookieBannerShowed$.next(e)}}]),e}();Kc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kc,deps:[{token:xe.BsModalService},{token:pa}],target:r["ɵɵFactoryTarget"].Component}),Kc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Kc,selector:"c8y-cookie-banner",ngImport:i,template:'<div class="c8y-cookie-banner">\n  <div class="container">\n    <div class="row p-t-16 p-b-16" *ngIf="showBanner">\n      <div class="col-md-2" *ngIf="settings.cookieBannerTitle">\n        <h3>{{ settings.cookieBannerTitle | translate }}</h3>\n        <div class="p-b-16 visible-sm visible-xs"></div>\n      </div>\n      <div class="col-md-7">\n        <div class="cookie-banner-content text-pre-line">\n          {{ settings.cookieBannerText | translate }}\n          <a href="{{ settings.policyUrl }}" target="_blank" *ngIf="settings.policyUrl" class="text-primary">\n            {{ \'See also our Privacy Notice.\' | translate }}\n          </a>\n        </div>\n      </div>\n      <div class="col-md-3">\n        <div class="row">\n          <div class="col-sm-6 col-md-12">\n            <div class="p-b-16 visible-sm visible-xs"></div>\n            <button\n              class="btn btn-primary btn-block"\n              (click)="acceptCookies()"\n              [disabled]="shouldDisable"\n            >\n              {{ \'Agree and proceed\' | translate }}\n            </button>\n          </div>\n          <div class="col-sm-6 col-md-12" *ngIf="!!cookiePreferences">\n            <div class="p-b-16"></div>\n            <button\n              class="btn btn-primary btn-block"\n              (click)="rejectCookies()"\n              [disabled]="shouldDisable"\n            >\n              {{ \'Reject all\' | translate }}\n            </button>\n          </div>\n          <div class="col-sm-6 col-md-12" *ngIf="!!cookiePreferences">\n            <div class="p-b-16"></div>\n            <button\n              class="btn btn-default btn-block"\n              (click)="onConfigurePreferences()"\n              [disabled]="shouldDisable"\n            >\n              {{ \'Configure preferences\' | translate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kc,decorators:[{type:r.Component,args:[{selector:"c8y-cookie-banner",template:'<div class="c8y-cookie-banner">\n  <div class="container">\n    <div class="row p-t-16 p-b-16" *ngIf="showBanner">\n      <div class="col-md-2" *ngIf="settings.cookieBannerTitle">\n        <h3>{{ settings.cookieBannerTitle | translate }}</h3>\n        <div class="p-b-16 visible-sm visible-xs"></div>\n      </div>\n      <div class="col-md-7">\n        <div class="cookie-banner-content text-pre-line">\n          {{ settings.cookieBannerText | translate }}\n          <a href="{{ settings.policyUrl }}" target="_blank" *ngIf="settings.policyUrl" class="text-primary">\n            {{ \'See also our Privacy Notice.\' | translate }}\n          </a>\n        </div>\n      </div>\n      <div class="col-md-3">\n        <div class="row">\n          <div class="col-sm-6 col-md-12">\n            <div class="p-b-16 visible-sm visible-xs"></div>\n            <button\n              class="btn btn-primary btn-block"\n              (click)="acceptCookies()"\n              [disabled]="shouldDisable"\n            >\n              {{ \'Agree and proceed\' | translate }}\n            </button>\n          </div>\n          <div class="col-sm-6 col-md-12" *ngIf="!!cookiePreferences">\n            <div class="p-b-16"></div>\n            <button\n              class="btn btn-primary btn-block"\n              (click)="rejectCookies()"\n              [disabled]="shouldDisable"\n            >\n              {{ \'Reject all\' | translate }}\n            </button>\n          </div>\n          <div class="col-sm-6 col-md-12" *ngIf="!!cookiePreferences">\n            <div class="p-b-16"></div>\n            <button\n              class="btn btn-default btn-block"\n              (click)="onConfigurePreferences()"\n              [disabled]="shouldDisable"\n            >\n              {{ \'Configure preferences\' | translate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:xe.BsModalService},{type:pa}]}});var Yc=function(){function e(t,n,r,i,o,c,l,d){var p=this;bi(this,e),this.tabs=t,this.ui=n,this.navigator=r,this.actionBar=i,this.headerService=o,this.options=c,this.pluginsResolve=l,this.setupService=d,this.showPoweredBy=!0,this.noLogin=!1,this.destroy$=new a.Subject,this.noAppsMargin$=this.headerService.map((function(e){var t=e.nav;return!t.open&&t.hiddenOnStartup})),this.tabsOrientation=this.options.tabsHorizontal?"horizontal":"vertical",this.ui.map((function(e){return e.lang})).pipe((0,s.takeUntil)(this.destroy$),(0,s.distinctUntilChanged)()).subscribe((function(){p.actionBar.refresh()})),this.showPoweredBy=!this.options.get("hidePowered"),this.noLogin=this.options.get("noLogin",!1)}var t,n;return Ci(e,[{key:"ngOnInit",value:(n=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.subscribeToLoadRemotes();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getRemotes",value:function(e){var t;return null!=e&&e.remotes?this.pluginsResolve.mergeMFRemotes([e.remotes,this.pluginsResolve.loadUrlRemotes()]):null===(t=this.options)||void 0===t?void 0:t.remotes}},{key:"loadRemotes",value:(t=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.pluginsResolve.loadRemotes(t);case 4:if(!(n=e.sent).length){e.next=8;break}return e.next=8,this.pluginsResolve.resolveRemotePlugins(n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"subscribeToLoadRemotes",value:function(){var e=this;this.options.get("noPlugins",!1)||this.ui.currentApplicationConfig.pipe((0,s.takeUntil)(this.destroy$),(0,s.filter)((function(e){return!!e})),(0,s.take)(1)).subscribe((function(t){return e.loadRemotes(e.getRemotes(t))}))}}]),e}();Yc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yc,deps:[{token:Xa},{token:Hi},{token:Ta},{token:Vi},{token:Va},{token:Gi},{token:hs},{token:ys}],target:r["ɵɵFactoryTarget"].Component}),Yc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Yc,selector:"c8y-bootstrap",ngImport:i,template:'<c8y-login *ngIf="!noLogin && !(ui.currentUser | async)"></c8y-login>\n\n<div\n  *ngIf="noLogin || ((ui.currentUser | async) && !(setupService.isSetupNeeded$ | async))"\n  [class.head-open]="headerService.headerOpen"\n>\n  <c8y-header-bar #header></c8y-header-bar>\n  <c8y-navigator-outlet\n    [nodes]="navigator.items$ | async"\n    [open]="headerService.navigatorOpen$ | async"\n  >\n    <header class="title navigator-slot-top">\n      <div class="tenant-brand"></div>\n      <c8y-app-icon\n        [name]="(ui.state$ | async).app.name"\n        [contextPath]="(ui.state$ | async).app.contextPath"\n      ></c8y-app-icon>\n      <span>{{ (ui.state$ | async).app | humanizeAppName | async }}</span>\n    </header>\n    <div class="powered-by navigator-slot-bottom" *ngIf="showPoweredBy">\n      <p translate>powered by Cumulocity</p>\n    </div>\n  </c8y-navigator-outlet>\n\n  <div class="alerts">\n    <c8y-alert-outlet></c8y-alert-outlet>\n  </div>\n  <c8y-tabs-outlet\n    #tabsComponent\n    [tabs]="tabs.items$ | async"\n    [navigatorOpen]="headerService.navigatorOpen$ | async"\n    [orientation]="tabs.orientation$ | async"\n  >\n  </c8y-tabs-outlet>\n  <c8y-action-bar\n    #actionBarComponent\n    [navigatorOpen]="headerService.navigatorOpen$ | async"\n    [hasTabs]="tabsComponent.hasTabs"\n    [isTabsHorizontal]="tabsComponent?.isHorizontal"\n    [items$]="actionBar.items$"\n  >\n  </c8y-action-bar>\n\n  <div\n    class="mcontainer"\n    [ngClass]="{\n      open: headerService.navigatorOpen$ | async,\n      \'no-apps-margin\': noAppsMargin$ | async,\n      \'horizontal-tabs\': tabsComponent.isHorizontal,\n      \'vertical-tabs\': !tabsComponent.isHorizontal,\n      \'has-tabs\': tabsComponent.hasTabs,\n      \'has-action-bar\': !actionBarComponent?.hidden\n    }"\n  >\n    <div class="container-fluid">\n      <router-outlet></router-outlet>\n      <ng-content select="#c8y-legacy-view"></ng-content>\n      \x3c!-- legacy ng-view, will not be migrated atm --\x3e\n    </div>\n  </div>\n</div>\n\n<div *ngIf="(ui.currentUser | async) && (setupService.isSetupNeeded$ | async)">\n  <c8y-header-bar [simple]="true"></c8y-header-bar>\n  <div class="mcontainer">\n    <div class="container-fluid">\n      <c8y-setup></c8y-setup>\n    </div>\n  </div>\n</div>\n\n<c8y-cookie-banner></c8y-cookie-banner>\n',dependencies:[{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:tc,selector:"c8y-header-bar",inputs:["simple"]},{kind:"component",type:Ys,selector:"c8y-app-icon",inputs:["contextPath","name","app"]},{kind:"component",type:Pc,selector:"c8y-login",inputs:["name"]},{kind:"directive",type:o.RouterOutlet,selector:"router-outlet",outputs:["activate","deactivate","attach","detach"],exportAs:["outlet"]},{kind:"component",type:Nc,selector:"c8y-tabs-outlet,c8y-ui-tabs",inputs:["tabs","orientation","navigatorOpen"]},{kind:"component",type:ga,selector:"c8y-action-bar",inputs:["navigatorOpen","hasTabs","isTabsHorizontal","items$"]},{kind:"component",type:wa,selector:"c8y-alert-outlet"},{kind:"component",type:Rc,selector:"c8y-navigator-outlet, c8y-ui-navigator",inputs:["nodes","open"]},{kind:"component",type:qc,selector:"c8y-setup"},{kind:"component",type:Kc,selector:"c8y-cookie-banner"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:Ao,name:"humanizeAppName"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yc,decorators:[{type:r.Component,args:[{selector:"c8y-bootstrap",template:'<c8y-login *ngIf="!noLogin && !(ui.currentUser | async)"></c8y-login>\n\n<div\n  *ngIf="noLogin || ((ui.currentUser | async) && !(setupService.isSetupNeeded$ | async))"\n  [class.head-open]="headerService.headerOpen"\n>\n  <c8y-header-bar #header></c8y-header-bar>\n  <c8y-navigator-outlet\n    [nodes]="navigator.items$ | async"\n    [open]="headerService.navigatorOpen$ | async"\n  >\n    <header class="title navigator-slot-top">\n      <div class="tenant-brand"></div>\n      <c8y-app-icon\n        [name]="(ui.state$ | async).app.name"\n        [contextPath]="(ui.state$ | async).app.contextPath"\n      ></c8y-app-icon>\n      <span>{{ (ui.state$ | async).app | humanizeAppName | async }}</span>\n    </header>\n    <div class="powered-by navigator-slot-bottom" *ngIf="showPoweredBy">\n      <p translate>powered by Cumulocity</p>\n    </div>\n  </c8y-navigator-outlet>\n\n  <div class="alerts">\n    <c8y-alert-outlet></c8y-alert-outlet>\n  </div>\n  <c8y-tabs-outlet\n    #tabsComponent\n    [tabs]="tabs.items$ | async"\n    [navigatorOpen]="headerService.navigatorOpen$ | async"\n    [orientation]="tabs.orientation$ | async"\n  >\n  </c8y-tabs-outlet>\n  <c8y-action-bar\n    #actionBarComponent\n    [navigatorOpen]="headerService.navigatorOpen$ | async"\n    [hasTabs]="tabsComponent.hasTabs"\n    [isTabsHorizontal]="tabsComponent?.isHorizontal"\n    [items$]="actionBar.items$"\n  >\n  </c8y-action-bar>\n\n  <div\n    class="mcontainer"\n    [ngClass]="{\n      open: headerService.navigatorOpen$ | async,\n      \'no-apps-margin\': noAppsMargin$ | async,\n      \'horizontal-tabs\': tabsComponent.isHorizontal,\n      \'vertical-tabs\': !tabsComponent.isHorizontal,\n      \'has-tabs\': tabsComponent.hasTabs,\n      \'has-action-bar\': !actionBarComponent?.hidden\n    }"\n  >\n    <div class="container-fluid">\n      <router-outlet></router-outlet>\n      <ng-content select="#c8y-legacy-view"></ng-content>\n      \x3c!-- legacy ng-view, will not be migrated atm --\x3e\n    </div>\n  </div>\n</div>\n\n<div *ngIf="(ui.currentUser | async) && (setupService.isSetupNeeded$ | async)">\n  <c8y-header-bar [simple]="true"></c8y-header-bar>\n  <div class="mcontainer">\n    <div class="container-fluid">\n      <c8y-setup></c8y-setup>\n    </div>\n  </div>\n</div>\n\n<c8y-cookie-banner></c8y-cookie-banner>\n'}]}],ctorParameters:function(){return[{type:Xa},{type:Hi},{type:Ta},{type:Vi},{type:Va},{type:Gi},{type:hs},{type:ys}]}});var Zc=Ci((function e(){bi(this,e)}));Zc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zc,deps:[],target:r["ɵɵFactoryTarget"].Component}),Zc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Zc,selector:"c8y-breadcrumb-item",inputs:{icon:"icon",translate:"translate",label:"label",path:"path"},viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0}],ngImport:i,template:"<ng-template #template>\n  <ng-content></ng-content>\n</ng-template>"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zc,decorators:[{type:r.Component,args:[{selector:"c8y-breadcrumb-item",template:"<ng-template #template>\n  <ng-content></ng-content>\n</ng-template>"}]}],propDecorators:{icon:[{type:r.Input}],translate:[{type:r.Input}],label:[{type:r.Input}],path:[{type:r.Input}],template:[{type:r.ViewChild,args:["template",{static:!1}]}]}});var Qc=function(){function e(t){bi(this,e),this.breadcrumbService=t}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.items=this.contentChildItems.toArray(),this.viewInitTimeout=setTimeout((function(){return e.breadcrumbService.add(e)}))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.viewInitTimeout),this.breadcrumbService.remove(this)}}]),e}();Qc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qc,deps:[{token:Ba}],target:r["ɵɵFactoryTarget"].Component}),Qc.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Qc,selector:"c8y-breadcrumb",queries:[{propertyName:"contentChildItems",predicate:Zc}],ngImport:i,template:"<ng-template>\n  <ng-content></ng-content>\n</ng-template>"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qc,decorators:[{type:r.Component,args:[{selector:"c8y-breadcrumb",template:"<ng-template>\n  <ng-content></ng-content>\n</ng-template>"}]}],ctorParameters:function(){return[{type:Ba}]},propDecorators:{contentChildItems:[{type:r.ContentChildren,args:[Zc]}]}});var Xc=Ci((function e(){bi(this,e)}));Xc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xc,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Xc.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Xc,declarations:[Qc,Zc,Ws],imports:[o.RouterModule,da,T.TooltipModule],exports:[Qc,Zc,Ws]}),Xc.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xc,imports:[o.RouterModule.forChild([]),da,T.TooltipModule.forRoot()]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xc,decorators:[{type:r.NgModule,args:[{declarations:[Qc,Zc,Ws],imports:[o.RouterModule.forChild([]),da,T.TooltipModule.forRoot()],exports:[Qc,Zc,Ws]}]}]});var Jc=Ci((function e(){bi(this,e)}));Jc.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jc,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Jc.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Jc,declarations:[Rc,Mc,Ac],imports:[o.RouterModule,l.CollapseModule,da,cc],exports:[Rc,Mc]}),Jc.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jc,imports:[o.RouterModule,l.CollapseModule.forRoot(),da,cc]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jc,decorators:[{type:r.NgModule,args:[{declarations:[Rc,Mc,Ac],imports:[o.RouterModule,l.CollapseModule.forRoot(),da,cc],exports:[Rc,Mc],entryComponents:[Ac]}]}]});var el=Ci((function e(t,n,r,i){var o=this;bi(this,e),this.appState=t,this.gainsightService=n,this.cookieBannerService=r,this.userPreferencesService=i,(0,a.combineLatest)([this.appState.currentTenant.pipe((0,s.filter)(Boolean)),this.cookieBannerService.isCookieBannerShowed$,this.userPreferencesService.observe(this.gainsightService.USER_PREFERENCES_GAINSIGHT_BOT_KEY)]).subscribe(function(){var e=ui((function(e){var t=ii(e,3),n=t[0],r=t[1],a=t[2];return di().mark((function e(){var t;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:if(t=n.customProperties,e.t0=o.gainsightService.shouldLoadGainsightTag(t),!e.t0){e.next=8;break}return e.next=7,o.gainsightService.isGainsightPreferenceDisabledInUserPreferences(o.gainsightService.USER_PREFERENCES_GAINSIGHT_KEY);case 7:e.t0=!e.sent;case 8:if(!e.t0){e.next=10;break}o.gainsightService.loadTag(n);case 10:void 0===a&&(a=!0,i.set(o.gainsightService.USER_PREFERENCES_GAINSIGHT_BOT_KEY,a)),o.gainsightService.switchKnowledgeHubBotVisibility(a);case 12:case"end":return e.stop()}}),e)}))()}));return function(t){return e.apply(this,arguments)}}())}));el.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:el,deps:[{token:Hi},{token:ua},{token:pa},{token:aa}],target:r["ɵɵFactoryTarget"].NgModule}),el.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:el,declarations:[Qs],exports:[Qs]}),el.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:el,providers:[ua]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:el,decorators:[{type:r.NgModule,args:[{declarations:[Qs],exports:[Qs],providers:[ua]}]}],ctorParameters:function(){return[{type:Hi},{type:ua},{type:pa},{type:aa}]}});var tl=function(){function e(t){bi(this,e),this.searchService=t,this.icon="search",this.priority=0,this.search=new r.EventEmitter,this.term=""}return Ci(e,[{key:"onSearch",value:function(){this.search.emit(this)}},{key:"ngAfterViewInit",value:function(){var e=this;this.template=void 0,this.viewInitTimeout=setTimeout((function(){return e.searchService.add(e)}))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.viewInitTimeout),this.searchService.remove(this)}}]),e}();tl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tl,deps:[{token:ss}],target:r["ɵɵFactoryTarget"].Component}),tl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:tl,selector:"c8y-search",inputs:{name:"name",icon:"icon",priority:"priority",term:"term"},outputs:{search:"search"},viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0}],ngImport:i,template:"<ng-template #template>\n  <ng-content></ng-content>\n</ng-template>"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tl,decorators:[{type:r.Component,args:[{selector:"c8y-search",template:"<ng-template #template>\n  <ng-content></ng-content>\n</ng-template>"}]}],ctorParameters:function(){return[{type:ss}]},propDecorators:{name:[{type:r.Input}],icon:[{type:r.Input}],priority:[{type:r.Input}],template:[{type:r.ViewChild,args:["template",{static:!1}]}],search:[{type:r.Output}],term:[{type:r.Input}]}});var nl=function(){function e(){bi(this,e),this.pattern="",this.text="",this.elementClass="text-info",this.shouldTrimPattern=!1,this.highlightedText=""}return Ci(e,[{key:"ngOnChanges",value:function(){var e,t=(0,c.escape)(this.text||""),n=this.shouldTrimPattern?null===(e=this.pattern)||void 0===e?void 0:e.trim():this.pattern,r=(0,c.escape)(n||""),i=(0,c.escapeRegExp)(r).replace(/\\\*/g,".*");this.highlightedText=t.replace(new RegExp(i,"i"),'<strong class="'.concat(this.elementClass,'">$&</strong>'))}}]),e}();nl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nl,deps:[],target:r["ɵɵFactoryTarget"].Component}),nl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:nl,selector:"c8y-highlight",inputs:{pattern:"pattern",text:"text",elementClass:"elementClass",shouldTrimPattern:"shouldTrimPattern"},viewQueries:[{propertyName:"container",first:!0,predicate:["text"],descendants:!0,read:r.ElementRef,static:!0}],usesOnChanges:!0,ngImport:i,template:'<span [innerHTML]="highlightedText"></span>',isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nl,decorators:[{type:r.Component,args:[{selector:"c8y-highlight",template:'<span [innerHTML]="highlightedText"></span>'}]}],propDecorators:{container:[{type:r.ViewChild,args:["text",{read:r.ElementRef,static:!0}]}],pattern:[{type:r.Input}],text:[{type:r.Input}],elementClass:[{type:r.Input}],shouldTrimPattern:[{type:r.Input}]}});var rl=function(){function e(){bi(this,e),this.NO_RESULT_FOUND="No results found.",this.msg=this.NO_RESULT_FOUND}return Ci(e,[{key:"_message",set:function(e){e&&e.length>0?this.msg=e:this.msg=this.NO_RESULT_FOUND}},{key:"message",get:function(){return this.msg}}]),e}();rl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:rl,deps:[],target:r["ɵɵFactoryTarget"].Component}),rl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:rl,selector:"c8y-search-result-empty",inputs:{_message:["message","_message"]},ngImport:i,template:'<div class="no-results">\n  <div class="c8y-empty-state">\n    <h1 c8yIcon="search"></h1>\n    <div class="p-t-8">\n      <p><strong>{{ message | translate }}</strong></p>\n      <small translate>Refine your search terms.</small>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:rl,decorators:[{type:r.Component,args:[{selector:"c8y-search-result-empty",template:'<div class="no-results">\n  <div class="c8y-empty-state">\n    <h1 c8yIcon="search"></h1>\n    <div class="p-t-8">\n      <p><strong>{{ message | translate }}</strong></p>\n      <small translate>Refine your search terms.</small>\n    </div>\n  </div>\n</div>\n'}]}],propDecorators:{_message:[{type:r.Input,args:["message"]}]}});var il=function(){function e(t){bi(this,e),this.gainsightService=t,this.click=new r.EventEmitter}return Ci(e,[{key:"onClick",value:function(e){var t,n,r=e.closest("[title]")||e.closest("[uib-tooltip]");if(r){var i=(null===(t=this.productExperienceEvent)||void 0===t?void 0:t.eventName)||"listItemAction",o=r.getAttribute("title")||r.getAttribute("uib-tooltip"),a=this.gainsightService.translateToEnglish(o),s=(0,c.assignWith)(null===(n=this.productExperienceEvent)||void 0===n?void 0:n.data,{url:r.baseURI,action:a},(function(e,t){return null!=t?t:e}));this.gainsightService.triggerEvent(i,s)}}}]),e}();il.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:il,deps:[{token:ua}],target:r["ɵɵFactoryTarget"].Component}),il.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:il,selector:"c8y-list-item-action, c8y-li-action",inputs:{label:"label",icon:"icon"},outputs:{click:"click"},host:{listeners:{click:"onClick($event.target)"}},providers:[{provide:Zs,useExisting:(0,r.forwardRef)((function(){return il}))}],viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0}],ngImport:i,template:'<ng-template #template>\n  <li>\n    <button title="{{ label | translate }}" (click)="click.emit($event)">\n      <i [c8yIcon]="icon" *ngIf="icon"></i>&nbsp;\n      <span *ngIf="label">{{ label | translate }}</span>\n      <ng-content></ng-content>\n    </button>\n  </li>\n</ng-template>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:il,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-action, c8y-li-action",providers:[{provide:Zs,useExisting:(0,r.forwardRef)((function(){return il}))}],template:'<ng-template #template>\n  <li>\n    <button title="{{ label | translate }}" (click)="click.emit($event)">\n      <i [c8yIcon]="icon" *ngIf="icon"></i>&nbsp;\n      <span *ngIf="label">{{ label | translate }}</span>\n      <ng-content></ng-content>\n    </button>\n  </li>\n</ng-template>\n'}]}],ctorParameters:function(){return[{type:ua}]},propDecorators:{template:[{type:r.ViewChild,args:["template",{static:!1}]}],label:[{type:r.Input}],icon:[{type:r.Input}],click:[{type:r.Output}],onClick:[{type:r.HostListener,args:["click",["$event.target"]]}]}});var ol=Ci((function e(){bi(this,e),this.collapseWay="button"}));ol.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ol,deps:[],target:r["ɵɵFactoryTarget"].Component}),ol.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ol,selector:"c8y-list-item-collapse, c8y-li-collapse",inputs:{collapseWay:"collapseWay"},ngImport:i,template:"<ng-content></ng-content>\n"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ol,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-collapse, c8y-li-collapse",template:"<ng-content></ng-content>\n"}]}],propDecorators:{collapseWay:[{type:r.Input}]}});var al=Ci((function e(){bi(this,e)}));al.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:al,deps:[],target:r["ɵɵFactoryTarget"].Component}),al.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:al,selector:"c8y-list-item-footer, c8y-li-footer",inputs:{footer:"footer"},ngImport:i,template:'<span *ngIf="footer">{{footer}}</span>\n<ng-content></ng-content>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:al,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-footer, c8y-li-footer",template:'<span *ngIf="footer">{{footer}}</span>\n<ng-content></ng-content>\n'}]}],propDecorators:{footer:[{type:r.Input}]}});var sl=function(){function e(t){bi(this,e),this.element=t,this.active=!1,this.emptyActions=!1,this.collapsed=!0,this.selectable=!0,this.collapsedChange=new r.EventEmitter,this.showFooter=!1,this.showActions=!1,this.showCollapse=!1,this.dropdownUp=!1,this.pulse$=new a.Subject,this.destroy$=new a.Subject,this.ACTION_ITEM_HEIGHT=40}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;this.pulse$.pipe((0,s.filter)((function(e){return!!e})),(0,s.tap)((function(){return e.element.nativeElement.classList.remove("c8y-list--pulse")})),(0,s.delay)(100),(0,s.tap)((function(){return e.element.nativeElement.classList.add("c8y-list--pulse")})),(0,s.takeUntil)(this.destroy$)).subscribe()}},{key:"ngAfterContentChecked",value:function(){this.actions=this.itemActions.toArray(),this.showFooter=null!=this.itemFooter,this.showActions=this.itemActions.length>0,this.showCollapse=null!=this.itemCollapse}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"showDropdownUp",value:function(){var e=this.element.nativeElement.getBoundingClientRect().top+(1+this.itemActions.length)*this.ACTION_ITEM_HEIGHT<=window.innerHeight;this.dropdownUp=!e}},{key:"toggleCollapsed",value:function(e){e&&e.stopPropagation(),this.collapsed=!this.collapsed,this.collapsedChange.emit(this.collapsed)}},{key:"pulse",value:function(){this.pulse$.next(!0)}}]),e}();sl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:sl,deps:[{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Component}),sl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:sl,selector:"c8y-list-item, c8y-li",inputs:{active:"active",emptyActions:"emptyActions",collapsed:"collapsed",selectable:"selectable"},outputs:{collapsedChange:"collapsedChange"},host:{properties:{"class.active":"this.active","class.c8y-list__item--empty-actions":"this.emptyActions"},classAttribute:"c8y-list__item"},queries:[{propertyName:"itemFooter",first:!0,predicate:al,descendants:!0},{propertyName:"itemCollapse",first:!0,predicate:ol,descendants:!0},{propertyName:"itemActions",predicate:il}],ngImport:i,template:'<div [ngClass]="{ \'expanded\': !collapsed, interact: (itemCollapse && itemCollapse.collapseWay === \'row\')}">\n  <div class="c8y-list__item__block">\n    <ng-content select="c8y-list-item-drag-handle, c8y-li-drag-handle"></ng-content>\n    <ng-content select="c8y-list-item-radio, c8y-li-radio"></ng-content>\n    <ng-content select="c8y-list-item-checkbox, c8y-li-checkbox"></ng-content>\n\n    <ng-content select="c8y-list-item-icon, c8y-li-icon"></ng-content>\n\n    <div class="c8y-list__item__body text-truncate-wrap" (click)="(itemCollapse && itemCollapse.collapseWay === \'row\') && toggleCollapsed()">\n      <ng-content select="c8y-list-item-body, c8y-li-body"></ng-content>\n      <ng-content></ng-content>\n      <div class="c8y-list__item__footer" *ngIf="showFooter">\n        <ng-content select="c8y-list-item-footer, c8y-li-footer"></ng-content>\n      </div>\n    </div>\n\n    <div class="c8y-list__item__actions" *ngIf="(showCollapse && (itemCollapse && itemCollapse.collapseWay === \'button\')) || showActions">\n      <button\n        class="collapse-btn"\n        title="{{ \'Expand\' | translate }}"\n        type="button"\n        (click)="toggleCollapsed($event)"\n        [attr.aria-expanded]="!collapsed"\n        *ngIf="showCollapse && itemCollapse.collapseWay === \'button\'"\n      >\n        <i [c8yIcon]="\'chevron-down\'"></i>\n      </button>\n      <div\n        class="dropdown"\n        dropdown\n        [dropup]="dropdownUp"\n        *ngIf="showActions"\n        (onShown)="showDropdownUp()"\n      >\n        <button\n          class="dropdown-toggle c8y-dropdown"\n          dropdownToggle\n          title="{{ \'Actions\' | translate }}"\n          type="button"\n          aria-haspopup="true"\n        >\n          <i [c8yIcon]="\'ellipsis-v\'"></i>\n        </button>\n        <ul class="dropdown-menu dropdown-menu-right" *dropdownMenu>\n          <ng-content select="c8y-list-item-action, c8y-li-action"></ng-content>\n          <ng-container *ngFor="let action of actions">\n            <ng-container *ngTemplateOutlet="action.template"></ng-container>\n          </ng-container>\n        </ul>\n      </div>\n\n      <ng-content select="c8y-list-item-action, c8y-li-action" *ngIf="showActions"></ng-content>\n    </div>\n  </div>\n\n  <div *ngIf="showCollapse" [collapse]="collapsed" [isAnimated]="true">\n    <div class="c8y-list__item__collapse--container">\n      <ng-content select="c8y-list-item-collapse, c8y-li-collapse"></ng-content>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:l.CollapseDirective,selector:"[collapse]",inputs:["display","isAnimated","collapse"],outputs:["collapsed","collapses","expanded","expands"],exportAs:["bs-collapse"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:sl,decorators:[{type:r.Component,args:[{selector:"c8y-list-item, c8y-li",host:{class:"c8y-list__item"},template:'<div [ngClass]="{ \'expanded\': !collapsed, interact: (itemCollapse && itemCollapse.collapseWay === \'row\')}">\n  <div class="c8y-list__item__block">\n    <ng-content select="c8y-list-item-drag-handle, c8y-li-drag-handle"></ng-content>\n    <ng-content select="c8y-list-item-radio, c8y-li-radio"></ng-content>\n    <ng-content select="c8y-list-item-checkbox, c8y-li-checkbox"></ng-content>\n\n    <ng-content select="c8y-list-item-icon, c8y-li-icon"></ng-content>\n\n    <div class="c8y-list__item__body text-truncate-wrap" (click)="(itemCollapse && itemCollapse.collapseWay === \'row\') && toggleCollapsed()">\n      <ng-content select="c8y-list-item-body, c8y-li-body"></ng-content>\n      <ng-content></ng-content>\n      <div class="c8y-list__item__footer" *ngIf="showFooter">\n        <ng-content select="c8y-list-item-footer, c8y-li-footer"></ng-content>\n      </div>\n    </div>\n\n    <div class="c8y-list__item__actions" *ngIf="(showCollapse && (itemCollapse && itemCollapse.collapseWay === \'button\')) || showActions">\n      <button\n        class="collapse-btn"\n        title="{{ \'Expand\' | translate }}"\n        type="button"\n        (click)="toggleCollapsed($event)"\n        [attr.aria-expanded]="!collapsed"\n        *ngIf="showCollapse && itemCollapse.collapseWay === \'button\'"\n      >\n        <i [c8yIcon]="\'chevron-down\'"></i>\n      </button>\n      <div\n        class="dropdown"\n        dropdown\n        [dropup]="dropdownUp"\n        *ngIf="showActions"\n        (onShown)="showDropdownUp()"\n      >\n        <button\n          class="dropdown-toggle c8y-dropdown"\n          dropdownToggle\n          title="{{ \'Actions\' | translate }}"\n          type="button"\n          aria-haspopup="true"\n        >\n          <i [c8yIcon]="\'ellipsis-v\'"></i>\n        </button>\n        <ul class="dropdown-menu dropdown-menu-right" *dropdownMenu>\n          <ng-content select="c8y-list-item-action, c8y-li-action"></ng-content>\n          <ng-container *ngFor="let action of actions">\n            <ng-container *ngTemplateOutlet="action.template"></ng-container>\n          </ng-container>\n        </ul>\n      </div>\n\n      <ng-content select="c8y-list-item-action, c8y-li-action" *ngIf="showActions"></ng-content>\n    </div>\n  </div>\n\n  <div *ngIf="showCollapse" [collapse]="collapsed" [isAnimated]="true">\n    <div class="c8y-list__item__collapse--container">\n      <ng-content select="c8y-list-item-collapse, c8y-li-collapse"></ng-content>\n    </div>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:r.ElementRef}]},propDecorators:{active:[{type:r.Input},{type:r.HostBinding,args:["class.active"]}],emptyActions:[{type:r.Input},{type:r.HostBinding,args:["class.c8y-list__item--empty-actions"]}],collapsed:[{type:r.Input}],selectable:[{type:r.Input}],collapsedChange:[{type:r.Output}],itemFooter:[{type:r.ContentChild,args:[al,{static:!1}]}],itemActions:[{type:r.ContentChildren,args:[il]}],itemCollapse:[{type:r.ContentChild,args:[ol,{static:!1}]}]}});var cl=function(){function e(){bi(this,e)}return Ci(e,[{key:"expanded",get:function(){var e;return!(null!==(e=this.listItemComponent)&&void 0!==e&&e.collapsed)}}]),e}();cl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cl,deps:[],target:r["ɵɵFactoryTarget"].Component}),cl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:cl,selector:"c8y-list-item-timeline, c8y-li-timeline",host:{properties:{"class.expanded":"this.expanded"},classAttribute:"c8y-list--timeline__item"},queries:[{propertyName:"listItemComponent",first:!0,predicate:sl,descendants:!0}],ngImport:i,template:'<small class="c8y-list--timeline__item__date">\n  <ng-content></ng-content>\n</small>\n<ng-content select="c8y-li, c8y-list-item"></ng-content>\n'}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cl,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-timeline, c8y-li-timeline",host:{class:"c8y-list--timeline__item"},template:'<small class="c8y-list--timeline__item__date">\n  <ng-content></ng-content>\n</small>\n<ng-content select="c8y-li, c8y-list-item"></ng-content>\n'}]}],propDecorators:{listItemComponent:[{type:r.ContentChild,args:[sl,{static:!1}]}],expanded:[{type:r.HostBinding,args:["class.expanded"]}]}});var ll=function(){function e(){bi(this,e),this.timeline=!1}return Ci(e,[{key:"ngAfterContentChecked",value:function(){this.timeline=!!this.timelineComponent}}]),e}();ll.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ll,deps:[],target:r["ɵɵFactoryTarget"].Component}),ll.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ll,selector:"c8y-list-group",host:{properties:{"class.c8y-list--timeline":"this.timeline"},classAttribute:"c8y-list__group"},queries:[{propertyName:"timelineComponent",first:!0,predicate:cl,descendants:!0}],ngImport:i,template:"<ng-content></ng-content>\n\n"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ll,decorators:[{type:r.Component,args:[{selector:"c8y-list-group",host:{class:"c8y-list__group"},template:"<ng-content></ng-content>\n\n"}]}],propDecorators:{timeline:[{type:r.HostBinding,args:["class.c8y-list--timeline"]}],timelineComponent:[{type:r.ContentChild,args:[cl,{static:!1}]}]}});var dl=function(){function e(){bi(this,e),this.required=!1,this.disabled=!1,this.allowFreeEntries=!0,this.displayProperty="name",this.icon="caret-down",this.name=this.displayProperty,this.autoClose=!0,this.hideNew=!1,this.container="",this.selected={id:null},this.onSearch=new r.EventEmitter,this.onIconClick=new r.EventEmitter,this.KEYCODE_UP=38,this.KEYCODE_DOWN=40,this.KEYCODE_TAB=9,this.KEYCODE_ENTER=13,this.KEYCODE_ESC=27}return Ci(e,[{key:"writeValue",value:function(e){this.selected=e,e&&this.searchControl&&(this.searchControl.nativeElement.value=(0,c.get)(e,this.displayProperty,""))}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"doBlur",value:function(){this.onTouched&&this.onTouched()}},{key:"getDisplayProperty",value:function(){return(0,c.get)(this.selected,this.displayProperty,"")}},{key:"onShown",value:function(){this.searchControl.nativeElement.focus()}},{key:"reset",value:function(){this.searchControlModel.reset()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscription=(0,a.fromEvent)(this.searchControl.nativeElement,"keydown").pipe((0,s.map)((function(t){return e.handleKeyboard(t)})),(0,s.filter)((function(e){return e})),(0,s.debounceTime)(200),(0,s.map)((function(e){return e.target.value})),(0,s.distinctUntilChanged)()).subscribe((function(t){e.selected={id:null},(0,c.set)(e.selected,e.displayProperty,t||""),"function"==typeof e.onChange&&e.onChange(e.selected),e.onSearch.emit(t)}))}},{key:"handleKeyboard",value:function(e){var t=e.keyCode;if(![this.KEYCODE_ENTER,this.KEYCODE_DOWN,this.KEYCODE_TAB,this.KEYCODE_UP].includes(t))return t===this.KEYCODE_ESC&&this.autoClose?(e.stopPropagation(),this.dropdown.hide(),void this.searchControl.nativeElement.blur()):(this.dropdown.show(),e);var n=this.list.toArray(),r=(0,c.findIndex)(n,(function(e){return e.active}));if(t===this.KEYCODE_ENTER||t===this.KEYCODE_TAB)r>-1&&(e.preventDefault(),n[r].element.nativeElement.click()),this.dropdown.hide(),this.searchControl.nativeElement.blur();else{this.dropdown.show();var i=t===this.KEYCODE_DOWN?1:-1;r>-1&&(n[r].active=!1),this.selectNextItemOnKeyboardMove(n,r,i)}}},{key:"validate",value:function(e){return this.required&&!this.getDisplayProperty()?{required:!0}:!this.allowFreeEntries&&this.selected&&null===this.selected.id&&e.value[this.displayProperty]?{notExisting:!0}:null}},{key:"selectNextItemOnKeyboardMove",value:function(e,t,n){if(e[t+n]){if(!e[t+n].selectable)return void this.selectNextItemOnKeyboardMove(e,t+n,n);e[t+n].active=!0}}}]),e}();dl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dl,deps:[],target:r["ɵɵFactoryTarget"].Component}),dl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:dl,selector:"c8y-typeahead",inputs:{required:"required",maxlength:"maxlength",disabled:"disabled",allowFreeEntries:"allowFreeEntries",placeholder:"placeholder",displayProperty:"displayProperty",icon:"icon",name:"name",autoClose:"autoClose",hideNew:"hideNew",container:"container",selected:"selected"},outputs:{onSearch:"onSearch",onIconClick:"onIconClick"},providers:[{provide:De.NG_VALUE_ACCESSOR,multi:!0,useExisting:(0,r.forwardRef)((function(){return dl}))},{provide:De.NG_VALIDATORS,useExisting:(0,r.forwardRef)((function(){return dl})),multi:!0}],queries:[{propertyName:"list",predicate:sl}],viewQueries:[{propertyName:"searchControl",first:!0,predicate:["searchControl"],descendants:!0},{propertyName:"searchControlModel",first:!0,predicate:["searchControlModel"],descendants:!0},{propertyName:"dropdown",first:!0,predicate:["dropdown"],descendants:!0}],ngImport:i,template:'<div\n  class="c8y-search-dropdown dropdown fit-w"\n  dropdown\n  [container]="container"\n  placement="bottom left"\n  #dropdown="bs-dropdown"\n  [autoClose]="true"\n  (onShown)="onShown()"\n  [isDisabled]="disabled"\n>\n  <div class="input-group input-group-dropdown" dropdownToggle>\n    <input\n      #searchControl\n      #searchControlModel="ngModel"\n      type="text"\n      class="form-control text-truncate"\n      [ngClass]="{\'p-r-80\': !hideNew &&\n      (selected\n        ? selected.id === null && getDisplayProperty()?.length > 0 && allowFreeEntries\n        : false), \n        \'p-r-40\': hideNew || getDisplayProperty()?.length === 0\n        }"\n      [required]="required"\n      [ngModel]="selected ? getDisplayProperty() : \'\'"\n      [placeholder]="placeholder | translate"\n      (blur)="doBlur()"\n      [name]="name"\n      [maxlength]="maxlength"\n      [disabled]="disabled"\n      title="{{ placeholder | translate }}"\n    />\n    <span\n      class="label label-info p-absolute"\n      style="top: 10px; right: 40px; z-index: 10"\n      translate\n      *ngIf="\n        !hideNew &&\n        (selected\n          ? selected.id === null && getDisplayProperty()?.length > 0 && allowFreeEntries\n          : false)\n      "\n    >\n      New\n    </span>\n\n    <span class="input-group-btn">\n      <button\n        type="button"\n        class="btn btn-clean"\n        title="{{ \'Search\' | translate }}"\n        [disabled]="disabled"\n        (click)="onIconClick.emit({ icon, $event });"\n      >\n        <i [c8yIcon]="icon" class="text-primary"></i>\n      </button>\n    </span>\n  </div>\n\n  <c8y-list-group\n    class="dropdown-menu dropdown-menu--modal"\n    *dropdownMenu\n    [style.width]="container === \'body\' ? searchControl.clientWidth + \'px\' : undefined"\n  >\n    <ng-content select="div, c8y-li, c8y-list-item, button, a"></ng-content>\n  </c8y-list-group>\n</div>\n',dependencies:[{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:ll,selector:"c8y-list-group"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.MaxLengthValidator,selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",inputs:["maxlength"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dl,decorators:[{type:r.Component,args:[{selector:"c8y-typeahead",providers:[{provide:De.NG_VALUE_ACCESSOR,multi:!0,useExisting:(0,r.forwardRef)((function(){return dl}))},{provide:De.NG_VALIDATORS,useExisting:(0,r.forwardRef)((function(){return dl})),multi:!0}],template:'<div\n  class="c8y-search-dropdown dropdown fit-w"\n  dropdown\n  [container]="container"\n  placement="bottom left"\n  #dropdown="bs-dropdown"\n  [autoClose]="true"\n  (onShown)="onShown()"\n  [isDisabled]="disabled"\n>\n  <div class="input-group input-group-dropdown" dropdownToggle>\n    <input\n      #searchControl\n      #searchControlModel="ngModel"\n      type="text"\n      class="form-control text-truncate"\n      [ngClass]="{\'p-r-80\': !hideNew &&\n      (selected\n        ? selected.id === null && getDisplayProperty()?.length > 0 && allowFreeEntries\n        : false), \n        \'p-r-40\': hideNew || getDisplayProperty()?.length === 0\n        }"\n      [required]="required"\n      [ngModel]="selected ? getDisplayProperty() : \'\'"\n      [placeholder]="placeholder | translate"\n      (blur)="doBlur()"\n      [name]="name"\n      [maxlength]="maxlength"\n      [disabled]="disabled"\n      title="{{ placeholder | translate }}"\n    />\n    <span\n      class="label label-info p-absolute"\n      style="top: 10px; right: 40px; z-index: 10"\n      translate\n      *ngIf="\n        !hideNew &&\n        (selected\n          ? selected.id === null && getDisplayProperty()?.length > 0 && allowFreeEntries\n          : false)\n      "\n    >\n      New\n    </span>\n\n    <span class="input-group-btn">\n      <button\n        type="button"\n        class="btn btn-clean"\n        title="{{ \'Search\' | translate }}"\n        [disabled]="disabled"\n        (click)="onIconClick.emit({ icon, $event });"\n      >\n        <i [c8yIcon]="icon" class="text-primary"></i>\n      </button>\n    </span>\n  </div>\n\n  <c8y-list-group\n    class="dropdown-menu dropdown-menu--modal"\n    *dropdownMenu\n    [style.width]="container === \'body\' ? searchControl.clientWidth + \'px\' : undefined"\n  >\n    <ng-content select="div, c8y-li, c8y-list-item, button, a"></ng-content>\n  </c8y-list-group>\n</div>\n'}]}],propDecorators:{searchControl:[{type:r.ViewChild,args:["searchControl",{static:!1}]}],searchControlModel:[{type:r.ViewChild,args:["searchControlModel",{static:!1}]}],dropdown:[{type:r.ViewChild,args:["dropdown",{static:!1}]}],list:[{type:r.ContentChildren,args:[sl]}],required:[{type:r.Input}],maxlength:[{type:r.Input}],disabled:[{type:r.Input}],allowFreeEntries:[{type:r.Input}],placeholder:[{type:r.Input}],displayProperty:[{type:r.Input}],icon:[{type:r.Input}],name:[{type:r.Input}],autoClose:[{type:r.Input}],hideNew:[{type:r.Input}],container:[{type:r.Input}],selected:[{type:r.Input}],onSearch:[{type:r.Output}],onIconClick:[{type:r.Output}]}});var pl=function(){function e(t){bi(this,e),this.inventoryService=t,this.DEFAULT_PAGE_SIZE=50,this.queriesUtil=new g.QueriesUtil}return Ci(e,[{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{currentPage:1,pageSize:this.DEFAULT_PAGE_SIZE};return this.inventoryService.list({text:e,withTotalPages:!0,pageSize:t.pageSize,withChildren:!1,currentPage:t.currentPage||1})}},{key:"searchGroups",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{currentPage:1,pageSize:this.DEFAULT_PAGE_SIZE},n=this.getGroupsSearchFilterQuery(),r=this.queriesUtil.addAndFilter(n,{name:"*".concat(e,"*")});return this.inventoryService.listQuery(r,{withTotalPages:!0,pageSize:t.pageSize,withChildren:!1,currentPage:t.currentPage||1})}},{key:"filterOnlyGroups",value:function(e){return e.filter((function(e){return e.c8y_IsDeviceGroup||e.c8y_IsDynamicGroup}))}},{key:"getGroupsSearchFilterQuery",value:function(){return{__filter:{__and:[{__not:{__has:"c8y_IsDynamicGroup.invisible"}},{__or:[{__has:"c8y_IsDeviceGroup"},{__has:"c8y_IsDynamicGroup"}]}]}}}}]),e}();pl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pl,deps:[{token:g.InventoryService}],target:r["ɵɵFactoryTarget"].Injectable}),pl.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pl,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pl,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:g.InventoryService}]}});var ul,gl,hl,ml,fl=Ci((function e(){bi(this,e)}));fl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fl,deps:[],target:r["ɵɵFactoryTarget"].Component}),fl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:fl,selector:"c8y-list-item-icon, c8y-li-icon",inputs:{icon:"icon",status:"status"},host:{classAttribute:"c8y-list__item__icon"},ngImport:i,template:'<i [c8yIcon]="icon" [ngClass]="status" *ngIf="icon"></i>\n<ng-content></ng-content>',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fl,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-icon, c8y-li-icon",host:{class:"c8y-list__item__icon"},template:'<i [c8yIcon]="icon" [ngClass]="status" *ngIf="icon"></i>\n<ng-content></ng-content>'}]}],propDecorators:{icon:[{type:r.Input}],status:[{type:r.Input}]}}),function(e){e.AVAILABLE="AVAILABLE",e.UNAVAILABLE="UNAVAILABLE",e.UNKNOWN="UNKNOWN",e.MAINTENANCE="MAINTENANCE",e.NOT_MONITORED="NOT_MONITORED"}(ul||(ul={})),function(e){e.CONNECTED="CONNECTED",e.DISCONNECTED="DISCONNECTED",e.UNKNOWN="UNKNOWN",e.MAINTENANCE="MAINTENANCE"}(gl||(gl={})),function(e){e[e.AVAILABLE="Send connection: online"]="AVAILABLE",e[e.NOT_MONITORED="Send connection: not monitored"]="NOT_MONITORED",e[e.UNAVAILABLE="Send connection: offline"]="UNAVAILABLE",e[e.UNKNOWN="Send connection status unknown"]="UNKNOWN",e[e.MAINTENANCE="Device is under maintenance"]="MAINTENANCE"}(hl||(hl={})),function(e){e[e.CONNECTED="Push connection: active"]="CONNECTED",e[e.DISCONNECTED="Push connection: inactive"]="DISCONNECTED",e[e.UNKNOWN="Push connection: inactive"]="UNKNOWN",e[e.MAINTENANCE="Device is under maintenance"]="MAINTENANCE"}(ml||(ml={}));var yl={sendData:(Yr={},li(Yr,ul.AVAILABLE,{icon:"long-arrow-right",class:"statusOk"}),li(Yr,ul.UNAVAILABLE,{icon:"long-arrow-right",class:"statusNok"}),li(Yr,ul.UNKNOWN,{icon:"long-arrow-right",class:"statusUnknown"}),li(Yr,ul.NOT_MONITORED,{icon:"long-arrow-right",class:"statusUnknown"}),Yr),push:(Zr={},li(Zr,gl.CONNECTED,{icon:"long-arrow-left",class:"statusOk"}),li(Zr,gl.DISCONNECTED,{icon:"long-arrow-left",class:"statusUnknown"}),li(Zr,gl.UNKNOWN,{icon:"long-arrow-left",class:"statusUnknown"}),li(Zr,gl.MAINTENANCE,{icon:"wrench",class:"statusAlert"}),Zr),device:{MAINTENANCE:{icon:"wrench",class:"statusAlert"}}},vl={sendStatusConnected:function(e,t){var n=(0,u.formatDate)(new Date(e),"medium",t.currentLang||vo.defaultLang());return t.instant("Device last request:\n{{date}}",{date:n})},sendStatusDisconnected:"Connection not monitored",pushStatusConnected:"Connection to device established",pushStatusDisconnected:"Connection to device not established (not supported by device or no connectivity)",maintenance:"Device is under maintenance"},bl=function(){function e(t){bi(this,e),this.translateService=t}return Ci(e,[{key:"node",set:function(e){this._mo=e.mo||e}},{key:"get",value:function(){return this._mo}},{key:"ngOnChanges",value:function(){this.setStatusProperites()}},{key:"ngAfterContentInit",value:function(){this.setStatusProperites()}},{key:"setStatusProperites",value:function(){this.requiredAvailability=(0,c.get)(this._mo,"c8y_RequiredAvailability"),this.availabilityStatus=(0,c.get)(this._mo,"c8y_Availability.status"),this.pushStatus=(0,c.get)(this._mo,"c8y_Connection.status")||"UNKNOWN",this.sendStatus=this.availabilityStatus||(this.requiredAvailability?"UNKNOWN":"NOT_MONITORED")}},{key:"status",value:function(){return"MAINTENANCE"===this.availabilityStatus||"MAINTENANCE"===this.pushStatus?this.getMaintenanceStatus():this.getSendPushStatus()}},{key:"getMaintenanceStatus",value:function(){return{sendStatus:!1,pushStatus:!1,maintenanceStatus:{icon:yl.device.MAINTENANCE.icon,class:yl.device.MAINTENANCE.class,tooltip:vl.maintenance}}}},{key:"getSendPushStatus",value:function(){return{sendStatus:{icon:yl.sendData[this.sendStatus].icon,class:yl.sendData[this.sendStatus].class,status:this.sendStatus,label:hl[this.sendStatus],tooltip:this.getSendStatusTooltip(this._mo)},pushStatus:{icon:yl.push[this.pushStatus].icon,class:yl.push[this.pushStatus].class,status:this.pushStatus,label:ml[this.pushStatus],tooltip:this.getPushStatusTooltip("CONNECTED"===this.pushStatus)},maintenanceStatus:!1}}},{key:"getSendStatusTooltip",value:function(e){var t=e&&e.c8y_Availability,n=t&&t.lastMessage;return n?vl.sendStatusConnected(n,this.translateService):vl.sendStatusDisconnected}},{key:"getPushStatusTooltip",value:function(e){return e?vl.pushStatusConnected:vl.pushStatusDisconnected}}]),e}();bl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bl,deps:[{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Component}),bl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:bl,selector:"device-status",inputs:{node:["mo","node"]},usesOnChanges:!0,ngImport:i,template:'\x3c!-- ATTENTION: keep text format in `tooltip` attribute --\x3e\n<div class="statusContainer"\n    title="{{status().sendStatus.tooltip | translate}}\n{{status().pushStatus.tooltip | translate}}"\n    placement="left"\n   >\n    <div\n    *ngIf="!!status().sendStatus"\n    class="sendStatus"\n    [c8yIcon]="status().sendStatus.icon"\n    [ngClass]="status().sendStatus.class"\n    ></div>\n    <div\n    *ngIf="!!status().pushStatus"\n    class="pushStatus"\n    [c8yIcon]="status().pushStatus.icon"\n    [ngClass]="status().pushStatus.class"\n    >\n    </div>\n\n  <div *ngIf="!!status().maintenanceStatus"\n    class="maintenanceStatus"\n    tooltip="{{status().maintenanceStatus.tooltip | translate}}"\n    container="body"\n    placement="auto"\n    [c8yIcon]="status().maintenanceStatus.icon"\n    [ngClass]="status().maintenanceStatus.class"></div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:T.TooltipDirective,selector:"[tooltip], [tooltipHtml]",inputs:["adaptivePosition","tooltip","placement","triggers","container","containerClass","boundariesElement","isOpen","isDisabled","delay","tooltipHtml","tooltipPlacement","tooltipIsOpen","tooltipEnable","tooltipAppendToBody","tooltipAnimation","tooltipClass","tooltipContext","tooltipPopupDelay","tooltipFadeDuration","tooltipTrigger"],outputs:["tooltipChange","onShown","onHidden","tooltipStateChanged"],exportAs:["bs-tooltip"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bl,decorators:[{type:r.Component,args:[{selector:"device-status",template:'\x3c!-- ATTENTION: keep text format in `tooltip` attribute --\x3e\n<div class="statusContainer"\n    title="{{status().sendStatus.tooltip | translate}}\n{{status().pushStatus.tooltip | translate}}"\n    placement="left"\n   >\n    <div\n    *ngIf="!!status().sendStatus"\n    class="sendStatus"\n    [c8yIcon]="status().sendStatus.icon"\n    [ngClass]="status().sendStatus.class"\n    ></div>\n    <div\n    *ngIf="!!status().pushStatus"\n    class="pushStatus"\n    [c8yIcon]="status().pushStatus.icon"\n    [ngClass]="status().pushStatus.class"\n    >\n    </div>\n\n  <div *ngIf="!!status().maintenanceStatus"\n    class="maintenanceStatus"\n    tooltip="{{status().maintenanceStatus.tooltip | translate}}"\n    container="body"\n    placement="auto"\n    [c8yIcon]="status().maintenanceStatus.icon"\n    [ngClass]="status().maintenanceStatus.class"></div>\n</div>\n'}]}],ctorParameters:function(){return[{type:ye.TranslateService}]},propDecorators:{node:[{type:r.Input,args:["mo"]}]}});var kl=function(){function e(t,n,i,o){bi(this,e),this.router=t,this.inventory=n,this.inventorySearchService=i,this.cd=o,this.mode="search",this.enableCustomTemplatePlaceholder=!1,this.container="",this.groupsOnly=!1,this.filter=new r.EventEmitter,this.search=new r.EventEmitter,this.reset=new r.EventEmitter,this.onClick=new r.EventEmitter,this.deviceType=Mo,this.term="",this.recentSearchResults=[],this.isLoading=!1,this.noMatch=!1,this.RECENT_SEARCH_STORAGE_KEY="recent_search_view",this.MAX_RECENT_SEARCH_RESULTS=5,this.DEFAULT_FILTER={withTotalPages:!0,pageSize:5,withChildren:!1},this.KEYCODE_ENTER="Enter",this.KEYCODE_ESC="Escape",this.onDestroy$=new a.Subject}var t;return Ci(e,[{key:"customDataQuery",set:function(e){e&&(this.customQuery=e)}},{key:"ngOnInit",value:(t=ui(di().mark((function e(){var t,n,r,i=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=JSON.parse(localStorage.getItem(this.RECENT_SEARCH_STORAGE_KEY)))&&t.length>0)){e.next=8;break}return e.next=4,this.inventory.list({ids:t.join(",")});case 4:n=e.sent,r=n.data,this.recentSearchResults=this.groupsOnly?this.inventorySearchService.filterOnlyGroups(r):r,this.recentlyRegisteredResults$=(0,a.defer)((function(){return i.inventory.list(ci({q:"$orderby=creationTime desc"},i.DEFAULT_FILTER))}));case 8:"select"===this.mode&&requestAnimationFrame((function(){i.subscribeOnSearch()})),this.externalTerm&&this.externalTerm.pipe((0,s.takeUntil)(this.onDestroy$)).subscribe((function(e){null!==e?i.typeahead.onSearch.emit(e):i.typeahead.onSearch.emit(i.term)}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onKeydownHandler",value:function(e){e.key===this.KEYCODE_ESC&&this.hideDropdown()}},{key:"onOpenChange",value:function(e){var t=this;e&&requestAnimationFrame((function(){t.subscribeOnSearch(),t.typeahead.dropdown.show(),t.typeahead.searchControl.nativeElement.focus()}))}},{key:"open",value:function(e,t,n){e.stopPropagation(),this.recentSearchResults.find((function(e){return e.id===t.id}))||(this.recentSearchResults.unshift(t),this.recentSearchResults=this.recentSearchResults.slice(0,this.MAX_RECENT_SEARCH_RESULTS));var r=this.recentSearchResults.map((function(e){return e.id}));localStorage.setItem(this.RECENT_SEARCH_STORAGE_KEY,JSON.stringify(r)),n&&(this.selected=t,this.term=n),this.onClick.emit(t),this.hideDropdown()}},{key:"onReset",value:function(e){e.$event.stopPropagation(),this.reset.emit(this.selected),this.typeahead.onSearch.emit(""),this.selected=void 0,this.typeahead.searchControl.nativeElement.focus()}},{key:"keyDown",value:function(e){if(e.key===this.KEYCODE_ENTER){var t=e.target.value;this.onSearch(t)}}},{key:"onSearch",value:function(e){this.search.emit(e),this.hideDropdown()}},{key:"onFilter",value:function(e){this.filter.emit(e),this.hideDropdown()}},{key:"onOpenAssetTable",value:function(){this.router.navigateByUrl("/assetsearch"),this.hideDropdown()}},{key:"ngOnDestroy",value:function(){this.onDestroy$&&(this.onDestroy$.next(),this.onDestroy$.complete())}},{key:"hideDropdown",value:function(){this.dropdown?this.dropdown.hide():this.typeahead&&this.typeahead.dropdown&&this.typeahead.dropdown.hide()}},{key:"subscribeOnSearch",value:function(){var e=this;this.results$||(this.results$=this.typeahead.onSearch.pipe((0,s.tap)((function(t){return e.onTypingStarted(t)})),(0,s.switchMap)((function(t){return e.mergeRequest(t)})),(0,s.tap)((function(){return e.cd.detectChanges()}))))}},{key:"mergeRequest",value:function(e){var t=this;return(0,a.merge)((0,a.of)({data:[]}),this.handleQuery(e).pipe((0,s.tap)((function(e){var n=e.data,r=e.paging;return t.onLoadingDone(n,r)}))))}},{key:"handleQuery",value:function(e){var t=this;return e?this.customQuery?(0,a.defer)((function(){return t.customQuery(e)})):(0,a.defer)((function(){return t.groupsOnly?t.inventorySearchService.searchGroups(e):t.inventorySearchService.search(e)})):(0,a.empty)()}},{key:"onLoadingDone",value:function(e,t){this.isLoading=!1,this.noMatch=t&&null===t.nextPage&&0===e.length}},{key:"onTypingStarted",value:function(e){this.noMatch=!1,this.term=e,this.isLoading=e.length>0}}]),e}();kl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:kl,deps:[{token:o.Router},{token:g.InventoryService},{token:pl},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Component}),kl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:kl,selector:"c8y-search-input",inputs:{mode:"mode",enableCustomTemplatePlaceholder:"enableCustomTemplatePlaceholder",externalTerm:"externalTerm",customDataQuery:"customDataQuery",container:"container",groupsOnly:"groupsOnly"},outputs:{filter:"filter",search:"search",reset:"reset",onClick:"onClick"},host:{listeners:{"document:keydown":"onKeydownHandler($event)"}},viewQueries:[{propertyName:"typeahead",first:!0,predicate:dl,descendants:!0},{propertyName:"dropdown",first:!0,predicate:["dropdown"],descendants:!0}],ngImport:i,template:'<div\n  class="dropdown"\n  dropdown\n  #dropdown="bs-dropdown"\n  [insideClick]="true"\n  (isOpenChange)="onOpenChange($event)"\n  *ngIf="mode === \'search\'"\n>\n  <button\n    class="main-header-button dropdown-toggle c8y-dropdown"\n    dropdownToggle\n    type="button"\n    [title]="\'Search\' | translate"\n    aria-controls="searchDropdown"\n  >\n    <i c8yIcon="search" class="icon-2x"></i>\n  </button>\n\n  <div\n    id="searchDropdown"\n    *dropdownMenu\n    class="search-header-menu dropdown-menu dropdown-menu-right"\n  >\n    <ng-container *ngTemplateOutlet="form"></ng-container>\n  </div>\n</div>\n\n<div class="search-header-inline" *ngIf="mode === \'select\'">\n  <ng-container *ngTemplateOutlet="form"></ng-container>\n</div>\n<ng-template #form>\n  <form [ngClass]="{ \'c8y-search-form\': mode === \'search\' }" novalidate #searchForm="ngForm">\n    <c8y-typeahead\n      [(ngModel)]="selected"\n      placeholder="{{ \'Search for groups or assets…\' | translate }}"\n      (keydown)="keyDown($event)"\n      (onIconClick)="onReset($event)"\n      [icon]="term ? \'times\' : \'search\'"\n      [allowFreeEntries]="false"\n      [container]="container"\n      name="selected"\n    >\n      <div\n        *ngIf="enableCustomTemplatePlaceholder && mode === \'search\'"\n        class="c8y-list__item p-l-24 p-r-24 p-b-8 separator-bottom sticky-top p-t-4"\n      >\n        <ng-content></ng-content>\n      </div>\n\n      \x3c!-- filter buttons --\x3e\n      <c8y-li *ngIf="term.length !== 0" class="p-l-16 p-r-16">\n        <div class="flex-row" *ngIf="mode === \'search\'">\n          <p class="m-r-4 text-muted">\n            <em translate>Searching by exact match. Click for other search options:</em>\n          </p>\n          <div class="btn-group btn-group-sm">\n            <button\n              class="btn btn-default"\n              title="{{ \'Starts with\' | translate }}"\n              (click)="onFilter(term + \'*\')"\n            >\n              {{ \'Starts with\' | translate }}\n            </button>\n            <button\n              class="btn btn-default"\n              title="{{ \'Contains\' | translate }}"\n              (click)="onFilter(\'*\' + term + \'*\')"\n            >\n              {{ \'Contains\' | translate }}\n            </button>\n            <button\n              class="btn btn-default"\n              title="{{ \'Ends with\' | translate }}"\n              (click)="onFilter(\'*\' + term)"\n            >\n              {{ \'Ends with\' | translate }}\n            </button>\n          </div>\n        </div>\n      </c8y-li>\n\n      \x3c!-- Recent search --\x3e\n      <c8y-li\n        *ngIf="term.length === 0 && recentSearchResults.length > 0"\n        [selectable]="false"\n        class="p-l-24 p-r-24"\n      >\n        <div class="legend form-block">\n          <span translate>Recent search views</span>\n        </div>\n      </c8y-li>\n      <c8y-li\n        *ngFor="let result of term.length === 0 ? recentSearchResults : []"\n        class="c8y-list__item--link m-l-16 m-r-16"\n        (click)="open($event, result, result.name)"\n      >\n        <c8y-li-icon>\n          <ng-container *ngIf="result | shouldShowMo: deviceType.DEVICE; else group">\n            <device-status [mo]="result"></device-status>\n          </ng-container>\n          <ng-template #group>\n            <i [c8yIcon]="result | getGroupIcon" class="c8y-icon-duocolor"></i>\n          </ng-template>\n        </c8y-li-icon>\n        {{ result.name || \'--\' }}\n      </c8y-li>\n\n      \x3c!-- Recently registered devices --\x3e\n      <c8y-li\n        *ngIf="term.length === 0 && (recentlyRegisteredResults$ | async)?.data?.length > 0 && !groupsOnly"\n        class="p-l-24 p-r-24"\n        [selectable]="false"\n      >\n        <div class="legend form-block">\n          <span translate>Recently registered devices</span>\n        </div>\n      </c8y-li>\n      <c8y-li\n        *c8yFor="\n          let result of (term.length === 0 && !groupsOnly) ? recentlyRegisteredResults$ : { data: [] };\n          loadMore: \'none\';\n        "\n        class="c8y-list__item--link m-l-16 m-r-16"\n        (click)="open($event, result, result.name)"\n      >\n        <c8y-li-icon>\n          <ng-container *ngIf="result | shouldShowMo: deviceType.DEVICE; else group">\n            <device-status [mo]="result"></device-status>\n          </ng-container>\n          <ng-template #group>\n            <i [c8yIcon]="result | getGroupIcon" class="c8y-icon-duocolor"></i>\n          </ng-template>\n        </c8y-li-icon>\n        {{ result.name || \'--\' }}\n      </c8y-li>\n\n      \x3c!-- Search results --\x3e\n      <c8y-li *ngIf="term.length !== 0" class="p-l-24 p-r-24" [selectable]="false">\n        <div class="legend form-block">\n          <span translate>Search results</span>\n        </div>\n      </c8y-li>\n      <c8y-li\n        *c8yFor="\n          let result of results$;\n          loadMore: \'auto\';\n          notFound: notFoundTemplate;\n          loadingTemplate: loading;\n          loadNextLabel: \'Find more…\'\n        "\n        class="c8y-list__item--link m-l-16 m-r-16"\n        (click)="open($event, result, result.name)"\n        [title]="result.name"\n      >\n        <c8y-li-icon>\n          <ng-container *ngIf="result | shouldShowMo: deviceType.DEVICE; else group">\n            <device-status [mo]="result"></device-status>\n          </ng-container>\n          <ng-template #group>\n            <i [c8yIcon]="result | getGroupIcon" class="c8y-icon-duocolor"></i>\n          </ng-template>\n        </c8y-li-icon>\n        {{ result.name || \'--\' }}\n      </c8y-li>\n\n      \x3c!-- No search results found entry --\x3e\n      <ng-template #notFoundTemplate>\n        <c8y-li *ngIf="noMatch" class="p-16 c8y-empty-state" [selectable]="false">\n          <c8y-li-icon [icon]="\'search\'"></c8y-li-icon>\n          <p><strong translate>No match found.</strong></p>\n          <small translate *ngIf="mode === \'search\'">\n            Try to filter or open the asset grid to show all devices and groups.\n          </small>\n          <small translate *ngIf="mode === \'select\'">Try to rephrase your search word.</small>\n        </c8y-li>\n      </ng-template>\n\n      \x3c!-- loading bar first entries --\x3e\n      <c8y-li *ngIf="isLoading" class="p-t-32 p-b-0" style="position: relative">\n        <div class="spinner" style="right: 0">\n          <div class="rect1"></div>\n          <div class="rect2"></div>\n          <div class="rect3"></div>\n          <div class="rect4"></div>\n          <div class="rect5"></div>\n        </div>\n      </c8y-li>\n\n      \x3c!-- loading bar for loading more entries (inventory roles) --\x3e\n      <ng-template #loading>\n        <c8y-li class="text-center p-t-32 p-b-0" style="position: relative">\n          <div class="spinner" style="right: 0">\n            <div class="rect1"></div>\n            <div class="rect2"></div>\n            <div class="rect3"></div>\n            <div class="rect4"></div>\n            <div class="rect5"></div>\n          </div>\n        </c8y-li>\n      </ng-template>\n\n      \x3c!-- more filter possibilities --\x3e\n      <c8y-li\n        class="m-t-24 bg-gray-lighter p-t-16 p-b-16 p-l-24 p-r-24"\n        [selectable]="false"\n        *ngIf="mode === \'search\'"\n      >\n        <div class="flex-row">\n          <i c8yIcon="info-circle" class="text-info m-r-4"></i>\n          <p translate class="m-r-8">Need more filter possibilities?</p>\n          <button\n            type="button"\n            class="m-l-auto btn btn-default btn-sm"\n            translate\n            (mousedown)="onOpenAssetTable()"\n          >\n            Go to the asset data table\n          </button>\n        </div>\n      </c8y-li>\n    </c8y-typeahead>\n  </form>\n</ng-template>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:No,selector:"[c8yFor]",inputs:["c8yForOf","c8yForLoadMore","c8yForPipe","c8yForNotFound","c8yForMaxIterations","c8yForLoadingTemplate","c8yForLoadNextLabel","c8yForRealtime","c8yForRealtimeOptions","c8yForComparator","c8yForEnableVirtualScroll","c8yForVirtualScrollElementSize","c8yForVirtualScrollStrategy","c8yForVirtualScrollContainerHeight"],outputs:["c8yForCount"]},{kind:"component",type:dl,selector:"c8y-typeahead",inputs:["required","maxlength","disabled","allowFreeEntries","placeholder","displayProperty","icon","name","autoClose","hideNew","container","selected"],outputs:["onSearch","onIconClick"]},{kind:"component",type:sl,selector:"c8y-list-item, c8y-li",inputs:["active","emptyActions","collapsed","selectable"],outputs:["collapsedChange"]},{kind:"component",type:fl,selector:"c8y-list-item-icon, c8y-li-icon",inputs:["icon","status"]},{kind:"component",type:bl,selector:"device-status",inputs:["mo"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:Go,name:"shouldShowMo"},{kind:"pipe",type:zo,name:"getGroupIcon"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:kl,decorators:[{type:r.Component,args:[{selector:"c8y-search-input",template:'<div\n  class="dropdown"\n  dropdown\n  #dropdown="bs-dropdown"\n  [insideClick]="true"\n  (isOpenChange)="onOpenChange($event)"\n  *ngIf="mode === \'search\'"\n>\n  <button\n    class="main-header-button dropdown-toggle c8y-dropdown"\n    dropdownToggle\n    type="button"\n    [title]="\'Search\' | translate"\n    aria-controls="searchDropdown"\n  >\n    <i c8yIcon="search" class="icon-2x"></i>\n  </button>\n\n  <div\n    id="searchDropdown"\n    *dropdownMenu\n    class="search-header-menu dropdown-menu dropdown-menu-right"\n  >\n    <ng-container *ngTemplateOutlet="form"></ng-container>\n  </div>\n</div>\n\n<div class="search-header-inline" *ngIf="mode === \'select\'">\n  <ng-container *ngTemplateOutlet="form"></ng-container>\n</div>\n<ng-template #form>\n  <form [ngClass]="{ \'c8y-search-form\': mode === \'search\' }" novalidate #searchForm="ngForm">\n    <c8y-typeahead\n      [(ngModel)]="selected"\n      placeholder="{{ \'Search for groups or assets…\' | translate }}"\n      (keydown)="keyDown($event)"\n      (onIconClick)="onReset($event)"\n      [icon]="term ? \'times\' : \'search\'"\n      [allowFreeEntries]="false"\n      [container]="container"\n      name="selected"\n    >\n      <div\n        *ngIf="enableCustomTemplatePlaceholder && mode === \'search\'"\n        class="c8y-list__item p-l-24 p-r-24 p-b-8 separator-bottom sticky-top p-t-4"\n      >\n        <ng-content></ng-content>\n      </div>\n\n      \x3c!-- filter buttons --\x3e\n      <c8y-li *ngIf="term.length !== 0" class="p-l-16 p-r-16">\n        <div class="flex-row" *ngIf="mode === \'search\'">\n          <p class="m-r-4 text-muted">\n            <em translate>Searching by exact match. Click for other search options:</em>\n          </p>\n          <div class="btn-group btn-group-sm">\n            <button\n              class="btn btn-default"\n              title="{{ \'Starts with\' | translate }}"\n              (click)="onFilter(term + \'*\')"\n            >\n              {{ \'Starts with\' | translate }}\n            </button>\n            <button\n              class="btn btn-default"\n              title="{{ \'Contains\' | translate }}"\n              (click)="onFilter(\'*\' + term + \'*\')"\n            >\n              {{ \'Contains\' | translate }}\n            </button>\n            <button\n              class="btn btn-default"\n              title="{{ \'Ends with\' | translate }}"\n              (click)="onFilter(\'*\' + term)"\n            >\n              {{ \'Ends with\' | translate }}\n            </button>\n          </div>\n        </div>\n      </c8y-li>\n\n      \x3c!-- Recent search --\x3e\n      <c8y-li\n        *ngIf="term.length === 0 && recentSearchResults.length > 0"\n        [selectable]="false"\n        class="p-l-24 p-r-24"\n      >\n        <div class="legend form-block">\n          <span translate>Recent search views</span>\n        </div>\n      </c8y-li>\n      <c8y-li\n        *ngFor="let result of term.length === 0 ? recentSearchResults : []"\n        class="c8y-list__item--link m-l-16 m-r-16"\n        (click)="open($event, result, result.name)"\n      >\n        <c8y-li-icon>\n          <ng-container *ngIf="result | shouldShowMo: deviceType.DEVICE; else group">\n            <device-status [mo]="result"></device-status>\n          </ng-container>\n          <ng-template #group>\n            <i [c8yIcon]="result | getGroupIcon" class="c8y-icon-duocolor"></i>\n          </ng-template>\n        </c8y-li-icon>\n        {{ result.name || \'--\' }}\n      </c8y-li>\n\n      \x3c!-- Recently registered devices --\x3e\n      <c8y-li\n        *ngIf="term.length === 0 && (recentlyRegisteredResults$ | async)?.data?.length > 0 && !groupsOnly"\n        class="p-l-24 p-r-24"\n        [selectable]="false"\n      >\n        <div class="legend form-block">\n          <span translate>Recently registered devices</span>\n        </div>\n      </c8y-li>\n      <c8y-li\n        *c8yFor="\n          let result of (term.length === 0 && !groupsOnly) ? recentlyRegisteredResults$ : { data: [] };\n          loadMore: \'none\';\n        "\n        class="c8y-list__item--link m-l-16 m-r-16"\n        (click)="open($event, result, result.name)"\n      >\n        <c8y-li-icon>\n          <ng-container *ngIf="result | shouldShowMo: deviceType.DEVICE; else group">\n            <device-status [mo]="result"></device-status>\n          </ng-container>\n          <ng-template #group>\n            <i [c8yIcon]="result | getGroupIcon" class="c8y-icon-duocolor"></i>\n          </ng-template>\n        </c8y-li-icon>\n        {{ result.name || \'--\' }}\n      </c8y-li>\n\n      \x3c!-- Search results --\x3e\n      <c8y-li *ngIf="term.length !== 0" class="p-l-24 p-r-24" [selectable]="false">\n        <div class="legend form-block">\n          <span translate>Search results</span>\n        </div>\n      </c8y-li>\n      <c8y-li\n        *c8yFor="\n          let result of results$;\n          loadMore: \'auto\';\n          notFound: notFoundTemplate;\n          loadingTemplate: loading;\n          loadNextLabel: \'Find more…\'\n        "\n        class="c8y-list__item--link m-l-16 m-r-16"\n        (click)="open($event, result, result.name)"\n        [title]="result.name"\n      >\n        <c8y-li-icon>\n          <ng-container *ngIf="result | shouldShowMo: deviceType.DEVICE; else group">\n            <device-status [mo]="result"></device-status>\n          </ng-container>\n          <ng-template #group>\n            <i [c8yIcon]="result | getGroupIcon" class="c8y-icon-duocolor"></i>\n          </ng-template>\n        </c8y-li-icon>\n        {{ result.name || \'--\' }}\n      </c8y-li>\n\n      \x3c!-- No search results found entry --\x3e\n      <ng-template #notFoundTemplate>\n        <c8y-li *ngIf="noMatch" class="p-16 c8y-empty-state" [selectable]="false">\n          <c8y-li-icon [icon]="\'search\'"></c8y-li-icon>\n          <p><strong translate>No match found.</strong></p>\n          <small translate *ngIf="mode === \'search\'">\n            Try to filter or open the asset grid to show all devices and groups.\n          </small>\n          <small translate *ngIf="mode === \'select\'">Try to rephrase your search word.</small>\n        </c8y-li>\n      </ng-template>\n\n      \x3c!-- loading bar first entries --\x3e\n      <c8y-li *ngIf="isLoading" class="p-t-32 p-b-0" style="position: relative">\n        <div class="spinner" style="right: 0">\n          <div class="rect1"></div>\n          <div class="rect2"></div>\n          <div class="rect3"></div>\n          <div class="rect4"></div>\n          <div class="rect5"></div>\n        </div>\n      </c8y-li>\n\n      \x3c!-- loading bar for loading more entries (inventory roles) --\x3e\n      <ng-template #loading>\n        <c8y-li class="text-center p-t-32 p-b-0" style="position: relative">\n          <div class="spinner" style="right: 0">\n            <div class="rect1"></div>\n            <div class="rect2"></div>\n            <div class="rect3"></div>\n            <div class="rect4"></div>\n            <div class="rect5"></div>\n          </div>\n        </c8y-li>\n      </ng-template>\n\n      \x3c!-- more filter possibilities --\x3e\n      <c8y-li\n        class="m-t-24 bg-gray-lighter p-t-16 p-b-16 p-l-24 p-r-24"\n        [selectable]="false"\n        *ngIf="mode === \'search\'"\n      >\n        <div class="flex-row">\n          <i c8yIcon="info-circle" class="text-info m-r-4"></i>\n          <p translate class="m-r-8">Need more filter possibilities?</p>\n          <button\n            type="button"\n            class="m-l-auto btn btn-default btn-sm"\n            translate\n            (mousedown)="onOpenAssetTable()"\n          >\n            Go to the asset data table\n          </button>\n        </div>\n      </c8y-li>\n    </c8y-typeahead>\n  </form>\n</ng-template>\n'}]}],ctorParameters:function(){return[{type:o.Router},{type:g.InventoryService},{type:pl},{type:r.ChangeDetectorRef}]},propDecorators:{mode:[{type:r.Input}],enableCustomTemplatePlaceholder:[{type:r.Input}],externalTerm:[{type:r.Input}],customDataQuery:[{type:r.Input}],container:[{type:r.Input}],groupsOnly:[{type:r.Input}],filter:[{type:r.Output}],search:[{type:r.Output}],reset:[{type:r.Output}],onClick:[{type:r.Output}],typeahead:[{type:r.ViewChild,args:[dl,{static:!1}]}],dropdown:[{type:r.ViewChild,args:["dropdown",{static:!1}]}],onKeydownHandler:[{type:r.HostListener,args:["document:keydown",["$event"]]}]}});var Cl=function(){function e(){bi(this,e),this.placeholder="Select item",this.applyLabel="Apply",this.disableApplyOnNoSelection=!1,this.onChange=new r.EventEmitter,this.textFilter="",this.labelText="",this.isOpen=!1,this.filteredItems=[],this.searchFilter=null,this.sizeToShowFilter=5,this.labelsForSelectAll={all:"All",allFiltered:"All filtered"},this.showAllLabel=!1,this.itemsSelected=new Set,this.stopClicks=!1}return Ci(e,[{key:"preventClick",value:function(e){this.stopClicks&&e.stopPropagation(),this.stopClicks=this.isOpen}},{key:"isOpenChange",value:function(e){this.isOpen=e,e?(this.updateSelected(),this.searchFilter=null):this.stopClicks=!1}},{key:"outterSelected",value:function(e){var t=this.selected,n=function(){return!1};return"function"==typeof t?n=t:Array.isArray(t)&&(n=function(e){return t.indexOf(e)>-1}),n(e)}},{key:"isSelected",value:function(e){return this.itemsSelected.has(e)}},{key:"isAllItemsSelected",value:function(){return this.itemsSelected.size===this.items.length}},{key:"isAllFilteredSelected",value:function(){return this.itemsSelected.size===this.filteredItems.length}},{key:"isNoItemSelected",value:function(){return!this.itemsSelected.size}},{key:"applyChanges",value:function(){var e=Array.from(this.itemsSelected.values());this.onChange.emit(e),this.dropdown.hide()}},{key:"selectAll",value:function(e){var t=this;this.filteredItems.forEach((function(n){return t.onChangeItem(e,n)}))}},{key:"ngOnInit",value:function(){var e=this;this.updateItems&&this.updateItems.subscribe((function(){e.updateSelected(),e.updateLabel(),e.showAllLabel=e.isAllItemsSelected()}))}},{key:"onChangeItem",value:function(e,t){e?this.itemsSelected.add(t):this.itemsSelected.delete(t)}},{key:"updateFiltered",value:function(e){if(e){var t=new RegExp(e,"i");this.filteredItems=this.items.filter((function(e){var n=e.name;return t.test(n)}))}else this.filteredItems=this.items}},{key:"getSelectAllToggleStatus",value:function(){var e=this.getLabel(),t=this.isAllSelected();return{label:e,checked:t,indeterminate:!t&&this.itemsSelected.size>0}}},{key:"ngOnChanges",value:function(e){this.isOpen||(e.items||e.selected||e.applyLabel)&&(this.updateSelected(),this.updateLabel(),this.showAllLabel=this.isAllItemsSelected())}},{key:"ngOnDestroy",value:function(){this.updateItems&&!this.updateItems.closed&&this.updateItems.unsubscribe()}},{key:"updateLabel",value:function(){var e=this,t=this.items.filter((function(t){return e.outterSelected(t)}));"string"==typeof this.selectedLabel?this.labelText=this.selectedLabel:"function"==typeof this.selectedLabel?this.labelText=this.selectedLabel(t):this.labelText=t.map((function(e){return e.name})).join(", ")}},{key:"updateSelected",value:function(){var e=this,t=this.itemsSelected,n=this.items;t.clear(),n.forEach((function(n){e.outterSelected(n)&&t.add(n)})),this.filteredItems=n}},{key:"isAllSelected",value:function(){return this.getLabel()===this.labelsForSelectAll.allFiltered?this.isAllFilteredSelected():this.isAllItemsSelected()}},{key:"getLabel",value:function(){return this.searchFilter?this.labelsForSelectAll.allFiltered:this.labelsForSelectAll.all}}]),e}();Cl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cl,deps:[],target:r["ɵɵFactoryTarget"].Component}),Cl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Cl,selector:"c8y-select",inputs:{placeholder:"placeholder",selectedLabel:"selectedLabel",applyLabel:"applyLabel",items:"items",selected:"selected",updateItems:"updateItems",disableApplyOnNoSelection:"disableApplyOnNoSelection"},outputs:{onChange:"onChange"},host:{listeners:{click:"preventClick($event)"}},queries:[{propertyName:"liChildren",predicate:sl}],viewQueries:[{propertyName:"dropdown",first:!0,predicate:d.BsDropdownDirective,descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<div\n  class="c8y-child-assets-selector dropdown fit-w"\n  (isOpenChange)="isOpenChange($event)"\n  dropdown\n  #dropdown\n  c8yDropdownDirection\n  px-event="Select type"\n>\n  <button\n    type="button"\n    class="btn dropdown-toggle c8y-dropdown"\n    title="{{ labelText || placeholder | translate }}"\n    dropdownToggle\n  >\n    <span class="text-truncate" *ngIf="labelText">\n      <ng-container *ngIf="showAllLabel">{{ \'All\' | translate }}</ng-container>\n      <ng-container *ngIf="!showAllLabel">{{ labelText | translate }}</ng-container>\n    </span>\n    <span class="text-truncate text-muted" *ngIf="!labelText">\n      {{ placeholder | translate }}\n    </span>\n  </button>\n\n  <ul class="dropdown-menu multiselect-container" *dropdownMenu>\n    <ng-content select="c8y-li"></ng-content>\n    <ng-container *ngIf="liChildren.length === 0">\n      <li *ngIf="items.length > sizeToShowFilter" class="multiselect-item">\n        <div class="input-group input-group-search">\n          <input\n            type="search"\n            class="form-control"\n            placeholder="{{ \'Filter\' | translate }}…"\n            (keyup)="updateFiltered($event.target.value)"\n            [(ngModel)]="searchFilter"\n          />\n          <span class="input-group-addon">\n            <i c8yIcon="search" *ngIf="!textFilter"></i>\n            <i c8yIcon="times" class="text-muted" *ngIf="textFilter" (click)="textFilter = \'\'"></i>\n          </span>\n        </div>\n      </li>\n\n      <li class="multiselect-item">\n        <label\n          [title]="getSelectAllToggleStatus().label | translate"\n          class="c8y-checkbox input-sm"\n          ng-click="vm.toggleSelectAll(); $event.preventDefault()"\n        >\n          <input\n            type="checkbox"\n            [checked]="getSelectAllToggleStatus().checked"\n            (change)="selectAll($event.target.checked)"\n            [indeterminate]="getSelectAllToggleStatus().indeterminate"\n            class="m-t-0"\n          />\n          <span></span>\n          <span class="label-text">\n            {{ getSelectAllToggleStatus().label | translate }}\n          </span>\n        </label>\n      </li>\n\n      <li>\n        <ul class="list-unstyled">\n          <li class="multiselect-item" *ngFor="let item of filteredItems">\n            <label title="{{ item.name | translate }}" class="c8y-checkbox input-sm text-truncate">\n              <input\n                type="checkbox"\n                [checked]="isSelected(item)"\n                (change)="onChangeItem($event.target.checked, item)"\n                class="m-t-0"\n              />\n              <span></span>\n              <span class="label-text">\n                {{ item.name | translate }}\n              </span>\n            </label>\n          </li>\n        </ul>\n      </li>\n      <li class="divider"></li>\n      <li class="bg-white">\n        <button\n          title="{{ applyLabel | translate }}"\n          class="btn btn-primary btn-block"\n          [disabled]="disableApplyOnNoSelection && isNoItemSelected()"\n          (click)="applyChanges()"\n        >\n          {{ applyLabel | translate }}\n        </button>\n      </li>\n    </ng-container>\n  </ul>\n</div>\n',dependencies:[{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:Io,selector:"[dropdown][c8yBsDropdownDirection],[dropdown][c8yDropdownDirection]"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cl,decorators:[{type:r.Component,args:[{selector:"c8y-select",template:'<div\n  class="c8y-child-assets-selector dropdown fit-w"\n  (isOpenChange)="isOpenChange($event)"\n  dropdown\n  #dropdown\n  c8yDropdownDirection\n  px-event="Select type"\n>\n  <button\n    type="button"\n    class="btn dropdown-toggle c8y-dropdown"\n    title="{{ labelText || placeholder | translate }}"\n    dropdownToggle\n  >\n    <span class="text-truncate" *ngIf="labelText">\n      <ng-container *ngIf="showAllLabel">{{ \'All\' | translate }}</ng-container>\n      <ng-container *ngIf="!showAllLabel">{{ labelText | translate }}</ng-container>\n    </span>\n    <span class="text-truncate text-muted" *ngIf="!labelText">\n      {{ placeholder | translate }}\n    </span>\n  </button>\n\n  <ul class="dropdown-menu multiselect-container" *dropdownMenu>\n    <ng-content select="c8y-li"></ng-content>\n    <ng-container *ngIf="liChildren.length === 0">\n      <li *ngIf="items.length > sizeToShowFilter" class="multiselect-item">\n        <div class="input-group input-group-search">\n          <input\n            type="search"\n            class="form-control"\n            placeholder="{{ \'Filter\' | translate }}…"\n            (keyup)="updateFiltered($event.target.value)"\n            [(ngModel)]="searchFilter"\n          />\n          <span class="input-group-addon">\n            <i c8yIcon="search" *ngIf="!textFilter"></i>\n            <i c8yIcon="times" class="text-muted" *ngIf="textFilter" (click)="textFilter = \'\'"></i>\n          </span>\n        </div>\n      </li>\n\n      <li class="multiselect-item">\n        <label\n          [title]="getSelectAllToggleStatus().label | translate"\n          class="c8y-checkbox input-sm"\n          ng-click="vm.toggleSelectAll(); $event.preventDefault()"\n        >\n          <input\n            type="checkbox"\n            [checked]="getSelectAllToggleStatus().checked"\n            (change)="selectAll($event.target.checked)"\n            [indeterminate]="getSelectAllToggleStatus().indeterminate"\n            class="m-t-0"\n          />\n          <span></span>\n          <span class="label-text">\n            {{ getSelectAllToggleStatus().label | translate }}\n          </span>\n        </label>\n      </li>\n\n      <li>\n        <ul class="list-unstyled">\n          <li class="multiselect-item" *ngFor="let item of filteredItems">\n            <label title="{{ item.name | translate }}" class="c8y-checkbox input-sm text-truncate">\n              <input\n                type="checkbox"\n                [checked]="isSelected(item)"\n                (change)="onChangeItem($event.target.checked, item)"\n                class="m-t-0"\n              />\n              <span></span>\n              <span class="label-text">\n                {{ item.name | translate }}\n              </span>\n            </label>\n          </li>\n        </ul>\n      </li>\n      <li class="divider"></li>\n      <li class="bg-white">\n        <button\n          title="{{ applyLabel | translate }}"\n          class="btn btn-primary btn-block"\n          [disabled]="disableApplyOnNoSelection && isNoItemSelected()"\n          (click)="applyChanges()"\n        >\n          {{ applyLabel | translate }}\n        </button>\n      </li>\n    </ng-container>\n  </ul>\n</div>\n'}]}],propDecorators:{placeholder:[{type:r.Input}],selectedLabel:[{type:r.Input}],applyLabel:[{type:r.Input}],items:[{type:r.Input}],selected:[{type:r.Input}],updateItems:[{type:r.Input}],disableApplyOnNoSelection:[{type:r.Input}],onChange:[{type:r.Output}],dropdown:[{type:r.ViewChild,args:[d.BsDropdownDirective,{static:!1}]}],liChildren:[{type:r.ContentChildren,args:[sl]}],preventClick:[{type:r.HostListener,args:["click",["$event"]]}]}});var Il=Ci((function e(){bi(this,e)}));Il.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Il,deps:[],target:r["ɵɵFactoryTarget"].Component}),Il.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Il,selector:"c8y-list-item-body, c8y-li-body",inputs:{body:"body"},ngImport:i,template:'<span *ngIf="body">{{body}}</span>\n<ng-content></ng-content>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Il,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-body, c8y-li-body",template:'<span *ngIf="body">{{body}}</span>\n<ng-content></ng-content>\n'}]}],propDecorators:{body:[{type:r.Input}]}});var wl=function(e){gi(n,e);var t=mi(n);function n(e,i){var o;return bi(this,n),(o=t.call(this,e,i)).renderer=e,o.elementRef=i,o.selected=!1,o.disabled=!1,o.onSelect=new r.EventEmitter,o.displayAsSwitch=!1,o}return Ci(n,[{key:"ngOnChanges",value:function(e){e.selected&&!e.selected.firstChange&&this.onSelect.emit(e.selected.currentValue)}},{key:"select",value:function(e){this.onSelect.emit(e),this.onChange(e),this.selected=e}},{key:"writeValue",value:function(e){this.selected=e}},{key:"setDisabledState",value:function(e){this.disabled=e}}]),n}(De.CheckboxControlValueAccessor);wl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wl,deps:[{token:r.Renderer2},{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Component}),wl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:wl,selector:"c8y-list-item-checkbox, c8y-li-checkbox",inputs:{selected:"selected",disabled:"disabled",displayAsSwitch:"displayAsSwitch"},outputs:{onSelect:"onSelect"},host:{classAttribute:"c8y-list__item__check"},providers:[{provide:De.NG_VALUE_ACCESSOR,multi:!0,useExisting:(0,r.forwardRef)((function(){return wl}))}],usesInheritance:!0,usesOnChanges:!0,ngImport:i,template:'<label [ngClass]="displayAsSwitch ? \'c8y-switch c8y-switch--inline\' : \'c8y-checkbox\'">\n  <input\n    type="checkbox"\n    class="form-control"\n    [disabled]="disabled"\n    [checked]="selected"\n    (change)="select($event.target.checked); (false)"\n  />\n  <span></span>\n</label>\n<ng-content></ng-content>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wl,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-checkbox, c8y-li-checkbox",host:{class:"c8y-list__item__check"},providers:[{provide:De.NG_VALUE_ACCESSOR,multi:!0,useExisting:(0,r.forwardRef)((function(){return wl}))}],template:'<label [ngClass]="displayAsSwitch ? \'c8y-switch c8y-switch--inline\' : \'c8y-checkbox\'">\n  <input\n    type="checkbox"\n    class="form-control"\n    [disabled]="disabled"\n    [checked]="selected"\n    (change)="select($event.target.checked); (false)"\n  />\n  <span></span>\n</label>\n<ng-content></ng-content>\n'}]}],ctorParameters:function(){return[{type:r.Renderer2},{type:r.ElementRef}]},propDecorators:{selected:[{type:r.Input}],disabled:[{type:r.Input}],onSelect:[{type:r.Output}],displayAsSwitch:[{type:r.Input}]}});var Sl=Ci((function e(){bi(this,e)}));Sl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Sl,deps:[],target:r["ɵɵFactoryTarget"].Component}),Sl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Sl,selector:"c8y-list-item-drag-handle, c8y-li-drag-handle",ngImport:i,template:"<ng-content></ng-content>",isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Sl,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-drag-handle, c8y-li-drag-handle",template:"<ng-content></ng-content>"}]}]});var xl=function(){function e(){bi(this,e),this.selected=!1,this.name="list_item_radio",this.disabled=!1,this.onSelect=new r.EventEmitter}return Ci(e,[{key:"reset",value:function(){this.radio.nativeElement.checked=!1}},{key:"ngOnChanges",value:function(e){e.selected&&!e.selected.firstChange&&this.onSelect.emit(e.selected.currentValue)}},{key:"change",value:function(e){this.onSelect.emit(e),this.model=this.value,this.onChange&&this.onChange(this.model),this.onTouched&&this.onTouched()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"writeValue",value:function(e){this.model=e}}]),e}();xl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xl,deps:[],target:r["ɵɵFactoryTarget"].Component}),xl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:xl,selector:"c8y-list-item-radio, c8y-li-radio",inputs:{selected:"selected",name:"name",disabled:"disabled",value:"value"},outputs:{onSelect:"onSelect"},host:{classAttribute:"c8y-list__item__radio"},providers:[{provide:De.NG_VALUE_ACCESSOR,multi:!0,useExisting:(0,r.forwardRef)((function(){return xl}))}],viewQueries:[{propertyName:"radio",first:!0,predicate:["radio"],descendants:!0,static:!0}],usesOnChanges:!0,ngImport:i,template:'<label class="c8y-radio">\n  <input\n    #radio\n    type="radio"\n    [name]="name"\n    [checked]="selected"\n    (change)="change($event.target.checked); (false)"\n    [disabled]="disabled"\n  />\n  <span></span>\n</label>\n<ng-content></ng-content>\n'}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xl,decorators:[{type:r.Component,args:[{selector:"c8y-list-item-radio, c8y-li-radio",host:{class:"c8y-list__item__radio"},providers:[{provide:De.NG_VALUE_ACCESSOR,multi:!0,useExisting:(0,r.forwardRef)((function(){return xl}))}],template:'<label class="c8y-radio">\n  <input\n    #radio\n    type="radio"\n    [name]="name"\n    [checked]="selected"\n    (change)="change($event.target.checked); (false)"\n    [disabled]="disabled"\n  />\n  <span></span>\n</label>\n<ng-content></ng-content>\n'}]}],propDecorators:{radio:[{type:r.ViewChild,args:["radio",{static:!0}]}],selected:[{type:r.Input}],name:[{type:r.Input}],disabled:[{type:r.Input}],onSelect:[{type:r.Output}],value:[{type:r.Input}]}});var Dl=Ci((function e(){bi(this,e)}));Dl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Dl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Dl,declarations:[ll,sl,fl,Il,al,il,ol,wl,xl,cl,Sl],imports:[da,l.CollapseModule,d.BsDropdownModule],exports:[ll,sl,fl,Il,al,il,ol,wl,xl,cl,Sl]}),Dl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dl,imports:[da,l.CollapseModule.forRoot(),d.BsDropdownModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dl,decorators:[{type:r.NgModule,args:[{imports:[da,l.CollapseModule.forRoot(),d.BsDropdownModule],declarations:[ll,sl,fl,Il,al,il,ol,wl,xl,cl,Sl],exports:[ll,sl,fl,Il,al,il,ol,wl,xl,cl,Sl]}]}]});var $l=Ci((function e(){bi(this,e)}));$l.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$l,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),$l.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:$l,declarations:[Cl,dl],imports:[d.BsDropdownModule,da,Dl,xc],exports:[Cl,dl]}),$l.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$l,imports:[d.BsDropdownModule.forRoot(),da,Dl,xc]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$l,decorators:[{type:r.NgModule,args:[{imports:[d.BsDropdownModule.forRoot(),da,Dl,xc],exports:[Cl,dl],declarations:[Cl,dl]}]}]});var El=Ci((function e(){bi(this,e)}));El.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:El,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),El.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:El,declarations:[bl],imports:[da,T.TooltipModule],exports:[bl]}),El.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:El,imports:[da,T.TooltipModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:El,decorators:[{type:r.NgModule,args:[{imports:[da,T.TooltipModule],exports:[bl],declarations:[bl]}]}]});var Tl=Ci((function e(){bi(this,e)}));Tl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Tl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Tl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Tl,declarations:[qs,tl,nl,rl,kl],imports:[De.FormsModule,d.BsDropdownModule,da,$l,Dl,El,o.RouterModule],exports:[qs,tl,nl,rl,kl]}),Tl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Tl,imports:[De.FormsModule,d.BsDropdownModule,da,$l,Dl,El,o.RouterModule.forChild([])]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Tl,decorators:[{type:r.NgModule,args:[{declarations:[qs,tl,nl,rl,kl],imports:[De.FormsModule,d.BsDropdownModule,da,$l,Dl,El,o.RouterModule.forChild([])],exports:[qs,tl,nl,rl,kl],entryComponents:[kl]}]}]});var _l=function(){function e(t,n){bi(this,e),this.users=t,this.alert=n,this.revokeEmitter=new r.EventEmitter}var t;return Ci(e,[{key:"revoke",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.users.totpRevokeSecret(this.user);case 3:this.alert.success("User TOTP secret revoked."),this.revokeEmitter.next(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.alert.addServerFailure(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return t.apply(this,arguments)})}]),e}();_l.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_l,deps:[{token:g.UserService},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),_l.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:_l,selector:"c8y-user-totp-revoke",inputs:{user:"user"},outputs:{revokeEmitter:"revoke"},ngImport:i,template:'<button\n  type="button"\n  class="btn btn-default"\n  [popover]="confirm"\n  [popoverTitle]="\'Revoke TOTP secret\' | translate"\n  #popover="bs-popover"\n  placement="bottom"\n  \n\n>\n  <i c8yIcon="key"></i> {{ \'Revoke TOTP secret\' | translate }}\n</button>\n\n<ng-template #confirm>\n  <p class="m-b-16" translate>\n    This action will revoke the user\'s stored TOTP secret which will require a new setup.\n  </p>\n  <button\n    title="{{ \'Cancel\' | translate }}"\n    type="button"\n    class="btn btn-default"\n    (click)="popover.hide()"\n    translate\n  >\n    Cancel\n  </button>\n    <button\n    title="{{ \'Revoke\' | translate }}"\n    type="button"\n    class="btn btn-danger"\n    (click)="revoke(); popover.hide()"\n    translate\n  >\n    Revoke\n  </button>\n</ng-template>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_l,decorators:[{type:r.Component,args:[{selector:"c8y-user-totp-revoke",template:'<button\n  type="button"\n  class="btn btn-default"\n  [popover]="confirm"\n  [popoverTitle]="\'Revoke TOTP secret\' | translate"\n  #popover="bs-popover"\n  placement="bottom"\n  \n\n>\n  <i c8yIcon="key"></i> {{ \'Revoke TOTP secret\' | translate }}\n</button>\n\n<ng-template #confirm>\n  <p class="m-b-16" translate>\n    This action will revoke the user\'s stored TOTP secret which will require a new setup.\n  </p>\n  <button\n    title="{{ \'Cancel\' | translate }}"\n    type="button"\n    class="btn btn-default"\n    (click)="popover.hide()"\n    translate\n  >\n    Cancel\n  </button>\n    <button\n    title="{{ \'Revoke\' | translate }}"\n    type="button"\n    class="btn btn-danger"\n    (click)="revoke(); popover.hide()"\n    translate\n  >\n    Revoke\n  </button>\n</ng-template>\n'}]}],ctorParameters:function(){return[{type:g.UserService},{type:ka}]},propDecorators:{user:[{type:r.Input}],revokeEmitter:[{type:r.Output,args:["revoke"]}]}});var Fl=Ci((function e(){bi(this,e)}));Fl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Fl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Fl,imports:[xa]}),Fl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fl,providers:[Gs],imports:[xa]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fl,decorators:[{type:r.NgModule,args:[{imports:[xa],providers:[Gs]}]}]});var Ol=Ci((function e(){bi(this,e)}));Ol.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ol,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Ol.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Ol,declarations:[Hs,Bs,Us,zs,Ns,_l],imports:[xc,da,cc,d.BsDropdownModule,Dc,xa,o.RouterModule,T.TooltipModule,Sn.PopoverModule,Fl],exports:[Hs,zs,Bs,Us,Ns,_l]}),Ol.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ol,imports:[xc,da,cc,d.BsDropdownModule,Dc,xa,o.RouterModule,T.TooltipModule.forRoot(),Sn.PopoverModule,Fl]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ol,decorators:[{type:r.NgModule,args:[{declarations:[Hs,Bs,Us,zs,Ns,_l],imports:[xc,da,cc,d.BsDropdownModule,Dc,xa,o.RouterModule,T.TooltipModule.forRoot(),Sn.PopoverModule,Fl],exports:[Hs,zs,Bs,Us,Ns,_l],entryComponents:[Us,Ns,_l]}]}]});var Pl=Ci((function e(){bi(this,e)}));Pl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Pl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Pl,declarations:[Lc,tc,Ks,Ys,Xs,Js],imports:[d.BsDropdownModule,Ol,Tl,da,ba,Xc,Jc,el],exports:[tc,Lc,Ks,Ys,Xs,Js]}),Pl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pl,imports:[d.BsDropdownModule,Ol,Tl,da,ba,Xc,Jc,el]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pl,decorators:[{type:r.NgModule,args:[{declarations:[Lc,tc,Ks,Ys,Xs,Js],imports:[d.BsDropdownModule,Ol,Tl,da,ba,Xc,Jc,el],exports:[tc,Lc,Ks,Ys,Xs,Js]}]}]});var Nl=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:e.providers()}}},{key:"providers",value:function(){return[Cs,nc]}}]),e}();Nl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Nl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Nl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Nl,declarations:[Pc,oc,Tc,_c,Fc,Ec,Oc],imports:[De.FormsModule,T.TooltipModule,da,Dc,xa,xc],exports:[Pc]}),Nl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Nl,imports:[De.FormsModule,T.TooltipModule,da,Dc,xa,xc]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Nl,decorators:[{type:r.NgModule,args:[{declarations:[Pc,oc,Tc,_c,Fc,Ec,Oc],imports:[De.FormsModule,T.TooltipModule,da,Dc,xa,xc],exports:[Pc]}]}]});var Al=function(){function e(t,n){bi(this,e),this.applicationService=t,this.appStateService=n}var t,n,r,i,o,a,s,l;return Ci(e,[{key:"listPackages",value:(l=ui((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return di().mark((function n(){var r,i;return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.listApplicationsByCurrentTenant(t);case 2:return r=n.sent,i=r.filter((function(t){return e.isPackage(t)})),n.abrupt("return",i.sort((function(e,t){return e.name.localeCompare(t.name)})));case 5:case"end":return n.stop()}}),n)}))()})),function(){return l.apply(this,arguments)})},{key:"isPackage",value:function(e){var t;return!0===(null===(t=e.manifest)||void 0===t?void 0:t.isPackage)}},{key:"addRemotes",value:(s=ui(di().mark((function e(t,n){var r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null==t||null===(r=t.config)||void 0===r?void 0:r.remotes)){e.next=6;break}return o=this.addPluginToRemotes(i,n),e.next=5,this.updateRemotesInAppConfig(t,o);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"removeRemotes",value:(a=ui(di().mark((function e(t,n){var r,i,o;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null==t||null===(r=t.config)||void 0===r?void 0:r.remotes,o=this.removePluginsFromRemotes(i,n),e.next=4,this.updateRemotesInAppConfig(t,o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"updateRemotesInAppConfig",value:(o=ui(di().mark((function e(t,n){var r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationService.updateApplicationConfig(t,{remotes:n});case 2:return i=e.sent,e.abrupt("return",(null==i||null===(r=i.config)||void 0===r?void 0:r.remotes)||{});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"getCumulocityJsonFile",value:(i=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationService.getAppManifest(t);case 2:return(n=e.sent).remotes||(n.remotes={}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"setInitialRemotes",value:(r=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getCumulocityJsonFile(t);case 3:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===n;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=n.remotes;case 12:if(!(r=e.t2)){e.next=17;break}return e.next=16,this.updateRemotesInAppConfig(t,r);case 16:return e.abrupt("return",e.sent);case 17:e.next=22;break;case 19:return e.prev=19,e.t3=e.catch(0),e.abrupt("return",void 0);case 22:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(e){return r.apply(this,arguments)})},{key:"sortVersions",value:function(e,t){var n=(0,c.cloneDeep)(e);if(e.list&&e.path){var r=n.path.join(".");return n.list.sort((function(e,n){return(0,be.compare)((0,be.coerce)((0,c.get)(e,r)),(0,be.coerce)((0,c.get)(n,r)))*("asc"===t?1:-1)}))}return n.sort((function(e,n){return(0,be.compare)((0,be.coerce)(e),(0,be.coerce)(n))*("asc"===t?1:-1)}))}},{key:"getMFExports",value:function(e){var t=e.manifest;return t&&t.exports?this.extendPluginsDetails(t.exports,e.contextPath,t.version):[]}},{key:"getAllMFExports",value:(n=ui(di().mark((function e(){var t,n=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Array,e.next=3,this.listPackages();case 3:return e.sent.forEach((function(e){var r,i;null!=e&&null!==(r=e.manifest)&&void 0!==r&&r.exports&&t.push.apply(t,wi(n.extendPluginsDetails(e.manifest.exports,null==e?void 0:e.contextPath,null==e||null===(i=e.manifest)||void 0===i?void 0:i.version)))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getMFRemotes",value:function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.remotes}},{key:"extendPluginsDetails",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=t.map((function(t){return ci(ci({},t),{},{id:e.createPluginId(n,t,r),contextPath:n,version:r})}));return i}},{key:"listApplicationsByCurrentTenant",value:(t=ui((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return di().mark((function n(){var r,i,o,a,s,l,d,p,u,h;return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object.assign({type:"HOSTED",pageSize:2e3,withTotalPages:!0},t),i=Object.assign({availability:g.ApplicationAvailability.SHARED,type:"HOSTED",pageSize:2e3,withTotalPages:!0},t),o=e.appStateService.currentTenant.value.name,n.next=5,Promise.all([e.applicationService.listByTenant(o,r),e.applicationService.list(i)]);case 5:return a=n.sent,s=ii(a,2),l=s[0],d=s[1],p=l.data,u=d.data,h=[].concat(wi(p),wi(u)),n.abrupt("return",(0,c.uniqBy)(h,(function(e){return e.id})));case 13:case"end":return n.stop()}}),n)}))()})),function(){return t.apply(this,arguments)})},{key:"addPluginToRemotes",value:function(e,t){var n=this;if(t){var r=(0,c.cloneDeep)(e);return(Array.isArray(t)?t:[t]).forEach((function(e){var t,i=n.parsePluginId(e.id),o=i.contextPath,a=i.moduleName;o&&a&&((null===(t=r[o])||void 0===t?void 0:t.length)>=0?r[o].push(a):(r[o]=[]).push(a),r[o]=wi(new Set(r[o])))})),r}}},{key:"removePluginsFromRemotes",value:function(e,t){var n=this;if(e&&t){var r=(0,c.cloneDeep)(e);return(Array.isArray(t)?t:[t]).forEach((function(e){var t=n.parsePluginId(e.id),i=t.contextPath,o=t.moduleName;i&&o&&(r[i]=r[i].filter((function(e){return e!==o})),r[i]=wi(new Set(r[i])),0===r[i].length&&delete r[i])})),r}}},{key:"createPluginId",value:function(e,t,n){return"".concat(e,"@").concat(n,"/").concat(t.module)}},{key:"parsePluginId",value:function(e){var t=ii(e.split("/"),2);return{contextPath:t[0],moduleName:t[1]}}}]),e}();Al.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Al,deps:[{token:g.ApplicationService},{token:Hi}],target:r["ɵɵFactoryTarget"].Injectable}),Al.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Al}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Al,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:g.ApplicationService},{type:Hi}]}});var Ml=Ci((function e(){bi(this,e)}));Ml.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ml,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Ml.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Ml}),Ml.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ml,providers:[Al,hs]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ml,decorators:[{type:r.NgModule,args:[{providers:[Al,hs]}]}]});var Rl=Ci((function e(){bi(this,e)}));Rl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Rl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Rl,declarations:[Hc],imports:[da],exports:[Hc]}),Rl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rl,imports:[da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rl,decorators:[{type:r.NgModule,args:[{declarations:[Hc],imports:[da],exports:[Hc],providers:[]}]}]});var Ll=Ci((function e(){bi(this,e)}));Ll.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ll,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Ll.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Ll,declarations:[Bc,Vc,jc,Gc,zc],imports:[da,Bn,T.TooltipModule,De.FormsModule],exports:[Bc,Rn,Vc,Gc,zc]}),Ll.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ll,providers:[ps,{provide:Mn,useValue:{displayDefaultIndicatorType:!1}}],imports:[da,Bn,T.TooltipModule,De.FormsModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ll,decorators:[{type:r.NgModule,args:[{imports:[da,Bn,T.TooltipModule,De.FormsModule],declarations:[Bc,Vc,jc,Gc,zc],exports:[Bc,Rn,Vc,Gc,zc],providers:[ps,{provide:Mn,useValue:{displayDefaultIndicatorType:!1}}]}]}]});var Vl=function(){function e(t,n,r){bi(this,e),this.stepper=t,this.step=n,this.setup=r,this.status="done",this.STEP_LABEL="Step",this.isVerified=!1}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;this.stepperSelectionChangeSubscription=this.stepper.selectionChange.subscribe((function(t){var n=t.selectedIndex;e.verify(n)}))}},{key:"ngOnDestroy",value:function(){this.stepperSelectionChangeSubscription.unsubscribe()}},{key:"verify",value:function(e){(this.stepper.steps.length-1===e||this.isVerified)&&(this.getOverallStatus(),this.setup.verify(),this.isVerified=!0)}},{key:"start",value:function(){this.setup.finish()}},{key:"back",value:function(){this.stepper.previous()}},{key:"gotoStep",value:function(e){this.stepper.selectedIndex=e}},{key:"getOverallStatus",value:function(){var e=this.setup.steps.slice(0,this.setup.steps.length-1);this.status="done",e.find((function(e){return!e.completed&&e.required}))?this.status="error":e.find((function(e){return!e.completed&&!e.required}))&&(this.status="warning"),this.step.state=this.status}}]),e}();Vl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vl,deps:[{token:Bc},{token:Rn},{token:qc}],target:r["ɵɵFactoryTarget"].Component}),Vl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Vl,selector:"c8y-setup-completed",host:{classAttribute:"d-contents"},ngImport:i,template:'<div class="container-fluid flex-no-shrink fit-w">\n  <div class="row separator-bottom">\n    <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 p-t-24 p-l-16 p-r-16">\n      <h3 translate class="text-medium l-h-base">Summary</h3>\n      <p translate class="lead text-normal p-t-8 p-b-8">\n        Verify the setup result. If any step is not finished but required, you need to ensure that\n        you have finished the step.\n      </p>\n    </div>\n  </div>\n</div>\n<div class="inner-scroll flex-grow">\n  <div class="container-fluid fit-w p-t-16">\n    <div class="row">\n      <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">\n        <div class="text-center" [ngSwitch]="status">\n          <c8y-operation-result\n            *ngSwitchCase="\'done\'"\n            text="{{ \'Setup completed\' | translate }}"\n            [size]="120"\n            [vertical]="true"\n            type="success"\n          ></c8y-operation-result>\n          <c8y-operation-result\n            *ngSwitchCase="\'warning\'"\n            text="{{ \'Setup completed with warnings\' | translate }}"\n            [size]="120"\n            [vertical]="true"\n            type="warning"\n          ></c8y-operation-result>\n          <c8y-operation-result\n            *ngSwitchCase="\'error\'"\n            text="{{ \'Setup not completed\' | translate }}"\n            [size]="120"\n            [vertical]="true"\n            type="error"\n          ></c8y-operation-result>\n        </div>\n        <ul class="list-unstyled m-t-16 separator-top">\n          <li\n            class="p-t-4 p-b-4 d-flex a-i-center separator-bottom text-nowrap l-h-1"\n            *ngFor="let step of setup.steps.slice(0, setup.steps.length - 1)"\n            (click)="gotoStep(step.index)"\n            style="cursor: pointer"\n          >\n            <span *ngIf="step.label">\n              <span\n                class="dot small m-r-4 l-h-1"\n                [ngClass]="{\n                  \'dot-success\': step.completed,\n                  \'dot-error\': !step.completed && step.required,\n                  \'dot-warning\': !step.completed && !step.required\n                }"\n              >\n                {{ step.index + 1 }}\n              </span>\n              {{ step.label || (STEP_LABEL | translate) + \' \' }}\n            </span>\n            <span *ngIf="!step.label">\n              <span translate>Step</span>\n              {{ \' \' + (step.index + 1) }}\n            </span>\n            <span class="m-l-auto icon-20 l-h-1">\n              <i\n                *ngIf="step.completed"\n                [c8yIcon]="\'success\'"\n                class="text-success"\n                [title]="\'Completed\' | translate"\n              ></i>\n              <i\n                *ngIf="!step.completed && step.required"\n                [c8yIcon]="\'error\'"\n                class="text-danger"\n                [title]="\n                  \'Not completed and required. Go to the step and fulfill the setup.\' | translate\n                "\n              ></i>\n              <i\n                *ngIf="!step.completed && !step.required"\n                [c8yIcon]="\'warning\'"\n                class="text-warning"\n                [title]="\'This step was not completed but it is also not required.\' | translate"\n              ></i>\n            </span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="card-footer separator d-flex j-c-center">\n  <button\n    translate\n    class="btn btn-default"\n    type="button"\n    (click)="back()"\n    *ngIf="stepper.selectedIndex !== 0"\n    [disabled]="\n      setup.currentSetupState === setup.setupState.FINALIZING ||\n      setup.currentSetupState === setup.setupState.RELOADING\n    "\n  >\n    Back\n  </button>\n  <button\n    class="btn btn-primary"\n    type="button"\n    (click)="start()"\n    [disabled]="\n      status === \'error\' ||\n      setup.currentSetupState === setup.setupState.FINALIZING ||\n      setup.currentSetupState === setup.setupState.RELOADING\n    "\n    [ngClass]="{\n      \'btn-pending\':\n        setup.currentSetupState === setup.setupState.FINALIZING ||\n        setup.currentSetupState === setup.setupState.RELOADING\n    }"\n  >\n    <span *ngIf="setup.currentSetupState === setup.setupState.WIZARD" translate>\n      Save and reload\n    </span>\n    <span *ngIf="setup.currentSetupState === setup.setupState.FINALIZING" translate>\n      Getting things ready…\n    </span>\n    <span *ngIf="setup.currentSetupState === setup.setupState.RELOADING" translate>\n      Done. Reloading the application.\n    </span>\n  </button>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:u.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"component",type:Qo,selector:"c8y-operation-result",inputs:["text","vertical","size","type"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vl,decorators:[{type:r.Component,args:[{selector:"c8y-setup-completed",host:{class:"d-contents"},template:'<div class="container-fluid flex-no-shrink fit-w">\n  <div class="row separator-bottom">\n    <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 p-t-24 p-l-16 p-r-16">\n      <h3 translate class="text-medium l-h-base">Summary</h3>\n      <p translate class="lead text-normal p-t-8 p-b-8">\n        Verify the setup result. If any step is not finished but required, you need to ensure that\n        you have finished the step.\n      </p>\n    </div>\n  </div>\n</div>\n<div class="inner-scroll flex-grow">\n  <div class="container-fluid fit-w p-t-16">\n    <div class="row">\n      <div class="col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">\n        <div class="text-center" [ngSwitch]="status">\n          <c8y-operation-result\n            *ngSwitchCase="\'done\'"\n            text="{{ \'Setup completed\' | translate }}"\n            [size]="120"\n            [vertical]="true"\n            type="success"\n          ></c8y-operation-result>\n          <c8y-operation-result\n            *ngSwitchCase="\'warning\'"\n            text="{{ \'Setup completed with warnings\' | translate }}"\n            [size]="120"\n            [vertical]="true"\n            type="warning"\n          ></c8y-operation-result>\n          <c8y-operation-result\n            *ngSwitchCase="\'error\'"\n            text="{{ \'Setup not completed\' | translate }}"\n            [size]="120"\n            [vertical]="true"\n            type="error"\n          ></c8y-operation-result>\n        </div>\n        <ul class="list-unstyled m-t-16 separator-top">\n          <li\n            class="p-t-4 p-b-4 d-flex a-i-center separator-bottom text-nowrap l-h-1"\n            *ngFor="let step of setup.steps.slice(0, setup.steps.length - 1)"\n            (click)="gotoStep(step.index)"\n            style="cursor: pointer"\n          >\n            <span *ngIf="step.label">\n              <span\n                class="dot small m-r-4 l-h-1"\n                [ngClass]="{\n                  \'dot-success\': step.completed,\n                  \'dot-error\': !step.completed && step.required,\n                  \'dot-warning\': !step.completed && !step.required\n                }"\n              >\n                {{ step.index + 1 }}\n              </span>\n              {{ step.label || (STEP_LABEL | translate) + \' \' }}\n            </span>\n            <span *ngIf="!step.label">\n              <span translate>Step</span>\n              {{ \' \' + (step.index + 1) }}\n            </span>\n            <span class="m-l-auto icon-20 l-h-1">\n              <i\n                *ngIf="step.completed"\n                [c8yIcon]="\'success\'"\n                class="text-success"\n                [title]="\'Completed\' | translate"\n              ></i>\n              <i\n                *ngIf="!step.completed && step.required"\n                [c8yIcon]="\'error\'"\n                class="text-danger"\n                [title]="\n                  \'Not completed and required. Go to the step and fulfill the setup.\' | translate\n                "\n              ></i>\n              <i\n                *ngIf="!step.completed && !step.required"\n                [c8yIcon]="\'warning\'"\n                class="text-warning"\n                [title]="\'This step was not completed but it is also not required.\' | translate"\n              ></i>\n            </span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="card-footer separator d-flex j-c-center">\n  <button\n    translate\n    class="btn btn-default"\n    type="button"\n    (click)="back()"\n    *ngIf="stepper.selectedIndex !== 0"\n    [disabled]="\n      setup.currentSetupState === setup.setupState.FINALIZING ||\n      setup.currentSetupState === setup.setupState.RELOADING\n    "\n  >\n    Back\n  </button>\n  <button\n    class="btn btn-primary"\n    type="button"\n    (click)="start()"\n    [disabled]="\n      status === \'error\' ||\n      setup.currentSetupState === setup.setupState.FINALIZING ||\n      setup.currentSetupState === setup.setupState.RELOADING\n    "\n    [ngClass]="{\n      \'btn-pending\':\n        setup.currentSetupState === setup.setupState.FINALIZING ||\n        setup.currentSetupState === setup.setupState.RELOADING\n    }"\n  >\n    <span *ngIf="setup.currentSetupState === setup.setupState.WIZARD" translate>\n      Save and reload\n    </span>\n    <span *ngIf="setup.currentSetupState === setup.setupState.FINALIZING" translate>\n      Getting things ready…\n    </span>\n    <span *ngIf="setup.currentSetupState === setup.setupState.RELOADING" translate>\n      Done. Reloading the application.\n    </span>\n  </button>\n</div>\n'}]}],ctorParameters:function(){return[{type:Bc},{type:Rn},{type:qc}]}});var jl=function(){function e(){bi(this,e),this.step={setupId:fs,stepperId:us.SETUP,component:Vl,label:"Summary",priority:1/0}}return Ci(e,[{key:"get",value:function(){return this.step}}]),e}();jl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jl,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),jl.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jl,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jl,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});var Bl=Ci((function e(){bi(this,e)}));Bl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Bl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Bl,declarations:[qc,Vl],imports:[da,Pl,Ll,Ml,Rl],exports:[qc,Vl]}),Bl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bl,providers:[{provide:ds,useExisting:jl,multi:!0}],imports:[da,Pl,Ll,Ml,Rl]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bl,decorators:[{type:r.NgModule,args:[{declarations:[qc,Vl],imports:[da,Pl,Ll,Ml,Rl],exports:[qc,Vl],entryComponents:[Vl],providers:[{provide:ds,useExisting:jl,multi:!0}]}]}]});var Ul=function(){function e(t){bi(this,e),this.tabs=t,this.label=""}return Ci(e,[{key:"ngAfterContentInit",value:function(){var e=this;setTimeout((function(){return e.tabs.add(e)}))}},{key:"ngOnDestroy",value:function(){this.tabs.remove(this)}}]),e}();Ul.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ul,deps:[{token:Xa}],target:r["ɵɵFactoryTarget"].Component}),Ul.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ul,selector:"c8y-tab",inputs:{path:"path",label:"label",icon:"icon",priority:"priority",orientation:"orientation"},viewQueries:[{propertyName:"template",first:!0,predicate:["tpl"],descendants:!0}],ngImport:i,template:"<ng-template #tpl><ng-content></ng-content></ng-template>",isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ul,decorators:[{type:r.Component,args:[{selector:"c8y-tab",template:"<ng-template #tpl><ng-content></ng-content></ng-template>"}]}],ctorParameters:function(){return[{type:Xa}]},propDecorators:{template:[{type:r.ViewChild,args:["tpl",{static:!1}]}],path:[{type:r.Input}],label:[{type:r.Input}],icon:[{type:r.Input}],priority:[{type:r.Input}],orientation:[{type:r.Input}]}});var Gl=function(){function e(t,n){bi(this,e),this.tabsService=t,this.router=n,this.endSubscriptions$=new a.Subject}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;this.tabsService.firstTab$.pipe((0,s.takeUntil)(this.endSubscriptions$)).subscribe((function(t){t&&e.router.navigateByUrl(t.path,{replaceUrl:!0})}))}},{key:"ngOnDestroy",value:function(){this.endSubscriptions$.next(),this.endSubscriptions$.complete()}}]),e}();Gl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gl,deps:[{token:Xa},{token:o.Router}],target:r["ɵɵFactoryTarget"].Component}),Gl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Gl,selector:"c8y-conditional-tabs-outlet",ngImport:i,template:" <router-outlet></router-outlet> ",isInline:!0,dependencies:[{kind:"directive",type:o.RouterOutlet,selector:"router-outlet",outputs:["activate","deactivate","attach","detach"],exportAs:["outlet"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gl,decorators:[{type:r.Component,args:[{selector:"c8y-conditional-tabs-outlet",template:" <router-outlet></router-outlet> "}]}],ctorParameters:function(){return[{type:Xa},{type:o.Router}]}});var zl=Ci((function e(){bi(this,e)}));zl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),zl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:zl,declarations:[Gl,Nc,Ul],imports:[da,o.RouterModule,Pl],exports:[Gl,Nc,Ul]}),zl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zl,imports:[da,o.RouterModule.forChild([]),Pl]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zl,decorators:[{type:r.NgModule,args:[{declarations:[Gl,Nc,Ul],imports:[da,o.RouterModule.forChild([]),Pl],exports:[Gl,Nc,Ul]}]}]});var Hl=Ci((function e(){bi(this,e)}));Hl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Hl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Hl,declarations:[Yc,Kc,Wc],imports:[De.FormsModule,da,Pl,Nl,o.RouterModule,zl,ha,xa,Jc,T.TooltipModule,cc,Bl],exports:[Yc]}),Hl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hl,providers:[pa],imports:[De.FormsModule,da,Pl,Nl,o.RouterModule,zl,ha,xa,Jc,T.TooltipModule,cc,Bl]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hl,decorators:[{type:r.NgModule,args:[{declarations:[Yc,Kc,Wc],imports:[De.FormsModule,da,Pl,Nl,o.RouterModule,zl,ha,xa,Jc,T.TooltipModule,cc,Bl],exports:[Yc],entryComponents:[Yc,Wc],providers:[pa]}]}]});var ql,Wl=function(){function e(t,n,i,o){bi(this,e),this.cd=t,this.filesService=n,this.translate=i,this.bytes=o,this.title="Upload file",this.message="Drop file here",this.icon="plus-square",this.loadingMessage="Uploading…",this.forceHideList=!1,this.alwaysShow=!1,this.clickToOpen=!0,this.loading=!1,this.progress=-1,this.dropped=new r.EventEmitter,this.maxAllowedFiles=1/0,this.isOver=!1,this.errors=!1,this.onChange=function(e){},this.onTouched=function(){}}var t,n,i;return Ci(e,[{key:"onkeyup",value:function(e){"Enter"===e.key&&this.picker.nativeElement.click()}},{key:"ngOnInit",value:function(){this.acceptedExts=this.filesService.extractFileExtensions(this.accept).map((function(e){return".".concat(e)})),this.alwaysShow=this.alwaysShow||0===this.area.nativeElement.children.length,this.files&&this.isFilesAnObjectOrArray()&&this.files.length>0&&this.onFilesSelected(this.files)}},{key:"toggle",value:function(){this.zone.nativeElement.style.height=this.area.nativeElement.offsetHeight+"px",this.onOver()}},{key:"showPicker",value:function(e){this.preventDefault(e),this.picker.nativeElement.value="",this.picker.nativeElement.click()}},{key:"onOver",value:function(){this.isOver||(this.isOver=!0,document.addEventListener("dragover",this.preventDefault),document.addEventListener("drop",this.preventDefault))}},{key:"onPick",value:function(e){this.errors=!1,this.preventDefault(e),this.onFilesSelected(e.target.files)}},{key:"onDrop",value:function(e){this.preventDefault(e),this.onFilesSelected(e.dataTransfer.files),this.stopDragging()}},{key:"shouldShowFilesList",value:function(){return this.isFilesAnObjectOrArray()&&!this.forceHideList&&this.alwaysShow&&!this.isFilesArrayEmpty()&&!this.hasEmptyFiles()&&!this.isTooManyFiles()}},{key:"stopDragging",value:function(){document.removeEventListener("dragover",this.preventDefault),document.removeEventListener("drop",this.preventDefault),this.isOver=!1}},{key:"onDelete",value:function(){delete this.files,delete this.filesNameString,this.clearErrors(),this.dropped.emit(null),this.onChange(null),this.cd.markForCheck()}},{key:"writeValue",value:function(e){this.files=e,e?this.filesNameString=this.getFilesNamesAsString(e):this.onDelete(),this.cd.detectChanges()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"onFilesSelected",value:(i=ui(di().mark((function e(t){var n,r,i;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filesService.checkMaxLength(t)){e.next=4;break}return this.onFileInvalidNameLength(),e.abrupt("return");case 4:if(this.filesService.haveValidExtensions(t,this.accept)){e.next=8;break}return this.onFileInvalidType(),e.abrupt("return");case 8:return e.next=10,this.filesService.haveValidSizes(t);case 10:if(e.sent){e.next=15;break}return e.next=14,this.onFileInvalidSize();case 14:return e.abrupt("return");case 15:if(this.files=t,this.filesNameString=this.getFilesNamesAsString(t),this.errors=!1,!this.isTooManyFiles()){e.next=23;break}return this.errors=!0,null===(n=this.formControl)||void 0===n||n.setErrors({tooManyFiles:!0}),this.errorMessage="Too many files selected.",e.abrupt("return");case 23:if(!this.hasEmptyFiles()){e.next=28;break}return this.errors=!0,null===(r=this.formControl)||void 0===r||r.setErrors({emptyFiles:!0}),this.errorMessage="File must not be empty, select another one.",e.abrupt("return");case 28:i=this.compose(t),this.dropped.emit(i),this.onChange(i),this.cd.markForCheck();case 32:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onFileInvalidNameLength",value:function(){var e;this.errors=!0,null===(e=this.formControl)||void 0===e||e.setErrors({invalidNameLength:!0}),this.errorMessage="The filename is too long."}},{key:"onFileInvalidType",value:function(){var e;this.errors=!0,null===(e=this.formControl)||void 0===e||e.setErrors({invalidType:!0}),this.errorMessage="The selected file is not supported."}},{key:"onFileInvalidSize",value:(n=ui(di().mark((function e(){var t,n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="The selected file is too large. The size limit is {{ limit }}.",e.t0=this.bytes,e.next=4,this.filesService.loadBytesSizeLimit();case 4:e.t1=e.sent,r=e.t0.transform.call(e.t0,e.t1),this.errors=!0,null===(t=this.formControl)||void 0===t||t.setErrors({invalidSize:!0}),this.errorMessage=this.translate.instant(n,{limit:r});case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getFilesNamesAsString",value:function(e){return(0,c.map)(e,(function(e){return e.name})).join(", ")}},{key:"isFilesArrayEmpty",value:function(){return 0===(0,c.get)(this,"files.length",0)}},{key:"isTooManyFiles",value:function(){return(0,c.get)(this,"files.length",0)>this.maxAllowedFiles}},{key:"isFilesAnObjectOrArray",value:function(){return"object"===ti(this.files)}},{key:"hasEmptyFiles",value:function(){var e=!0;return this.isFilesArrayEmpty()||(e=this.isAnyFileEmpty()),e}},{key:"isAnyFileEmpty",value:function(){return(0,c.some)(Array.from(this.files),["size",0])}},{key:"clearErrors",value:function(){var e;delete this.errorMessage,this.errors=!1,null===(e=this.formControl)||void 0===e||e.setErrors(null)}},{key:"preventDefault",value:function(e){e&&e.preventDefault()}},{key:"compose",value:function(e){var t=this;return Array.from(e).map((function(e){return{file:e,readAsJson:(a=ui(di().mark((function n(){return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=JSON,n.next=3,t.read(e,ql.TEXT);case 3:return n.t1=n.sent,n.abrupt("return",n.t0.parse.call(n.t0,n.t1));case 5:case"end":return n.stop()}}),n)}))),function(){return a.apply(this,arguments)}),readAsText:(o=ui(di().mark((function n(){return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.read(e,ql.TEXT));case 1:case"end":return n.stop()}}),n)}))),function(){return o.apply(this,arguments)}),readAsArrayBuffer:(i=ui(di().mark((function n(){return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.read(e,ql.ARRAY_BUFFER));case 1:case"end":return n.stop()}}),n)}))),function(){return i.apply(this,arguments)}),readAsBinaryString:(r=ui(di().mark((function n(){return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.read(e,ql.BINARY_STRING));case 1:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)}),readAsDataURL:(n=ui(di().mark((function n(){return di().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.read(e,ql.DATA_URL));case 1:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})};var n,r,i,o,a}))}},{key:"read",value:(t=ui(di().mark((function e(t,n){var r=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var o=new FileReader;switch(n){case ql.TEXT:o.readAsText(t);break;case ql.ARRAY_BUFFER:o.readAsArrayBuffer(t);break;case ql.BINARY_STRING:o.readAsBinaryString(t);break;case ql.DATA_URL:o.readAsDataURL(t)}o.onload=function(){return r.onLoad(o,e,i)}})));case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{key:"onLoad",value:function(e,t,n){2===e.readyState&&(e.error&&n(e.error),t(e.result))}}]),e}();Wl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wl,deps:[{token:r.ChangeDetectorRef},{token:$o},{token:ye.TranslateService},{token:bo}],target:r["ɵɵFactoryTarget"].Component}),Wl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Wl,selector:"c8y-drop-area",inputs:{formControl:"formControl",title:"title",message:"message",icon:"icon",loadingMessage:"loadingMessage",forceHideList:"forceHideList",alwaysShow:"alwaysShow",clickToOpen:"clickToOpen",loading:"loading",progress:"progress",maxAllowedFiles:"maxAllowedFiles",files:"files",accept:"accept"},outputs:{dropped:"dropped"},host:{listeners:{keyup:"onkeyup($event)"}},providers:[{provide:De.NG_VALUE_ACCESSOR,useExisting:Wl,multi:!0}],viewQueries:[{propertyName:"area",first:!0,predicate:["area"],descendants:!0,static:!0},{propertyName:"zone",first:!0,predicate:["zone"],descendants:!0},{propertyName:"picker",first:!0,predicate:["picker"],descendants:!0}],ngImport:i,template:'<div\n  class="drop-zone"\n  *ngIf="!shouldShowFilesList()"\n  [ngClass]="{ \'has-errors\': errors }"\n  [style.pointerEvents]="loading ? \'none\' : \'auto\'"\n  #zone\n  (dragleave)="stopDragging()"\n  (drop)="onDrop($event)"\n  (dragover)="onOver()"\n  [style.display]="isOver || alwaysShow || loading ? \'block\' : \'none\'"\n  (click)="showPicker($event)"\n  tabindex="0"\n>\n  <div class="file-placeholder" [ngClass]="{ \'drag-over\': isOver }">\n    <div *ngIf="loading" class="d-flex p-4 flex-center">\n      <div\n        class="progress progress-striped active m-0"\n        *ngIf="progress !== -1"\n        style="min-width: 50%"\n      >\n        <div\n          class="progress-bar"\n          role="progressbar"\n          aria-valuenow="0"\n          aria-valuemin="0"\n          aria-valuemax="100"\n          [style.width]="progress + \'%\'"\n        ></div>\n      </div>\n      <div class="spinner-snake" *ngIf="progress === -1"></div>\n      <p class="flex-item-middle m-r-8">\n        {{ loadingMessage | translate }}\n      </p>\n    </div>\n\n    <div *ngIf="!loading" class="hint-placeholder pointer">\n      <i class="dlt-c8y-icon-{{ icon }}"></i>\n      <p *ngIf="!errors">\n        <b>{{ message | translate }}</b>\n        <br />\n        <span *ngIf="alwaysShow && clickToOpen" translate\n          >or click to browse your file system.</span\n        >\n      </p>\n      <div *ngIf="errors" class="has-errors">\n        <p class="form-control-feedback-message">\n          {{ errorMessage | translate }}\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div\n  class="drop-zone"\n  *ngIf="shouldShowFilesList()"\n  [style.display]="isOver || alwaysShow || loading ? \'block\' : \'none\'"\n  tabindex="0"\n>\n  <div *ngIf="loading" class="p-absolute p-4 fit-w fit-h d-flex d-col j-c-center a-i-center">\n    <p class="m-b-8">\n      <strong>\n        {{ loadingMessage | translate }}\n      </strong>\n    </p>\n    <div\n      class="progress progress-striped active m-0"\n      *ngIf="progress !== -1"\n      style="min-width: 80%"\n    >\n      <div\n        class="progress-bar"\n        role="progressbar"\n        aria-valuenow="0"\n        aria-valuemin="0"\n        aria-valuemax="100"\n        [style.width]="progress + \'%\'"\n      ></div>\n    </div>\n    <div class="spinner p-relative m-0" *ngIf="progress === -1">\n      <div class="rect1"></div>\n      <div class="rect2"></div>\n      <div class="rect3"></div>\n      <div class="rect4"></div>\n      <div class="rect5"></div>\n    </div>\n  </div>\n  <div *ngIf="!loading" class="file-placeholder p-4">\n    <div class="flex-row p-4">\n      <i c8yIcon="file-o" class="m-r-8"></i>\n      <span title="{{ filesNameString }}" class="text-truncate">\n        {{ filesNameString }}\n      </span>\n      <button title="{{ \'Remove\' | translate }}" class="btn btn-clean showOnHover flex-item-right">\n        <i c8yIcon="minus-circle" class="text-danger" (click)="onDelete()"></i>\n      </button>\n    </div>\n  </div>\n</div>\n\n<input\n  #picker\n  *ngIf="clickToOpen"\n  (change)="onPick($event)"\n  (click)="picker.focus()"\n  (blur)="onTouched()"\n  [accept]="acceptedExts"\n  [multiple]="maxAllowedFiles > 1"\n  type="file"\n  style="opacity: 0; filter: alpha(opacity = 0); height: 0px"\n/>\n<div #area [hidden]="isOver || loading" (dragover)="toggle()">\n  <ng-content></ng-content>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wl,decorators:[{type:r.Component,args:[{selector:"c8y-drop-area",providers:[{provide:De.NG_VALUE_ACCESSOR,useExisting:Wl,multi:!0}],template:'<div\n  class="drop-zone"\n  *ngIf="!shouldShowFilesList()"\n  [ngClass]="{ \'has-errors\': errors }"\n  [style.pointerEvents]="loading ? \'none\' : \'auto\'"\n  #zone\n  (dragleave)="stopDragging()"\n  (drop)="onDrop($event)"\n  (dragover)="onOver()"\n  [style.display]="isOver || alwaysShow || loading ? \'block\' : \'none\'"\n  (click)="showPicker($event)"\n  tabindex="0"\n>\n  <div class="file-placeholder" [ngClass]="{ \'drag-over\': isOver }">\n    <div *ngIf="loading" class="d-flex p-4 flex-center">\n      <div\n        class="progress progress-striped active m-0"\n        *ngIf="progress !== -1"\n        style="min-width: 50%"\n      >\n        <div\n          class="progress-bar"\n          role="progressbar"\n          aria-valuenow="0"\n          aria-valuemin="0"\n          aria-valuemax="100"\n          [style.width]="progress + \'%\'"\n        ></div>\n      </div>\n      <div class="spinner-snake" *ngIf="progress === -1"></div>\n      <p class="flex-item-middle m-r-8">\n        {{ loadingMessage | translate }}\n      </p>\n    </div>\n\n    <div *ngIf="!loading" class="hint-placeholder pointer">\n      <i class="dlt-c8y-icon-{{ icon }}"></i>\n      <p *ngIf="!errors">\n        <b>{{ message | translate }}</b>\n        <br />\n        <span *ngIf="alwaysShow && clickToOpen" translate\n          >or click to browse your file system.</span\n        >\n      </p>\n      <div *ngIf="errors" class="has-errors">\n        <p class="form-control-feedback-message">\n          {{ errorMessage | translate }}\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div\n  class="drop-zone"\n  *ngIf="shouldShowFilesList()"\n  [style.display]="isOver || alwaysShow || loading ? \'block\' : \'none\'"\n  tabindex="0"\n>\n  <div *ngIf="loading" class="p-absolute p-4 fit-w fit-h d-flex d-col j-c-center a-i-center">\n    <p class="m-b-8">\n      <strong>\n        {{ loadingMessage | translate }}\n      </strong>\n    </p>\n    <div\n      class="progress progress-striped active m-0"\n      *ngIf="progress !== -1"\n      style="min-width: 80%"\n    >\n      <div\n        class="progress-bar"\n        role="progressbar"\n        aria-valuenow="0"\n        aria-valuemin="0"\n        aria-valuemax="100"\n        [style.width]="progress + \'%\'"\n      ></div>\n    </div>\n    <div class="spinner p-relative m-0" *ngIf="progress === -1">\n      <div class="rect1"></div>\n      <div class="rect2"></div>\n      <div class="rect3"></div>\n      <div class="rect4"></div>\n      <div class="rect5"></div>\n    </div>\n  </div>\n  <div *ngIf="!loading" class="file-placeholder p-4">\n    <div class="flex-row p-4">\n      <i c8yIcon="file-o" class="m-r-8"></i>\n      <span title="{{ filesNameString }}" class="text-truncate">\n        {{ filesNameString }}\n      </span>\n      <button title="{{ \'Remove\' | translate }}" class="btn btn-clean showOnHover flex-item-right">\n        <i c8yIcon="minus-circle" class="text-danger" (click)="onDelete()"></i>\n      </button>\n    </div>\n  </div>\n</div>\n\n<input\n  #picker\n  *ngIf="clickToOpen"\n  (change)="onPick($event)"\n  (click)="picker.focus()"\n  (blur)="onTouched()"\n  [accept]="acceptedExts"\n  [multiple]="maxAllowedFiles > 1"\n  type="file"\n  style="opacity: 0; filter: alpha(opacity = 0); height: 0px"\n/>\n<div #area [hidden]="isOver || loading" (dragover)="toggle()">\n  <ng-content></ng-content>\n</div>\n'}]}],ctorParameters:function(){return[{type:r.ChangeDetectorRef},{type:$o},{type:ye.TranslateService},{type:bo}]},propDecorators:{formControl:[{type:r.Input}],title:[{type:r.Input}],message:[{type:r.Input}],icon:[{type:r.Input}],loadingMessage:[{type:r.Input}],forceHideList:[{type:r.Input}],alwaysShow:[{type:r.Input}],clickToOpen:[{type:r.Input}],loading:[{type:r.Input}],progress:[{type:r.Input}],dropped:[{type:r.Output}],maxAllowedFiles:[{type:r.Input}],files:[{type:r.Input}],accept:[{type:r.Input}],area:[{type:r.ViewChild,args:["area",{static:!0}]}],zone:[{type:r.ViewChild,args:["zone",{static:!1}]}],picker:[{type:r.ViewChild,args:["picker",{static:!1}]}],onkeyup:[{type:r.HostListener,args:["keyup",["$event"]]}]}}),function(e){e[e.TEXT=0]="TEXT",e[e.DATA_URL=1]="DATA_URL",e[e.ARRAY_BUFFER=2]="ARRAY_BUFFER",e[e.BINARY_STRING=3]="BINARY_STRING"}(ql||(ql={}));var Kl=Ci((function e(){bi(this,e)}));Kl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Kl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Kl,declarations:[Wl],imports:[da],exports:[Wl]}),Kl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kl,imports:[da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kl,decorators:[{type:r.NgModule,args:[{imports:[da],exports:[Wl],declarations:[Wl]}]}]});var Yl=function(){function e(){bi(this,e),this.onFilesPicked=new r.EventEmitter,this.maxAllowedFiles=1/0,this.uploadChoice="uploadBinary",this.config={maxlength:2048}}return Ci(e,[{key:"ngOnInit",value:function(){this.fileBinary&&(this.droppedFiles=[this.fileBinary])}},{key:"onFileDropped",value:function(e){this.onFilesPicked.emit({droppedFiles:e})}},{key:"clearInputFromUrl",value:function(){delete this.fileUrl,this.fileToSave={url:void 0},this.onFilesPicked.emit(this.fileToSave)}},{key:"clearSelectedFiles",value:function(){this.dropArea.onDelete(),this.fileToSave={droppedFiles:void 0},this.onFilesPicked.emit(this.fileToSave)}},{key:"onFileUrlChange",value:function(e){this.fileToSave={url:e},this.onFilesPicked.emit(this.fileToSave)}},{key:"isPopoverUsed",value:function(){return!(0,c.isEmpty)(this.fileUrlPopover)}}]),e}();Yl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yl,deps:[],target:r["ɵɵFactoryTarget"].Component}),Yl.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Yl,selector:"c8y-file-picker",inputs:{maxAllowedFiles:"maxAllowedFiles",uploadChoice:"uploadChoice",fileUrl:"fileUrl",fileBinary:"fileBinary",config:"config",fileUrlPopover:"fileUrlPopover"},outputs:{onFilesPicked:"onFilesPicked"},viewQueries:[{propertyName:"dropArea",first:!0,predicate:Wl,descendants:!0,static:!0}],ngImport:i,template:'<div class="form-group">\n  <label title="{{ \'Upload a binary\' | translate }}" class="c8y-radio radio-inline">\n    <input\n      #radio\n      type="radio"\n      value="uploadBinary"\n      name="uploadChoice"\n      [(ngModel)]="uploadChoice"\n      (click)="clearInputFromUrl()"\n    />\n    <span></span>\n    <span>{{ \'Upload a binary\' | translate }}</span>\n  </label>\n  <label title="{{ \'Provide a file path\' | translate }}" class="c8y-radio radio-inline m-l-8">\n    <input\n      #radio\n      type="radio"\n      value="uploadUrl"\n      name="uploadChoice"\n      [(ngModel)]="uploadChoice"\n      (click)="clearSelectedFiles()"\n    />\n    <span></span>\n    <span>\n      {{ \'Provide a file path\' | translate }}\n    </span>\n    <button\n      *ngIf="isPopoverUsed()"\n      class="btn btn-clean text-primary m-l-4"\n      type="button"\n      popover="{{ fileUrlPopover | translate }}"\n      triggers="focus"\n      container="body"\n      placement="top"\n    >\n      <i [c8yIcon]="\'question-circle-o\'"></i>\n    </button>\n  </label>\n</div>\n\n<div [hidden]="uploadChoice !== \'uploadBinary\'">\n  <c8y-form-group class="m-0">\n    <c8y-drop-area\n      class="drop-area-sm"\n      (dropped)="onFileDropped($event)"\n      [title]="\'Drop file or click to browse\' | translate"\n      [maxAllowedFiles]="maxAllowedFiles"\n      [files]="droppedFiles"\n    >\n    </c8y-drop-area>\n  </c8y-form-group>\n</div>\n\n<div [hidden]="uploadChoice !== \'uploadUrl\'">\n  <c8y-form-group class="m-0">\n    <div class="m-b-4 p-b-8">\n      <div class="input-group">\n        <span class="input-group-addon">\n          <i c8yIcon="globe"></i>\n        </span>\n        <input\n          type="text"\n          class="form-control"\n          name="fileUrl"\n          [(ngModel)]="fileUrl"\n          (ngModelChange)="onFileUrlChange($event)"\n          placeholder="{{ \'e.g.\' | translate }} http://example.com/binary.zip"\n          maxlength="{{ config.maxlength }}"\n          required\n        />\n      </div>\n    </div>\n  </c8y-form-group>\n</div>\n',dependencies:[{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.RadioControlValueAccessor,selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",inputs:["name","formControlName","value"]},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.MaxLengthValidator,selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",inputs:["maxlength"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Wl,selector:"c8y-drop-area",inputs:["formControl","title","message","icon","loadingMessage","forceHideList","alwaysShow","clickToOpen","loading","progress","maxAllowedFiles","files","accept"],outputs:["dropped"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yl,decorators:[{type:r.Component,args:[{selector:"c8y-file-picker",template:'<div class="form-group">\n  <label title="{{ \'Upload a binary\' | translate }}" class="c8y-radio radio-inline">\n    <input\n      #radio\n      type="radio"\n      value="uploadBinary"\n      name="uploadChoice"\n      [(ngModel)]="uploadChoice"\n      (click)="clearInputFromUrl()"\n    />\n    <span></span>\n    <span>{{ \'Upload a binary\' | translate }}</span>\n  </label>\n  <label title="{{ \'Provide a file path\' | translate }}" class="c8y-radio radio-inline m-l-8">\n    <input\n      #radio\n      type="radio"\n      value="uploadUrl"\n      name="uploadChoice"\n      [(ngModel)]="uploadChoice"\n      (click)="clearSelectedFiles()"\n    />\n    <span></span>\n    <span>\n      {{ \'Provide a file path\' | translate }}\n    </span>\n    <button\n      *ngIf="isPopoverUsed()"\n      class="btn btn-clean text-primary m-l-4"\n      type="button"\n      popover="{{ fileUrlPopover | translate }}"\n      triggers="focus"\n      container="body"\n      placement="top"\n    >\n      <i [c8yIcon]="\'question-circle-o\'"></i>\n    </button>\n  </label>\n</div>\n\n<div [hidden]="uploadChoice !== \'uploadBinary\'">\n  <c8y-form-group class="m-0">\n    <c8y-drop-area\n      class="drop-area-sm"\n      (dropped)="onFileDropped($event)"\n      [title]="\'Drop file or click to browse\' | translate"\n      [maxAllowedFiles]="maxAllowedFiles"\n      [files]="droppedFiles"\n    >\n    </c8y-drop-area>\n  </c8y-form-group>\n</div>\n\n<div [hidden]="uploadChoice !== \'uploadUrl\'">\n  <c8y-form-group class="m-0">\n    <div class="m-b-4 p-b-8">\n      <div class="input-group">\n        <span class="input-group-addon">\n          <i c8yIcon="globe"></i>\n        </span>\n        <input\n          type="text"\n          class="form-control"\n          name="fileUrl"\n          [(ngModel)]="fileUrl"\n          (ngModelChange)="onFileUrlChange($event)"\n          placeholder="{{ \'e.g.\' | translate }} http://example.com/binary.zip"\n          maxlength="{{ config.maxlength }}"\n          required\n        />\n      </div>\n    </div>\n  </c8y-form-group>\n</div>\n'}]}],propDecorators:{dropArea:[{type:r.ViewChild,args:[Wl,{static:!0}]}],onFilesPicked:[{type:r.Output}],maxAllowedFiles:[{type:r.Input}],uploadChoice:[{type:r.Input}],fileUrl:[{type:r.Input}],fileBinary:[{type:r.Input}],config:[{type:r.Input}],fileUrlPopover:[{type:r.Input}]}});var Zl=Ci((function e(){bi(this,e)}));Zl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Zl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Zl,declarations:[Yl],imports:[xc,u.CommonModule,Kl,De.FormsModule,da,Sn.PopoverModule],exports:[Yl]}),Zl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zl,imports:[xc,u.CommonModule,Kl,De.FormsModule,da,Sn.PopoverModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zl,decorators:[{type:r.NgModule,args:[{imports:[xc,u.CommonModule,Kl,De.FormsModule,da,Sn.PopoverModule],exports:[Yl],declarations:[Yl]}]}]});var Ql=function(){function e(){bi(this,e),this.onDateSelected=new r.EventEmitter}return Ci(e,[{key:"ngOnInit",value:function(){this.fgDatePicker=new De.FormGroup({dateFrom:new De.FormControl,dateTo:new De.FormControl})}},{key:"filter",value:function(){this.onDateSelected.emit(this.fgDatePicker.value),this.dateFrom=this.fgDatePicker.get("dateFrom").value,this.dateTo=this.fgDatePicker.get("dateTo").value}},{key:"clearFilter",value:function(){this.fgDatePicker.setValue({dateFrom:null,dateTo:null}),this.onDateSelected.emit(null),this.dateFrom=null,this.dateTo=null}}]),e}();Ql.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ql,deps:[],target:r["ɵɵFactoryTarget"].Component}),Ql.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ql,selector:"c8y-date-picker",outputs:{onDateSelected:"onDateSelected"},ngImport:i,template:'<div\n  dropdown\n  class="c8y-child-assets-selector"\n  #datefilter="bs-dropdown"\n  placement="bottom left"\n  [autoClose]="false"\n>\n  <button\n    id="date-range"\n    dropdownToggle\n    title="{{ \'Date filter\' | translate }}"\n    type="button"\n    class="btn dropdown-toggle d-flex a-i-center c8y-dropdown"\n    aria-controls="dropdown-date-range"\n  >\n    <i c8yIcon="calendar-o" class="m-r-4 text-primary"></i>\n    <span class="text-truncate">\n      <span *ngIf="dateFrom">\n        <span class="text-label-small">{{ \'From`date`\' | translate }}</span>\n        {{ dateFrom | date }}\n      </span>\n      <span *ngIf="dateTo">\n        <span class="text-label-small">{{ \'To`date`\' | translate }}</span>\n        {{ dateTo | date }}\n      </span>\n      <span *ngIf="!dateFrom && !dateTo">\n        {{ \'Filter by date\' | translate }}\n      </span>\n    </span>\n  </button>\n  <div\n    id="dropdown-date-range"\n    *dropdownMenu\n    class="dropdown-menu"\n    role="menu"\n    aria-labelledby="date-range"\n  >\n    <form [formGroup]="fgDatePicker" class="dropdown-form">\n      <span class="text-medium m-b-4" translate>Date from</span>\n      <c8y-form-group class="datepicker d-block m-b-16" style="max-height: 32px">\n        <input\n          formControlName="dateFrom"\n          class="form-control fit-w text-left"\n          placeholder="{{ \'Date from\' | translate }}"\n          bsDatepicker\n          [maxDate]="dateTo"\n          (bsValueChange)="dateFrom = $event"\n          [bsConfig]="{ customTodayClass: \'today\', returnFocusToInput: true }"\n        />\n      </c8y-form-group>\n      <span class="text-medium m-b-4" translate>Date to</span>\n      <c8y-form-group class="datepicker m-l-0 d-block" style="max-height: 32px">\n        <input\n          name="dateTo"\n          formControlName="dateTo"\n          class="form-control fit-w text-left"\n          placeholder="{{ \'Date to\' | translate }}"\n          bsDatepicker\n          [minDate]="dateFrom"\n          (bsValueChange)="dateTo = $event"\n          [bsConfig]="{ customTodayClass: \'today\', returnFocusToInput: true }"\n        />\n      </c8y-form-group>\n      <div class="p-t-24">\n        <button\n          title="{{ \'Clear selection\' | translate }}"\n          type="button"\n          class="btn btn-default btn-sm"\n          (click)="clearFilter(); datefilter.isOpen = !datefilter.isOpen"\n        >\n          {{ \'Clear`selection`\' | translate }}\n        </button>\n        <button\n          [disabled]="!fgDatePicker.get(\'dateFrom\').value && !fgDatePicker.get(\'dateTo\').value"\n          title="{{ \'Apply selection\' | translate }}"\n          type="submit"\n          class="btn btn-primary btn-sm"\n          (click)="filter(); datefilter.isOpen = !datefilter.isOpen"\n        >\n          {{ \'Apply`selection`\' | translate }}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:De.FormGroupDirective,selector:"[formGroup]",inputs:["formGroup"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"directive",type:De.FormControlName,selector:"[formControlName]",inputs:["formControlName","disabled","ngModel"],outputs:["ngModelChange"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:ke.BsDatepickerDirective,selector:"[bsDatepicker]",inputs:["placement","triggers","outsideClick","container","outsideEsc","isDisabled","minDate","maxDate","minMode","daysDisabled","datesDisabled","datesEnabled","dateCustomClasses","dateTooltipTexts","isOpen","bsValue","bsConfig"],outputs:["onShown","onHidden","bsValueChange"],exportAs:["bsDatepicker"]},{kind:"directive",type:ke.BsDatepickerInputDirective,selector:"input[bsDatepicker]"},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"pipe",type:u.DatePipe,name:"date"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ql,decorators:[{type:r.Component,args:[{selector:"c8y-date-picker",template:'<div\n  dropdown\n  class="c8y-child-assets-selector"\n  #datefilter="bs-dropdown"\n  placement="bottom left"\n  [autoClose]="false"\n>\n  <button\n    id="date-range"\n    dropdownToggle\n    title="{{ \'Date filter\' | translate }}"\n    type="button"\n    class="btn dropdown-toggle d-flex a-i-center c8y-dropdown"\n    aria-controls="dropdown-date-range"\n  >\n    <i c8yIcon="calendar-o" class="m-r-4 text-primary"></i>\n    <span class="text-truncate">\n      <span *ngIf="dateFrom">\n        <span class="text-label-small">{{ \'From`date`\' | translate }}</span>\n        {{ dateFrom | date }}\n      </span>\n      <span *ngIf="dateTo">\n        <span class="text-label-small">{{ \'To`date`\' | translate }}</span>\n        {{ dateTo | date }}\n      </span>\n      <span *ngIf="!dateFrom && !dateTo">\n        {{ \'Filter by date\' | translate }}\n      </span>\n    </span>\n  </button>\n  <div\n    id="dropdown-date-range"\n    *dropdownMenu\n    class="dropdown-menu"\n    role="menu"\n    aria-labelledby="date-range"\n  >\n    <form [formGroup]="fgDatePicker" class="dropdown-form">\n      <span class="text-medium m-b-4" translate>Date from</span>\n      <c8y-form-group class="datepicker d-block m-b-16" style="max-height: 32px">\n        <input\n          formControlName="dateFrom"\n          class="form-control fit-w text-left"\n          placeholder="{{ \'Date from\' | translate }}"\n          bsDatepicker\n          [maxDate]="dateTo"\n          (bsValueChange)="dateFrom = $event"\n          [bsConfig]="{ customTodayClass: \'today\', returnFocusToInput: true }"\n        />\n      </c8y-form-group>\n      <span class="text-medium m-b-4" translate>Date to</span>\n      <c8y-form-group class="datepicker m-l-0 d-block" style="max-height: 32px">\n        <input\n          name="dateTo"\n          formControlName="dateTo"\n          class="form-control fit-w text-left"\n          placeholder="{{ \'Date to\' | translate }}"\n          bsDatepicker\n          [minDate]="dateFrom"\n          (bsValueChange)="dateTo = $event"\n          [bsConfig]="{ customTodayClass: \'today\', returnFocusToInput: true }"\n        />\n      </c8y-form-group>\n      <div class="p-t-24">\n        <button\n          title="{{ \'Clear selection\' | translate }}"\n          type="button"\n          class="btn btn-default btn-sm"\n          (click)="clearFilter(); datefilter.isOpen = !datefilter.isOpen"\n        >\n          {{ \'Clear`selection`\' | translate }}\n        </button>\n        <button\n          [disabled]="!fgDatePicker.get(\'dateFrom\').value && !fgDatePicker.get(\'dateTo\').value"\n          title="{{ \'Apply selection\' | translate }}"\n          type="submit"\n          class="btn btn-primary btn-sm"\n          (click)="filter(); datefilter.isOpen = !datefilter.isOpen"\n        >\n          {{ \'Apply`selection`\' | translate }}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n'}]}],propDecorators:{onDateSelected:[{type:r.Output}]}});var Xl=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"minMaxValidator",value:function(){var e=this;return function(t){var n=t.get("min"),r=t.get("max"),i=n&&void 0!==n.value&&null!==n.value,o=r&&void 0!==r.value&&null!==r.value;if(e.removeErrors(n,[ws.GREATER_THAN_RANGE_MAX]),e.removeErrors(r,[ws.LESS_THAN_RANGE_MIN]),!i||!o)return null;if(n.value>=r.value){var a=li({},ws.GREATER_THAN_RANGE_MAX,!0),s=li({},ws.LESS_THAN_RANGE_MIN,!0),c=Object.assign({},a,s);return n.setErrors(Object.assign(a,n.errors||{})),r.setErrors(Object.assign(s,r.errors||{})),c}return null}}},{key:"requireBothMinAndMax",value:function(){var e=this,t=ws.SHOULD_BE_DEFINED;return function(n){var r=n.get("min"),i=n.get("max"),o=r&&void 0!==r.value&&null!==r.value,a=i&&void 0!==i.value&&null!==i.value,s={};if(o&&!a&&i){var c=li({},t,!0);i.setErrors(Object.assign({},i.errors||{},c)),Object.assign(s,c)}else e.removeErrors(i,[t]);if(a&&!o&&r){var l=li({},t,!0);r.setErrors(Object.assign({},r.errors||{},l)),Object.assign(s,l)}else e.removeErrors(r,[t]);return Object.keys(s).length?s:null}}},{key:"withinScale",value:function(e){var t=this;return function(n){if(!e)return null;var r=n.get("range.min"),i=n.get("range.max"),o=n.get(e),a=r&&void 0!==r.value&&null!==r.value,s=i&&void 0!==i.value&&null!==i.value,c=o&&void 0!==o.value&&null!==o.value;if(t.removeErrors(o,[ws.GREATER_THAN_SCALE_MAX,ws.LESS_THAN_SCALE_MIN]),!a||!s||!c)return null;var l={};if(o.value<r.value){var d=li({},ws.LESS_THAN_SCALE_MIN,!0);o.setErrors(Object.assign({},o.errors||{},d)),Object.assign(l,d)}if(o.value>i.value){var p=li({},ws.GREATER_THAN_SCALE_MAX,!0);o.setErrors(Object.assign({},o.errors||{},p)),Object.assign(l,p)}return Object.keys(l).length?l:null}}},{key:"maxActiveCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"details.__active";return function(n){if(!Number.isInteger(e)||Number.isNaN(e))return null;if(!(n instanceof De.FormArray))return null;var r=n.value;if(!Array.isArray(r))return null;var i=r.filter((function(e){return e&&!!(0,c.get)(e,t)}));return i.length<=e?null:li({},ws.MAX_ACTIVE_COUNT,{maxActive:e,actualLength:i.length})}}},{key:"minActiveCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"details.__active";return function(n){if(!Number.isInteger(e)||Number.isNaN(e))return null;if(!(n instanceof De.FormArray))return null;var r=n.value;if(!Array.isArray(r))return null;var i=r.filter((function(e){return e&&!!(0,c.get)(e,t)}));return i.length>=e?null:li({},ws.MIN_ACTIVE_COUNT,{minActive:e,actualLength:i.length})}}},{key:"filesValidator",value:function(e){return function(t){var n=t.value;if(!n)return null;var r,i=ei(n);try{var o=function(){var t,n=r.value.file;if(e.typePrefix&&!n.type.startsWith(e.typePrefix))return{v:{wrongFileType:{wrongFileType:n.type}}};if(null!==(t=e.allowedFileEndings)&&void 0!==t&&t.length&&!e.allowedFileEndings.some((function(e){return n.name.endsWith(e)})))return{v:{wrongFileEnding:{allowedFileEndings:e.allowedFileEndings}}};if(n.size>1024*e.maximumFileSizeInKb){var i=n.size/1024;return{v:{maxFileSizeReached:{maxFileSize:e.maximumFileSizeInKb,actualFileSize:"~".concat(i.toFixed(0))}}}}};for(i.s();!(r=i.n()).done;){var a=o();if("object"===ti(a))return a.v}}catch(e){i.e(e)}finally{i.f()}return null}}},{key:"removeErrors",value:function(e,t){if(!e||!e.errors)return!1;var n,r=!1,i=ei(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.errors[o]&&(r=!0,delete e.errors[o])}}catch(e){i.e(e)}finally{i.f()}return r&&e.setErrors(Object.keys(e.errors).length?Object.assign({},e.errors):null),r}}]),e}(),Jl=Ci((function e(){bi(this,e)}));Jl.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jl,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Jl.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Jl,declarations:[Ql],imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,d.BsDropdownModule,ke.BsDatepickerModule,da],exports:[Ql]}),Jl.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jl,imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,d.BsDropdownModule.forRoot(),ke.BsDatepickerModule.forRoot(),da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jl,decorators:[{type:r.NgModule,args:[{imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,d.BsDropdownModule.forRoot(),ke.BsDatepickerModule.forRoot(),da],exports:[Ql],declarations:[Ql]}]}]});var ed=function(){function e(t,n){bi(this,e),this.route=t,this.contextRouteService=n}return Ci(e,[{key:"ngOnInit",value:function(){this.contextRouteService.init(this.route)}},{key:"ngOnDestroy",value:function(){this.contextRouteService.destroy()}},{key:"refreshTabs",value:function(){this.contextRouteService.refreshContext()}}]),e}();ed.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ed,deps:[{token:o.ActivatedRoute},{token:ts}],target:r["ɵɵFactoryTarget"].Component}),ed.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ed,selector:"c8y-context-route",ngImport:i,template:"<router-outlet></router-outlet>\n",dependencies:[{kind:"directive",type:o.RouterOutlet,selector:"router-outlet",outputs:["activate","deactivate","attach","detach"],exportAs:["outlet"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ed,decorators:[{type:r.Component,args:[{selector:"c8y-context-route",template:"<router-outlet></router-outlet>\n"}]}],ctorParameters:function(){return[{type:o.ActivatedRoute},{type:ts}]}});var td=function(){function e(t){bi(this,e),this.injector=t,this.caches=new Map}return Ci(e,[{key:"canActivate",value:function(e){var t=e.paramMap.get("id"),n=this.service(e);return this.clearDetailCached(n,t),this.detailCached(n,t).pipe((0,s.tap)((function(t){Object.keys(e.data.contextData).forEach((function(t){return delete e.data.contextData[t]})),Object.assign(e.data.contextData,t)})),(0,s.map)((function(){return!0})),(0,s.catchError)((function(){return(0,a.of)(!1)})))}},{key:"service",value:function(e){var t=es.contextToService(e.data.context);return this.injector.get(t)}},{key:"detailCached",value:function(e,t){if("new"===t)return(0,a.of)(void 0);var n=this.getCache(e),r=n[t];if(!r){var i=e instanceof g.InventoryService?{withChildren:!1}:void 0;r=(0,a.from)(e.detail(t,i)).pipe((0,s.map)((function(e){return e.data})),(0,s.shareReplay)(1)),n[t]=r}return r}},{key:"clearDetailCached",value:function(e,t){delete this.getCache(e)[t]}},{key:"getCache",value:function(e){var t=this.caches.get(e);return t||(t={},this.caches.set(e,t)),t}}]),e}();td.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:td,deps:[{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),td.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:td}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:td,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:r.Injector}]}});var nd=Ci((function e(){bi(this,e)}));nd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nd,deps:[],target:r["ɵɵFactoryTarget"].Component}),nd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:nd,selector:"empty",ngImport:i,template:"",isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nd,decorators:[{type:r.Component,args:[{selector:"empty",template:""}]}]});var rd=[{path:"users/new",component:nd},{path:"tenants/new",component:nd}];for(var id in Ya){var od=Ya[id];rd.push({path:od,component:ed,canActivate:[td],data:{context:od,contextData:{}},resolve:{tabs:Ja}})}var ad=function(){function e(t){bi(this,e),this.routerService=t}return Ci(e,null,[{key:"providers",value:function(){return[td,Ja,is]}},{key:"forRoot",value:function(){return{ngModule:e,providers:e.providers()}}}]),e}();ad.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ad,deps:[{token:is}],target:r["ɵɵFactoryTarget"].NgModule}),ad.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ad,declarations:[ed,nd],imports:[o.RouterModule,Pl,da]}),ad.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ad,imports:[o.RouterModule.forRoot(rd),Pl,da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ad,decorators:[{type:r.NgModule,args:[{declarations:[ed,nd],imports:[o.RouterModule.forRoot(rd),Pl,da],entryComponents:[ed,nd]}]}],ctorParameters:function(){return[{type:is}]}});var sd=function(){function e(t){bi(this,e),this.elementRef=t,this.htmlAnchor=this.elementRef.nativeElement,this.htmlAnchor.hasAttribute("target")||this.htmlAnchor.setAttribute("target","_blank")}return Ci(e,[{key:"baseHref",set:function(e){this.htmlAnchor.href="".concat(e,"/").concat(this.c8yGuideHref)}}]),e}();sd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:sd,deps:[{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Directive}),sd.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:sd,selector:"[c8y-guide-href]",inputs:{c8yGuideHref:["c8y-guide-href","c8yGuideHref"]},ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:sd,decorators:[{type:r.Directive,args:[{selector:"[c8y-guide-href]"}]}],ctorParameters:function(){return[{type:r.ElementRef}]},propDecorators:{c8yGuideHref:[{type:r.Input,args:["c8y-guide-href"]}]}});var cd=function(){function e(t,n,r,i){bi(this,e),this.docs=t,this.el=n,this.renderer=r,this.destroyed$=new a.ReplaySubject(1),this.translateDirective=i}return Ci(e,[{key:"translateDirective",get:function(){return this._translateDirective},set:function(e){e&&(this._translateDirective=e)}},{key:"ngOnInit",value:function(){this.baseUrl=this.docs.getBaseUrl()}},{key:"ngAfterContentInit",value:function(){var e=this;this.translateDirective?this.translateDirective.htmlUpdateEvent.pipe((0,s.takeUntil)(this.destroyed$)).subscribe((function(){e.replaceAnchorAttributes()})):this.replaceAnchorAttributes(),this.links.forEach((function(t){t.baseHref=e.baseUrl}))}},{key:"replaceAnchorAttributes",value:function(){var e=this;this.findGuideAnchors(this.el.nativeElement).forEach((function(t){var n="".concat(e.baseUrl,"/").concat(t.getAttribute("c8y-guide-href"));e.renderer.setAttribute(t,"href",n),t.hasAttribute("target")||e.renderer.setAttribute(t,"target","_blank")}))}},{key:"findGuideAnchors",value:function(e){var t=this,n=[];return"A"===e.nodeName&&e.attributes.getNamedItem("c8y-guide-href")?n.push(e):e.childNodes&&e.childNodes.length>0&&e.childNodes.forEach((function(e){var r=t.findGuideAnchors(e);r&&(n=[].concat(wi(n),wi(r)))})),n}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(!0),this.destroyed$.complete()}}]),e}();cd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cd,deps:[{token:za},{token:r.ElementRef},{token:r.Renderer2},{token:oo,optional:!0}],target:r["ɵɵFactoryTarget"].Component}),cd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:cd,selector:"[c8y-guide-docs]",queries:[{propertyName:"translateDirective",first:!0,predicate:oo,descendants:!0,static:!0},{propertyName:"links",predicate:sd,descendants:!0}],ngImport:i,template:'<ng-container *ngIf="!!baseUrl">\n  <ng-content></ng-content>\n</ng-container>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cd,decorators:[{type:r.Component,args:[{selector:"[c8y-guide-docs]",template:'<ng-container *ngIf="!!baseUrl">\n  <ng-content></ng-content>\n</ng-container>\n'}]}],ctorParameters:function(){return[{type:za},{type:r.ElementRef},{type:r.Renderer2},{type:oo,decorators:[{type:r.Optional}]}]},propDecorators:{links:[{type:r.ContentChildren,args:[sd,{descendants:!0}]}],translateDirective:[{type:r.ContentChild,args:[oo,{static:!0}]}]}});var ld=Ci((function e(){bi(this,e)}));ld.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ld,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),ld.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ld,declarations:[sd,cd],imports:[u.CommonModule],exports:[sd,cd]}),ld.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ld,providers:[za],imports:[u.CommonModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ld,decorators:[{type:r.NgModule,args:[{declarations:[sd,cd],imports:[u.CommonModule],exports:[sd,cd],providers:[za]}]}]});var dd=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n,[{key:"add",value:function(){this.formControl.markAsTouched(),ni(vi(n.prototype),"add",this).call(this)}},{key:"remove",value:function(e){this.formControl.markAsTouched(),ni(vi(n.prototype),"remove",this).call(this,e)}},{key:"ngOnInit",value:function(){this.to.required&&!this.field.fieldGroup.length&&this.add()}}]),n}(Un.FieldArrayType);dd.CONFIG={types:[{name:"array",component:dd}]},dd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dd,deps:null,target:r["ɵɵFactoryTarget"].Component}),dd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:dd,selector:"c8y-array-type",usesInheritance:!0,ngImport:i,template:'<div role="group" [attr.aria-labelledby]="id + \'-fieldset\'">\n  <div id="{{ id + \'-fieldset\' }}" class="legend form-block" *ngIf="to.label || to.description">\n    {{ to.label | humanize }}\n    <button\n      *ngIf="to.description"\n      class="btn-clean text-14 m-l-4 m-t-auto m-b-auto"\n      [popover]="to.description"\n      placement="right"\n      [outsideClick]="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-primary"></i>\n    </button>\n  </div>\n\n  <div\n    class="form-control-feedback-message has-error"\n    role="alert"\n    *ngIf="showError && formControl.errors"\n  >\n    <formly-validation-message [field]="field"></formly-validation-message>\n  </div>\n\n  <div *ngFor="let ifield of field.fieldGroup; let i = index" class="input-group-array">\n    <formly-field [field]="ifield"></formly-field>\n    <div class="input-group-btn" [ngClass]="{ \'m-t-24\': i === 0 }">\n      <button\n        type="button"\n        class="btn btn-clean m-l-auto"\n        title="{{ \'Delete\' | translate }}"\n        [disabled]="to.disabled || field.fieldGroup.length === 1"\n        (click)="remove(i)"\n      >\n        <i c8yIcon="minus-circle" class="text-danger"></i>\n      </button>\n    </div>\n  </div>\n\n  <div class="p-t-8">\n    <button\n      type="button"\n      title="{{\n        (field.templateOptions?.addText | translate) || \'Add \\{\\{ label \\}\\}\'\n          | translate: field?.fieldArray?.templateOptions\n      }}"\n      class="btn btn-default"\n      [disabled]="to.disabled"\n      (click)="add()"\n    >\n      <i c8yIcon="plus-circle"></i>\n      <span\n        *ngIf="!field.templateOptions?.addText"\n        ngNonBindable\n        translate\n        [translateParams]="field?.fieldArray?.templateOptions"\n      >\n        Add {{ label }}\n      </span>\n      <span *ngIf="field.templateOptions?.addText">\n        {{ field.templateOptions?.addText | translate }}\n      </span>\n    </button>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"component",type:Un.FormlyField,selector:"formly-field",inputs:["model","form","options","field"],outputs:["modelChange"]},{kind:"component",type:Un["ɵc"],selector:"formly-validation-message",inputs:["field"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Ro,name:"humanize"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dd,decorators:[{type:r.Component,args:[{selector:"c8y-array-type",template:'<div role="group" [attr.aria-labelledby]="id + \'-fieldset\'">\n  <div id="{{ id + \'-fieldset\' }}" class="legend form-block" *ngIf="to.label || to.description">\n    {{ to.label | humanize }}\n    <button\n      *ngIf="to.description"\n      class="btn-clean text-14 m-l-4 m-t-auto m-b-auto"\n      [popover]="to.description"\n      placement="right"\n      [outsideClick]="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-primary"></i>\n    </button>\n  </div>\n\n  <div\n    class="form-control-feedback-message has-error"\n    role="alert"\n    *ngIf="showError && formControl.errors"\n  >\n    <formly-validation-message [field]="field"></formly-validation-message>\n  </div>\n\n  <div *ngFor="let ifield of field.fieldGroup; let i = index" class="input-group-array">\n    <formly-field [field]="ifield"></formly-field>\n    <div class="input-group-btn" [ngClass]="{ \'m-t-24\': i === 0 }">\n      <button\n        type="button"\n        class="btn btn-clean m-l-auto"\n        title="{{ \'Delete\' | translate }}"\n        [disabled]="to.disabled || field.fieldGroup.length === 1"\n        (click)="remove(i)"\n      >\n        <i c8yIcon="minus-circle" class="text-danger"></i>\n      </button>\n    </div>\n  </div>\n\n  <div class="p-t-8">\n    <button\n      type="button"\n      title="{{\n        (field.templateOptions?.addText | translate) || \'Add \\{\\{ label \\}\\}\'\n          | translate: field?.fieldArray?.templateOptions\n      }}"\n      class="btn btn-default"\n      [disabled]="to.disabled"\n      (click)="add()"\n    >\n      <i c8yIcon="plus-circle"></i>\n      <span\n        *ngIf="!field.templateOptions?.addText"\n        ngNonBindable\n        translate\n        [translateParams]="field?.fieldArray?.templateOptions"\n      >\n        Add {{ label }}\n      </span>\n      <span *ngIf="field.templateOptions?.addText">\n        {{ field.templateOptions?.addText | translate }}\n      </span>\n    </button>\n  </div>\n</div>\n'}]}]});var pd=function(e){gi(n,e);var t=mi(n);function n(){var e;return bi(this,n),(e=t.apply(this,arguments)).defaultOptions={templateOptions:{indeterminate:!0,formCheck:"custom"}},e}return Ci(n)}(Un.FieldType);pd.CONFIG={types:[{name:"checkbox",component:pd},{name:"boolean",extends:"checkbox"},{name:"switch",extends:"checkbox",defaultOptions:{templateOptions:{switchMode:!0,indeterminate:!1}}}]},pd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pd,deps:null,target:r["ɵɵFactoryTarget"].Component}),pd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:pd,selector:"c8y-field-checkbox",usesInheritance:!0,ngImport:i,template:'  <label\n    [class.c8y-checkbox]="!to.switchMode"\n    [class.c8y-switch]="to.switchMode"\n    [class.has-error]="showError">\n    <input\n      type="checkbox"\n      [class.is-invalid]="showError"\n      [class.form-check-input]="to.formCheck.indexOf(\'custom\') === -1"\n      [class.position-static]="to.formCheck === \'nolabel\'"\n      [class.custom-control-input]="to.formCheck.indexOf(\'custom\') === 0"\n      [indeterminate]="to.indeterminate && formControl.value == null"\n      [formControl]="formControl"\n      [formlyAttributes]="field"\n    /><span></span><span> {{ to.label | humanize}} </span>\n    <span *ngIf="to.required && to.hideRequiredMarker !== true"><em class="m-l-4" translate>(required)</em></span>\n    <button\n      *ngIf="!!to.description"\n      class="btn-clean m-l-4 flex-item-middle"\n      [popover]="to.description"\n      placement="auto"\n      outsideClick="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-primary"></i>\n  </button>\n  </label>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"directive",type:De.CheckboxControlValueAccessor,selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"directive",type:Un.FormlyAttributes,selector:"[formlyAttributes]",inputs:["formlyAttributes","id"]},{kind:"pipe",type:Ro,name:"humanize"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pd,decorators:[{type:r.Component,args:[{selector:"c8y-field-checkbox",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'  <label\n    [class.c8y-checkbox]="!to.switchMode"\n    [class.c8y-switch]="to.switchMode"\n    [class.has-error]="showError">\n    <input\n      type="checkbox"\n      [class.is-invalid]="showError"\n      [class.form-check-input]="to.formCheck.indexOf(\'custom\') === -1"\n      [class.position-static]="to.formCheck === \'nolabel\'"\n      [class.custom-control-input]="to.formCheck.indexOf(\'custom\') === 0"\n      [indeterminate]="to.indeterminate && formControl.value == null"\n      [formControl]="formControl"\n      [formlyAttributes]="field"\n    /><span></span><span> {{ to.label | humanize}} </span>\n    <span *ngIf="to.required && to.hideRequiredMarker !== true"><em class="m-l-4" translate>(required)</em></span>\n    <button\n      *ngIf="!!to.description"\n      class="btn-clean m-l-4 flex-item-middle"\n      [popover]="to.description"\n      placement="auto"\n      outsideClick="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-primary"></i>\n  </button>\n  </label>\n'}]}]});var ud=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n)}(Un.FieldType);ud.CONFIG={types:[{name:"date",component:ud}]},ud.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ud,deps:null,target:r["ɵɵFactoryTarget"].Component}),ud.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ud,selector:"c8y-field-date",usesInheritance:!0,ngImport:i,template:'<div class="form-group"  [attr.aria-labelledby]="id + \'-fieldset\'">\n  <label id="{{ id + \'-fieldset\' }}" *ngIf="to.label || to.description">\n    {{ to.label | humanize}}\n    <button\n      *ngIf="to.description"\n      class="btn-clean text-14 m-l-4"\n      [popover]="to.description"\n      placement="right"\n      outsideClick="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-info"></i>\n    </button>\n  </label>\n  <div class="form-group datepicker">\n    <input\n      [formControl]="formControl"\n      [formlyAttributes]="field"\n      class="form-control"\n      placeholder="Date"\n      [bsConfig]="{ customTodayClass: \'today\', dateInputFormat: \'YYYY-MM-DD\' }"\n      [placeholder]="\'Select a date…\' | translate"\n      placement="top"\n      bsDatepicker\n      [required]="to.required"\n    />\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:Un.FormlyAttributes,selector:"[formlyAttributes]",inputs:["formlyAttributes","id"]},{kind:"directive",type:ke.BsDatepickerDirective,selector:"[bsDatepicker]",inputs:["placement","triggers","outsideClick","container","outsideEsc","isDisabled","minDate","maxDate","minMode","daysDisabled","datesDisabled","datesEnabled","dateCustomClasses","dateTooltipTexts","isOpen","bsValue","bsConfig"],outputs:["onShown","onHidden","bsValueChange"],exportAs:["bsDatepicker"]},{kind:"directive",type:ke.BsDatepickerInputDirective,selector:"input[bsDatepicker]"},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Ro,name:"humanize"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ud,decorators:[{type:r.Component,args:[{selector:"c8y-field-date",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<div class="form-group"  [attr.aria-labelledby]="id + \'-fieldset\'">\n  <label id="{{ id + \'-fieldset\' }}" *ngIf="to.label || to.description">\n    {{ to.label | humanize}}\n    <button\n      *ngIf="to.description"\n      class="btn-clean text-14 m-l-4"\n      [popover]="to.description"\n      placement="right"\n      outsideClick="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-info"></i>\n    </button>\n  </label>\n  <div class="form-group datepicker">\n    <input\n      [formControl]="formControl"\n      [formlyAttributes]="field"\n      class="form-control"\n      placeholder="Date"\n      [bsConfig]="{ customTodayClass: \'today\', dateInputFormat: \'YYYY-MM-DD\' }"\n      [placeholder]="\'Select a date…\' | translate"\n      placement="top"\n      bsDatepicker\n      [required]="to.required"\n    />\n  </div>\n</div>\n'}]}]});var gd=function(e){gi(n,e);var t=mi(n);function n(){var e;return bi(this,n),(e=t.apply(this,arguments)).dropAreaInputs=["title","message","icon","loadingMessage","alwaysShow","clickToOpen","loading","progress","maxAllowedFiles","files","accept"],e}return Ci(n,[{key:"ngOnInit",value:function(){var e=this,t=(Array.isArray(this.key)?this.key:[this.key]).join(".");this.dropArea.files=(0,Se.get)(this.model,t),this.dropAreaInputs.filter((function(t){return void 0!==e.to[t]})).forEach((function(t){return e.dropArea[t]=e.to[t]}))}}]),n}(Un.FieldType);gd.CONFIG={types:[{name:"file",component:gd}]},gd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gd,deps:null,target:r["ɵɵFactoryTarget"].Component}),gd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:gd,selector:"c8y-field-file",viewQueries:[{propertyName:"dropArea",first:!0,predicate:["dropArea"],descendants:!0,static:!0}],usesInheritance:!0,ngImport:i,template:'<div class="form-group" role="group" [attr.aria-labelledby]="id + \'-fieldset\'">\n  <label id="{{ id + \'-fieldset\' }}" *ngIf="to.label || to.description">\n    {{ to.label | humanize }}\n    <button\n      *ngIf="to.description"\n      class="btn-clean text-14 m-l-4"\n      [popover]="to.description"\n      placement="right"\n      [outsideClick]="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-info"></i>\n    </button>\n  </label>\n\n  <c8y-drop-area #dropArea class="drop-area-sm" [formControl]="formControl"> </c8y-drop-area>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"component",type:Wl,selector:"c8y-drop-area",inputs:["formControl","title","message","icon","loadingMessage","forceHideList","alwaysShow","clickToOpen","loading","progress","maxAllowedFiles","files","accept"],outputs:["dropped"]},{kind:"pipe",type:Ro,name:"humanize"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gd,decorators:[{type:r.Component,args:[{selector:"c8y-field-file",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<div class="form-group" role="group" [attr.aria-labelledby]="id + \'-fieldset\'">\n  <label id="{{ id + \'-fieldset\' }}" *ngIf="to.label || to.description">\n    {{ to.label | humanize }}\n    <button\n      *ngIf="to.description"\n      class="btn-clean text-14 m-l-4"\n      [popover]="to.description"\n      placement="right"\n      [outsideClick]="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-info"></i>\n    </button>\n  </label>\n\n  <c8y-drop-area #dropArea class="drop-area-sm" [formControl]="formControl"> </c8y-drop-area>\n</div>\n'}]}],propDecorators:{dropArea:[{type:r.ViewChild,args:["dropArea",{static:!0}]}]}});var hd=function(e){gi(n,e);var t=mi(n);function n(){var e;return bi(this,n),(e=t.apply(this,arguments)).maxHelpBlockLength=64,e}return Ci(n,[{key:"ngOnInit",value:function(){this.showDescriptionAsPopup="radio"===this.field.type||"typeahead"===this.field.type||this.to.description&&this.to.description.length>this.maxHelpBlockLength}}]),n}(Un.FieldWrapper);hd.CONFIG={wrappers:[{name:"c8y-form-field",component:hd}]},hd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hd,deps:null,target:r["ɵɵFactoryTarget"].Component}),hd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:hd,selector:"c8y-wrapper-form-field",usesInheritance:!0,ngImport:i,template:'<div class="form-group" [class.has-error]="showError">\n  <label *ngIf="to.label && to.hideLabel !== true" [attr.for]="id">\n    {{ to.label | humanize }} <i\n      *ngIf="to.tooltip"\n      class="text-info"\n      c8yIcon="info-circle"\n      title="{{ to.tooltip | translate }}"\n    ></i>\n    <button\n      *ngIf="to.description && showDescriptionAsPopup"\n      class="btn-clean m-l-4 flex-item-middle"\n      [popover]="to.description | translate"\n      placement="auto"\n      outsideClick="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-info"></i>\n    </button>\n  </label>\n\n  <ng-template #fieldComponent></ng-template>\n\n  <div *ngIf="showError" class="c8y-messages">\n    <formly-validation-message\n      class="form-control-feedback-message"\n      [field]="field"\n    ></formly-validation-message>\n  </div>\n\n  <div class="help-block" *ngIf="!showError && to.description && !showDescriptionAsPopup">\n    {{ to.description | translate }}\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"component",type:Un["ɵc"],selector:"formly-validation-message",inputs:["field"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Ro,name:"humanize"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hd,decorators:[{type:r.Component,args:[{selector:"c8y-wrapper-form-field",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<div class="form-group" [class.has-error]="showError">\n  <label *ngIf="to.label && to.hideLabel !== true" [attr.for]="id">\n    {{ to.label | humanize }} <i\n      *ngIf="to.tooltip"\n      class="text-info"\n      c8yIcon="info-circle"\n      title="{{ to.tooltip | translate }}"\n    ></i>\n    <button\n      *ngIf="to.description && showDescriptionAsPopup"\n      class="btn-clean m-l-4 flex-item-middle"\n      [popover]="to.description | translate"\n      placement="auto"\n      outsideClick="true"\n      type="button"\n    >\n      <i c8yIcon="question-circle-o" class="text-info"></i>\n    </button>\n  </label>\n\n  <ng-template #fieldComponent></ng-template>\n\n  <div *ngIf="showError" class="c8y-messages">\n    <formly-validation-message\n      class="form-control-feedback-message"\n      [field]="field"\n    ></formly-validation-message>\n  </div>\n\n  <div class="help-block" *ngIf="!showError && to.description && !showDescriptionAsPopup">\n    {{ to.description | translate }}\n  </div>\n</div>\n'}]}]});var md=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n,[{key:"type",get:function(){return this.to.type||"text"}}]),n}(Un.FieldType);md.CONFIG={types:[{name:"input",component:md,wrappers:["c8y-form-field"]},{name:"string",extends:"input"},{name:"typeahead",extends:"input"},{name:"number",extends:"input",defaultOptions:{templateOptions:{type:"number"}}},{name:"integer",extends:"input",defaultOptions:{templateOptions:{type:"number"}}}]},md.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:md,deps:null,target:r["ɵɵFactoryTarget"].Component}),md.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:md,selector:"c8y-field-input",usesInheritance:!0,ngImport:i,template:'<input\n  *ngIf="type !== \'number\'; else numberTmp"\n  [type]="type"\n  [formControl]="formControl"\n  class="form-control"\n  [formlyAttributes]="field"\n  [required]="to.required"\n  [attr.autocomplete]="to.autocomplete ? to.autocomplete : null"\n  [class.is-invalid]="showError"\n/>\n<ng-template #numberTmp>\n  <input\n    type="number"\n    [formControl]="formControl"\n    class="form-control"\n    [formlyAttributes]="field"\n    [required]="to.required"\n    [attr.autocomplete]="to.autocomplete ? to.autocomplete : null"\n    [class.is-invalid]="showError"\n  />\n</ng-template>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NumberValueAccessor,selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:Un.FormlyAttributes,selector:"[formlyAttributes]",inputs:["formlyAttributes","id"]}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:md,decorators:[{type:r.Component,args:[{selector:"c8y-field-input",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<input\n  *ngIf="type !== \'number\'; else numberTmp"\n  [type]="type"\n  [formControl]="formControl"\n  class="form-control"\n  [formlyAttributes]="field"\n  [required]="to.required"\n  [attr.autocomplete]="to.autocomplete ? to.autocomplete : null"\n  [class.is-invalid]="showError"\n/>\n<ng-template #numberTmp>\n  <input\n    type="number"\n    [formControl]="formControl"\n    class="form-control"\n    [formlyAttributes]="field"\n    [required]="to.required"\n    [attr.autocomplete]="to.autocomplete ? to.autocomplete : null"\n    [class.is-invalid]="showError"\n  />\n</ng-template>\n'}]}]});var fd=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n)}(Un.FieldType);fd.CONFIG={types:[{name:"object",component:fd}]},fd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fd,deps:null,target:r["ɵɵFactoryTarget"].Component}),fd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:fd,selector:"c8y-object-type",usesInheritance:!0,ngImport:i,template:'<div role="group" [attr.aria-labelledby]="id + \'-fieldset\'">\n  <p *ngIf="to.label" class="lead text-center m-b-16" id="{{ id + \'-fieldset\' }}">\n    {{ to.label | humanize }}\n  </p>\n  <p *ngIf="to.description" class="m-b-8">\n    {{ to.description }}\n  </p>\n  <div\n    class="form-control-feedback-message has-error"\n    role="alert"\n    *ngIf="showError && formControl.errors"\n  >\n    <formly-validation-message [field]="field"></formly-validation-message>\n  </div>\n  <formly-field *ngFor="let f of field.fieldGroup" [field]="f"></formly-field>\n</div>\n',dependencies:[{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Un.FormlyField,selector:"formly-field",inputs:["model","form","options","field"],outputs:["modelChange"]},{kind:"component",type:Un["ɵc"],selector:"formly-validation-message",inputs:["field"]},{kind:"pipe",type:Ro,name:"humanize"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:fd,decorators:[{type:r.Component,args:[{selector:"c8y-object-type",template:'<div role="group" [attr.aria-labelledby]="id + \'-fieldset\'">\n  <p *ngIf="to.label" class="lead text-center m-b-16" id="{{ id + \'-fieldset\' }}">\n    {{ to.label | humanize }}\n  </p>\n  <p *ngIf="to.description" class="m-b-8">\n    {{ to.description }}\n  </p>\n  <div\n    class="form-control-feedback-message has-error"\n    role="alert"\n    *ngIf="showError && formControl.errors"\n  >\n    <formly-validation-message [field]="field"></formly-validation-message>\n  </div>\n  <formly-field *ngFor="let f of field.fieldGroup" [field]="f"></formly-field>\n</div>\n'}]}]});var yd=function(e){gi(n,e);var t=mi(n);function n(){var e;return bi(this,n),(e=t.apply(this,arguments)).defaultOptions={templateOptions:{options:[],formCheck:"custom"}},e}return Ci(n)}(Un.FieldType);yd.CONFIG={types:[{name:"radio",component:yd,wrappers:["c8y-form-field"]}]},yd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:yd,deps:null,target:r["ɵɵFactoryTarget"].Component}),yd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:yd,selector:"c8y-field-radio",usesInheritance:!0,ngImport:i,template:'<label\n  *ngFor="let option of to.options | formlySelectOptions: field | async; let i = index"\n  [title]="option.label"\n  class="c8y-radio"\n>\n  <input\n    type="radio"\n    [id]="id + \'_\' + i"\n    [name]="field.name || id"\n    [attr.value]="option.value"\n    [value]="option.value"\n    [formControl]="formControl"\n    [formlyAttributes]="field"\n    [attr.disabled]="option.disabled || formControl.disabled ? true : null"\n  />\n  <span></span>\n  <span>{{ option.label | humanize }}</span>\n</label>\n',dependencies:[{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.RadioControlValueAccessor,selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",inputs:["name","formControlName","value"]},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"directive",type:Un.FormlyAttributes,selector:"[formlyAttributes]",inputs:["formlyAttributes","id"]},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:Ro,name:"humanize"},{kind:"pipe",type:Gn["ɵa"],name:"formlySelectOptions"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:yd,decorators:[{type:r.Component,args:[{selector:"c8y-field-radio",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<label\n  *ngFor="let option of to.options | formlySelectOptions: field | async; let i = index"\n  [title]="option.label"\n  class="c8y-radio"\n>\n  <input\n    type="radio"\n    [id]="id + \'_\' + i"\n    [name]="field.name || id"\n    [attr.value]="option.value"\n    [value]="option.value"\n    [formControl]="formControl"\n    [formlyAttributes]="field"\n    [attr.disabled]="option.disabled || formControl.disabled ? true : null"\n  />\n  <span></span>\n  <span>{{ option.label | humanize }}</span>\n</label>\n'}]}]});var vd=function(){function e(t){bi(this,e),this.cdRef=t,this.lastValidHours="00",this.lastValidMinutes="00",this.dayForward=new r.EventEmitter,this.dayBackward=new r.EventEmitter,this.disabled=!1,this.date=new Date,this.touched=!1,this.destroy$=new a.Subject,this.simulatedWheelUpEvent={wheelDeltaY:1,preventDefault:function(){return null}},this.simulatedWheelDownEvent={wheelDeltaY:-1,preventDefault:function(){return null}}}return Ci(e,[{key:"parseValue",value:function(e,t,n){this.cdRef.detectChanges(),this[e].length>0&&!/^\d+$/.test(this[e])?this[e]=this[t]:(this[e].length<=1&&(this[e]=this[e].padStart(2,"0")),this[e].length>2&&this[e].startsWith("0")&&(this[e]=this[e].slice(1,3)),this[e].length>2?this[e]=this[t]:(Number(this[e])>n&&(this[e]=n),this[t]=this[e]))}},{key:"initializeMinutes",value:function(){this.hasValue(this.minutes)||(this.minutes="00")}},{key:"initializeHours",value:function(){this.hasValue(this.hours)||(this.hours="00")}},{key:"handleHourScroll",value:function(e){e.preventDefault(),e.wheelDeltaY>0&&(23===Number(this.hours)?(this.writeValue({hour:0,minute:Number(this.minutes)}),this.dayForward.emit()):this.writeValue({hour:Number(this.hours)+1,minute:Number(this.minutes)}),this.emitValue()),e.wheelDeltaY<0&&(0===Number(this.hours)?(this.writeValue({hour:23,minute:Number(this.minutes)}),this.dayBackward.emit()):this.writeValue({hour:Number(this.hours)-1,minute:Number(this.minutes)}),this.emitValue())}},{key:"handleMinuteScroll",value:function(e){e.preventDefault(),e.wheelDeltaY>0&&(59===Number(this.minutes)?(this.writeValue({hour:Number(this.hours),minute:0}),this.handleHourScroll(this.simulatedWheelUpEvent)):this.writeValue({hour:Number(this.hours),minute:Number(this.minutes)+1})),e.wheelDeltaY<0&&(0===Number(this.minutes)?(this.writeValue({hour:Number(this.hours),minute:59}),this.handleHourScroll(this.simulatedWheelDownEvent)):this.writeValue({hour:Number(this.hours),minute:Number(this.minutes)-1})),this.emitValue()}},{key:"emitValue",value:function(){this.hasValue(this.hours)&&this.hasValue(this.minutes)&&this.onChange({hour:Number(this.hours),minute:Number(this.minutes)})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"writeValue",value:function(e){this.hasValue(null==e?void 0:e.hour)&&this.hasValue(null==e?void 0:e.minute)?(this.hours=e.hour.toString(),this.minutes=e.minute.toString(),this.parseValue("hours","lastValidHours",23),this.parseValue("minutes","lastValidMinutes",59)):(this.hours=void 0,this.minutes=void 0)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"markAsTouched",value:function(){this.touched||(this.onTouched(),this.touched=!0)}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"hasValue",value:function(e){return void 0!==e}}]),e}();vd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vd,deps:[{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Component}),vd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:vd,selector:"c8y-time-picker",inputs:{minDate:"minDate",maxDate:"maxDate",placeholder:"placeholder"},outputs:{dayForward:"dayForward",dayBackward:"dayBackward"},providers:[{provide:De.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)((function(){return vd})),multi:!0}],ngImport:i,template:'<table>\n  <tbody>\n    <tr>\n      <td class="form-group">\n        <input\n          type="text"\n          class="form-control text-center bs-timepicker-field"\n          [disabled]="disabled"\n          [placeholder]="\'HH`HOURS`\' | translate"\n          [(ngModel)]="hours"\n          (input)="parseValue(\'hours\', \'lastValidHours\', 23); initializeMinutes()"\n          (change)="emitValue()"\n          (wheel)="handleHourScroll($event)"\n          (focus)="markAsTouched()"\n        />\n      </td>\n      <td>&nbsp;:&nbsp;</td>\n      <td class="form-group">\n        <input\n          type="text"\n          class="form-control text-center bs-timepicker-field"\n          [disabled]="disabled"\n          [placeholder]="\'MM`MINUTES`\' | translate"\n          [(ngModel)]="minutes"\n          (input)="parseValue(\'minutes\', \'lastValidMinutes\', 59); initializeHours()"\n          (change)="emitValue()"\n          (wheel)="handleMinuteScroll($event)"\n          (focus)="markAsTouched()"\n        />\n      </td>\n    </tr>\n  </tbody>\n</table>\n',dependencies:[{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:vd,decorators:[{type:r.Component,args:[{selector:"c8y-time-picker",providers:[{provide:De.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)((function(){return vd})),multi:!0}],template:'<table>\n  <tbody>\n    <tr>\n      <td class="form-group">\n        <input\n          type="text"\n          class="form-control text-center bs-timepicker-field"\n          [disabled]="disabled"\n          [placeholder]="\'HH`HOURS`\' | translate"\n          [(ngModel)]="hours"\n          (input)="parseValue(\'hours\', \'lastValidHours\', 23); initializeMinutes()"\n          (change)="emitValue()"\n          (wheel)="handleHourScroll($event)"\n          (focus)="markAsTouched()"\n        />\n      </td>\n      <td>&nbsp;:&nbsp;</td>\n      <td class="form-group">\n        <input\n          type="text"\n          class="form-control text-center bs-timepicker-field"\n          [disabled]="disabled"\n          [placeholder]="\'MM`MINUTES`\' | translate"\n          [(ngModel)]="minutes"\n          (input)="parseValue(\'minutes\', \'lastValidMinutes\', 59); initializeHours()"\n          (change)="emitValue()"\n          (wheel)="handleMinuteScroll($event)"\n          (focus)="markAsTouched()"\n        />\n      </td>\n    </tr>\n  </tbody>\n</table>\n'}]}],ctorParameters:function(){return[{type:r.ChangeDetectorRef}]},propDecorators:{minDate:[{type:r.Input}],maxDate:[{type:r.Input}],placeholder:[{type:r.Input}],dayForward:[{type:r.Output}],dayBackward:[{type:r.Output}]}});var bd=function(){function e(){var t=this;bi(this,e),this.defaultPlaceholder="Select a date…",this.destroy$=new a.Subject,this.form=new De.FormGroup({}),this.form.addControl("date",new De.FormControl(null)),this.form.addControl("time",new De.FormControl(null)),this.form.valueChanges.pipe((0,s.takeUntil)(this.destroy$)).subscribe((function(e){t.setDatetime(e),t.previousValue=e})),this.form.statusChanges.pipe((0,s.first)()).pipe((0,s.takeUntil)(this.destroy$)).subscribe((function(){t.onTouched()}))}return Ci(e,[{key:"_minDate",set:function(e){this.minDate=e?new Date(e):void 0}},{key:"_maxDate",set:function(e){this.maxDate=e?new Date(e):void 0}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"writeValue",value:function(e){"string"==typeof e&&e.length?(this.date=new Date(e),this.form.setValue({date:new Date(e),time:{hour:this.date.getHours(),minute:this.date.getMinutes()}},{emitEvent:!1})):this.form.setValue({date:null,time:null},{emitEvent:!1}),this.previousValue=this.form.value}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.form.disable():this.form.enable()}},{key:"validate",value:function(e){var t,n;return(null===(t=this.date)||void 0===t?void 0:t.getTime())<new Date(this.minDate).getTime()?{dateBeforeRangeMin:!0}:(null===(n=this.date)||void 0===n?void 0:n.getTime())>new Date(this.maxDate).getTime()?{dateAfterRangeMax:!0}:this.form.invalid?{invalidDateTime:!0}:null}},{key:"previousDay",value:function(){this.date.setDate(this.date.getDate()-1),this.setDatetime({date:this.date,time:this.form.get("time").value})}},{key:"nextDay",value:function(){this.date.setDate(this.date.getDate()+1),this.setDatetime({date:this.date,time:this.form.get("time").value})}},{key:"setDatetime",value:function(e){var t,n,r;if(!e.date&&null!==(t=this.previousValue)&&void 0!==t&&t.date)return this.form.get("time").setValue({hour:void 0,minute:void 0},{emitEvent:!1}),void this.onChange(null);e.date||(e.date=new Date,e.date.setSeconds(0)),this.date=new Date(e.date),void 0!==(null===(n=e.time)||void 0===n?void 0:n.hour)&&void 0!==(null===(r=e.time)||void 0===r?void 0:r.minute)||(e.time={hour:0,minute:0},this.form.get("time").setValue(e.time,{emitEvent:!1})),this.date.setHours(e.time.hour,e.time.minute),this.form.get("date").setValue(e.date,{emitEvent:!1}),this.onChange(this.date.toISOString())}}]),e}();bd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bd,deps:[],target:r["ɵɵFactoryTarget"].Component}),bd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:bd,selector:"c8y-date-time-picker",inputs:{_minDate:["minDate","_minDate"],_maxDate:["maxDate","_maxDate"],placeholder:"placeholder"},providers:[{provide:De.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)((function(){return bd})),multi:!0},{provide:De.NG_VALIDATORS,useExisting:(0,r.forwardRef)((function(){return bd})),multi:!0}],ngImport:i,template:'<div class="datetime-picker">\n  <div class="form-group datepicker">\n    <input\n      class="form-control"\n      [placeholder]="placeholder || defaultPlaceholder | translate"\n      bsDatepicker\n      [bsConfig]="{ customTodayClass: \'today\', dateInputFormat: \'YYYY-MM-DD\' }"\n      [formControl]="form.get(\'date\')"\n      (blur)="onTouched()"\n      [minDate]="minDate"\n      [maxDate]="maxDate"\n    />\n  </div>\n  <c8y-time-picker\n    [formControl]="form.get(\'time\')"\n    (dayBackward)="previousDay()"\n    (dayForward)="nextDay()"\n  ></c8y-time-picker>\n</div>\n',dependencies:[{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"directive",type:ke.BsDatepickerDirective,selector:"[bsDatepicker]",inputs:["placement","triggers","outsideClick","container","outsideEsc","isDisabled","minDate","maxDate","minMode","daysDisabled","datesDisabled","datesEnabled","dateCustomClasses","dateTooltipTexts","isOpen","bsValue","bsConfig"],outputs:["onShown","onHidden","bsValueChange"],exportAs:["bsDatepicker"]},{kind:"directive",type:ke.BsDatepickerInputDirective,selector:"input[bsDatepicker]"},{kind:"component",type:vd,selector:"c8y-time-picker",inputs:["minDate","maxDate","placeholder"],outputs:["dayForward","dayBackward"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:bd,decorators:[{type:r.Component,args:[{selector:"c8y-date-time-picker",providers:[{provide:De.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)((function(){return bd})),multi:!0},{provide:De.NG_VALIDATORS,useExisting:(0,r.forwardRef)((function(){return bd})),multi:!0}],template:'<div class="datetime-picker">\n  <div class="form-group datepicker">\n    <input\n      class="form-control"\n      [placeholder]="placeholder || defaultPlaceholder | translate"\n      bsDatepicker\n      [bsConfig]="{ customTodayClass: \'today\', dateInputFormat: \'YYYY-MM-DD\' }"\n      [formControl]="form.get(\'date\')"\n      (blur)="onTouched()"\n      [minDate]="minDate"\n      [maxDate]="maxDate"\n    />\n  </div>\n  <c8y-time-picker\n    [formControl]="form.get(\'time\')"\n    (dayBackward)="previousDay()"\n    (dayForward)="nextDay()"\n  ></c8y-time-picker>\n</div>\n'}]}],ctorParameters:function(){return[]},propDecorators:{_minDate:[{type:r.Input,args:["minDate"]}],_maxDate:[{type:r.Input,args:["maxDate"]}],placeholder:[{type:r.Input}]}});var kd=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n)}(Un.FieldType);kd.CONFIG={types:[{name:"date-time",component:kd,wrappers:["c8y-form-field"]}]},kd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:kd,deps:null,target:r["ɵɵFactoryTarget"].Component}),kd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:kd,selector:"c8y-field-date-time",usesInheritance:!0,ngImport:i,template:'<c8y-date-time-picker\n  [minDate]="to.minDate"\n  [maxDate]="to.maxDate"\n  [placeholder]="(to.placeholder | translate)"\n  [formControl]="formControl"\n></c8y-date-time-picker>\n',dependencies:[{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"component",type:bd,selector:"c8y-date-time-picker",inputs:["minDate","maxDate","placeholder"]},{kind:"pipe",type:ao,name:"translate"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:kd,decorators:[{type:r.Component,args:[{selector:"c8y-field-date-time",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<c8y-date-time-picker\n  [minDate]="to.minDate"\n  [maxDate]="to.maxDate"\n  [placeholder]="(to.placeholder | translate)"\n  [formControl]="formControl"\n></c8y-date-time-picker>\n'}]}]});var Cd=Ci((function e(){bi(this,e)}));Cd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cd,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Cd.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Cd,declarations:[vd],imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,ke.BsDatepickerModule,da],exports:[vd]}),Cd.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cd,imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,ke.BsDatepickerModule.forRoot(),da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Cd,decorators:[{type:r.NgModule,args:[{imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,ke.BsDatepickerModule.forRoot(),da],exports:[vd],declarations:[vd]}]}]});var Id=Ci((function e(){bi(this,e)}));Id.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Id,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Id.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Id,declarations:[bd],imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,ke.BsDatepickerModule,da,Cd],exports:[bd]}),Id.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Id,imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,ke.BsDatepickerModule.forRoot(),da,Cd]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Id,decorators:[{type:r.NgModule,args:[{imports:[xc,u.CommonModule,De.FormsModule,De.ReactiveFormsModule,ke.BsDatepickerModule.forRoot(),da,Cd],exports:[bd],declarations:[bd]}]}]});var wd=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this)).cdRef=e,i.translateService=r,i.match=!1,i.placeholder$=(0,a.defer)((function(){var e;return(0,a.of)(null===(e=i.to)||void 0===e?void 0:e.placeholder)})).pipe((0,s.switchMap)((function(e){return e?(0,a.of)(e):i.defaultPlaceholder$.pipe((0,s.startWith)(i.translateService.instant("Start typing to search")))}))),i.defaultPlaceholder$=(0,a.defer)((function(){var e,t,n;return(0,a.isObservable)(null===(e=i.to)||void 0===e?void 0:e.c8yForOptions)?null===(t=i.to)||void 0===t?void 0:t.c8yForOptions:(0,a.of)(null===(n=i.to)||void 0===n?void 0:n.c8yForOptions)})).pipe((0,s.map)((function(e){var t=e.data;return(0,c.get)(t[0],i.labelProp||"name")})),(0,s.map)((function(e){return e?i.translateService.instant("Start typing to search, for example, {{ example }}",{example:e}):i.translateService.instant("No items")}))),i.excludeLabelProp=!1,i}return Ci(n,[{key:"ngOnInit",value:function(){this.to&&(this.to.excludeDisplayProperty&&(this.excludeLabelProp=this.to.excludeDisplayProperty),this.to.displayProperty?(this.setPipe(""),this.labelProp=this.to.displayProperty,this.valueProps=this.to.valueProperties):console.error("To correctly use the typeahead select you need to specify displayProperty: string within templateOptions!"))}},{key:"selectOption",value:function(e){if(this.valueProps&&this.valueProps.length>0){var t=this.excludeLabelProp?this.valueProps:[].concat(wi(this.valueProps),[this.labelProp]);this.formControl.setValue((0,c.pick)(e,t)),this.selected=li({},this.labelProp,e[this.labelProp])}else this.formControl.setValue(e)}},{key:"setPipe",value:function(e){var t=this;this.pattern=e,this.filterPipe=(0,a.pipe)((0,s.map)((function(n){return n.filter((function(n){return n[t.labelProp]&&n[t.labelProp].toLowerCase().indexOf(e.toLowerCase())>-1}))})),(0,s.tap)((function(e){t.match=e.length>0,t.cdRef.detectChanges()})))}}]),n}(Un.FieldType);wd.CONFIG={types:[{name:"typeahead",component:wd}]},wd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wd,deps:[{token:r.ChangeDetectorRef},{token:ye.TranslateService}],target:r["ɵɵFactoryTarget"].Component}),wd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:wd,selector:"c8y-typeahead-type",usesInheritance:!0,ngImport:i,template:'<c8y-typeahead\n  [required]="to?.required || false"\n  [placeholder]="placeholder$ | async"\n  [displayProperty]="to?.displayProperty"\n  [selected]="selected"\n  [allowFreeEntries]="to?.allowFreeEntries || false"\n  [container]="to?.container || \'\'"\n  [disabled]="to?.disabled"\n  (onSearch)="setPipe($event)"\n  [formControl]="formControl"\n  [class.is-invalid]="showError"\n  [formlyAttributes]="field">\n\n  <c8y-li *c8yFor="let opt of to?.c8yForOptions; loadMore: to?.loadMore || \'auto\'; pipe: filterPipe; notFound: notFoundTemplate; loadingTemplate: loading;"\n          (click)="selectOption(opt); setPipe(\'\')"\n          class="p-l-8 p-r-8 c8y-list__item--link">\n    <c8y-highlight [text]="opt[labelProp]" [pattern]="pattern"></c8y-highlight>\n  </c8y-li>\n  <ng-template #notFoundTemplate>\n    <c8y-li class="bg-gray-lighter p-8" *ngIf="pattern.length > 0 && !match">\n      <p><strong translate>No match found.</strong></p>\n    </c8y-li>\n  </ng-template>\n  <ng-template #loading>\n    <c8y-li class="text-center p-t-8 p-relative">\n      <c8y-loading></c8y-loading>\n    </c8y-li>\n  </ng-template>\n</c8y-typeahead>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:No,selector:"[c8yFor]",inputs:["c8yForOf","c8yForLoadMore","c8yForPipe","c8yForNotFound","c8yForMaxIterations","c8yForLoadingTemplate","c8yForLoadNextLabel","c8yForRealtime","c8yForRealtimeOptions","c8yForComparator","c8yForEnableVirtualScroll","c8yForVirtualScrollElementSize","c8yForVirtualScrollStrategy","c8yForVirtualScrollContainerHeight"],outputs:["c8yForCount"]},{kind:"component",type:Wo,selector:"c8y-loading"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.FormControlDirective,selector:"[formControl]",inputs:["formControl","disabled","ngModel"],outputs:["ngModelChange"],exportAs:["ngForm"]},{kind:"directive",type:Un.FormlyAttributes,selector:"[formlyAttributes]",inputs:["formlyAttributes","id"]},{kind:"component",type:dl,selector:"c8y-typeahead",inputs:["required","maxlength","disabled","allowFreeEntries","placeholder","displayProperty","icon","name","autoClose","hideNew","container","selected"],outputs:["onSearch","onIconClick"]},{kind:"component",type:sl,selector:"c8y-list-item, c8y-li",inputs:["active","emptyActions","collapsed","selectable"],outputs:["collapsedChange"]},{kind:"component",type:nl,selector:"c8y-highlight",inputs:["pattern","text","elementClass","shouldTrimPattern"]},{kind:"pipe",type:u.AsyncPipe,name:"async"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:wd,decorators:[{type:r.Component,args:[{selector:"c8y-typeahead-type",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<c8y-typeahead\n  [required]="to?.required || false"\n  [placeholder]="placeholder$ | async"\n  [displayProperty]="to?.displayProperty"\n  [selected]="selected"\n  [allowFreeEntries]="to?.allowFreeEntries || false"\n  [container]="to?.container || \'\'"\n  [disabled]="to?.disabled"\n  (onSearch)="setPipe($event)"\n  [formControl]="formControl"\n  [class.is-invalid]="showError"\n  [formlyAttributes]="field">\n\n  <c8y-li *c8yFor="let opt of to?.c8yForOptions; loadMore: to?.loadMore || \'auto\'; pipe: filterPipe; notFound: notFoundTemplate; loadingTemplate: loading;"\n          (click)="selectOption(opt); setPipe(\'\')"\n          class="p-l-8 p-r-8 c8y-list__item--link">\n    <c8y-highlight [text]="opt[labelProp]" [pattern]="pattern"></c8y-highlight>\n  </c8y-li>\n  <ng-template #notFoundTemplate>\n    <c8y-li class="bg-gray-lighter p-8" *ngIf="pattern.length > 0 && !match">\n      <p><strong translate>No match found.</strong></p>\n    </c8y-li>\n  </ng-template>\n  <ng-template #loading>\n    <c8y-li class="text-center p-t-8 p-relative">\n      <c8y-loading></c8y-loading>\n    </c8y-li>\n  </ng-template>\n</c8y-typeahead>\n'}]}],ctorParameters:function(){return[{type:r.ChangeDetectorRef},{type:ye.TranslateService}]}});var Sd=[pd,dd,hd,gd,md,yd,fd,ud,kd,wd];function xd(){return Sd.map((function(e){return e.CONFIG})).reduce((function(e,t){return ci(ci({},e),{},{types:[].concat(wi(e.types),wi(t.types||[])),wrappers:[].concat(wi(e.wrappers),wi(t.wrappers||[]))})}),{types:[],wrappers:[]})}var Dd=Ci((function e(){bi(this,e)}));Dd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dd,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Dd.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Dd,declarations:[pd,dd,hd,gd,md,yd,fd,ud,kd,wd],imports:[u.CommonModule,da,Sn.PopoverModule,De.ReactiveFormsModule,so,Kl,xc,Un.FormlyModule,Gn.FormlySelectModule,Id,$l,Dl,Tl,ke.BsDatepickerModule]}),Dd.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dd,providers:[{provide:Un.FORMLY_CONFIG,useFactory:xd,multi:!0}],imports:[u.CommonModule,da,Sn.PopoverModule,De.ReactiveFormsModule,so,Kl,xc,Un.FormlyModule,Gn.FormlySelectModule,Id,$l,Dl,Tl,ke.BsDatepickerModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dd,decorators:[{type:r.NgModule,args:[{declarations:[].concat(Sd),entryComponents:[].concat(Sd),imports:[u.CommonModule,da,Sn.PopoverModule,De.ReactiveFormsModule,so,Kl,xc,Un.FormlyModule,Gn.FormlySelectModule,Id,$l,Dl,Tl,ke.BsDatepickerModule],providers:[{provide:Un.FORMLY_CONFIG,useFactory:xd,multi:!0}]}]}]});var $d=function(){function e(t,n){bi(this,e),this.translate=t,this.parser=n}return Ci(e,[{key:"prePopulate",value:function(e){var t=this,n=e.templateOptions||{};n.label&&!n._translated&&(n._translated=!0,e.expressionProperties=ci(ci({},e.expressionProperties||{}),{},{"templateOptions.label":n.label?this.translate.stream(n.label):n.label,"templateOptions.description":n.description?this.translate.stream(n.description):n.description,"templateOptions.placeholder":n.placeholder?(0,a.combineLatest)([this.translate.stream(n.placeholder),this.translate.stream("e.g. {{ example }}")]).pipe((0,s.map)((function(e){var n=ii(e,2),r=n[0],i=n[1];return t.parser.interpolate(i,{example:r})}))):n.placeholder,"templateOptions.options":((0,a.isObservable)(n.options)?n.options:(0,a.of)(n.options)).pipe((0,s.map)((function(e){return(e||[]).map((function(e){return ci(ci({},e),{},{label:t.translate.instant(e.label)})}))})))}))}}]),e}();function Ed(e,t){return{extensions:[{name:"translate",extension:new $d(e,t)}]}}var Td=Ci((function e(){bi(this,e)}));Td.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Td,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Td.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Td,imports:[Un.FormlyModule,so]}),Td.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Td,providers:[{provide:Un.FORMLY_CONFIG,multi:!0,useFactory:Ed,deps:[ye.TranslateService,ye.TranslateParser]}],imports:[Un.FormlyModule,so]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Td,decorators:[{type:r.NgModule,args:[{imports:[Un.FormlyModule,so],providers:[{provide:Un.FORMLY_CONFIG,multi:!0,useFactory:Ed,deps:[ye.TranslateService,ye.TranslateParser]}]}]}]});var _d=function(e){gi(n,e);var t=mi(n);function n(){return bi(this,n),t.apply(this,arguments)}return Ci(n,[{key:"toFieldConfig",value:function(e,t){var r=ni(vi(n.prototype),"toFieldConfig",this).call(this,e,this.c8yOptions((t||{}).map));return Array.isArray(r.fieldGroup)&&r.fieldGroup.forEach((function(e){"array"===e.type&&e.templateOptions.required&&(e.fieldArray.templateOptions.required=!0)})),r}},{key:"c8yOptions",value:function(e){return{map:function(t,n){var r=t;return n.const&&(r=ci(ci({},r),{},{defaultValue:n.const,templateOptions:ci(ci({},r.templateOptions),{},{type:"hidden"})})),n.writeOnly&&(r=ci(ci({},r),{},{templateOptions:ci(ci({},r.templateOptions),{},{type:"password",autocomplete:"off"})})),n.examples&&(r=ci(ci({},r),{},{templateOptions:ci(ci({},r.templateOptions),{},{placeholder:n.examples.join(", ")})})),n.enum&&(r=ci(ci({},r),{},{type:"radio"})),(n.contentMediaType||n.contentEncoding)&&(r=ci(ci({},r),{},{type:"file",templateOptions:ci(ci({},r.templateOptions),{},{accept:n.contentMediaType,maxAllowedFiles:1,contentEncoding:n.contentEncoding})})),n.allowedFileTypes&&(r=ci(ci({},r),{},{templateOptions:ci(ci({},r.templateOptions),n.allowedFileTypes&&{accept:n.allowedFileTypes.join(",")})})),n.templateOptions&&(r=ci(ci({},r),{},{templateOptions:ci(ci({},n.templateOptions),r.templateOptions)})),e?e(r,n):r}}}}]),n}(zn.FormlyJsonschema);function Fd(e){return{validationMessages:[{name:"required",message:function(){return e.stream(xs.messages.required)}},{name:"notExisting",message:function(){return e.stream("No selection")}},{name:"pattern",message:function(t,n){return e.stream(xs.messages.pattern,t)}},{name:"minlength",message:function(t,n){return e.stream(xs.messages.minLength,n.templateOptions)}},{name:"min",message:function(t,n){return e.stream(xs.messages.min,n.templateOptions)}},{name:"max",message:function(t,n){return e.stream(xs.messages.max,n.templateOptions)}},{name:"invalidDateTime",message:function(){return e.stream("This date is invalid.")}},{name:"dateBeforeRangeMin",message:function(){return e.stream("This date is before the earliest allowed date.")}},{name:"dateAfterRangeMax",message:function(){return e.stream("This date is after the latest allowed date.")}}]}}_d.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_d,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),_d.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_d,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_d,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});var Od=Ci((function e(){bi(this,e)}));Od.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Od,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Od.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Od,imports:[so,Un.FormlyModule]}),Od.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Od,providers:[{provide:Un.FORMLY_CONFIG,multi:!0,useFactory:Fd,deps:[ye.TranslateService]}],imports:[so,Un.FormlyModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Od,decorators:[{type:r.NgModule,args:[{imports:[so,Un.FormlyModule],providers:[{provide:Un.FORMLY_CONFIG,multi:!0,useFactory:Fd,deps:[ye.TranslateService]}]}]}]});var Pd=Ci((function e(){bi(this,e)}));function Nd(e){return[{key:e.key,type:"array",defaultValue:[""],templateOptions:{required:!e.optional,addText:e.addText},fieldArray:{type:"string",templateOptions:{required:!e.optional,label:e.label,tooltip:e.tooltip,placeholder:e.placeholder}}}]}Pd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pd,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Pd.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Pd,imports:[u.CommonModule,De.ReactiveFormsModule,Td,Od,Dd,Un.FormlyModule],exports:[Un.FormlyModule,De.ReactiveFormsModule]}),Pd.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pd,providers:[_d],imports:[u.CommonModule,De.ReactiveFormsModule,Td,Od,Dd,Un.FormlyModule.forRoot(),Un.FormlyModule,De.ReactiveFormsModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pd,decorators:[{type:r.NgModule,args:[{imports:[u.CommonModule,De.ReactiveFormsModule,Td,Od,Dd,Un.FormlyModule.forRoot()],providers:[_d],exports:[Un.FormlyModule,De.ReactiveFormsModule]}]}]});var Ad,Md=Ci((function e(t){bi(this,e),Object.assign(this,t)}));!function(e){e.NONE="none",e.TEMPORARY="temporary",e.TEMPORARY_OR_PERMANENT="temporary_or_permanent"}(Ad||(Ad={}));var Rd=["danger","warning","info"],Ld=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];bi(this,e),this.anyAlertExistsSubject=new Hn.BehaviorSubject(!1),this.anyAlertExists$=this.anyAlertExistsSubject.asObservable(),this.initAlertsGroups(),this.setAlerts(t)}return Ci(e,[{key:"addAlerts",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.setAlerts(t)}},{key:"clear",value:function(e){e?this.aggregatedAlertsData.get(e).alerts=[]:this.aggregatedAlertsData.forEach((function(e){return e.alerts=[]})),this.onDataChanged()}},{key:"setAlertGroupDismissStrategy",value:function(e,t){this.aggregatedAlertsData.get(e).alertDismissal.dismissStrategy=t,this.onDataChanged()}},{key:"dismissAlertGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.aggregatedAlertsData.get(e).alertDismissal.dismissStrategy;switch(n){case Ad.NONE:return;case Ad.TEMPORARY:this.aggregatedAlertsData.get(e).alertDismissal.userDismissalChoice="REMIND_ALLOWED";break;case Ad.TEMPORARY_OR_PERMANENT:this.aggregatedAlertsData.get(e).alertDismissal.userDismissalChoice=t?"REMIND_DISALLOWED":"REMIND_ALLOWED"}this.clear(e)}},{key:"toJSON",value:function(){}},{key:"initAlertsGroups",value:function(){this.aggregatedAlertsData=new Map(Rd.map((function(e){return[e,{alerts:[],alertDismissal:{dismissStrategy:Ad.NONE}}]})))}},{key:"setAlerts",value:function(e){var t=this;e.forEach((function(e){"REMIND_DISALLOWED"!==t.aggregatedAlertsData.get(e.type).alertDismissal.userDismissalChoice&&(t.aggregatedAlertsData.get(e.type)||(t.aggregatedAlertsData.get(e.type).alerts=[]),t.aggregatedAlertsData.get(e.type).alerts.push(e))})),this.onDataChanged()}},{key:"onDataChanged",value:function(){var e=this;this.alertGroups=wi((0,c.cloneDeep)(this.aggregatedAlertsData)).map((function(e){var t=ii(e,2);return{type:t[0],value:t[1]}})),queueMicrotask((function(){e.anyAlertExistsSubject.next(e.alertGroups.some((function(e){return!!e.value.alerts.length})))}))}}]),e}(),Vd=function(){function e(t,n){bi(this,e),this.componentFactoryResolver=t,this.dynamicComponentService=n,this.mode="component",this.notFoundError=!0,this.executeResolvers=!1,this.updateWidgetClasses=new r.EventEmitter,this.expandErrorDetails=!1,this.dismissAlertStrategy=Ad,this.dynamicComponentErrorStrategy=Ha,this.destroy$=new a.Subject}var t;return Ci(e,[{key:"callLifeCycleHooks",value:function(){return this.callOnBeforeSaveHook()}},{key:"ngOnChanges",value:(t=ui(di().mark((function e(t){var n,r,i,o,a,s,l,d,p,u,g=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dynamicComponentService.getById(this.componentId);case 2:if(i=e.sent,o=new Array,!i){e.next=18;break}if(this.errorStrategy=i.errorStrategy||Ha.CUSTOM,!this.executeResolvers){e.next=13;break}return e.next=9,this.dynamicComponentService.executeResolvers([{componentId:this.componentId,config:this.config}]);case 9:a=e.sent,s=ii(a,1),l=s[0],Object.entries(l).forEach((function(e){var t=ii(e,2),n=t[0],r=t[1];return(0,c.set)(g.config,n,r)}));case 13:if(d=i.resolve?Object.keys(i.resolve).map((function(e){return(0,c.get)(g.config,e)})):[],p=(0,c.flatten)(d),!(o=p.filter((function(e){return e&&e instanceof Md}))).length||i.errorStrategy!==Ha.NOT_RENDER){e.next=18;break}return e.abrupt("return");case 18:this.loadComponent(i,o),(u=null===(n=this.componentRef)||void 0===n||null===(r=n.instance)||void 0===r?void 0:r.ngOnChanges)&&u.call(this.componentRef.instance,t);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"loadComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{this.error=void 0;var n=this.componentFactoryResolver.resolveComponentFactory("component"===this.mode?e.component:e.configComponent);this.host.clear(),this.componentRef=this.host.createComponent(n),this.componentInstance=this.componentRef.instance,this.componentInstance.config=this.config,this.componentInstance.alerts=new Ld(t),this.subscribeForOverlayChange()}catch(e){this.error=e}}},{key:"subscribeForOverlayChange",value:function(){var e=this;this.componentInstance.alerts.anyAlertExists$.pipe((0,s.takeUntil)(this.destroy$)).subscribe((function(t){return e.updateWidgetClasses.emit({"alerts-overlay":t})}))}},{key:"callOnBeforeSaveHook",value:function(){if(!this.componentRef)return(0,a.of)(!0);var e=this.componentRef.instance.onBeforeSave;if(e){var t=e.call(this.componentRef.instance,this.config);return(0,c.isUndefined)(t)?(0,a.of)(!0):(0,a.isObservable)(t)?t:(0,a.of)(t)}return(0,a.of)(!0)}}]),e}();Vd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vd,deps:[{token:r.ComponentFactoryResolver},{token:Za}],target:r["ɵɵFactoryTarget"].Component}),Vd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Vd,selector:"c8y-dynamic-component",inputs:{componentId:"componentId",config:"config",mode:"mode",notFoundError:"notFoundError",executeResolvers:"executeResolvers"},outputs:{updateWidgetClasses:"updateWidgetClasses"},viewQueries:[{propertyName:"host",first:!0,predicate:["host"],descendants:!0,read:r.ViewContainerRef,static:!0}],usesOnChanges:!0,ngImport:i,template:'<ng-template #host></ng-template>\n\n<div class="alert alert-warning m-8" role="alert" *ngIf="error && notFoundError">\n  <strong class="message">\n    {{\n      \'This widget cannot be rendered because the current application does not support the following component:\'\n        | translate\n    }}\n    {{ componentId }}.\n  </strong>\n  <p class="text-muted m-t-8">\n    <button class="btn btn-clean" (click)="expandErrorDetails = !expandErrorDetails">\n      <i c8yIcon="chevron-down"></i>\n      <span *ngIf="!expandErrorDetails" translate>Show details</span>\n      <span *ngIf="expandErrorDetails" translate>Hide details</span>\n    </button>\n  </p>\n  <div [collapse]="!expandErrorDetails" [isAnimated]="true">\n    <pre>\n      {{ error }}\n    </pre>\n  </div>\n</div>\n\n<div\n  class="overlay-center-vertically d-flex d-col a-i-stretch j-c-start p-16 p-r-24 p-l-24"\n  *ngIf="\n    errorStrategy === dynamicComponentErrorStrategy.OVERLAY_ERROR &&\n      componentInstance?.alerts?.anyAlertExists$ | async\n  "\n>\n  <ng-container *ngFor="let alertGroup of componentInstance?.alerts?.alertGroups">\n    <div\n      *ngIf="alertGroup.value.alerts.length"\n      class="alert"\n      role="alert"\n      [ngClass]="\'alert-\' + alertGroup.type"\n    >\n      <button\n        class="close"\n        type="button"\n        *ngIf="\n          alertGroup.value.alertDismissal.dismissStrategy === dismissAlertStrategy.TEMPORARY ||\n          alertGroup.value.alertDismissal.dismissStrategy ===\n            dismissAlertStrategy.TEMPORARY_OR_PERMANENT\n        "\n        (click)="\n          componentInstance.alerts.dismissAlertGroup(alertGroup.type, dismissPermanently.checked)\n        "\n      >\n        <span aria-hidden="true">×</span>\n        <span class="sr-only">Close</span>\n      </button>\n      <p *ngFor="let alertItem of alertGroup.value.alerts">\n        {{ alertItem.text | translate }}\n      </p>\n      <label\n        title="{{ \'Don\\\'t show again\' | translate }}"\n        class="c8y-checkbox m-t-16"\n        [class.hidden]="\n          alertGroup.value.alertDismissal.dismissStrategy !==\n          dismissAlertStrategy.TEMPORARY_OR_PERMANENT\n        "\n      >\n        <input type="checkbox" #dismissPermanently />\n        <span></span>\n        <span>{{ "Don\'t show again" | translate }}</span>\n      </label>\n    </div>\n  </ng-container>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:l.CollapseDirective,selector:"[collapse]",inputs:["display","isAnimated","collapse"],outputs:["collapsed","collapses","expanded","expands"],exportAs:["bs-collapse"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vd,decorators:[{type:r.Component,args:[{selector:"c8y-dynamic-component",template:'<ng-template #host></ng-template>\n\n<div class="alert alert-warning m-8" role="alert" *ngIf="error && notFoundError">\n  <strong class="message">\n    {{\n      \'This widget cannot be rendered because the current application does not support the following component:\'\n        | translate\n    }}\n    {{ componentId }}.\n  </strong>\n  <p class="text-muted m-t-8">\n    <button class="btn btn-clean" (click)="expandErrorDetails = !expandErrorDetails">\n      <i c8yIcon="chevron-down"></i>\n      <span *ngIf="!expandErrorDetails" translate>Show details</span>\n      <span *ngIf="expandErrorDetails" translate>Hide details</span>\n    </button>\n  </p>\n  <div [collapse]="!expandErrorDetails" [isAnimated]="true">\n    <pre>\n      {{ error }}\n    </pre>\n  </div>\n</div>\n\n<div\n  class="overlay-center-vertically d-flex d-col a-i-stretch j-c-start p-16 p-r-24 p-l-24"\n  *ngIf="\n    errorStrategy === dynamicComponentErrorStrategy.OVERLAY_ERROR &&\n      componentInstance?.alerts?.anyAlertExists$ | async\n  "\n>\n  <ng-container *ngFor="let alertGroup of componentInstance?.alerts?.alertGroups">\n    <div\n      *ngIf="alertGroup.value.alerts.length"\n      class="alert"\n      role="alert"\n      [ngClass]="\'alert-\' + alertGroup.type"\n    >\n      <button\n        class="close"\n        type="button"\n        *ngIf="\n          alertGroup.value.alertDismissal.dismissStrategy === dismissAlertStrategy.TEMPORARY ||\n          alertGroup.value.alertDismissal.dismissStrategy ===\n            dismissAlertStrategy.TEMPORARY_OR_PERMANENT\n        "\n        (click)="\n          componentInstance.alerts.dismissAlertGroup(alertGroup.type, dismissPermanently.checked)\n        "\n      >\n        <span aria-hidden="true">×</span>\n        <span class="sr-only">Close</span>\n      </button>\n      <p *ngFor="let alertItem of alertGroup.value.alerts">\n        {{ alertItem.text | translate }}\n      </p>\n      <label\n        title="{{ \'Don\\\'t show again\' | translate }}"\n        class="c8y-checkbox m-t-16"\n        [class.hidden]="\n          alertGroup.value.alertDismissal.dismissStrategy !==\n          dismissAlertStrategy.TEMPORARY_OR_PERMANENT\n        "\n      >\n        <input type="checkbox" #dismissPermanently />\n        <span></span>\n        <span>{{ "Don\'t show again" | translate }}</span>\n      </label>\n    </div>\n  </ng-container>\n</div>\n'}]}],ctorParameters:function(){return[{type:r.ComponentFactoryResolver},{type:Za}]},propDecorators:{componentId:[{type:r.Input}],config:[{type:r.Input}],mode:[{type:r.Input}],notFoundError:[{type:r.Input}],executeResolvers:[{type:r.Input}],updateWidgetClasses:[{type:r.Output}],host:[{type:r.ViewChild,args:["host",{read:r.ViewContainerRef,static:!0}]}]}});var jd=Ci((function e(){bi(this,e)}));jd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jd,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),jd.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:jd,declarations:[Vd],imports:[u.CommonModule,l.CollapseModule,o.RouterModule,mo],exports:[Vd]}),jd.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jd,providers:[Za,{provide:qa,useValue:5e3}],imports:[u.CommonModule,l.CollapseModule,o.RouterModule.forChild([]),mo]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jd,decorators:[{type:r.NgModule,args:[{declarations:[Vd],imports:[u.CommonModule,l.CollapseModule,o.RouterModule.forChild([]),mo],exports:[Vd],providers:[Za,{provide:qa,useValue:5e3}]}]}]});var Bd=function(){function e(t){var n=this;bi(this,e),this.dynamicResolver=t,this.idsGroupedByBulkId=new Map,this.resultsOfBulkLoad=this.dynamicResolver.bulkResolvingTrigger$.pipe((0,s.map)((function(e){return{uniqIds:(0,c.uniq)(n.idsGroupedByBulkId.get(e)||[]),bulkRequestId:e}})),(0,s.tap)((function(e){var t=e.bulkRequestId;return n.idsGroupedByBulkId.delete(t)})),(0,s.mergeMap)((function(e){var t=e.uniqIds,r=e.bulkRequestId;return n.performBulkRequest(t,r)})),(0,s.share)())}return Ci(e,[{key:"resolve",value:function(e,t,n){var r=this,i=(0,c.get)(e,t),o=this.extractIdsToBeRetrieved(i);if(o){if(Array.isArray(o)&&!o.length)return[];var a=Array.isArray(o)?o:[o];return this.addIdsToBeLoaded.apply(this,[n].concat(wi(a))),this.getResult$(n).pipe((0,s.map)((function(e){var t=e.result,n=e.errors;return Array.isArray(o)?o.map((function(e,o){return t.find((function(t){return r.isEntityOfId(t,e)}))||r.buildRetrievalAlert(i[o],n)})):t.find((function(e){return r.isEntityOfId(e,o)}))||r.buildRetrievalAlert(i,n)})))}}},{key:"getResult$",value:function(e){return this.resultsOfBulkLoad.pipe((0,s.filter)((function(t){var n=t.bulkRequestId;return e===n})),(0,s.map)((function(e){return{result:e.result,errors:e.errors}})),(0,s.take)(1),(0,s.map)((function(e){return(0,c.cloneDeep)(e)})))}},{key:"addIdsToBeLoaded",value:function(e){var t,n=this.idsGroupedByBulkId.get(e);n||(n=[],this.idsGroupedByBulkId.set(e,n));for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=n).push.apply(t,i)}},{key:"serialize",value:function(e,t){var n=this,r=(0,c.get)(e,t);return Array.isArray(r)?r.map((function(e){return n.serializeSingleObject(e)})):this.serializeSingleObject(r)}},{key:"isEntityOfId",value:function(e,t){return(null==e?void 0:e.id)===t}}]),e}(),Ud=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this,e)).dynamicResolver=e,i.service=r,i}return Ci(n,[{key:"buildRetrievalAlert",value:function(e,t){var n,r='"'.concat(e.name||e.text||"-",'" (').concat(e.id,")"),i="";null!=t&&t.length&&(n=t.find((function(t){return t.id===e.id})))&&(i=". ".concat(n.status,": ").concat(n.statusText));var o=new Md({text:"Unable to retrieve the following ".concat(this.typeForErrorMessage,": ").concat(r).concat(i),type:"danger",unresolvedData:e});return o.retrievalError=n,o}},{key:"performBulkRequest",value:function(e,t){var n=this;if(!this.service)return console.error("Either provide a service to the DynamicBulkIIdentifiedResolver constructor or implement performBulkRequest yourself."),Promise.resolve({bulkRequestId:t,errors:[],result:[]});var r=e.map((function(e){return n.service.detail(e).catch((function(t){return ci({id:e},(0,c.pick)(null==t?void 0:t.res,["status","statusText"]))}))}));return Promise.all(r).then((function(e){var n=e.map((function(e){return e.data})).filter((function(e){return!!e})),r=e.filter((function(e){return!!e.id}));return{bulkRequestId:t,errors:r,result:n}}))}},{key:"extractIdsToBeRetrieved",value:function(e){if(Array.isArray(e))return e.map((function(e){return null==e?void 0:e.id})).filter((function(e){return!!e})).map((function(e){return"".concat(e)}));var t=null==e?void 0:e.id;return t?"".concat(t):null}},{key:"serializeSingleObject",value:function(e){return e?(0,c.pick)(e,["id","name","text"]):e}}]),n}(Bd),Gd=function(e){gi(o,e);var t,n,r,i=mi(o);function o(e,t){var n;return bi(this,o),(n=i.call(this,e)).dynamicResolver=e,n.inventory=t,n.typeForErrorMessage="managedObject",n.maxNumberOfManagedObjectsPerRequest=50,n.queryFilter={},n}return Ci(o,[{key:"performBulkRequest",value:function(e,t){return this.loadManagedObjectsInChunks(e,t)}},{key:"loadManagedObjectsInChunks",value:(r=ui(di().mark((function e(t,n){var r,i,o,a,s;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",{result:[],bulkRequestId:n,errors:[]});case 2:for(r=new Array;t.length;)i=t.splice(0,this.maxNumberOfManagedObjectsPerRequest),r.push(this.loadAChunkOfManagedObjects(i));return e.next=6,Promise.all(r);case 6:return o=e.sent,a=(0,Se.flatten)(o.map((function(e){return e.managedObjects}))),s=(0,Se.flatten)(o.map((function(e){return e.errors}))),e.abrupt("return",{result:a,bulkRequestId:n,errors:s});case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"loadAChunkOfManagedObjects",value:(n=ui(di().mark((function e(t){var n,r,i,o,a,s=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.inventory.list(Object.assign({},this.queryFilter||{},{ids:t.join(),pageSize:this.maxNumberOfManagedObjectsPerRequest}));case 2:if(n=e.sent,r=n.data,!(i=t.filter((function(e){return!r.find((function(t){return t.id===e}))}))).length){e.next=11;break}return o=i.map((function(e){return s.getStatusDetails(e)})),e.next=9,Promise.all(o);case 9:return a=e.sent,e.abrupt("return",{managedObjects:r,errors:a});case 11:return e.abrupt("return",{managedObjects:r,errors:[]});case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getStatusDetails",value:(t=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.inventory.detail(t);case 3:return n=e.sent,e.abrupt("return",ci({id:t},(0,Se.pick)(n.res,["status","statusText"])));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",ci({id:t},(0,Se.pick)(e.t0.res,["status","statusText"])));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return t.apply(this,arguments)})}]),o}(Ud);Gd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gd,deps:[{token:Ka},{token:g.InventoryService}],target:r["ɵɵFactoryTarget"].Injectable}),Gd.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gd,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gd,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Ka},{type:g.InventoryService}]}});var zd=function(){function e(t){bi(this,e),this.moResolver=t}return Ci(e,[{key:"resolve",value:function(e,t,n){var r,i=this,o=e[t];if(!o||!Array.isArray(o)||!o.length)return[];var a=o.filter((function(e){return!!e.__template})).map((function(e){return"".concat(e.__template)})),c=o.filter((function(e){var t;return!(null===(t=e.__target)||void 0===t||!t.id)})).map((function(e){var t;return"".concat(null===(t=e.__target)||void 0===t?void 0:t.id)})),l=[].concat(wi(a),wi(c));return(r=this.moResolver).addIdsToBeLoaded.apply(r,[n].concat(wi(l))),this.moResolver.getResult$(n).pipe((0,s.map)((function(e){var t=e.result;e.errors;return i.assignUpdatedValues(o,t)})))}},{key:"serialize",value:function(e,t){var n=e[t];return Array.isArray(n)?(n.forEach((function(e){e.__target&&(e.__target=(0,c.pick)(e.__target,["id","name"]))})),n):e[t]}},{key:"assignUpdatedValues",value:function(e,t){var n=this;return e.map((function(e){return n.assignUpdatedValuesToSingleDatapoint(e,t)}))}},{key:"assignUpdatedValuesToSingleDatapoint",value:function(e,t){var n;if(e.__template){var r=t.find((function(t){return t.id===e.__template||t.id==="".concat(e.__template)}));if(!r)return e;var i=Object.assign({},r.c8y_Kpi,{__template:r.id});Object.assign(e,i)}if(null!==(n=e.__target)&&void 0!==n&&n.id){var o=t.find((function(t){var n,r;return t.id===(null===(n=e.__target)||void 0===n?void 0:n.id)||t.id==="".concat(null===(r=e.__target)||void 0===r?void 0:r.id)}));o&&Object.assign(e.__target,o)}return e}}]),e}();zd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zd,deps:[{token:Gd}],target:r["ɵɵFactoryTarget"].Injectable}),zd.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zd,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zd,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Gd}]}});var Hd=Ci((function e(){bi(this,e)}));Hd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hd,deps:[],target:r["ɵɵFactoryTarget"].Component}),Hd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Hd,selector:"c8y-dashboard-child-action",viewQueries:[{propertyName:"template",first:!0,predicate:["template"],descendants:!0}],ngImport:i,template:"<ng-template #template>\n  <li>\n    <ng-content></ng-content>\n  </li>\n</ng-template>\n"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hd,decorators:[{type:r.Component,args:[{selector:"c8y-dashboard-child-action",template:"<ng-template #template>\n  <li>\n    <ng-content></ng-content>\n  </li>\n</ng-template>\n"}]}],propDecorators:{template:[{type:r.ViewChild,args:["template",{static:!1}]}]}});var qd=Ci((function e(){bi(this,e)}));qd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qd,deps:[],target:r["ɵɵFactoryTarget"].Component}),qd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:qd,selector:"c8y-dashboard-child-title",ngImport:i,template:'<div class="card-title">\n  <ng-content></ng-content>\n</div>\n'}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qd,decorators:[{type:r.Component,args:[{selector:"c8y-dashboard-child-title",template:'<div class="card-title">\n  <ng-content></ng-content>\n</div>\n'}]}]});var Wd=function(){function e(t){bi(this,e),this.MIN_WIDTH=2,this.MIN_HEIGHT=1,this.PIXEL_SIZE_THRESHOLD=10,this.diffX=0,this.diffY=0,this.dashboard=t.dashboard,this.children=t.dashboard.children?t.dashboard.children.filter((function(e){return t!==e})):[],this.child=t}return Ci(e,[{key:"resize$",get:function(){var e=this;return this.child.dragSource.moved.pipe((0,s.map)((function(t){return e.getPixelSize(t)})),(0,s.tap)((function(t){return e.setPixelSize(t)})),(0,s.map)((function(t){return e.getDimensionSize(t)})),(0,s.distinctUntilChanged)((function(e,t){return e.width===t.width&&e.height===t.height})),(0,s.map)((function(t){return e.setDimension(t)})),this.arrangePipe())}},{key:"drag$",get:function(){var e=this;return this.child.dragSource.moved.pipe((0,s.map)((function(t){return e.getDimensionPosition(t)})),(0,s.filter)((function(t){return t.x>=0&&t.x<=e.dashboard.columns-e.child.width&&t.y>=0})),(0,s.distinctUntilChanged)((function(e,t){return e.x===t.x&&e.y===t.y})),this.arrangePipe())}},{key:"findFreeDimension",value:function(){var e=-1,t=0,n=!1,r=this.child,i=r.width,o=r.height;if(i>this.dashboard.columns)throw new Error("The child does not fit on the current dashboard.");do{for(t=0,e++;t+i<=this.dashboard.columns;){if(0===this.getCollided({x:t,y:e,width:i,height:o}).length){n=!0;break}t++}}while(!n);return{x:t,y:e,width:i,height:o}}},{key:"collapseUpAll",value:function(){return(0,c.sortBy)([this.child].concat(wi(this.children)),["y"]).forEach((function(t){var n=new e(t),r=n.collapseUp(t);n.setDimension(r)}))}},{key:"arrangeAll",value:function(t){var n=t.current,r=t.scan,i=t.spacing,o=t.origin;return this.getCollided(n,(0,c.sortBy)(r,["y"])).map((function(t){return new e(t).setDimension(ci(ci({},t),{},{y:i})),{current:t,scan:r.filter((function(e){return e!==t})),spacing:t.y+t.height,origin:o}}))}},{key:"arrangePipe",value:function(){var e=this;return(0,a.pipe)((0,s.map)((function(t){return{current:t,scan:e.children,spacing:t.y+t.height,origin:ci({},t)}})),(0,s.expand)((function(t){return e.arrangeAll(t)})),(0,s.map)((function(e){return e.origin})),(0,s.map)((function(t){return e.setDimension(t,!0)})),(0,s.tap)((function(){return e.collapseUpAll()})))}},{key:"collapseUp",value:function(e){for(var t=e.y;t>0&&0===this.getCollided(ci(ci({},e),{},{y:t-1})).length;)t--;return ci(ci({},e),{},{y:t})}},{key:"setDimension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t&&this.getCollided(e).length>0))return this.child.x=e.x,this.child.y=e.y,e.width>=this.MIN_WIDTH&&e.x+e.width<=this.dashboard.columns?this.child.width=e.width:e.width<this.MIN_WIDTH?e.width=this.MIN_WIDTH:e.width=this.dashboard.columns-e.x,e.height>=this.MIN_HEIGHT?this.child.height=e.height:e.height=this.MIN_WIDTH,e}},{key:"setPixelSize",value:function(e){var t=e.width,n=e.height;t>=this.dashboard.columnSize*this.MIN_WIDTH-this.dashboard.gap&&(this.child.pxWidth=t+this.PIXEL_SIZE_THRESHOLD),n>=this.dashboard.rowSize*this.MIN_HEIGHT-this.dashboard.gap&&(this.child.pxHeight=n+this.PIXEL_SIZE_THRESHOLD)}},{key:"getPixelSize",value:function(e){var t=this.child.element.nativeElement;if(!this.diffX){var n=t.getBoundingClientRect();this.diffX=n.left,this.diffY=n.top}var r=e.pointerPosition,i=r.x,o=r.y;return{width:Math.round(i-this.diffX),height:Math.round(o-this.diffY),pointer:{x:i,y:o}}}},{key:"getDimensionSize",value:function(e){var t=this.child,n=t.x,r=t.y,i=this.dashboard.dashboardRect,o=this.dashboard.columnSize,a=this.dashboard.rowSize+this.dashboard.gap;return{x:n,y:r,width:Math.round((e.pointer.x-i.left+this.dashboard.gap)/o)-n,height:Math.round((e.pointer.y-i.top+this.dashboard.gap)/a)-r}}},{key:"getDimensionPosition",value:function(e){var t=e.source.element.nativeElement.nextElementSibling;if(!this.diffX){var n=t.getBoundingClientRect();this.diffX=e.pointerPosition.x-n.left,this.diffY=e.pointerPosition.y-n.top}var r=e.pointerPosition.x-this.diffX,i=e.pointerPosition.y-this.diffY,o=this.child,a=o.width,s=o.height,c=this.dashboard.dashboardRect,l=this.dashboard.columnSize,d=this.dashboard.rowSize+this.dashboard.gap/2;return{x:Math.round((r-c.left)/l),y:Math.round((i-c.top)/d),width:a,height:s}}},{key:"doesCollide",value:function(e,t){return void 0!==t.x&&!(e.y+e.height-1<t.y||e.y>t.y+t.height-1||e.x+e.width-1<t.x||e.x>t.x+t.width-1)}},{key:"getCollided",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children,r=n.filter((function(n){return t.doesCollide(e,n)}));return r}}]),e}(),Kd=function(){function e(t,n){bi(this,e),this.element=t,this.sanitizer=n,this.children=[],this.columns=12,this.gap=12,this.rows="auto",this.dashboardChange=new r.EventEmitter,this.lastRow=1,this.DEFAULT_ROW_SIZE=68}return Ci(e,[{key:"columnSize",get:function(){return this.dashboardRect.width/this.columns}},{key:"rowSize",get:function(){return"auto"===this.rows?this.DEFAULT_ROW_SIZE:this.calculateRowSize()}},{key:"inlineStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n        -ms-grid-columns: (1fr)[".concat(this.columns,"];\n        grid-template-columns: repeat(").concat(this.columns,", 1fr);\n        ").concat("auto"!==this.rows?"grid-template-rows: repeat(".concat(this.rows,", 1fr);"):"","\n        grid-auto-rows: ").concat(this.rowSize+this.gap,"px;\n        -ms-grid-rows: (").concat(this.rowSize+this.gap,"px)[").concat("auto"===this.rows?this.lastRow:this.rows,"];\n        margin: -").concat(this.gap,"px -").concat(this.gap,"px 0;\n      "))}},{key:"ngAfterContentInit",value:function(){this.onResize()}},{key:"onResize",value:function(){this.updateRectSize()}},{key:"updateRectSize",value:function(){var e=this.element.nativeElement;this.dashboardRect=e.getBoundingClientRect()}},{key:"emitChange",value:function(e){this.dashboardChange.emit({source:e,children:this.children})}},{key:"calculateRowSize",value:function(){return this.dashboardRect.height/this.rows}}]),e}();Kd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kd,deps:[{token:r.ElementRef},{token:Qr.DomSanitizer}],target:r["ɵɵFactoryTarget"].Component}),Kd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Kd,selector:"c8y-dashboard",inputs:{columns:"columns",gap:"gap",rows:"rows"},outputs:{dashboardChange:"dashboardChange"},host:{listeners:{"window:resize":"onResize()"},properties:{"attr.style":"this.inlineStyle"},classAttribute:"c8y-grid-dashboard dashboard-grid"},ngImport:i,template:"<ng-content></ng-content>\n",changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kd,decorators:[{type:r.Component,args:[{selector:"c8y-dashboard",host:{class:"c8y-grid-dashboard dashboard-grid"},changeDetection:r.ChangeDetectionStrategy.OnPush,template:"<ng-content></ng-content>\n"}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:Qr.DomSanitizer}]},propDecorators:{columns:[{type:r.Input}],gap:[{type:r.Input}],rows:[{type:r.Input}],dashboardChange:[{type:r.Output}],inlineStyle:[{type:r.HostBinding,args:["attr.style"]}],onResize:[{type:r.HostListener,args:["window:resize"]}]}});var Yd=function(){function e(t,n,i){bi(this,e),this.dashboard=t,this.sanitizer=n,this.element=i,this.actions=[],this.isResize=!1,this.isDragging=!1,this.klasses={},this._pxWidth="100%",this._pxHeight="100%",this.width=1,this.height=1,this.margin=12,this.isFrozen=!1,this.useIntersection=!1,this.changeStart=new r.EventEmitter,this.changeEnd=new r.EventEmitter,this.class={},this.intersected=!1}return Ci(e,[{key:"pxWidth",set:function(e){this._pxWidth="".concat(e,"px")}},{key:"pxHeight",set:function(e){this._pxHeight="".concat(e,"px")}},{key:"inlineStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n    grid-column-start: ".concat(this.x+1,";\n    grid-row-start: ").concat(this.y+1,";\n    grid-column-end: span ").concat(this.width,";\n    grid-row-end: span ").concat(this.height,";\n    display: block;\n    margin: ").concat(this.margin||12,"px;\n    order: ").concat(this.getOrder(),";\n    "))}},{key:"ngOnChanges",value:function(){this.klasses=ci({card:!0,"card-dashboard":!0,disabled:this.isFrozen,"on-resize":this.isResize},this.class)}},{key:"ngOnInit",value:function(){var e=this;if(void 0!==this.x&&void 0!==this.y||setTimeout((function(){return e.setDynamicDimension()})),this.useIntersection&&"IntersectionObserver"in window){var t=new IntersectionObserver((function(n){return e.intersected=e.childInView(n[0],t)}));t.observe(this.element.nativeElement)}else this.intersected=!0}},{key:"ngAfterViewInit",value:function(){this.dashboard.children.push(this)}},{key:"setDynamicDimension",value:function(){var e=new Wd(this).findFreeDimension(),t=e.x,n=e.y;this.x=t,this.y=n,this.dashboard.emitChange(this)}},{key:"resizeStarted",value:function(e){this.isResize=!0,this.dashboard.updateRectSize(),this.dragSource=e.source;var t=new Wd(this);this.changeSubscription=t.resize$.subscribe(),this.changeStart.emit(this),this.ngOnChanges()}},{key:"dragStarted",value:function(e){this.isDragging=!0,this.dashboard.updateRectSize(),this.dragSource=e.source;var t=new Wd(this);this.changeSubscription=t.drag$.subscribe(),this.changeStart.emit(this)}},{key:"reset",value:function(e){this.isResize=!1,this.isDragging=!1,this._pxWidth="100%",this._pxHeight="100%",this.ngOnChanges(),e&&e.source.reset(),this.changeSubscription&&(this.changeSubscription.unsubscribe(),this.dashboard.emitChange(this),this.changeEnd.emit(this))}},{key:"ngOnDestroy",value:function(){this.changeSubscription&&this.changeSubscription.unsubscribe(),this.removeSelfFromDashboard()}},{key:"removeSelfFromDashboard",value:function(){var e=this.dashboard.children.indexOf(this);e>=0&&this.dashboard.children.splice(e,1)}},{key:"getOrder",value:function(){return"".concat(Math.round(100*(this.y+(this.x+1)/100)))}},{key:"childInView",value:function(e,t){return!!e.isIntersecting&&(t.unobserve(e.target),!0)}}]),e}();Yd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yd,deps:[{token:Kd},{token:Qr.DomSanitizer},{token:r.ElementRef}],target:r["ɵɵFactoryTarget"].Component}),Yd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Yd,selector:"c8y-dashboard-child",inputs:{x:"x",y:"y",width:"width",height:"height",data:"data",margin:"margin",isFrozen:"isFrozen",useIntersection:"useIntersection",class:"class"},outputs:{changeStart:"changeStart",changeEnd:"changeEnd"},host:{properties:{"attr.style":"this.inlineStyle"},classAttribute:"dashboard-grid-child"},queries:[{propertyName:"actions",predicate:Hd}],usesOnChanges:!0,ngImport:i,template:'<div cdkDropList>\n  <div *ngIf="isResize" class="card-placeholder"></div>\n  <div\n    [ngClass]="klasses"\n    cdkDrag\n    [ngStyle]="{ width: _pxWidth, height: _pxHeight }"\n    (cdkDragStarted)="dragStarted($event)"\n    (cdkDragEnded)="reset($event)"\n    [cdkDragDisabled]="isFrozen"\n  >\n    <div\n      class="card-header-actions card-header-grid"\n      [ngClass]="{ \'drag-handle\': !isFrozen, draggableCursor: !isFrozen }"\n      cdkDragHandle\n    >\n      <ng-content select="c8y-dashboard-child-title"></ng-content>\n      <div class="header-actions" *ngIf="!isFrozen && actions.length > 0">\n        <div class="optionsBtn dropdown" dropdown container="body" placement="bottom right">\n          <a\n            title="{{ \'Settings\' | translate }}"\n            href=""\n            class="btnIcon c8y-dropdown"\n            (click)="(false)"\n            dropdownToggle\n          >\n            <i [c8yIcon]="\'cog\'"></i>\n          </a>\n          <ul\n            class="dropdown-menu dropdown-menu-right"\n            style="right:-1px;"\n            *dropdownMenu\n          >\n            <ng-container *ngFor="let action of actions">\n              <ng-container *ngTemplateOutlet="action.template"></ng-container>\n            </ng-container>\n          </ul>\n        </div>\n      </div>\n    </div>\n    <div class="card-inner-scroll">\n      <ng-content></ng-content>\n    </div>\n    <div\n      *ngIf="!isFrozen && !isDragging"\n      class="resize-handle"\n      cdkDrag\n      [cdkDragDisabled]="isFrozen"\n      (cdkDragStarted)="resizeStarted($event)"\n      (cdkDragEnded)="reset($event)"\n    ></div>\n    <div class="resize-icon" *ngIf="!isFrozen && !isDragging"></div>\n\n    <div *cdkDragPlaceholder class="card-placeholder"></div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:u.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{kind:"directive",type:Pr,selector:"[cdkDropList], cdk-drop-list",inputs:["cdkDropListConnectedTo","cdkDropListData","cdkDropListOrientation","id","cdkDropListLockAxis","cdkDropListDisabled","cdkDropListSortingDisabled","cdkDropListEnterPredicate","cdkDropListSortPredicate","cdkDropListAutoScrollDisabled","cdkDropListAutoScrollStep"],outputs:["cdkDropListDropped","cdkDropListEntered","cdkDropListExited","cdkDropListSorted"],exportAs:["cdkDropList"]},{kind:"directive",type:Br,selector:"[cdkDrag]",inputs:["cdkDragData","cdkDragLockAxis","cdkDragRootElement","cdkDragBoundary","cdkDragStartDelay","cdkDragFreeDragPosition","cdkDragDisabled","cdkDragConstrainPosition","cdkDragPreviewClass","cdkDragPreviewContainer"],outputs:["cdkDragStarted","cdkDragReleased","cdkDragEnded","cdkDragEntered","cdkDragExited","cdkDragDropped","cdkDragMoved"],exportAs:["cdkDrag"]},{kind:"directive",type:Ar,selector:"[cdkDragHandle]",inputs:["cdkDragHandleDisabled"]},{kind:"directive",type:Rr,selector:"ng-template[cdkDragPlaceholder]",inputs:["data"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yd,decorators:[{type:r.Component,args:[{selector:"c8y-dashboard-child",host:{class:"dashboard-grid-child"},template:'<div cdkDropList>\n  <div *ngIf="isResize" class="card-placeholder"></div>\n  <div\n    [ngClass]="klasses"\n    cdkDrag\n    [ngStyle]="{ width: _pxWidth, height: _pxHeight }"\n    (cdkDragStarted)="dragStarted($event)"\n    (cdkDragEnded)="reset($event)"\n    [cdkDragDisabled]="isFrozen"\n  >\n    <div\n      class="card-header-actions card-header-grid"\n      [ngClass]="{ \'drag-handle\': !isFrozen, draggableCursor: !isFrozen }"\n      cdkDragHandle\n    >\n      <ng-content select="c8y-dashboard-child-title"></ng-content>\n      <div class="header-actions" *ngIf="!isFrozen && actions.length > 0">\n        <div class="optionsBtn dropdown" dropdown container="body" placement="bottom right">\n          <a\n            title="{{ \'Settings\' | translate }}"\n            href=""\n            class="btnIcon c8y-dropdown"\n            (click)="(false)"\n            dropdownToggle\n          >\n            <i [c8yIcon]="\'cog\'"></i>\n          </a>\n          <ul\n            class="dropdown-menu dropdown-menu-right"\n            style="right:-1px;"\n            *dropdownMenu\n          >\n            <ng-container *ngFor="let action of actions">\n              <ng-container *ngTemplateOutlet="action.template"></ng-container>\n            </ng-container>\n          </ul>\n        </div>\n      </div>\n    </div>\n    <div class="card-inner-scroll">\n      <ng-content></ng-content>\n    </div>\n    <div\n      *ngIf="!isFrozen && !isDragging"\n      class="resize-handle"\n      cdkDrag\n      [cdkDragDisabled]="isFrozen"\n      (cdkDragStarted)="resizeStarted($event)"\n      (cdkDragEnded)="reset($event)"\n    ></div>\n    <div class="resize-icon" *ngIf="!isFrozen && !isDragging"></div>\n\n    <div *cdkDragPlaceholder class="card-placeholder"></div>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Kd},{type:Qr.DomSanitizer},{type:r.ElementRef}]},propDecorators:{actions:[{type:r.ContentChildren,args:[Hd]}],x:[{type:r.Input}],y:[{type:r.Input}],width:[{type:r.Input}],height:[{type:r.Input}],data:[{type:r.Input}],margin:[{type:r.Input}],isFrozen:[{type:r.Input}],useIntersection:[{type:r.Input}],changeStart:[{type:r.Output}],changeEnd:[{type:r.Output}],class:[{type:r.Input}],inlineStyle:[{type:r.HostBinding,args:["attr.style"]}]}});var Zd,Qd,Xd=function(){function e(){bi(this,e),this.events$=new a.Subject,this.lastValueByEvent={}}return Ci(e,[{key:"getObservable",value:function(e){return this.events$.pipe((0,s.filter)((function(t){var n=t.type;return!e||n===e})),(0,s.map)((function(e){return e.data})))}},{key:"getLastValue",value:function(e){return this.lastValueByEvent[e]}},{key:"emit",value:function(e){this.lastValueByEvent[e.type]=e.data,this.events$.next(e)}},{key:"ngOnDestroy",value:function(){this.events$.complete()}}]),e}();Xd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xd,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Xd.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xd}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Xd,decorators:[{type:r.Injectable}]}),function(e){e.DATE_CONTEXT_FROM="dateContextFrom",e.DATE_CONTEXT_TO="dateContextTo"}(Zd||(Zd={})),function(e){e[e.MINUTE=6e3]="MINUTE",e[e.HOUR=36e5]="HOUR",e[e.DAY=864e5]="DAY",e[e.WEEK=6048e5]="WEEK"}(Qd||(Qd={}));var Jd=function(){function e(t,n,i,o){bi(this,e),this.widgetEventService=t,this.dashboardChild=n,this.router=i,this.activatedRoute=o,this.canDecouple=!0,this.dateContextChange=new r.EventEmitter,this.isCoupled=!0,this.currentPredefinedTimeSpan=null,this.setPredefinedDates()}return Ci(e,[{key:"ngOnInit",value:function(){var e=this.getInitialDate();this.initForm(e),this.subscribeToGlobalContext(),this.update(e),this.subscribeToQueryParamsChange()}},{key:"ngAfterContentChecked",value:function(){this.dashboardChild.actions=[].concat(wi(this.dashboardChild.actions),[this.action])}},{key:"toggleDecoupling",value:function(){this.isCoupled=!this.isCoupled,this.isCoupled?(this.subscribeToGlobalContext(),this.globalDate=this.widgetEventService.getLastValue("TIME_CONTEXT"),this.updateFormValues(this.globalDate),this.dateContextChange.emit(this.globalDate)):(this.unsubscribeFromGlobalContext(),this.localDate||(this.localDate=this.globalDate),this.updateFormValues(this.localDate))}},{key:"applyDatetimeContext",value:function(){this.update([new Date(this.form.value.fromDate),new Date(this.form.value.toDate)])}},{key:"reset",value:function(){this.updateDefaultDate(),this.updateFormValues(this.defaultDate),this.update(this.defaultDate)}},{key:"ngOnDestroy",value:function(){this.unsubscribeFromGlobalContext()}},{key:"predefinedDateFromSelected",value:function(e){this.updateDefaultDate();var t=new Date(this.defaultDate[1].valueOf()-e.timeSpanInMs);this.update([t,this.defaultDate[1]],e)}},{key:"updateDefaultDate",value:function(){var e=new Date,t=new Date(e.valueOf()-864e5);this.defaultDate=[t,e]}},{key:"setPredefinedDates",value:function(){this.updateDefaultDate();var e=new Date(this.defaultDate[1].valueOf()),t=e.valueOf()-new Date(e.setMonth(e.getMonth()-1)).valueOf();this.predefinedTimeSpanList=[{title:"Last minute",timeSpanInMs:Qd.MINUTE},{title:"Last hour",timeSpanInMs:Qd.HOUR},{title:"Last day",timeSpanInMs:Qd.DAY},{title:"Last week",timeSpanInMs:Qd.WEEK},{title:"Last month",timeSpanInMs:t}]}},{key:"initForm",value:function(e){this.form=new De.FormGroup({}),this.fields=[{type:"date-time",key:"fromDate",templateOptions:{label:"From"},expressionProperties:{"templateOptions.maxDate":function(e){return null==e?void 0:e.toDate}}},{type:"date-time",key:"toDate",templateOptions:{label:"To"},expressionProperties:{"templateOptions.minDate":function(e){return null==e?void 0:e.fromDate}}}],this.model={fromDate:e[0].toISOString(),toDate:e[1].toISOString()}}},{key:"update",value:function(e,t){this.isCoupled?this.widgetEventService.emit({type:"TIME_CONTEXT",data:e}):(this.localDate=e,this.dateContextChange.emit(e)),this.currentPredefinedTimeSpan=t||this.getCurrentPredefinedTimeSpan(e)}},{key:"subscribeToGlobalContext",value:function(){var e=this,t=this.widgetEventService.getObservable("TIME_CONTEXT");this.subscription=t.subscribe((function(t){e.globalDate=t,e.dateContextChange.emit(t),e.updateFormValues(t),e.setDateContextQueryParams()}))}},{key:"updateFormValues",value:function(e){this.model={fromDate:e[0].toISOString(),toDate:e[1].toISOString()}}},{key:"unsubscribeFromGlobalContext",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"getInitialDate",value:function(){var e=this.activatedRoute.snapshot.queryParams[Zd.DATE_CONTEXT_FROM],t=this.activatedRoute.snapshot.queryParams[Zd.DATE_CONTEXT_TO];return this.isValidDateRange(e,t)?[new Date(e),new Date(t)]:this.widgetEventService.getLastValue("TIME_CONTEXT")||this.defaultDate}},{key:"isValidDateRange",value:function(e,t){var n=new Date(e),r=new Date(t);return n instanceof Date&&!isNaN(null==n?void 0:n.getTime())&&r instanceof Date&&!isNaN(null==r?void 0:r.getTime())&&n<r}},{key:"setDateContextQueryParams",value:function(){var e={dateContextFrom:this.globalDate[0].toISOString(),dateContextTo:this.globalDate[1].toISOString()};this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:e,queryParamsHandling:"merge"})}},{key:"subscribeToQueryParamsChange",value:function(){var e=this;this.activatedRoute.queryParams.pipe((0,s.filter)((function(t){var n=t.dateContextFrom,r=t.dateContextTo;return e.isValidDateRange(n,r)&&(e.globalDate[0].toISOString()!==n||e.globalDate[1].toISOString()!==r)}))).subscribe((function(t){var n=t.dateContextFrom,r=t.dateContextTo,i=[new Date(n),new Date(r)];e.widgetEventService.emit({type:"TIME_CONTEXT",data:i})}))}},{key:"getCurrentPredefinedTimeSpan",value:function(e){if(e[1].toISOString()===this.defaultDate[1].toISOString()){var t=e[1].valueOf()-e[0].valueOf();return this.predefinedTimeSpanList.find((function(e){return e.timeSpanInMs===t}))}}}]),e}();Jd.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jd,deps:[{token:Xd},{token:Yd},{token:o.Router},{token:o.ActivatedRoute}],target:r["ɵɵFactoryTarget"].Component}),Jd.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Jd,selector:"c8y-widget-time-context",inputs:{canDecouple:"canDecouple"},outputs:{dateContextChange:"dateContextChange"},host:{classAttribute:"d-flex a-i-center gap-4"},viewQueries:[{propertyName:"action",first:!0,predicate:Hd,descendants:!0}],ngImport:i,template:'<c8y-action-bar-item\n  *ngIf="isCoupled"\n  [groupId]="\'timecontext\'"\n  [placement]="\'left\'"\n  itemClass="navbar-form"\n>\n  <ng-container\n    [ngTemplateOutlet]="dateTimePicker"\n    [ngTemplateOutletContext]="{ date: globalDate }"\n  ></ng-container>\n</c8y-action-bar-item>\n\n<ng-container\n  *ngIf="!isCoupled"\n  [ngTemplateOutlet]="dateTimePicker"\n  [ngTemplateOutletContext]="{ date: localDate }"\n></ng-container>\n\n<ng-template #dateTimePicker let-date="date">\n  <label>{{ \'Time range\' | translate }}</label>\n  <div class="dropdown m-r-4" dropdown #dropdown="bs-dropdown" container="body" [insideClick]="true">\n    <button\n      class="dropdown-toggle form-control l-h-1 d-flex a-i-center"\n      dropdownToggle\n      title="{{ date[0] | c8yDate: \'short\' }} — {{ date[1] | c8yDate: \'short\' }}"\n    >\n      <span>{{ date[0] | c8yDate: \'shortDate\' }} — {{ date[1] | c8yDate: \'shortDate\' }}</span>\n      <span class="caret m-r-8 m-l-4"></span>\n    </button>\n\n    <div *dropdownMenu class="dropdown-menu dropdown-menu--date-range">\n      <div class="p-16">\n        <formly-form [form]="form" [fields]="fields" [model]="model"></formly-form>\n      </div>\n      <div class="p-16 d-flex gap-8 separator-top">\n        <button\n          class="btn btn-default btn-sm flex-grow"\n          (click)="reset(); dropdown.isOpen = false"\n          title="{{ \'Reset\' | translate }}"\n          type="button"\n          translate\n        >\n          Reset\n        </button>\n\n        <button\n          class="btn btn-primary btn-sm flex-grow"\n          (click)="applyDatetimeContext(); dropdown.isOpen = false"\n          [disabled]="(form.pristine && form.untouched) || form.invalid"\n          title="{{ \'Apply\' | translate }}"\n          type="button"\n          translate\n        >\n          Apply\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="c8y-select-wrapper">\n    <select\n      class="form-control"\n      [ngModel]="currentPredefinedTimeSpan"\n      (ngModelChange)="predefinedDateFromSelected($event)"\n    >\n      <option value="undefined" disabled="true">{{ \'Custom range\' | translate }}</option>\n      <option *ngFor="let dateFrom of predefinedTimeSpanList" [ngValue]="dateFrom">\n        {{ dateFrom.title }}\n      </option>\n    </select>\n    <span></span>\n  </div>\n</ng-template>\n\n<c8y-dashboard-child-action *ngIf="canDecouple">\n  <a href="" (click)="toggleDecoupling(); (false)">\n    <i [c8yIcon]="isCoupled ? \'unlock\' : \'lock\'"></i>\n    <span class="m-l-4">\n      {{ isCoupled ? \'Decouple time context\' : (\'Couple time context\' | translate) }}\n    </span>\n  </a>\n</c8y-dashboard-child-action>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"component",type:ji,selector:"c8y-action-bar-item",inputs:["placement","priority","itemClass","groupId"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:De.NgSelectOption,selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De["ɵNgSelectMultipleOption"],selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De.SelectControlValueAccessor,selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",inputs:["compareWith"]},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"component",type:Un.FormlyForm,selector:"formly-form",inputs:["model","fields","options","form"],outputs:["modelChange"]},{kind:"component",type:Hd,selector:"c8y-dashboard-child-action"},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Co,name:"c8yDate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jd,decorators:[{type:r.Component,args:[{selector:"c8y-widget-time-context",host:{class:"d-flex a-i-center gap-4"},template:'<c8y-action-bar-item\n  *ngIf="isCoupled"\n  [groupId]="\'timecontext\'"\n  [placement]="\'left\'"\n  itemClass="navbar-form"\n>\n  <ng-container\n    [ngTemplateOutlet]="dateTimePicker"\n    [ngTemplateOutletContext]="{ date: globalDate }"\n  ></ng-container>\n</c8y-action-bar-item>\n\n<ng-container\n  *ngIf="!isCoupled"\n  [ngTemplateOutlet]="dateTimePicker"\n  [ngTemplateOutletContext]="{ date: localDate }"\n></ng-container>\n\n<ng-template #dateTimePicker let-date="date">\n  <label>{{ \'Time range\' | translate }}</label>\n  <div class="dropdown m-r-4" dropdown #dropdown="bs-dropdown" container="body" [insideClick]="true">\n    <button\n      class="dropdown-toggle form-control l-h-1 d-flex a-i-center"\n      dropdownToggle\n      title="{{ date[0] | c8yDate: \'short\' }} — {{ date[1] | c8yDate: \'short\' }}"\n    >\n      <span>{{ date[0] | c8yDate: \'shortDate\' }} — {{ date[1] | c8yDate: \'shortDate\' }}</span>\n      <span class="caret m-r-8 m-l-4"></span>\n    </button>\n\n    <div *dropdownMenu class="dropdown-menu dropdown-menu--date-range">\n      <div class="p-16">\n        <formly-form [form]="form" [fields]="fields" [model]="model"></formly-form>\n      </div>\n      <div class="p-16 d-flex gap-8 separator-top">\n        <button\n          class="btn btn-default btn-sm flex-grow"\n          (click)="reset(); dropdown.isOpen = false"\n          title="{{ \'Reset\' | translate }}"\n          type="button"\n          translate\n        >\n          Reset\n        </button>\n\n        <button\n          class="btn btn-primary btn-sm flex-grow"\n          (click)="applyDatetimeContext(); dropdown.isOpen = false"\n          [disabled]="(form.pristine && form.untouched) || form.invalid"\n          title="{{ \'Apply\' | translate }}"\n          type="button"\n          translate\n        >\n          Apply\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="c8y-select-wrapper">\n    <select\n      class="form-control"\n      [ngModel]="currentPredefinedTimeSpan"\n      (ngModelChange)="predefinedDateFromSelected($event)"\n    >\n      <option value="undefined" disabled="true">{{ \'Custom range\' | translate }}</option>\n      <option *ngFor="let dateFrom of predefinedTimeSpanList" [ngValue]="dateFrom">\n        {{ dateFrom.title }}\n      </option>\n    </select>\n    <span></span>\n  </div>\n</ng-template>\n\n<c8y-dashboard-child-action *ngIf="canDecouple">\n  <a href="" (click)="toggleDecoupling(); (false)">\n    <i [c8yIcon]="isCoupled ? \'unlock\' : \'lock\'"></i>\n    <span class="m-l-4">\n      {{ isCoupled ? \'Decouple time context\' : (\'Couple time context\' | translate) }}\n    </span>\n  </a>\n</c8y-dashboard-child-action>\n'}]}],ctorParameters:function(){return[{type:Xd},{type:Yd},{type:o.Router},{type:o.ActivatedRoute}]},propDecorators:{canDecouple:[{type:r.Input}],dateContextChange:[{type:r.Output}],action:[{type:r.ViewChild,args:[Hd]}]}});var ep=function(){function e(t){var n,i=this;bi(this,e),this.dynamic=t,this.contextDashboard={updateTarget:!0},this.settings={isFrozen:!1,isDisabled:!1,widgetMargin:12,translateWidgetTitle:!1,defaultHeight:4,defaultWidth:4,allowFullscreen:!1,canCopy:!0,canDelete:!0,isLoading:!1},this.onAddWidget=new r.EventEmitter,this.onEditWidget=new r.EventEmitter,this.onDeleteWidget=new r.EventEmitter,this.onChangeDashboard=new r.EventEmitter,this.onEditDashboard=new r.EventEmitter,this.onCopyDashboard=new r.EventEmitter,this.onDeleteDashboard=new r.EventEmitter,this.onFreeze=new r.EventEmitter,this.onChangeStart=new r.EventEmitter,this.onChangeEnd=new r.EventEmitter,this._widgets=new a.BehaviorSubject([]),this.isLoading$=new a.BehaviorSubject(!(null===(n=this._settings)||void 0===n||!n.isLoading)),this.resolvedWidgets$=this._widgets.pipe((0,s.switchMap)((function(e){return i.executeResolversOfWidgets(e)})),(0,s.shareReplay)(1)),this.isExecutingResolvers$=(0,a.merge)(this._widgets.pipe((0,s.map)((function(){return!0}))),this.resolvedWidgets$.pipe((0,s.map)((function(){return!1})))),this.isLoadingWidgets$=(0,a.combineLatest)([this.isLoading$,this.isExecutingResolvers$]).pipe((0,s.map)((function(e){return e.some((function(e){return e}))})),(0,s.shareReplay)(1))}var t;return Ci(e,[{key:"widgets",get:function(){return this._widgets.value},set:function(e){this._widgets.next(e)}},{key:"_settings",set:function(e){this.settings=ci(ci({},this.settings),e),this.isLoading$.next(!!this.settings.isLoading)}},{key:"toggleFullscreen",value:function(){var e=document.body,t=document;this.fullScreen()?t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},{key:"fullScreen",value:function(){var e=document;return!!(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)}},{key:"updateWidgetClasses",value:function(e,t){e.classes=ci(ci({},e.classes),t)}},{key:"updateWidgetConfig",value:function(e,t){t.config=ci(ci({},t.config),e)}},{key:"executeResolversOfWidgets",value:(t=ui(di().mark((function e(t){var n,r;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:return n=t.map((function(e){return{componentId:e.componentId||e.name,config:e.config}})),e.next=5,this.dynamic.executeResolvers(n);case 5:return r=e.sent,t.forEach((function(e,t){r[t]&&(e.config||(e.config={}),Object.entries(r[t]).forEach((function(t){var n=ii(t,2),r=n[0],i=n[1];return(0,c.set)(e.config,r,i)})))})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();ep.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ep,deps:[{token:Za}],target:r["ɵɵFactoryTarget"].Component}),ep.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ep,selector:"c8y-widgets-dashboard",inputs:{widgets:"widgets",context:"context",contextDashboard:"contextDashboard",_settings:["settings","_settings"],breadcrumb:"breadcrumb"},outputs:{onAddWidget:"onAddWidget",onEditWidget:"onEditWidget",onDeleteWidget:"onDeleteWidget",onChangeDashboard:"onChangeDashboard",onEditDashboard:"onEditDashboard",onCopyDashboard:"onCopyDashboard",onDeleteDashboard:"onDeleteDashboard",onFreeze:"onFreeze",onChangeStart:"onChangeStart",onChangeEnd:"onChangeEnd"},host:{styleAttribute:"\n      display: block;\n    ",classAttribute:"dashboard c8y-grid-dashboard"},providers:[Xd],ngImport:i,template:'<c8y-title *ngIf="!!settings.title">\n  {{ settings.title | translate }}\n</c8y-title>\n\n<c8y-breadcrumb *ngIf="!!breadcrumb">\n  <c8y-breadcrumb-item\n    [icon]="breadcrumb.icon"\n    [label]="breadcrumb.label"\n    [path]="breadcrumb.path"\n  ></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-action-bar-item [placement]="\'right\'" *ngIf="onAddWidget.observers.length">\n  <button\n    title="{{ \'Add widget\' | translate }}"\n    class="btn btn-link"\n    [disabled]="settings.isFrozen || settings.isDisabled"\n    (click)="onAddWidget.emit()"\n  >\n    <i c8yIcon="plus-circle"></i>\n    {{ \'Add widget\' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]="\'right\'" *ngIf="onEditDashboard.observers.length">\n  <button\n    title="{{ \'Edit\' | translate }}"\n    class="btn btn-link"\n    [disabled]="settings.isFrozen || settings.isDisabled"\n    (click)="onEditDashboard.emit()"\n  >\n    <i c8yIcon="pencil"></i>\n    {{ \'Edit\' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]="\'right\'" *ngIf="settings.allowFullscreen">\n  <button title="{{ \'Full screen\' | translate }}" class="btn btn-link" (click)="toggleFullscreen()">\n    <i [c8yIcon]="fullScreen() ? \'compress\' : \'expand\'"></i>\n    {{ \'Full screen\' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item\n  [placement]="\'right\'"\n  itemClass="navbar-form"\n  *ngIf="onFreeze.observers.length"\n>\n  <button\n    title="{{ \'Lock/unlock this dashboard\' | translate }}"\n    class="btn btn-default"\n    [ngClass]="{ active: settings.isFrozen }"\n    (click)="onFreeze.emit(settings)"\n    [disabled]="settings.isDisabled"\n    uib-btn-checkbox\n  >\n    <i [c8yIcon]="settings.isFrozen ? \'lock\' : \'unlock\'"></i>\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]="\'more\'" [priority]="-2000" *ngIf="settings.canCopy">\n  <button title="{{ \'Copy dashboard\' | translate }}" (click)="onCopyDashboard.emit()">\n    <i c8yIcon="clone"></i>\n    <span class="m-l-4" translate>Copy dashboard</span>\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item\n  [placement]="\'more\'"\n  [priority]="-3000"\n  *ngIf="settings.canDelete && onDeleteDashboard.observers.length"\n>\n  <button\n    title="{{ \'Delete dashboard\' | translate }}"\n    (click)="onDeleteDashboard.emit()"\n    [disabled]="settings.isFrozen || settings.isDisabled"\n  >\n    <i c8yIcon="trash"></i>\n    <span class="m-l-4" translate>Delete dashboard</span>\n  </button>\n</c8y-action-bar-item>\n\n<ng-template #loadingIndicator>\n  <c8y-loading class="col-xs-12 text-center" *ngIf="isLoadingWidgets$ | async"></c8y-loading>\n</ng-template>\n\n<ng-container *ngIf="!(isLoadingWidgets$ | async); else loadingIndicator">\n  <ng-container *ngIf="resolvedWidgets$ | async as widgetsToDisplay">\n    \x3c!-- empty state --\x3e\n    <div class="c8y-empty-state text-center" *ngIf="widgetsToDisplay?.length === 0">\n      <h1 class="c8y-icon c8y-icon-device c8y-icon-duocolor"></h1>\n      <h3 translate>No widgets to display.</h3>\n      <div *ngIf="!settings.isFrozen && onAddWidget.observers.length">\n        <p translate>Add widgets to this dashboard.</p>\n        <div>\n          <button\n            title="{{ \'Add widget\' | translate }}"\n            [disabled]="settings.isFrozen || settings.isDisabled"\n            (click)="onAddWidget.emit()"\n            class="btn btn-primary"\n            translate\n          >\n            Add widget\n          </button>\n        </div>\n        <p c8y-guide-docs>\n          <small translate ngNonBindable>\n            Find out more in the\n            <a c8y-guide-href="users-guide/cockpit/#dashboards"> User guide`KEEP_ORIGINAL` </a>.\n          </small>\n        </p>\n      </div>\n    </div>\n\n    <c8y-dashboard\n      (dashboardChange)="onChangeDashboard.emit($event)"\n      #dashboard\n    >\n      <c8y-dashboard-child\n        *ngFor="let widget of widgetsToDisplay"\n        [x]="widget._x"\n        [y]="widget._y"\n        [width]="widget._width || settings.defaultWidth"\n        [height]="widget._height || settings.defaultHeight"\n        [margin]="settings.widgetMargin"\n        [isFrozen]="settings.isFrozen || settings.isDisabled"\n        [class]="widget.classes"\n        [data]="widget"\n        [useIntersection]="true"\n        (changeStart)="onChangeStart.emit({ widget: widget, source: child, dashboard: dashboard })"\n        (changeEnd)="onChangeEnd.emit({ widget: widget, source: child, dashboard: dashboard })"\n        #child\n      >\n        <c8y-dashboard-child-title>\n          <span *ngIf="settings.translateWidgetTitle">\n            {{ widget.title | translate }}\n          </span>\n          <span *ngIf="!settings.translateWidgetTitle">\n            {{ widget.title }}\n          </span>\n        </c8y-dashboard-child-title>\n        <c8y-dashboard-child-action *ngIf="onEditWidget.observers.length">\n          <button\n            title="{{ \'Edit widget\' | translate }}"\n            (click)="onEditWidget.emit({ widget: widget, source: child, dashboard: dashboard })"\n          >\n            <i c8yIcon="pencil"></i>\n            <span class="m-l-4" translate>Edit</span>\n          </button>\n        </c8y-dashboard-child-action>\n        <c8y-dashboard-child-action *ngIf="onDeleteWidget.observers.length">\n          <button\n            title="{{ \'Remove widget\' | translate }}"\n            (click)="onDeleteWidget.emit({ widget: widget, source: child, dashboard: dashboard })"\n          >\n            <i c8yIcon="trash"></i>\n            <span class="m-l-4" translate>Remove</span>\n          </button>\n        </c8y-dashboard-child-action>\n\n        <c8y-widget-time-context\n          *ngIf="widget.config?.displaySettings?.globalTimeContext"\n          (dateContextChange)="updateWidgetConfig({ date: $event }, widget)"\n        ></c8y-widget-time-context>\n\n        <c8y-dynamic-component\n          [componentId]="widget.componentId || widget.name"\n          [config]="\n            widget.templateUrl || widget.widgetComponent\n              ? { child: widget, dashboard: contextDashboard, context: context }\n              : widget.config\n          "\n          *ngIf="child.intersected"\n          (updateWidgetClasses)="updateWidgetClasses(widget, $event)"\n        ></c8y-dynamic-component>\n      </c8y-dashboard-child>\n    </c8y-dashboard>\n  </ng-container>\n</ng-container>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Wo,selector:"c8y-loading"},{kind:"component",type:ji,selector:"c8y-action-bar-item",inputs:["placement","priority","itemClass","groupId"]},{kind:"component",type:Vd,selector:"c8y-dynamic-component",inputs:["componentId","config","mode","notFoundError","executeResolvers"],outputs:["updateWidgetClasses"]},{kind:"component",type:Lc,selector:"c8y-title",inputs:["pageTitleUpdate"]},{kind:"directive",type:sd,selector:"[c8y-guide-href]",inputs:["c8y-guide-href"]},{kind:"component",type:cd,selector:"[c8y-guide-docs]"},{kind:"component",type:Qc,selector:"c8y-breadcrumb"},{kind:"component",type:Zc,selector:"c8y-breadcrumb-item",inputs:["icon","translate","label","path"]},{kind:"component",type:Yd,selector:"c8y-dashboard-child",inputs:["x","y","width","height","data","margin","isFrozen","useIntersection","class"],outputs:["changeStart","changeEnd"]},{kind:"component",type:Kd,selector:"c8y-dashboard",inputs:["columns","gap","rows"],outputs:["dashboardChange"]},{kind:"component",type:qd,selector:"c8y-dashboard-child-title"},{kind:"component",type:Hd,selector:"c8y-dashboard-child-action"},{kind:"component",type:Jd,selector:"c8y-widget-time-context",inputs:["canDecouple"],outputs:["dateContextChange"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ep,decorators:[{type:r.Component,args:[{selector:"c8y-widgets-dashboard",host:{style:"\n      display: block;\n    ",class:"dashboard c8y-grid-dashboard"},providers:[Xd],template:'<c8y-title *ngIf="!!settings.title">\n  {{ settings.title | translate }}\n</c8y-title>\n\n<c8y-breadcrumb *ngIf="!!breadcrumb">\n  <c8y-breadcrumb-item\n    [icon]="breadcrumb.icon"\n    [label]="breadcrumb.label"\n    [path]="breadcrumb.path"\n  ></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-action-bar-item [placement]="\'right\'" *ngIf="onAddWidget.observers.length">\n  <button\n    title="{{ \'Add widget\' | translate }}"\n    class="btn btn-link"\n    [disabled]="settings.isFrozen || settings.isDisabled"\n    (click)="onAddWidget.emit()"\n  >\n    <i c8yIcon="plus-circle"></i>\n    {{ \'Add widget\' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]="\'right\'" *ngIf="onEditDashboard.observers.length">\n  <button\n    title="{{ \'Edit\' | translate }}"\n    class="btn btn-link"\n    [disabled]="settings.isFrozen || settings.isDisabled"\n    (click)="onEditDashboard.emit()"\n  >\n    <i c8yIcon="pencil"></i>\n    {{ \'Edit\' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]="\'right\'" *ngIf="settings.allowFullscreen">\n  <button title="{{ \'Full screen\' | translate }}" class="btn btn-link" (click)="toggleFullscreen()">\n    <i [c8yIcon]="fullScreen() ? \'compress\' : \'expand\'"></i>\n    {{ \'Full screen\' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item\n  [placement]="\'right\'"\n  itemClass="navbar-form"\n  *ngIf="onFreeze.observers.length"\n>\n  <button\n    title="{{ \'Lock/unlock this dashboard\' | translate }}"\n    class="btn btn-default"\n    [ngClass]="{ active: settings.isFrozen }"\n    (click)="onFreeze.emit(settings)"\n    [disabled]="settings.isDisabled"\n    uib-btn-checkbox\n  >\n    <i [c8yIcon]="settings.isFrozen ? \'lock\' : \'unlock\'"></i>\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]="\'more\'" [priority]="-2000" *ngIf="settings.canCopy">\n  <button title="{{ \'Copy dashboard\' | translate }}" (click)="onCopyDashboard.emit()">\n    <i c8yIcon="clone"></i>\n    <span class="m-l-4" translate>Copy dashboard</span>\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item\n  [placement]="\'more\'"\n  [priority]="-3000"\n  *ngIf="settings.canDelete && onDeleteDashboard.observers.length"\n>\n  <button\n    title="{{ \'Delete dashboard\' | translate }}"\n    (click)="onDeleteDashboard.emit()"\n    [disabled]="settings.isFrozen || settings.isDisabled"\n  >\n    <i c8yIcon="trash"></i>\n    <span class="m-l-4" translate>Delete dashboard</span>\n  </button>\n</c8y-action-bar-item>\n\n<ng-template #loadingIndicator>\n  <c8y-loading class="col-xs-12 text-center" *ngIf="isLoadingWidgets$ | async"></c8y-loading>\n</ng-template>\n\n<ng-container *ngIf="!(isLoadingWidgets$ | async); else loadingIndicator">\n  <ng-container *ngIf="resolvedWidgets$ | async as widgetsToDisplay">\n    \x3c!-- empty state --\x3e\n    <div class="c8y-empty-state text-center" *ngIf="widgetsToDisplay?.length === 0">\n      <h1 class="c8y-icon c8y-icon-device c8y-icon-duocolor"></h1>\n      <h3 translate>No widgets to display.</h3>\n      <div *ngIf="!settings.isFrozen && onAddWidget.observers.length">\n        <p translate>Add widgets to this dashboard.</p>\n        <div>\n          <button\n            title="{{ \'Add widget\' | translate }}"\n            [disabled]="settings.isFrozen || settings.isDisabled"\n            (click)="onAddWidget.emit()"\n            class="btn btn-primary"\n            translate\n          >\n            Add widget\n          </button>\n        </div>\n        <p c8y-guide-docs>\n          <small translate ngNonBindable>\n            Find out more in the\n            <a c8y-guide-href="users-guide/cockpit/#dashboards"> User guide`KEEP_ORIGINAL` </a>.\n          </small>\n        </p>\n      </div>\n    </div>\n\n    <c8y-dashboard\n      (dashboardChange)="onChangeDashboard.emit($event)"\n      #dashboard\n    >\n      <c8y-dashboard-child\n        *ngFor="let widget of widgetsToDisplay"\n        [x]="widget._x"\n        [y]="widget._y"\n        [width]="widget._width || settings.defaultWidth"\n        [height]="widget._height || settings.defaultHeight"\n        [margin]="settings.widgetMargin"\n        [isFrozen]="settings.isFrozen || settings.isDisabled"\n        [class]="widget.classes"\n        [data]="widget"\n        [useIntersection]="true"\n        (changeStart)="onChangeStart.emit({ widget: widget, source: child, dashboard: dashboard })"\n        (changeEnd)="onChangeEnd.emit({ widget: widget, source: child, dashboard: dashboard })"\n        #child\n      >\n        <c8y-dashboard-child-title>\n          <span *ngIf="settings.translateWidgetTitle">\n            {{ widget.title | translate }}\n          </span>\n          <span *ngIf="!settings.translateWidgetTitle">\n            {{ widget.title }}\n          </span>\n        </c8y-dashboard-child-title>\n        <c8y-dashboard-child-action *ngIf="onEditWidget.observers.length">\n          <button\n            title="{{ \'Edit widget\' | translate }}"\n            (click)="onEditWidget.emit({ widget: widget, source: child, dashboard: dashboard })"\n          >\n            <i c8yIcon="pencil"></i>\n            <span class="m-l-4" translate>Edit</span>\n          </button>\n        </c8y-dashboard-child-action>\n        <c8y-dashboard-child-action *ngIf="onDeleteWidget.observers.length">\n          <button\n            title="{{ \'Remove widget\' | translate }}"\n            (click)="onDeleteWidget.emit({ widget: widget, source: child, dashboard: dashboard })"\n          >\n            <i c8yIcon="trash"></i>\n            <span class="m-l-4" translate>Remove</span>\n          </button>\n        </c8y-dashboard-child-action>\n\n        <c8y-widget-time-context\n          *ngIf="widget.config?.displaySettings?.globalTimeContext"\n          (dateContextChange)="updateWidgetConfig({ date: $event }, widget)"\n        ></c8y-widget-time-context>\n\n        <c8y-dynamic-component\n          [componentId]="widget.componentId || widget.name"\n          [config]="\n            widget.templateUrl || widget.widgetComponent\n              ? { child: widget, dashboard: contextDashboard, context: context }\n              : widget.config\n          "\n          *ngIf="child.intersected"\n          (updateWidgetClasses)="updateWidgetClasses(widget, $event)"\n        ></c8y-dynamic-component>\n      </c8y-dashboard-child>\n    </c8y-dashboard>\n  </ng-container>\n</ng-container>\n'}]}],ctorParameters:function(){return[{type:Za}]},propDecorators:{widgets:[{type:r.Input}],context:[{type:r.Input}],contextDashboard:[{type:r.Input}],_settings:[{type:r.Input,args:["settings"]}],breadcrumb:[{type:r.Input}],onAddWidget:[{type:r.Output}],onEditWidget:[{type:r.Output}],onDeleteWidget:[{type:r.Output}],onChangeDashboard:[{type:r.Output}],onEditDashboard:[{type:r.Output}],onCopyDashboard:[{type:r.Output}],onDeleteDashboard:[{type:r.Output}],onFreeze:[{type:r.Output}],onChangeStart:[{type:r.Output}],onChangeEnd:[{type:r.Output}]}});var tp=Ci((function e(){bi(this,e)}));tp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),tp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:tp,declarations:[Yd,Kd,qd,Hd,ep,Jd],imports:[da,ha,jd,Ur,d.BsDropdownModule,Pl,ld,Xc,De.FormsModule,ke.BsDatepickerModule,Pd],exports:[Kd,Yd,qd,Hd,ep,Jd]}),tp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tp,imports:[da,ha,jd,Ur,d.BsDropdownModule.forRoot(),Pl,ld,Xc,De.FormsModule,ke.BsDatepickerModule,Pd]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tp,decorators:[{type:r.NgModule,args:[{declarations:[Yd,Kd,qd,Hd,ep,Jd],imports:[da,ha,jd,Ur,d.BsDropdownModule.forRoot(),Pl,ld,Xc,De.FormsModule,ke.BsDatepickerModule,Pd],exports:[Kd,Yd,qd,Hd,ep,Jd]}]}]});var np=function(){function e(t){bi(this,e),this.audit=t}var t;return Ci(e,[{key:"ngOnInit",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.source){e.next=4;break}return e.next=3,this.audit.list({withTotalPages:!0,source:this.source});case 3:this.records=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();np.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:np,deps:[{token:g.AuditService}],target:r["ɵɵFactoryTarget"].Component}),np.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:np,selector:"c8y-audit-log",inputs:{source:"source"},ngImport:i,template:'<div class="inner-scroll">\n  <ul class="timeline-list list-condensed m-t-16">\n    <li class="timeline-list-item flex-row" *c8yFor="let record of records">\n      <small class="timeline-item-date text-right">\n        <span>{{ record.time | c8yDate }}</span>\n      </small>\n      <div class="timeline-item-content flex-row">\n        <div class="list-item-body">\n          <div class="row text-break-word">\n            <div class="col-md-5">\n              <span class="text-truncate">{{ record.activity | translate }}</span>\n              <small class="text-muted">{{ record.user }}</small>\n            </div>\n            <div class="col-md-7">\n              <div class="small text-truncate-wrap">{{ record.text | translate }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n',dependencies:[{kind:"directive",type:No,selector:"[c8yFor]",inputs:["c8yForOf","c8yForLoadMore","c8yForPipe","c8yForNotFound","c8yForMaxIterations","c8yForLoadingTemplate","c8yForLoadNextLabel","c8yForRealtime","c8yForRealtimeOptions","c8yForComparator","c8yForEnableVirtualScroll","c8yForVirtualScrollElementSize","c8yForVirtualScrollStrategy","c8yForVirtualScrollContainerHeight"],outputs:["c8yForCount"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Co,name:"c8yDate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:np,decorators:[{type:r.Component,args:[{selector:"c8y-audit-log",template:'<div class="inner-scroll">\n  <ul class="timeline-list list-condensed m-t-16">\n    <li class="timeline-list-item flex-row" *c8yFor="let record of records">\n      <small class="timeline-item-date text-right">\n        <span>{{ record.time | c8yDate }}</span>\n      </small>\n      <div class="timeline-item-content flex-row">\n        <div class="list-item-body">\n          <div class="row text-break-word">\n            <div class="col-md-5">\n              <span class="text-truncate">{{ record.activity | translate }}</span>\n              <small class="text-muted">{{ record.user }}</small>\n            </div>\n            <div class="col-md-7">\n              <div class="small text-truncate-wrap">{{ record.text | translate }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n'}]}],ctorParameters:function(){return[{type:g.AuditService}]},propDecorators:{source:[{type:r.Input}]}});var rp=Ci((function e(){bi(this,e)}));rp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:rp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),rp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:rp,declarations:[np],imports:[da],exports:[np]}),rp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:rp,imports:[da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:rp,decorators:[{type:r.NgModule,args:[{declarations:[np],imports:[da],exports:[np]}]}]});var ip=Ci((function e(){bi(this,e)})),op=Ci((function e(t){bi(this,e),this.template=t}));op.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:op,deps:[{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),op.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:op,selector:"[c8yFilteringFormRendererDef]",ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:op,decorators:[{type:r.Directive,args:[{selector:"[c8yFilteringFormRendererDef]"}]}],ctorParameters:function(){return[{type:r.TemplateRef}]}});var ap=function(){function e(t,n){bi(this,e),this.context=t,this.jsonschema=n}return Ci(e,[{key:"onEnterKeyDown",value:function(e){e.stopPropagation(),this.applyFilter()}},{key:"onEscapeKeyDown",value:function(e){e.stopPropagation(),this.resetFilter()}},{key:"ngOnInit",value:function(){var e=this.context.property;if(e.filteringConfig.fields)this.fields=(0,c.cloneDeep)(e.filteringConfig.fields);else{if(e.filteringConfig.fields||!e.filteringConfig.schema)throw new Error("Neither fields nor schema configuration provided for Formly.");this.schema=(0,c.cloneDeep)(e.filteringConfig.schema),this.fields=[this.jsonschema.toFieldConfig(this.schema)]}this.form=e.filteringConfig.formGroup||new De.FormGroup({}),this.model=e.externalFilterQuery||e.filteringConfig.model||{},this.options={formDefaults:{ngModelOptions:{debounce:100}}}}},{key:"applyFilter",value:function(){this.context.applyFilter({externalFilterQuery:this.form.value})}},{key:"resetFilter",value:function(){this.context.resetFilter()}}]),e}();ap.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ap,deps:[{token:ip},{token:_d}],target:r["ɵɵFactoryTarget"].Component}),ap.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ap,selector:"ng-component",host:{listeners:{"keydown.enter":"onEnterKeyDown($event)","keydown.escape":"onEscapeKeyDown($event)"}},ngImport:i,template:'<formly-form [form]="form" [fields]="fields" [model]="model"></formly-form>\n<div class="data-grid__dropdown__footer d-flex separator-top">\n  <button\n    class="btn btn-default btn-sm m-r-8 flex-grow"\n    (click)="resetFilter()"\n    title="{{ \'Reset\' | translate }}"\n    translate\n  >\n    Reset\n  </button>\n\n  <button\n    class="btn btn-primary btn-sm flex-grow"\n    (click)="applyFilter()"\n    [disabled]="(form.pristine && form.untouched) || form.invalid"\n    title="{{ \'Apply\' | translate }}"\n    translate\n  >\n    Apply\n  </button>\n</div>\n',dependencies:[{kind:"component",type:Un.FormlyForm,selector:"formly-form",inputs:["model","fields","options","form"],outputs:["modelChange"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ap,decorators:[{type:r.Component,args:[{template:'<formly-form [form]="form" [fields]="fields" [model]="model"></formly-form>\n<div class="data-grid__dropdown__footer d-flex separator-top">\n  <button\n    class="btn btn-default btn-sm m-r-8 flex-grow"\n    (click)="resetFilter()"\n    title="{{ \'Reset\' | translate }}"\n    translate\n  >\n    Reset\n  </button>\n\n  <button\n    class="btn btn-primary btn-sm flex-grow"\n    (click)="applyFilter()"\n    [disabled]="(form.pristine && form.untouched) || form.invalid"\n    title="{{ \'Apply\' | translate }}"\n    translate\n  >\n    Apply\n  </button>\n</div>\n'}]}],ctorParameters:function(){return[{type:ip},{type:_d}]},propDecorators:{onEnterKeyDown:[{type:r.HostListener,args:["keydown.enter",["$event"]]}],onEscapeKeyDown:[{type:r.HostListener,args:["keydown.escape",["$event"]]}]}});var sp=Ci((function e(){bi(this,e)})),cp=Ci((function e(t){bi(this,e),this.template=t}));cp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cp,deps:[{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),cp.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:cp,selector:"[c8yCellRendererDef]",ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cp,decorators:[{type:r.Directive,args:[{selector:"[c8yCellRendererDef]"}]}],ctorParameters:function(){return[{type:r.TemplateRef}]}});var lp=Ci((function e(t){bi(this,e),this.template=t}));lp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:lp,deps:[{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),lp.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:lp,selector:"[c8yHeaderCellRendererDef]",ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:lp,decorators:[{type:r.Directive,args:[{selector:"[c8yHeaderCellRendererDef]"}]}],ctorParameters:function(){return[{type:r.TemplateRef}]}});var dp=function(){function e(t,n){bi(this,e),this.injector=t,this.cd=n}return Ci(e,[{key:"_spec",set:function(e){this.spec=e}},{key:"ngOnChanges",value:function(){this.prevSpec||(this.prevSpec=this.spec);var e=this.spec.renderer;e instanceof r.TemplateRef?this.rendererType="TEMPLATE":e instanceof r.Type&&(this.rendererType="COMPONENT",this.rendererInjector=r.Injector.create({providers:[{provide:sp,useValue:this.spec.context}],parent:this.injector}))}},{key:"ngDoCheck",value:function(){!this.spec.context.value===this.prevSpec.context.value&&(this.prevSpec=this.spec,this.cd.markForCheck())}}]),e}();dp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dp,deps:[{token:r.Injector},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Component}),dp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:dp,selector:"c8y-cell-renderer",inputs:{_spec:["spec","_spec"]},usesOnChanges:!0,ngImport:i,template:'<ng-container *ngIf="spec.renderer">\n  <ng-container\n    *ngIf="rendererType === \'TEMPLATE\'"\n    [ngTemplateOutlet]="spec.renderer"\n    [ngTemplateOutletContext]="{ $implicit: spec.context }"\n  >\n  </ng-container>\n\n  <ng-container\n    *ngIf="rendererType === \'COMPONENT\'"\n    [ngComponentOutlet]="spec.renderer"\n    [ngComponentOutletInjector]="rendererInjector"\n  >\n  </ng-container>\n</ng-container>\n\n<ng-container *ngIf="!spec.renderer">\n  <span title="{{ spec.context.value }}">\n    {{ spec.context.value }}\n  </span>\n</ng-container>\n',dependencies:[{kind:"directive",type:u.NgComponentOutlet,selector:"[ngComponentOutlet]",inputs:["ngComponentOutlet","ngComponentOutletInjector","ngComponentOutletContent","ngComponentOutletNgModule","ngComponentOutletNgModuleFactory"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:dp,decorators:[{type:r.Component,args:[{selector:"c8y-cell-renderer",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<ng-container *ngIf="spec.renderer">\n  <ng-container\n    *ngIf="rendererType === \'TEMPLATE\'"\n    [ngTemplateOutlet]="spec.renderer"\n    [ngTemplateOutletContext]="{ $implicit: spec.context }"\n  >\n  </ng-container>\n\n  <ng-container\n    *ngIf="rendererType === \'COMPONENT\'"\n    [ngComponentOutlet]="spec.renderer"\n    [ngComponentOutletInjector]="rendererInjector"\n  >\n  </ng-container>\n</ng-container>\n\n<ng-container *ngIf="!spec.renderer">\n  <span title="{{ spec.context.value }}">\n    {{ spec.context.value }}\n  </span>\n</ng-container>\n'}]}],ctorParameters:function(){return[{type:r.Injector},{type:r.ChangeDetectorRef}]},propDecorators:{_spec:[{type:r.Input,args:["spec"]}]}});var pp=Ci((function e(){bi(this,e)}));pp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pp,deps:[],target:r["ɵɵFactoryTarget"].Directive}),pp.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:pp,selector:"c8y-column",inputs:{name:"name"},queries:[{propertyName:"cellRendererDef",first:!0,predicate:cp,descendants:!0},{propertyName:"headerCellRendererDef",first:!0,predicate:lp,descendants:!0},{propertyName:"filteringFormRendererDef",first:!0,predicate:op,descendants:!0}],ngImport:i}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pp,decorators:[{type:r.Directive,args:[{selector:"c8y-column"}]}],propDecorators:{name:[{type:r.Input}],cellRendererDef:[{type:r.ContentChild,args:[cp,{static:!1}]}],headerCellRendererDef:[{type:r.ContentChild,args:[lp,{static:!1}]}],filteringFormRendererDef:[{type:r.ContentChild,args:[op,{static:!1}]}]}});var up=function(){function e(t,n){bi(this,e),this.injector=t,this.cd=n,this.defaultRendererFilterText=""}return Ci(e,[{key:"_spec",set:function(e){this.spec=e}},{key:"ngOnChanges",value:function(){var e=this.spec,t=e.renderer,n=e.context;t instanceof r.TemplateRef?this.rendererType="TEMPLATE":t instanceof r.Type&&(this.rendererType="COMPONENT",this.rendererInjector=r.Injector.create({providers:[{provide:ip,useValue:this.spec.context}],parent:this.injector}));var i=n.property.filterPredicate;"string"==typeof i&&(this.defaultRendererFilterText=i)}}]),e}();up.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:up,deps:[{token:r.Injector},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Component}),up.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:up,selector:"c8y-filtering-form-renderer",inputs:{_spec:["spec","_spec"]},usesOnChanges:!0,ngImport:i,template:'<ng-container *ngIf="spec.renderer">\n  <ng-container\n    *ngIf="rendererType === \'TEMPLATE\'"\n    [ngTemplateOutlet]="spec.renderer"\n    [ngTemplateOutletContext]="{ $implicit: spec.context }"\n  >\n  </ng-container>\n\n  <ng-container\n    *ngIf="rendererType === \'COMPONENT\'"\n    [ngComponentOutlet]="spec.renderer"\n    [ngComponentOutletInjector]="rendererInjector"\n  >\n  </ng-container>\n</ng-container>\n\n<ng-container *ngIf="!spec.renderer">\n  <div class="form-group m-b-8 p-t-8">\n    <label>{{ \'Filter text\' | translate }}</label>\n    <input\n      class="form-control"\n      [(ngModel)]="defaultRendererFilterText"\n      (keyup.enter)="\n        spec.context.applyFilter({\n          filterPredicate: defaultRendererFilterText\n        })\n      "\n      c8yProductExperience\n      [actionName]="\'dataGrid:filteringForm:InputTextField\'"\n    />\n  </div>\n\n  <div class="data-grid__dropdown__footer d-flex separator-top">\n    <button\n      title="{{ \'Reset\' | translate }}"\n      class="btn btn-default btn-sm flex-grow m-r-8"\n      (click)="defaultRendererFilterText = \'\'; spec.context.resetFilter()"\n    >\n      {{ \'Reset\' | translate }}\n    </button>\n    <button\n      title="{{ \'Apply\' | translate }}"\n      class="btn btn-primary btn-sm flex-grow"\n      (click)="\n        spec.context.applyFilter({\n          filterPredicate: defaultRendererFilterText\n        })\n      "\n    >\n      {{ \'Apply\' | translate }}\n    </button>\n  </div>\n</ng-container>\n',dependencies:[{kind:"directive",type:u.NgComponentOutlet,selector:"[ngComponentOutlet]",inputs:["ngComponentOutlet","ngComponentOutletInjector","ngComponentOutletContent","ngComponentOutletNgModule","ngComponentOutletNgModuleFactory"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:Qs,selector:"[c8yProductExperience]",inputs:["actionName","actionData"]},{kind:"pipe",type:ao,name:"translate"}],changeDetection:r.ChangeDetectionStrategy.OnPush}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:up,decorators:[{type:r.Component,args:[{selector:"c8y-filtering-form-renderer",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<ng-container *ngIf="spec.renderer">\n  <ng-container\n    *ngIf="rendererType === \'TEMPLATE\'"\n    [ngTemplateOutlet]="spec.renderer"\n    [ngTemplateOutletContext]="{ $implicit: spec.context }"\n  >\n  </ng-container>\n\n  <ng-container\n    *ngIf="rendererType === \'COMPONENT\'"\n    [ngComponentOutlet]="spec.renderer"\n    [ngComponentOutletInjector]="rendererInjector"\n  >\n  </ng-container>\n</ng-container>\n\n<ng-container *ngIf="!spec.renderer">\n  <div class="form-group m-b-8 p-t-8">\n    <label>{{ \'Filter text\' | translate }}</label>\n    <input\n      class="form-control"\n      [(ngModel)]="defaultRendererFilterText"\n      (keyup.enter)="\n        spec.context.applyFilter({\n          filterPredicate: defaultRendererFilterText\n        })\n      "\n      c8yProductExperience\n      [actionName]="\'dataGrid:filteringForm:InputTextField\'"\n    />\n  </div>\n\n  <div class="data-grid__dropdown__footer d-flex separator-top">\n    <button\n      title="{{ \'Reset\' | translate }}"\n      class="btn btn-default btn-sm flex-grow m-r-8"\n      (click)="defaultRendererFilterText = \'\'; spec.context.resetFilter()"\n    >\n      {{ \'Reset\' | translate }}\n    </button>\n    <button\n      title="{{ \'Apply\' | translate }}"\n      class="btn btn-primary btn-sm flex-grow"\n      (click)="\n        spec.context.applyFilter({\n          filterPredicate: defaultRendererFilterText\n        })\n      "\n    >\n      {{ \'Apply\' | translate }}\n    </button>\n  </div>\n</ng-container>\n'}]}],ctorParameters:function(){return[{type:r.Injector},{type:r.ChangeDetectorRef}]},propDecorators:{_spec:[{type:r.Input,args:["spec"]}]}});var gp=function(){function e(t,n){bi(this,e),this.fb=t,this.modalRef=n,this.SIMPLE_JSON_PATH_REGEX=/^[^.\s]+(\.\S+)*$/,this.onAddCustomColumn=new r.EventEmitter,this.formGroup=this.fb.group({header:[""],path:["",[De.Validators.required,kc]],addAnother:[!1]}),this.columns=[],this.uniqueHeaderMsg="The column header name is too similar to '{{ value }}'."}return Ci(e,[{key:"comparator",value:function(e,t){return(0,c.camelCase)(e)===(0,c.camelCase)(t)}},{key:"addColumn",value:function(){var e=this.formGroup.value,t=e.header,n=e.path,r={name:(0,c.camelCase)(t),header:t,path:n,custom:!0,visible:!0};this.onAddCustomColumn.emit(r),this.columns.splice(this.columns.length,0,r),this.formGroup.value.addAnother?this.form.resetForm({addAnother:!0}):this.modalRef.hide()}}]),e}();gp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gp,deps:[{token:De.FormBuilder},{token:xe.BsModalRef}],target:r["ɵɵFactoryTarget"].Component}),gp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:gp,selector:"c8y-configure-custom-column",outputs:{onAddCustomColumn:"onAddCustomColumn"},viewQueries:[{propertyName:"form",first:!0,predicate:["columnConfigForm"],descendants:!0}],ngImport:i,template:'<div class="viewport-modal">\n  <div class="modal-header separator-bottom">\n    <h3 translate>Configure custom column</h3>\n  </div>\n\n  <form class="d-contents" #columnConfigForm="ngForm" [formGroup]="formGroup">\n    <div class="modal-inner-scroll">\n      <div class="modal-body">\n        <c8y-form-group>\n          <label for="header" translate>Header</label>\n          <input\n            id="header"\n            formControlName="header"\n            class="form-control"\n            autocomplete="off"\n            [placeholder]="\'e.g. Agent name\' | translate"\n            [required]="true"\n            uniqueByPath\n            [collection]="columns"\n            path="header"\n            [comparator]="comparator"\n          />\n          <c8y-messages>\n            <c8y-message\n              name="uniqueByPath"\n              [text]="uniqueHeaderMsg"\n            ></c8y-message>\n          </c8y-messages>\n        </c8y-form-group>\n        <c8y-form-group>\n          <label for="fragmentPath" translate>Fragment path</label>\n          <input\n            id="fragmentPath"\n            formControlName="path"\n            class="form-control"\n            autocomplete="off"\n            [placeholder]="\'e.g. {{ example }}\' | translate: { example: \'c8y_Agent.name\' }"\n          />\n        </c8y-form-group>\n        <label class="c8y-switch" [title]="\'Add another column after saving this one\' | translate">\n          <input type="checkbox" formControlName="addAnother" class="form-control" />\n          <span></span>\n          <span translate>Add another column after saving this one</span>\n        </label>\n      </div>\n    </div>\n\n    <div class="modal-footer">\n      <button title="{{ \'Cancel\' | translate }}" class="btn btn-default" (click)="modalRef.hide()">\n        {{ \'Cancel\' | translate }}\n      </button>\n      <button\n        title="{{ \'Save\' | translate }}"\n        class="btn btn-primary"\n        [disabled]="columnConfigForm.form.pristine || !columnConfigForm.form.valid"\n        (click)="addColumn()"\n      >\n        {{ \'Save\' | translate }}\n      </button>\n    </div>\n  </form>\n</div>\n',dependencies:[{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.CheckboxControlValueAccessor,selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.FormGroupDirective,selector:"[formGroup]",inputs:["formGroup"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"directive",type:De.FormControlName,selector:"[formControlName]",inputs:["formControlName","disabled","ngModel"],outputs:["ngModelChange"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Ss,selector:"c8y-message",inputs:["name","text"]},{kind:"component",type:Ds,selector:"c8y-messages",inputs:["show","defaults"]},{kind:"directive",type:Es,selector:"input[required], input[formControlName]"},{kind:"directive",type:Sc,selector:"[uniqueByPath]",inputs:["collection","path","comparator"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gp,decorators:[{type:r.Component,args:[{selector:"c8y-configure-custom-column",template:'<div class="viewport-modal">\n  <div class="modal-header separator-bottom">\n    <h3 translate>Configure custom column</h3>\n  </div>\n\n  <form class="d-contents" #columnConfigForm="ngForm" [formGroup]="formGroup">\n    <div class="modal-inner-scroll">\n      <div class="modal-body">\n        <c8y-form-group>\n          <label for="header" translate>Header</label>\n          <input\n            id="header"\n            formControlName="header"\n            class="form-control"\n            autocomplete="off"\n            [placeholder]="\'e.g. Agent name\' | translate"\n            [required]="true"\n            uniqueByPath\n            [collection]="columns"\n            path="header"\n            [comparator]="comparator"\n          />\n          <c8y-messages>\n            <c8y-message\n              name="uniqueByPath"\n              [text]="uniqueHeaderMsg"\n            ></c8y-message>\n          </c8y-messages>\n        </c8y-form-group>\n        <c8y-form-group>\n          <label for="fragmentPath" translate>Fragment path</label>\n          <input\n            id="fragmentPath"\n            formControlName="path"\n            class="form-control"\n            autocomplete="off"\n            [placeholder]="\'e.g. {{ example }}\' | translate: { example: \'c8y_Agent.name\' }"\n          />\n        </c8y-form-group>\n        <label class="c8y-switch" [title]="\'Add another column after saving this one\' | translate">\n          <input type="checkbox" formControlName="addAnother" class="form-control" />\n          <span></span>\n          <span translate>Add another column after saving this one</span>\n        </label>\n      </div>\n    </div>\n\n    <div class="modal-footer">\n      <button title="{{ \'Cancel\' | translate }}" class="btn btn-default" (click)="modalRef.hide()">\n        {{ \'Cancel\' | translate }}\n      </button>\n      <button\n        title="{{ \'Save\' | translate }}"\n        class="btn btn-primary"\n        [disabled]="columnConfigForm.form.pristine || !columnConfigForm.form.valid"\n        (click)="addColumn()"\n      >\n        {{ \'Save\' | translate }}\n      </button>\n    </div>\n  </form>\n</div>\n'}]}],ctorParameters:function(){return[{type:De.FormBuilder},{type:xe.BsModalRef}]},propDecorators:{form:[{type:r.ViewChild,args:["columnConfigForm",{static:!1}]}],onAddCustomColumn:[{type:r.Output}]}});var hp,mp=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bi(this,e),this.filteringFormRendererComponent=ap,Object.assign(this,n),null!==(t=n.filter)&&void 0!==t&&t.externalFilterQuery&&(this.externalFilterQuery=n.filter.externalFilterQuery)}return Ci(e,[{key:"getLabelTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n='\n      <i\n        class="text-info"\n        c8y-icon="info-circle"\n        title="{{ \'Use * as a wildcard character\' | translate }}"\n      ></i>\n    ';return"\n      <label>\n        <span>\n          {{ '".concat(e,"' | translate }}\n        </span>\n        ").concat(t.showWildcardTooltip?n:"","\n      </label>\n    ")}}]),e}(),fp=function(e){gi(n,e);var t=mi(n);function n(e){var r;bi(this,n);var i=yi(r=t.call(this,e));return r.name=r.name||"custom",r.header=r.header||"Custom",r.filterable=!0,r.filteringConfig={fields:[{key:"exists",type:"switch",defaultValue:!1,templateOptions:{label:"Only rows where value is defined"}}].concat(wi(Nd({key:"equals",label:"Only rows where value equals to",addText:"Add next`value`",tooltip:"Use * as a wildcard character",placeholder:"10300",optional:!0}))),getFilter:function(e){var t={};return e.exists&&(t.__has=i.path),e.equals&&(t[i.path]={__in:e.equals}),t}},r.sortable=!0,r.sortingConfig={pathSortingConfigs:[{path:r.path}]},r}return Ci(n)}(mp),yp=new r.InjectionToken("DataGridConfigurationStrategy"),vp=new r.InjectionToken("DataGridConfigurationContext"),bp=new r.InjectionToken("DataGridConfigurationContextProvider"),kp=80,Cp={icon:1,numeric:1,"text-short":1.67,"text-long":3.33};!function(e){e.ApplyFilter="APPLY_FILTER",e.ResetFilter="RESET_FILTER"}(hp||(hp={}));var Ip=function(){function e(t){bi(this,e),this.userPreferencesService=t,this.DEFAULT_PAGE_SIZE=20,this.queriesUtil=new g.QueriesUtil}return Ci(e,[{key:"getConfig",value:function(e){return this.getConfig2(e)}},{key:"saveConfig",value:function(e,t){localStorage.setItem(t,JSON.stringify(e))}},{key:"clearConfig",value:function(e){localStorage.removeItem(e)}},{key:"getConfig$",value:function(e){var t=this;return this.userPreferencesService.get(e).pipe((0,s.map)((function(e){return e||{columns:[],pagination:{pageSize:t.DEFAULT_PAGE_SIZE,currentPage:1}}})))}},{key:"saveConfig$",value:function(e,t){return(0,a.from)(this.userPreferencesService.set(t,e))}},{key:"getUserConfiguredColumns",value:function(e,t){return this.applyConfigToColumns(this.getConfig2(t),e,t)}},{key:"getUserConfiguredColumns$",value:function(e,t){var n=this;return this.getConfig$(t).pipe((0,s.withLatestFrom)((0,a.isObservable)(e)?e:(0,a.of)(e)),(0,s.map)((function(e){var r=ii(e,2),i=r[0],o=r[1];return n.applyConfigToColumns(i,o,t)})),(0,s.take)(1),(0,s.share)())}},{key:"getQueryObj",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.transform)(e,(function(e,n){return t.extendQueryByColumn(e,n)}),ci({__filter:{},__orderby:[]},n))}},{key:"applyConfigToColumns",value:function(e,t,n){var r;if((null==e||null===(r=e.columns)||void 0===r?void 0:r.length)>0){var i=[],o=[];try{var a=e.columns.filter((function(e){return e.custom})).map((function(e){return new fp(e)})),s=[].concat(wi(t),wi(a));o=s.filter((function(t){return!e.columns.some((function(e){return t.name===e.name}))})),e.columns.forEach((function(e){var t,n=e.visible,r=e.name,o=e.sortOrder,a=e.filter,c=s.find((function(e){return e.name===r}));c&&(c.visible=n,c.sortOrder=o,c.externalFilterQuery=null!==(t=c.externalFilterQuery)&&void 0!==t?t:null==a?void 0:a.externalFilterQuery,i.push(c))}))}catch(e){this.clearConfig(n)}return[].concat(i,wi(o))}return t}},{key:"getConfig2",value:function(e){var t=JSON.parse(localStorage.getItem(e));return null===t?{columns:[],pagination:{pageSize:this.DEFAULT_PAGE_SIZE,currentPage:1}}:t}},{key:"extendQueryByColumn",value:function(e,t){if(t.filterable&&t.externalFilterQuery){var n=(t.filteringConfig.getFilter||c.identity)(t.externalFilterQuery);n.__or?(e.__filter.__and=e.__filter.__and||[],e.__filter.__and.push(n)):n.__and&&(0,c.get)(e,"__filter.__and")?n.__and.map((function(t){return e.__filter.__and.push(t)})):(0,c.assign)(e.__filter,n)}if(t.sortable&&t.sortOrder){var r={};(0,c.forEach)(t.sortingConfig.pathSortingConfigs,(function(e){r[e.path]=("asc"===t.sortOrder?1:-1)*(e.sortOrderModifier||1)})),e.__orderby.push(r)}return e}}]),e}();Ip.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ip,deps:[{token:aa}],target:r["ɵɵFactoryTarget"].Injectable}),Ip.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ip,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ip,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:aa}]}});var wp=function(){function e(){bi(this,e),this.loadingSubject=new a.BehaviorSubject(!0),this.dataSourceSubject=new a.BehaviorSubject([]),this.dataStatsSubject=new a.BehaviorSubject({size:0,filteredSize:0,currentPage:0,currentPageSize:0,firstPageSize:0}),this.dataSelectionSubject=new a.BehaviorSubject({filteredDataIds:[]}),this.resultListSubject=new a.Subject,this.loading$=this.loadingSubject.asObservable(),this.data$=this.dataSourceSubject.asObservable(),this.stats$=this.dataStatsSubject.asObservable(),this.selection$=this.dataSelectionSubject.asObservable(),this.resultList$=this.resultListSubject.asObservable()}return Ci(e,[{key:"connect",value:function(e){return this.data$}},{key:"disconnect",value:function(e){this.loadingSubject.complete(),this.dataSourceSubject.complete(),this.dataStatsSubject.complete(),this.dataSelectionSubject.complete()}},{key:"loadData",value:function(e){var t=this,n=e.rows,r=e.columns,i=e.pagination,o=e.searchText,l=e.serverSideDataCallback,d=e.selectable,p=e.selectionPrimaryKey,u=e.infiniteScroll,g=e.reload,h=void 0!==g&&g,m=this.toObservable(n).pipe((0,s.map)((function(e){var n=0,a=[],s=(0,c.flow)((function(e){return t.doClientSideSearch({data:e,columns:r,searchText:o})}),(function(e){return t.doClientSideFiltering({data:e,columns:r})}),(function(e){return t.doClientSideSorting({data:e,columns:r})}),(function(e){return n=e.length,a=d?e.map((function(e){return e[p]})):a,e}),(function(e){return t.doClientSidePagination({data:e,pagination:i})}))(e);return t.dataStatsSubject.next({size:e.length,filteredSize:n,currentPage:i.currentPage,currentPageSize:s.length,firstPageSize:i.pageSize}),t.dataSelectionSubject.next({filteredDataIds:a}),s}))),f=(0,a.defer)((function(){return t.toObservable(l({columns:r,searchText:o,pagination:i,selection:{enabled:d,primaryKey:p}}))})).pipe((0,s.map)((function(e){var n=e.data,r=e.paging,i=e.size,o=e.filteredSize,a=e.filteredDataIds;return t.dataStatsSubject.next({size:i,filteredSize:o,currentPage:r.currentPage,currentPageSize:n.length,nextPage:r.nextPage,firstPageSize:r.pageSize}),t.dataSelectionSubject.next({filteredDataIds:a||[]}),t.resultListSubject.next(e),n}))),y="function"==typeof l?f:m;(0,a.of)([]).pipe((0,s.tap)((function(){return t.loadingSubject.next(!0)})),(0,s.switchMap)((function(){return y})),(0,s.catchError)((function(){return t.dataStatsSubject.next({size:0,filteredSize:0,currentPage:0,currentPageSize:0,firstPageSize:0}),t.dataSelectionSubject.next({filteredDataIds:[]}),(0,a.of)([])})),(0,s.finalize)((function(){return t.loadingSubject.next(!1)}))).subscribe((function(e){var n=u&&!h?[].concat(wi(t.dataSourceSubject.value),wi(e)):e;t.dataSourceSubject.next(n)}))}},{key:"resolveValue",value:function(e,t){return(0,c.get)(e,t)}},{key:"resolveFunction",value:function(e){return"function"==typeof e?e():e}},{key:"normalizeNil",value:function(e){return(0,c.isNil)(e)?"":e}},{key:"doClientSideFiltering",value:function(e){var t=this,n=e.data;return e.columns.reduce((function(e,n){var r=n.filterPredicate;return"string"==typeof r?t.doClientSideSearch({data:e,columns:[n],searchText:r}):"function"==typeof r?e.filter((function(e){return r(e,n.path)})):e}),n)}},{key:"doClientSideSearch",value:function(e){var t=this,n=e.data,r=e.columns,i=e.searchText,o=r.map((function(e){return e.path})).filter((function(e){return!(0,c.isNil)(e)})),a=this.createRegexSearch(i);return n.filter((function(e){var n=(0,c.flow)((function(e){return o.map((function(t){return(0,c.get)(e,t)}))}),(function(e){return(0,c.mapValues)(e,t.resolveFunction)}),(function(e){return(0,c.omitBy)(e,c.isNil)}))(e);return Object.values(n).some((function(e){return a.test(e.toString())}))}))}},{key:"doClientSideSorting",value:function(e){var t=e.data,n=e.columns.filter((function(e){return!!e.sortOrder})),r={iteratees:n.map((function(e){return e.path})).map((function(e){return function(t){var n;return null!==(n=(0,c.get)(t,e))&&void 0!==n?n:""}})),orders:n.map((function(e){return e.sortOrder}))};return(0,c.orderBy)(t,r.iteratees,r.orders)}},{key:"doClientSidePagination",value:function(e){var t=e.data,n=e.pagination;return n?(0,c.get)((0,c.chunk)(t,n.pageSize),n.currentPage-1,[]):t}},{key:"createRegexSearch",value:function(e){return RegExp(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"i")}},{key:"toObservable",value:function(e){return(0,a.isObservable)(e)?e:Ni(e)?(0,a.from)(e):(0,a.of)(e)}}]),e}();var Sp,xp=function(){function e(){bi(this,e)}return Ci(e,[{key:"transform",value:function(e,t){return!e.showIf||e.showIf(t)}}]),e}();xp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xp,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),xp.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:xp,name:"isControlVisible"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:xp,decorators:[{type:r.Pipe,args:[{name:"isControlVisible"}]}]}),function(e){e.ASC="asc",e.DESC="desc"}(Sp||(Sp={}));var Dp=function(){function e(t,n,i,o,c,l,d){var p=this;bi(this,e),this.configurationStrategy=t,this.dataGridService=n,this.sanitizer=i,this.cfr=o,this.gainsightService=c,this.bsModalService=l,this.alertService=d,this.title="Items",this.loadMoreItemsLabel="Load more items",this.loadingItemsLabel="Loading items…",this.showSearch=!1,this.columns=[],this.dataSource=new wp,this.filteringLabelsParams={filteredItemsCount:0,allItemsCount:0},this.paginationLabelParams={pageFirstItemIdx:0,pageLastItemIdx:0,itemsTotal:0},this.possiblePageSizes=[10,15,20,30,50],this.minPossiblePageSize=Math.min.apply(Math,wi(this.possiblePageSizes)),this.selectable=!1,this.selectionPrimaryKey="id",this.displayOptions={striped:!0,bordered:!1,gridHeader:!0,filter:!0},this.searchText="",this.configureColumnsEnabled=!0,this.showCounterWarning=!1,this.rowMouseOver=new r.EventEmitter,this.rowMouseLeave=new r.EventEmitter,this.rowClick=new r.EventEmitter,this.onConfigChange=new r.EventEmitter,this.onBeforeFilter=new r.EventEmitter,this.onBeforeSearch=new r.EventEmitter,this.onFilter=new r.EventEmitter,this.itemsSelect=new r.EventEmitter,this.onReload=new r.EventEmitter,this.onAddCustomColumn=new r.EventEmitter,this.onRemoveCustomColumn=new r.EventEmitter,this.onColumnFilterReset=new r.EventEmitter,this.columnNames=[],this.styles={tableCursor:"auto",gridTemplateColumns:void 0,gridInfiniteScrollColumn:void 0},this.searchText$=new r.EventEmitter,this.filteringApplied=!1,this.totalPagesCount$=new a.BehaviorSubject(1/0),this.hidePagination$=this.totalPagesCount$.pipe((0,s.map)((function(e){return e<=1})),(0,s.delay)(0)),this.selectedItemIds=[],this.currentPageSelectionState={allSelected:!1,allDeselected:!0},this.builtInActionType={Edit:"EDIT",Delete:"DELETE",Export:"EXPORT"},this.confirmRemoveColumnButtons=[{label:"Cancel",action:function(){return Promise.resolve(!1)}},{label:"Remove`column,verb`",status:"danger",action:function(){return Promise.resolve(!0)}}],this.isConfigContextKnown=!1,this.resizeHandleMouseDown$=new r.EventEmitter,this.resizeHandleContainerMouseMove$=new r.EventEmitter,this.resizeHandleContainerMouseUp$=new r.EventEmitter,this.columnsInitialized=!1,this.unsubscribe$=new a.Subject,this.SEARCH_DEBOUNCE_TIME=500,this.triggerLoadData=new r.EventEmitter,this.triggerLoadData.pipe((0,s.debounceTime)(1),(0,s.takeUntil)(this.unsubscribe$)).subscribe((function(e){p.loadData(e)}))}var t;return Ci(e,[{key:"_columns",set:function(e){var t=this;this.configurationStrategy&&!(0,c.isEmpty)(e)?this.configurationStrategy.getConfig$().pipe((0,s.take)(1),(0,s.takeUntil)(this.unsubscribe$)).subscribe((function(n){t.columns=t.dataGridService.applyConfigToColumns(n,e),t.columnsInitialized=!0,t.updateColumns(),t.triggerLoadData.emit(!!t.infiniteScroll)})):(this.columns=e||[],this.columnsInitialized=this.columnsInitialized||!!e)}},{key:"_rows",set:function(e){this.rows=e||[]}},{key:"_pagination",set:function(e){this.pagination=e;var t=(0,c.get)(this.pagination,"pageSize");t&&!this.possiblePageSizes.find((function(e){return e===t}))&&(this.pagination=ci(ci({},this.pagination),{},{pageSize:10}))}},{key:"_infiniteScroll",set:function(e){this.infiniteScroll=e}},{key:"_serverSideDataCallback",set:function(e){this.serverSideDataCallback=e}},{key:"_selectable",set:function(e){this.selectable=e}},{key:"_selectionPrimaryKey",set:function(e){this.selectionPrimaryKey=e}},{key:"_displayOptions",set:function(e){this.displayOptions=ci(ci({},this.displayOptions),e)}},{key:"_actionControls",set:function(e){this.actionControls=e||[]}},{key:"_bulkActionControls",set:function(e){this.bulkActionControls=e||[]}},{key:"_headerActionControls",set:function(e){this.headerActionControls=e||[]}},{key:"ngOnInit",value:function(){var e,t=this;this.isConfigContextKnown=!(null===(e=this.configurationStrategy)||void 0===e||!e.isContextKnown()),this.searchText$.pipe((0,s.takeUntil)(this.unsubscribe$),(0,s.debounceTime)(this.SEARCH_DEBOUNCE_TIME),(0,s.distinctUntilChanged)(),(0,s.tap)((function(e){t.searchText=e,t.onBeforeSearch.emit(t.searchText)}))).subscribe((function(){t.reload()})),this.selectable&&(0,a.combineLatest)(this.dataSource.data$,this.itemsSelect.asObservable()).pipe((0,s.takeUntil)(this.unsubscribe$)).subscribe((function(e){var n=ii(e,1)[0],r=0===n.length;t.currentPageSelectionState={allSelected:!r&&n.every((function(e){return t.isItemSelected(e)})),allDeselected:!!r||n.every((function(e){return!t.isItemSelected(e)}))}})),this.dataSource.stats$.pipe((0,s.takeUntil)(this.unsubscribe$)).subscribe((function(e){t.createLoadMoreComponent(e),t.updateFilteringLabelsParams(e),t.updatePaginationLabelParams(e)})),this.refresh&&this.refresh.pipe((0,s.takeUntil)(this.unsubscribe$)).subscribe((function(){t.cancel(!1),t.reload()})),this.processAndPersistConfigChange()}},{key:"ngOnChanges",value:function(e){var t;if((!e._actionControls&&!e.searchText||null!==(t=e._actionControls)&&void 0!==t&&t.firstChange)&&this.columnsInitialized){var n,r,i=!(null===(n=e._infiniteScroll)||void 0===n||!n.currentValue||null!==(r=e._infiniteScroll)&&void 0!==r&&r.firstChange);this.triggerLoadData.emit(i)}this.updateColumns()}},{key:"ngAfterViewInit",value:function(){this.updateGridColumnsSize(),this.updateThEls(),this.setupResizeHandle()}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"openCustomColumnModal",value:function(){var e=this,t=this.bsModalService.show(gp,{class:"modal-sm",ignoreBackdropClick:!0,initialState:{columns:this.columns}});t.content.onAddCustomColumn.pipe((0,s.tap)((function(t){var n=e.columns.indexOf(e.columns.find((function(e){return e.positionFixed})));e.columns.splice(n>-1?n:e.columns.length,0,new fp(t)),e.updateColumns()})),(0,s.takeUntil)(t.onHidden)).subscribe((function(t){return e.onAddCustomColumn.emit(t)}))}},{key:"removeCustomColumn",value:(t=ui(di().mark((function e(t,n,r){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.autoClose=!1,t.message="Do you want to remove this column?",e.prev=2,e.next=5,t.show(this.confirmRemoveColumnButtons);case 5:e.sent&&(this.columns=this.columns.filter((function(e){return(null==e?void 0:e.name)!==(null==n?void 0:n.name)})),this.updateColumns(),this.onRemoveCustomColumn.emit(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.alertService.addServerFailure(e.t0);case 12:setTimeout((function(){return r.autoClose=!0}),0);case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,n,r){return t.apply(this,arguments)})},{key:"trackByName",value:function(e,t){return t.name}},{key:"resolveCellValue",value:function(e,t){var n=this;return(0,c.flow)([function(e){return n.dataSource.resolveValue(e,t)},this.dataSource.resolveFunction,this.dataSource.normalizeNil])(e)}},{key:"changeSortOrder",value:function(e){var t=this.columns.find((function(t){return t.name===e}));if(this.gainsightService.triggerEvent("dataGrid:ChangeSortOrder",{column:e,sortOrderBeforeChange:function(e){switch(e){case Sp.ASC:return"descending";case Sp.DESC:return"descending (Default)";default:return"ascending"}}(null==t?void 0:t.sortOrder)}),t){var n=t.sortOrder;n?n===Sp.ASC?this.updateSorting([e],Sp.DESC):this.updateSorting([e],""):this.updateSorting([e],Sp.ASC)}}},{key:"updateSorting",value:function(e,t){this.columns=this.columns.map((function(n){return e.includes(n.name)?ci(ci({},n),{},{sortOrder:t}):n})),this.emitConfigChange(),this.reload()}},{key:"applyFilter",value:function(e,t,n){this.gainsightService.triggerEvent("dataGrid:ApplyFilter",{column:e}),this.onBeforeFilter.emit({columnName:e,dropdown:t,filteringModifier:n}),this.updateFiltering([e],{type:hp.ApplyFilter,payload:{filteringModifier:n}}),t.hide(),this.onFilter.emit({columnName:e,dropdown:t,filteringModifier:n})}},{key:"resetFilter",value:function(e,t){this.gainsightService.triggerEvent("dataGrid:ResetFilter",{column:e}),this.updateFiltering([e],{type:hp.ResetFilter}),t.hide(),this.onFilter.emit({columnName:e,dropdown:t})}},{key:"clearFilters",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.gainsightService.triggerEvent("dataGrid:ClearFilters"),this.updateFiltering(this.columns.map((function(e){return e.name})),{type:hp.ResetFilter},e),this.onFilter.emit({})}},{key:"updateFiltering",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.columns=this.columns.map((function(r){return e.includes(r.name)?ci(ci({},r),t.type===hp.ApplyFilter?t.payload.filteringModifier:n.onResetFilterAction(r)):r})),this.updateFilteringApplied(),r&&this.reload()}},{key:"updateFilteringApplied",value:function(){this.filteringApplied=this.columns.some(this.isColumnFilteringApplied)}},{key:"isColumnFilteringApplied",value:function(e){var t=e.filterable,n=e.filterPredicate,r=e.externalFilterQuery;return!(!t||!n&&!r)}},{key:"updatePagination",value:function(e){var t=e.itemsPerPage,n=e.page;this.pagination=ci(ci({},this.pagination),{},{pageSize:t,currentPage:n}),this.loadData(),this.emitConfigChange()}},{key:"clickReload",value:function(){this.gainsightService.triggerEvent("dataGrid:Reload"),this.searchText="",this.reload(),this.onReload.next()}},{key:"reload",value:function(){this.pagination=ci(ci({},this.pagination),{},{currentPage:1}),this.recreateLoadMoreComponent=!0,this.loadData(!0),this.scrollToTop()}},{key:"loadNextPage",value:function(){var e=this;return this.pagination=ci(ci({},this.pagination),{},{currentPage:this.pagination.nextPage}),this.loadData(),this.dataSource.resultList$.pipe((0,s.take)(1)).toPromise().then((function(t){return ci(ci({},t),{},{paging:ci(ci({},t.paging),{},{next:e.loadNextPage.bind(e)})})}))}},{key:"getCellRendererSpec",value:function(e){var t=e.value,n=e.row,r=e.columnName;return this._getCellRendererSpec({type:"CELL",value:t,row:n,columnName:r})}},{key:"getHeaderCellRendererSpec",value:function(e){var t=e.value,n=e.columnName;return this._getCellRendererSpec({type:"HEADER",value:t,row:void 0,columnName:n})}},{key:"getFilteringFormRendererSpec",value:function(e){var t=e.column,n=e.dropdown;return{renderer:(0,c.get)(this.getColumnRenderer(t),"filteringFormRendererDef.template")||t.filteringFormRendererComponent,context:{property:t,applyFilter:this.applyFilter.bind(this,t.name,n),resetFilter:this.resetFilter.bind(this,t.name,n)}}}},{key:"setAllItemsSelected",value:function(e){var t=this;this.dataSource.selection$.pipe((0,s.first)()).subscribe((function(n){var r=n.filteredDataIds;return t.setItemsSelected(r,e)}))}},{key:"setAllItemsInCurrentPageSelected",value:function(e){var t=this;this.dataSource.data$.pipe((0,s.first)()).subscribe((function(n){return t.setItemsSelected(n,e)}))}},{key:"setItemsSelected",value:function(e,t){var n=this,r=e.map((function(e){return"object"===ti(e)?e[n.selectionPrimaryKey]:e}));this.selectedItemIds=t?(0,c.union)(this.selectedItemIds,r):c.without.apply(void 0,[this.selectedItemIds].concat(wi(r))),this.gainsightService.triggerEvent("dataGrid:ItemCheckboxClicked",{itemSelected:t}),this.itemsSelect.emit(this.selectedItemIds)}},{key:"cancel",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.gainsightService.triggerEvent("dataGrid:CancelSelection"),this.selectedItemIds=[],this.itemsSelect.emit(this.selectedItemIds)}},{key:"isItemSelected",value:function(e){return this.selectedItemIds.includes(e[this.selectionPrimaryKey])}},{key:"onColumnDrop",value:function(e){var t=e.previousIndex,n=e.currentIndex;if(t!==n){this.gainsightService.triggerEvent("dataGrid:ColumnPositionChanged",{columnName:this.columnNames[t]});var r=this.columns.splice(t,1);this.columns.splice(n,0,r[0]),this.emitConfigChange()}this.updateColumnNames(),this.updateGridColumnsSize()}},{key:"updateGridColumnsSize",value:function(){this.styles=ci(ci({},this.styles),{},{gridTemplateColumns:this.sanitizer.bypassSecurityTrustStyle(this.columns.filter((function(e){return e.visible})).map((function(e){return e.gridTrackSize})).join(" ")),gridInfiniteScrollColumn:this.sanitizer.bypassSecurityTrustStyle("1 / span ".concat(this.columns.filter((function(e){return e.visible})).length))})}},{key:"updateThEls",value:function(){var e=this;setTimeout((function(){e.thEls=e.thRefs?e.thRefs.toArray().map((function(e){return e.nativeElement})):[]}),0)}},{key:"isDropDownPlacedRight",value:function(e){return(0,c.indexOf)(this.columns.filter((function(e){return e.visible})),e)>this.columns.filter((function(e){return e.visible})).length/2}},{key:"emitConfigChange",value:function(){if(this.columnsInitialized){var e=this.columns.map(this.mapColumnToConfig.bind(this));this.onConfigChange.emit({columns:e,pagination:this.pagination})}}},{key:"onResetFilterAction",value:function(e){return this.onColumnFilterReset.emit(e),{filterPredicate:void 0,externalFilterQuery:void 0}}},{key:"mapColumnToConfig",value:function(e){var t,n,r;e.custom?r={visible:e.visible,sortOrder:e.sortOrder,name:e.name,filter:{externalFilterQuery:e.externalFilterQuery},header:e.header,path:e.path,custom:!0}:r={visible:e.visible,sortOrder:e.sortOrder,name:e.name,filter:{externalFilterQuery:e.externalFilterQuery}};return(0,c.isEmpty)(null===(t=r)||void 0===t||null===(n=t.filter)||void 0===n?void 0:n.externalFilterQuery)&&delete r.filter,r}},{key:"loadData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.rows,n=this.columns,r=this.pagination,i=this.searchText,o=this.serverSideDataCallback,a=this.selectable,s=this.selectionPrimaryKey,c=this.infiniteScroll;this.dataSource.loadData({rows:t,columns:n,pagination:r,searchText:i,serverSideDataCallback:o,selectable:a,selectionPrimaryKey:s,infiniteScroll:c,reload:e})}},{key:"updateColumns",value:function(){var e,t={sortable:!1,positionFixed:!0},n=this.selectable?ci(ci({},t),{},{name:"checkbox",gridTrackSize:"32px"}):void 0,r=(null===(e=this.actionControls)||void 0===e?void 0:e.length)>0?ci(ci({},t),{},{name:"actions",gridTrackSize:this.actionControls.length>2?"40px":"minmax(40px, auto)"}):void 0,i=[n].concat(wi(this.columns),[r]).filter(Boolean).map(this.withColumnDefaults);this.columns=(0,c.uniqBy)(i,"name"),this.updateColumnNames(),this.updateGridColumnsSize(),this.updateThEls(),this.updateFilteringApplied()}},{key:"withColumnDefaults",value:function(e){var t=e.dataType||"text-short",n=e.headerCSSClassName,r=e.cellCSSClassName;return ci(ci({visible:!0,positionFixed:!1,resizable:!0,sortable:!0,sortOrder:"",filterable:!1},e),{},{dataType:t,gridTrackSize:e.gridTrackSize||"minmax(".concat(kp,"px, ").concat(Cp[t],"fr)"),headerCSSClassName:("string"==typeof n?n.split(" "):n)||[],cellCSSClassName:("string"==typeof r?r.split(" "):r)||[]})}},{key:"updateColumnNames",value:function(){this.columnNames=this.columns.map((function(e){return e.name}))}},{key:"setupResizeHandle",value:function(){var e=this;this.resizeHandleMouseDown$.pipe((0,s.takeUntil)(this.unsubscribe$),(0,s.tap)((function(){return e.clearMouseHighlights()})),(0,s.mergeMap)((function(t){var n=t.event,r=t.targetColumnName;return e.columns=e.columns.map((function(e){return e.name===r?ci(ci({},e),{},{headerCSSClassName:(0,c.union)(e.headerCSSClassName,["header--being-resized"])}):e})),e.headerBeingResized={columnName:r,el:n.target.parentNode},e.styles=ci(ci({},e.styles),{},{tableCursor:"col-resize"}),e.resizeHandleContainerMouseMove$.pipe((0,s.tap)((function(){return e.clearMouseHighlights()})),(0,s.takeUntil)(e.resizeHandleContainerMouseUp$))}))).subscribe((function(t){requestAnimationFrame((function(){e.columns=e.columns.map((function(n,r){if(e.headerBeingResized&&n.name===e.headerBeingResized.columnName){var i=e.scrollContainer.nativeElement,o=i.getBoundingClientRect().left,a=i.scrollLeft-o,s=e.headerBeingResized.el.offsetLeft||0,l=a+t.clientX-s;return ci(ci({},n),{},{gridTrackSize:"".concat(Math.max(kp,l),"px")})}return n.gridTrackSize.startsWith("minmax")?ci(ci({},n),{},{gridTrackSize:"".concat((0,c.parseInt)(e.thEls[r].clientWidth),"px")}):n})),e.updateGridColumnsSize()}))})),this.resizeHandleContainerMouseUp$.pipe((0,s.takeUntil)(this.unsubscribe$)).subscribe((function(){e.headerBeingResized&&(e.columns=e.columns.map((function(t){return t.name===e.headerBeingResized.columnName?ci(ci({},t),{},{headerCSSClassName:(0,c.without)(t.headerCSSClassName,"header--being-resized")}):t})),e.headerBeingResized=void 0,e.styles=ci(ci({},e.styles),{},{tableCursor:"auto"}))}))}},{key:"clearMouseHighlights",value:function(){window.getSelection&&window.getSelection().removeAllRanges()}},{key:"_getCellRendererSpec",value:function(e){var t=e.type,n=e.value,r=e.row,i=e.columnName,o=this.columns.find((function(e){return e.name===i})),a=this.getColumnRenderer(o),s=(0,c.get)(a,"".concat("HEADER"===t?"headerCellRendererDef":"cellRendererDef",".template")),l=o.cellRendererComponent,d=o.headerCellRendererComponent;return{renderer:s||("HEADER"===t?d:l),context:{value:n,item:r,property:o}}}},{key:"getColumnRenderer",value:function(e){return this.columnRenderers.toArray().find((function(t){return t.name===e.name}))}},{key:"updateFilteringLabelsParams",value:function(e){this.filteringLabelsParams={filteredItemsCount:e.filteredSize,allItemsCount:e.size}}},{key:"updatePaginationLabelParams",value:function(e){this.pagination.nextPage=e.nextPage;var t=(e.currentPage-1)*e.firstPageSize+1;this.paginationLabelParams={pageFirstItemIdx:t,pageLastItemIdx:t+(e.currentPageSize-1),itemsTotal:e.filteredSize}}},{key:"createLoadMoreComponent",value:function(e){if(this.infiniteScroll&&e&&e.nextPage&&(!this.loadMoreComponent||this.recreateLoadMoreComponent)){this.recreateLoadMoreComponent=!1,this.infiniteScrollContainer.clear();var t=this.cfr.resolveComponentFactory(To),n=this.infiniteScrollContainer.createComponent(t).instance;n.useIntersection="auto"===this.infiniteScroll||"hidden"===this.infiniteScroll,n.hidden="hidden"===this.infiniteScroll,n.paging={nextPage:e.nextPage,next:this.loadNextPage.bind(this)},n.loadNextLabel=this.loadMoreItemsLabel,n.loadingLabel=this.loadingItemsLabel,this.loadMoreComponent=n}else this.loadMoreComponent&&!e.nextPage&&(this.loadMoreComponent.paging={nextPage:null})}},{key:"scrollToTop",value:function(){this.infiniteScroll&&(this.scrollContainer.nativeElement.scrollTop=0)}},{key:"processAndPersistConfigChange",value:function(){var e=this;(0,a.merge)(this.onConfigChange.pipe((0,s.map)((function(e){return e.columns}))),(0,a.merge)(this.onAddCustomColumn,this.onRemoveCustomColumn).pipe((0,s.map)((function(){return(e.columns||[]).map(e.mapColumnToConfig.bind(e))}))),this.onFilter.pipe((0,s.map)((function(t){var n=t.columnName,r=t.filteringModifier;return e.columns.map(e.mapColumnToConfig.bind(e)).map((function(e){return(0,c.isNil)(n)?delete e.filter:e.name===n&&((0,c.isEmpty)(r)?delete e.filter:e.filter=r),e}))})))).pipe((0,s.map)((function(t){return{columns:t,pagination:e.pagination}})),(0,s.filter)((function(){return!!e.configurationStrategy})),(0,s.concatMap)((function(t){return e.configurationStrategy.saveConfig$(t)})),(0,s.takeUntil)(this.unsubscribe$)).subscribe()}}]),e}();Dp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dp,deps:[{token:yp,optional:!0},{token:Ip},{token:Qr.DomSanitizer},{token:r.ComponentFactoryResolver},{token:ua},{token:xe.BsModalService},{token:ka}],target:r["ɵɵFactoryTarget"].Component}),Dp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Dp,selector:"c8y-data-grid",inputs:{title:"title",loadMoreItemsLabel:"loadMoreItemsLabel",loadingItemsLabel:"loadingItemsLabel",showSearch:"showSearch",refresh:"refresh",_columns:["columns","_columns"],_rows:["rows","_rows"],_pagination:["pagination","_pagination"],_infiniteScroll:["infiniteScroll","_infiniteScroll"],_serverSideDataCallback:["serverSideDataCallback","_serverSideDataCallback"],_selectable:["selectable","_selectable"],_selectionPrimaryKey:["selectionPrimaryKey","_selectionPrimaryKey"],_displayOptions:["displayOptions","_displayOptions"],_actionControls:["actionControls","_actionControls"],_bulkActionControls:["bulkActionControls","_bulkActionControls"],_headerActionControls:["headerActionControls","_headerActionControls"],searchText:"searchText",configureColumnsEnabled:"configureColumnsEnabled",showCounterWarning:"showCounterWarning"},outputs:{rowMouseOver:"rowMouseOver",rowMouseLeave:"rowMouseLeave",rowClick:"rowClick",onConfigChange:"onConfigChange",onBeforeFilter:"onBeforeFilter",onBeforeSearch:"onBeforeSearch",onFilter:"onFilter",itemsSelect:"itemsSelect",onReload:"onReload",onAddCustomColumn:"onAddCustomColumn",onRemoveCustomColumn:"onRemoveCustomColumn",onColumnFilterReset:"onColumnFilterReset"},host:{classAttribute:"d-contents"},queries:[{propertyName:"columnRenderers",predicate:pp}],viewQueries:[{propertyName:"scrollContainer",first:!0,predicate:["scroll"],descendants:!0,static:!0},{propertyName:"infiniteScrollContainer",first:!0,predicate:["infiniteScrollContainer"],descendants:!0,read:r.ViewContainerRef},{propertyName:"thRefs",predicate:Xr.Af,descendants:!0,read:r.ElementRef}],usesOnChanges:!0,ngImport:i,template:'<div\n  #scroll\n  class="table-data-grid-scroll"\n  [ngClass]="{ \'table-data-grid__overlay\': (dataSource.loading$ | async) && !loadMoreComponent }"\n>\n  <div\n    class="table-data-grid__loading--wrapper"\n    *ngIf="(dataSource.loading$ | async) && !loadMoreComponent"\n  >\n    <div class="table-data-grid__loading--loader">\n      <c8y-progress-bar [message]="loadingItemsLabel"></c8y-progress-bar>\n    </div>\n  </div>\n\n  <div *ngIf="displayOptions.gridHeader" class="table-data-grid-header separator large-padding">\n    <h4 [ngClass]="{ \'m-r-16\': !!title }">{{ title | translate }}</h4>\n\n    <ng-container *ngIf="displayOptions.filter">\n      <span *ngIf="!filteringApplied">\n        <span class="label label-default m-r-4" translate>No filters</span>\n        <small\n          *ngIf="!!filteringLabelsParams.allItemsCount"\n          class="m-r-4"\n          ngNonBindable\n          translate\n          [translateParams]="filteringLabelsParams"\n        >\n          {{ filteredItemsCount }} of {{ allItemsCount }} items\n        </small>\n      </span>\n      <span *ngIf="filteringApplied">\n        <ng-container *ngIf="!!filteringLabelsParams.allItemsCount">\n          <span class="badge badge-info m-r-4">\n            {{ (dataSource.stats$ | async).filteredSize }}\n          </span>\n          <small ngNonBindable translate [translateParams]="filteringLabelsParams">\n            of {{ allItemsCount }} items\n          </small>\n        </ng-container>\n        <button\n          title=" {{ \'Clear filters\' | translate }}"\n          class="m-l-8 btn btn-xs btn-default m-r-4"\n          (click)="clearFilters()"\n        >\n          {{ \'Clear filters\' | translate }}\n        </button>\n      </span>\n\n      <span class="hidden-xs hidden-sm" *ngIf="displayOptions.filter">\n        <button\n          class="btn-clean text-primary"\n          popover="{{ \'Click the column headers to apply filters.\' | translate }}"\n          placement="right"\n          triggers="focus"\n          c8yProductExperience\n          [actionName]="\'dataGrid:ApplyFilterInfo\'"\n        >\n          <i c8yIcon="question-circle-o"></i>\n        </button>\n      </span>\n\n      <span class="hidden-xs hidden-sm" *ngIf="showCounterWarning">\n        <button\n          class="btn-clean text-primary"\n          popover="{{\n            \'The counter for the total number of items might be inaccurate.\' | translate\n          }}"\n          placement="right"\n          triggers="focus"\n        >\n          <i c8yIcon="warning"></i>\n        </button>\n      </span>\n    </ng-container>\n\n    <div class="flex-item-right">\n      <div class="btnbar flex-row">\n        <ng-container *ngFor="let headerActionControl of headerActionControls">\n          <ng-container *ngIf="headerActionControl | isControlVisible">\n            <ng-container *ngIf="!headerActionControl.template; else customTemplate">\n              <button\n                title="{{ headerActionControl.text | translate }}"\n                class="btnbar-btn btn-link"\n                (click)="headerActionControl.callback()"\n                c8yProductExperience\n                [actionName]="\'dataGrid:\' + headerActionControl.text"\n                [actionData]="{ type: headerActionControl.type }"\n              >\n                <i c8yIcon="headerActionControl.icon" class="m-r-4"></i>\n                <span>{{ headerActionControl.text | translate }}</span>\n              </button>\n            </ng-container>\n            <ng-template #customTemplate>\n              <ng-container\n                *ngTemplateOutlet="\n                  headerActionControl.template;\n                  context: { headerActionControl: headerActionControl }\n                "\n              ></ng-container>\n            </ng-template>\n          </ng-container>\n        </ng-container>\n\n        <div\n          *ngIf="configureColumnsEnabled"\n          class="dropdown"\n          dropdown\n          #ddConfigureColumns="bs-dropdown"\n          [insideClick]="true"\n          container="body"\n          placement="bottom left"\n        >\n          <button\n            title="{{ \'Configure columns\' | translate }}"\n            class="btnbar-btn c8y-dropdown"\n            dropdownToggle\n            c8yProductExperience\n            [actionName]="\'dataGrid:ConfigureColumns\'"\n          >\n            <i c8yIcon="columns" class="m-r-4"></i>\n            <span>{{ \'Configure columns\' | translate }}</span>\n          </button>\n\n          <ul *dropdownMenu class="dropdown-menu" (click)="$event.stopPropagation()">\n            <li class="bg-white">\n              <div cdkDropList (cdkDropListDropped)="onColumnDrop($event)" class="list-group m-0">\n                <div *ngFor="let column of columns" cdkDrag cdkDragLockAxis="y">\n                  <ng-container *ngIf="!column.positionFixed">\n                    <div class="list-group-item draggable-after p-0 a-i-center">\n                      <label\n                        title="{{ (column.header | translate) || column.name }}"\n                        class="c8y-checkbox p-l-16"\n                      >\n                        <input\n                          type="checkbox"\n                          [(ngModel)]="column.visible"\n                          (change)="updateGridColumnsSize(); emitConfigChange()"\n                          c8yProductExperience\n                          [actionName]="\n                            \'dataGrid:ConfigureColumns:\' + (column.header || column.name)\n                          "\n                        />\n                        <span></span>\n                        <span>{{ (column.header | translate) || column.name }}</span>\n                      </label>\n                      <button\n                        *ngIf="column.custom"\n                        class="btn btn-dot showOnHover max-width-fit a-i-center"\n                        tooltip="{{ \'Remove`column,verb`\' | translate }}"\n                        placement="left"\n                        container="body"\n                        (click)="removeCustomColumn(poConfirm, column, ddConfigureColumns)"\n                      >\n                        <c8y-popover-confirm\n                          [placement]="\'left\'"\n                          [title]="\'Confirm removal\' | translate"\n                          [outsideClick]="true"\n                          #poConfirm\n                        ></c8y-popover-confirm>\n                        <i c8yIcon="minus-circle" class="text-danger"></i>\n                      </button>\n                    </div>\n                  </ng-container>\n                </div>\n              </div>\n            </li>\n            <li *ngIf="isConfigContextKnown">\n              <button\n                title="{{ \'Add custom column\' | translate }}"\n                class="btn btn-add-block m-0"\n                (click)="openCustomColumnModal(); ddConfigureColumns.hide()"\n              >\n                <i c8yIcon="plus-circle"></i>\n                <span>{{ \'Add custom column\' | translate }}</span>\n              </button>\n            </li>\n          </ul>\n        </div>\n\n        <button\n          title="{{ \'Reload\' | translate }}"\n          class="btnbar-btn btn-link"\n          [disabled]="dataSource.loading$ | async"\n          (click)="clickReload()"\n        >\n          <i c8yIcon="refresh" class="m-r-4"></i>\n          <span>{{ \'Reload\' | translate }}</span>\n        </button>\n\n        <div\n          *ngIf="!serverSideDataCallback || showSearch"\n          class="input-group input-group-search m-l-sm-16"\n        >\n          <input\n            type="search"\n            class="form-control"\n            placeholder="{{ \'Search…\' | translate }}"\n            [ngModel]="searchText"\n            (input)="searchText$.emit($event.target.value)"\n            c8yProductExperience\n            [actionName]="\'dataGrid:SearchInput\'"\n          />\n          <div class="input-group-addon">\n            <i c8yIcon="search" *ngIf="searchText.length === 0"></i>\n            <i\n              c8yIcon="times"\n              class="pointer"\n              *ngIf="searchText.length > 0"\n              (click)="searchText = \'\'; searchText$.emit(\'\')"\n              c8yProductExperience\n              [actionName]="\'dataGrid:SearchInputClear\'"\n            ></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class="table-data-grid-header-bulk-actions animated slideInDown fast"\n      *ngIf="selectedItemIds.length !== 0"\n    >\n      <h4>\n        <span ngNonBindable translate [translateParams]="{ count: selectedItemIds.length }">\n          {{ count }} selected items.\n        </span>\n        <br class="visible-xs" />\n        <small *ngIf="!serverSideDataCallback && selectedItemIds.length >= pagination.pageSize">\n          <a (click)="setAllItemsSelected(true)" class="interact">\n            <span\n              ngNonBindable\n              translate\n              [translateParams]="{ count: (dataSource.stats$ | async).filteredSize }"\n            >\n              Select all {{ count }} items\n            </span>\n          </a>\n        </small>\n      </h4>\n      <div class="flex-item-right">\n        <div class="btnbar flex-row">\n          <ng-container\n            *ngFor="let bulkActionControl of bulkActionControls"\n            [ngSwitch]="bulkActionControl.type"\n          >\n            <ng-container *ngIf="bulkActionControl | isControlVisible: selectedItemIds">\n              <button\n                title="{{ \'Export\' | translate }}"\n                *ngSwitchCase="builtInActionType.Export"\n                class="btnbar-btn"\n                (click)="bulkActionControl.callback(selectedItemIds, reload.bind(this))"\n                c8yProductExperience\n                [actionName]="\'dataGrid:BulkExport\'"\n              >\n                <i c8yIcon="sign-out"></i>\n                <span>{{ \'Export\' | translate }}</span>\n              </button>\n\n              <button\n                title="{{ \'Delete\' | translate }}"\n                *ngSwitchCase="builtInActionType.Delete"\n                class="btnbar-btn"\n                (click)="bulkActionControl.callback(selectedItemIds, reload.bind(this))"\n                c8yProductExperience\n                [actionName]="\'dataGrid:BulkDelete\'"\n              >\n                <i c8yIcon="trash"></i>\n                <span>{{ \'Delete\' | translate }}</span>\n              </button>\n\n              <button\n                title="{{ bulkActionControl.text | translate }}"\n                *ngSwitchDefault\n                class="btnbar-btn"\n                (click)="bulkActionControl.callback(selectedItemIds, reload.bind(this))"\n                c8yProductExperience\n                [actionName]="\'dataGrid:Bulk:\' + bulkActionControl.text"\n              >\n                <i c8yIcon="{{ bulkActionControl.icon }}"></i>\n                <span>{{ bulkActionControl.text | translate }}</span>\n              </button>\n            </ng-container>\n          </ng-container>\n\n          <button title="{{ \'Cancel\' | translate }}" class="btnbar-btn" (click)="cancel()">\n            <i c8yIcon="times"></i>\n            <span>{{ \'Cancel\' | translate }}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <table\n    class="table table-hover table-filtered-sorted table-data-grid large-padding"\n    cdk-table\n    [dataSource]="dataSource"\n    [trackBy]="trackByName"\n    [class.table-striped]="displayOptions.striped"\n    [class.table-bordered]="displayOptions.bordered"\n    [class.table-data-grid-with-checkboxes]="selectable"\n    [class.table-data-grid-with-actions]="actionControls.length > 0"\n    [style.grid-template-columns]="styles.gridTemplateColumns"\n    (mousemove)="resizeHandleContainerMouseMove$.emit($event)"\n    (mouseup)="resizeHandleContainerMouseUp$.emit($event)"\n  >\n    <ng-container\n      *ngFor="let column of columns; let i = index; trackBy: trackByName"\n      [cdkColumnDef]="column.name"\n    >\n      <ng-container [ngSwitch]="column.name">\n        <ng-container *ngSwitchCase="\'checkbox\'">\n          <th cdk-header-cell *cdkHeaderCellDef data-type="icon">\n            <div>\n              <label class="c8y-checkbox">\n                <input\n                  type="checkbox"\n                  [checked]="currentPageSelectionState.allSelected"\n                  [indeterminate]="\n                    !(\n                      currentPageSelectionState.allSelected ||\n                      currentPageSelectionState.allDeselected\n                    )\n                  "\n                  (change)="setAllItemsInCurrentPageSelected($event.target.checked)"\n                />\n                <span></span>\n              </label>\n            </div>\n          </th>\n\n          <td cdk-cell *cdkCellDef="let row" data-type="icon">\n            <label class="c8y-checkbox">\n              <input\n                type="checkbox"\n                [checked]="isItemSelected(row)"\n                (change)="setItemsSelected([row], $event.target.checked)"\n              />\n              <span></span>\n            </label>\n          </td>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="\'actions\'">\n          <th cdk-header-cell *cdkHeaderCellDef data-type="icon"></th>\n\n          <td cdk-cell *cdkCellDef="let row" data-type="icon">\n            <ng-container *ngIf="actionControls.length <= 2">\n              <ng-container\n                *ngFor="let actionControl of actionControls"\n                [ngSwitch]="actionControl.type"\n              >\n                <ng-container *ngIf="actionControl.showIf ? actionControl.showIf(row) : true">\n                  <button\n                    *ngSwitchCase="builtInActionType.Edit"\n                    class="btn btn-icon btn-xs btn-default"\n                    tooltip="{{ \'Edit\' | translate }}"\n                    container="body"\n                    (click)="actionControl.callback(row, reload.bind(this))"\n                    c8yProductExperience\n                    [actionName]="\'dataGridEntry:Edit\'"\n                  >\n                    <i c8yIcon="pencil"></i>\n                  </button>\n                  <button\n                    *ngSwitchCase="builtInActionType.Delete"\n                    class="btn btn-dot showOnHover"\n                    tooltip="{{ \'Delete\' | translate }}"\n                    container="body"\n                    (click)="actionControl.callback(row, reload.bind(this))"\n                    c8yProductExperience\n                    [actionName]="\'dataGridEntry:Delete\'"\n                  >\n                    <i class="text-danger" c8yIcon="minus-circle"></i>\n                  </button>\n                  <button\n                    *ngSwitchDefault\n                    class="btn btn-icon btn-xs btn-default showOnHover"\n                    (click)="actionControl.callback(row, reload.bind(this))"\n                    tooltip="{{ (actionControl.icon ? actionControl.text : \'\') | translate }}"\n                    container="body"\n                    c8yProductExperience\n                    [actionName]="\'dataGridEntry:\' + actionControl.text"\n                  >\n                    <i *ngIf="actionControl.icon" c8yIcon="{{ actionControl.icon }}"></i>\n                    <span *ngIf="!actionControl.icon">{{ actionControl.text | translate }}</span>\n                  </button>\n                </ng-container>\n              </ng-container>\n            </ng-container>\n\n            <div [ngClass]="{ \'m-l-auto overflow-visible\': actionControls.length > 2 }">\n              <div\n                *ngIf="actionControls.length > 2"\n                class="dropdown"\n                dropdown\n                container="body"\n                placement="bottom right"\n              >\n                <button\n                  title="{{ \'Actions\' | translate }}"\n                  class="dropdown-toggle c8y-dropdown"\n                  dropdownToggle\n                  c8yProductExperience\n                  [actionName]="\'dataGridEntry:Actions\'"\n                >\n                  <i c8yIcon="ellipsis-v"></i>\n                </button>\n                <ul class="dropdown-menu dropdown-menu-right" *dropdownMenu>\n                  <li *ngFor="let actionControl of actionControls" [ngSwitch]="actionControl.type">\n                    <ng-container *ngIf="actionControl | isControlVisible: row">\n                      <button\n                        title="{{ \'Edit\' | translate }}"\n                        *ngSwitchCase="builtInActionType.Edit"\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:Edit\'"\n                      >\n                        <i c8yIcon="pencil"></i>\n                        {{ \'Edit\' | translate }}\n                      </button>\n                      <button\n                        title="{{ \'Delete\' | translate }}"\n                        *ngSwitchCase="builtInActionType.Delete"\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:Delete\'"\n                      >\n                        <i c8yIcon="trash"></i>\n                        {{ \'Delete\' | translate }}\n                      </button>\n                      <button\n                        title="{{ \'Export\' | translate }}"\n                        *ngSwitchCase="builtInActionType.Export"\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:Export\'"\n                      >\n                        <i c8yIcon="download"></i>\n                        {{ \'Export\' | translate }}\n                      </button>\n                      <button\n                        title="{{ actionControl.text | translate }}"\n                        *ngSwitchDefault\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:\' + actionControl.text"\n                        [actionData]="{ type: actionControl.type }"\n                      >\n                        <i c8yIcon="{{ actionControl.icon }}"></i>\n                        {{ actionControl.text | translate }}\n                      </button>\n                    </ng-container>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </td>\n        </ng-container>\n\n        <ng-container *ngSwitchDefault>\n          <th\n            cdk-header-cell\n            *cdkHeaderCellDef\n            [ngClass]="column.headerCSSClassName"\n            [attr.data-type]="column.dataType"\n            [class.sorted]="column.sortOrder"\n            [class.filtered]="column | map: isColumnFilteringApplied"\n            [class.hidden]="!column.visible"\n          >\n            <div *ngIf="!column.filterable" [title]="(column.header | translate) || column.name">\n              <ng-container\n                *ngIf="\n                  [\n                    {\n                      columnName: column.name,\n                      value: (column.header | translate) || column.name\n                    }\n                  ] | map: getHeaderCellRendererSpec:this as cellRendererSpec\n                "\n              >\n                <c8y-cell-renderer [spec]="cellRendererSpec"></c8y-cell-renderer>\n              </ng-container>\n            </div>\n\n            \x3c!-- isDropDownPlacedRight to be removed when columns are transformed to observables. --\x3e\n            <div\n              *ngIf="column.filterable"\n              class="dropdown"\n              dropdown\n              #dropdown="bs-dropdown"\n              container="body"\n              placement="bottom {{ isDropDownPlacedRight(column) ? \'right\' : \'left\' }}"\n              [insideClick]="true"\n            >\n              <button\n                class="btn-header c8y-dropdown"\n                dropdownToggle\n                [title]="(column.header | translate) || column.name"\n                c8yProductExperience\n                [actionName]="\'dataGridFilterColumn:\' + (column.header || column.name)"\n              >\n                <ng-container\n                  *ngIf="\n                    [\n                      {\n                        columnName: column.name,\n                        value: (column.header | translate) || column.name\n                      }\n                    ] | map: getHeaderCellRendererSpec:this as cellRendererSpec\n                  "\n                >\n                  <c8y-cell-renderer [spec]="cellRendererSpec"></c8y-cell-renderer>\n                </ng-container>\n                <i c8yIcon="filter" title="{{ \'Filter\' | translate }}"></i>\n              </button>\n\n              \x3c!-- isDropDownPlacedRight to be removed when columns are transformed to observables. --\x3e\n              <ul\n                *dropdownMenu\n                class="dropdown-menu"\n                [ngClass]="{ \'dropdown-menu-right-grid\': isDropDownPlacedRight(column) }"\n                (click)="$event.stopPropagation()"\n              >\n                <li class="data-grid__dropdown">\n                  <ng-container\n                    *ngIf="\n                      [\n                        {\n                          column: column,\n                          dropdown: dropdown\n                        }\n                      ] | map: getFilteringFormRendererSpec:this as filteringFormRendererSpec\n                    "\n                  >\n                    <c8y-filtering-form-renderer\n                      [spec]="filteringFormRendererSpec"\n                    ></c8y-filtering-form-renderer>\n                  </ng-container>\n                </li>\n              </ul>\n            </div>\n\n            <button\n              *ngIf="column.sortable"\n              class="btn-sort"\n              title="{{ \'Sort\' | translate }}"\n              (click)="changeSortOrder(column.name)"\n            >\n              <ng-container [ngSwitch]="column.sortOrder">\n                <i *ngSwitchCase="\'asc\'" c8yIcon="long-arrow-up"></i>\n                <i *ngSwitchCase="\'desc\'" c8yIcon="long-arrow-down"></i>\n                <i *ngSwitchDefault c8yIcon="exchange"></i>\n              </ng-container>\n            </button>\n\n            <span\n              *ngIf="column.resizable"\n              class="resize-handle"\n              (mousedown)="\n                resizeHandleMouseDown$.emit({ event: $event, targetColumnName: column.name })\n              "\n            ></span>\n          </th>\n\n          <td\n            cdk-cell\n            *cdkCellDef="let row"\n            [ngClass]="column.cellCSSClassName"\n            [attr.data-cell-title]="column.header | translate"\n            [attr.data-type]="column.dataType"\n            [class.hidden]="!column.visible"\n          >\n            <ng-container\n              *ngIf="\n                [\n                  {\n                    value: resolveCellValue(row, column.path),\n                    row: row,\n                    columnName: column.name\n                  }\n                ] | map: getCellRendererSpec:this as cellRendererSpec\n              "\n            >\n              <c8y-cell-renderer [spec]="cellRendererSpec"></c8y-cell-renderer>\n            </ng-container>\n          </td>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n\n    <ng-container cdkColumnDef="infiniteScrollFooter">\n      <td cdk-footer-cell *cdkFooterCellDef [style.grid-column]="styles.gridInfiniteScrollColumn">\n        <template #infiniteScrollContainer></template>\n      </td>\n    </ng-container>\n\n    <tr cdk-header-row *cdkHeaderRowDef="columnNames"></tr>\n\n    <tr\n      cdk-row\n      *cdkRowDef="let row; columns: columnNames"\n      (mouseover)="rowMouseOver.emit(row)"\n      (mouseleave)="rowMouseLeave.emit(row)"\n      (click)="rowClick.emit(row)"\n    ></tr>\n\n    <ng-container>\n      <tr\n        [ngClass]="{ hidden: !infiniteScroll }"\n        cdk-footer-row\n        *cdkFooterRowDef="[\'infiniteScrollFooter\']"\n      ></tr>\n    </ng-container>\n  </table>\n\n  <div\n    class="row m-0 p-t-40 p-b-40"\n    *ngIf="!(dataSource.loading$ | async) && (dataSource.stats$ | async).filteredSize === 0"\n  >\n    <div class="col-md-4 col-md-offset-4">\n      <ng-content select="c8y-ui-empty-state, .c8y-empty-state"></ng-content>\n    </div>\n  </div>\n\n  <div *ngIf="pagination && !infiniteScroll" class="table-data-grid-footer separator large-padding">\n    <div class="col-sm-4 no-gutter">\n      <div *ngIf="(dataSource.stats$ | async).currentPageSize > 0" class="counter">\n        <span class="text-muted" ngNonBindable translate [translateParams]="paginationLabelParams">\n          {{ pageFirstItemIdx }} - {{ pageLastItemIdx }} of {{ itemsTotal }}\n        </span>\n      </div>\n    </div>\n\n    <div class="col-sm-4 no-gutter text-center">\n      <div\n        *ngIf="(dataSource.stats$ | async).filteredSize > minPossiblePageSize"\n        class="form-group form-inline"\n      >\n        <label class="m-r-4">{{ \'Items per page\' | translate }}</label>\n        <div class="c8y-select-wrapper">\n          <select\n            class="form-control"\n            [ngModel]="pagination.pageSize"\n            (ngModelChange)="\n              updatePagination({ itemsPerPage: $event, page: pagination.currentPage })\n            "\n          >\n            <option *ngFor="let pageSize of possiblePageSizes" [ngValue]="pageSize">\n              {{ pageSize }}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class="col-sm-4 no-gutter text-right">\n      <pagination\n        *ngIf="(dataSource.stats$ | async).filteredSize > 0"\n        [class.hidden]="hidePagination$ | async"\n        [ngModel]="pagination.currentPage"\n        (pageChanged)="updatePagination($event)"\n        [totalItems]="(dataSource.stats$ | async).filteredSize"\n        [itemsPerPage]="pagination.pageSize"\n        (numPages)="totalPagesCount$.next($event)"\n        [maxSize]="5"\n        [boundaryLinks]="false"\n        previousText=" "\n        nextText=" "\n      ></pagination>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:u.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:u.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"directive",type:u.NgSwitchDefault,selector:"[ngSwitchDefault]"},{kind:"component",type:Xr.zC,selector:"cdk-table, table[cdk-table]",inputs:["trackBy","dataSource","multiTemplateDataRows","fixedLayout"],outputs:["contentChanged"],exportAs:["cdkTable"]},{kind:"directive",type:Xr.Sq,selector:"[cdkRowDef]",inputs:["cdkRowDefColumns","cdkRowDefWhen"]},{kind:"directive",type:Xr.O_,selector:"[cdkCellDef]"},{kind:"directive",type:Xr.D5,selector:"[cdkHeaderCellDef]"},{kind:"directive",type:Xr.Z4,selector:"[cdkFooterCellDef]"},{kind:"directive",type:Xr.fo,selector:"[cdkColumnDef]",inputs:["sticky","cdkColumnDef","stickyEnd"]},{kind:"directive",type:Xr.hD,selector:"cdk-cell, td[cdk-cell]"},{kind:"component",type:Xr._J,selector:"cdk-row, tr[cdk-row]"},{kind:"directive",type:Xr.Af,selector:"cdk-header-cell, th[cdk-header-cell]"},{kind:"directive",type:Xr.QJ,selector:"cdk-footer-cell, td[cdk-footer-cell]"},{kind:"component",type:Xr.xN,selector:"cdk-header-row, tr[cdk-header-row]"},{kind:"directive",type:Xr.s$,selector:"[cdkHeaderRowDef]",inputs:["cdkHeaderRowDef","cdkHeaderRowDefSticky"]},{kind:"component",type:Xr.qM,selector:"cdk-footer-row, tr[cdk-footer-row]"},{kind:"directive",type:Xr.fe,selector:"[cdkFooterRowDef]",inputs:["cdkFooterRowDef","cdkFooterRowDefSticky"]},{kind:"directive",type:Pr,selector:"[cdkDropList], cdk-drop-list",inputs:["cdkDropListConnectedTo","cdkDropListData","cdkDropListOrientation","id","cdkDropListLockAxis","cdkDropListDisabled","cdkDropListSortingDisabled","cdkDropListEnterPredicate","cdkDropListSortPredicate","cdkDropListAutoScrollDisabled","cdkDropListAutoScrollStep"],outputs:["cdkDropListDropped","cdkDropListEntered","cdkDropListExited","cdkDropListSorted"],exportAs:["cdkDropList"]},{kind:"directive",type:Br,selector:"[cdkDrag]",inputs:["cdkDragData","cdkDragLockAxis","cdkDragRootElement","cdkDragBoundary","cdkDragStartDelay","cdkDragFreeDragPosition","cdkDragDisabled","cdkDragConstrainPosition","cdkDragPreviewClass","cdkDragPreviewContainer"],outputs:["cdkDragStarted","cdkDragReleased","cdkDragEnded","cdkDragEntered","cdkDragExited","cdkDragDropped","cdkDragMoved"],exportAs:["cdkDrag"]},{kind:"directive",type:De.NgSelectOption,selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De["ɵNgSelectMultipleOption"],selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De.DefaultValueAccessor,selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]"},{kind:"directive",type:De.CheckboxControlValueAccessor,selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]"},{kind:"directive",type:De.SelectControlValueAccessor,selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",inputs:["compareWith"]},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"component",type:Jo,selector:"c8y-progress-bar",inputs:["message","progress"]},{kind:"component",type:sc,selector:"c8y-popover-confirm",inputs:["buttons","message","title","isOpen","containerClass","placement","outsideClick"]},{kind:"directive",type:d.BsDropdownMenuDirective,selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:["bs-dropdown-menu"]},{kind:"directive",type:d.BsDropdownToggleDirective,selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:["bs-dropdown-toggle"]},{kind:"directive",type:d.BsDropdownDirective,selector:"[bsDropdown], [dropdown]",inputs:["placement","triggers","container","dropup","autoClose","isAnimated","insideClick","isDisabled","isOpen"],outputs:["isOpenChange","onShown","onHidden"],exportAs:["bs-dropdown"]},{kind:"directive",type:Sn.PopoverDirective,selector:"[popover]",inputs:["adaptivePosition","boundariesElement","popover","popoverContext","popoverTitle","placement","outsideClick","triggers","container","containerClass","isOpen","delay"],outputs:["onShown","onHidden"],exportAs:["bs-popover"]},{kind:"directive",type:T.TooltipDirective,selector:"[tooltip], [tooltipHtml]",inputs:["adaptivePosition","tooltip","placement","triggers","container","containerClass","boundariesElement","isOpen","isDisabled","delay","tooltipHtml","tooltipPlacement","tooltipIsOpen","tooltipEnable","tooltipAppendToBody","tooltipAnimation","tooltipClass","tooltipContext","tooltipPopupDelay","tooltipFadeDuration","tooltipTrigger"],outputs:["tooltipChange","onShown","onHidden","tooltipStateChanged"],exportAs:["bs-tooltip"]},{kind:"component",type:Jr.PaginationComponent,selector:"pagination",inputs:["align","maxSize","boundaryLinks","directionLinks","firstText","previousText","nextText","lastText","rotate","pageBtnClass","disabled","customPageTemplate","customNextTemplate","customPreviousTemplate","customFirstTemplate","customLastTemplate","itemsPerPage","totalItems"],outputs:["numPages","pageChanged"]},{kind:"directive",type:Qs,selector:"[c8yProductExperience]",inputs:["actionName","actionData"]},{kind:"component",type:dp,selector:"c8y-cell-renderer",inputs:["spec"]},{kind:"component",type:up,selector:"c8y-filtering-form-renderer",inputs:["spec"]},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Ko,name:"map"},{kind:"pipe",type:xp,name:"isControlVisible"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Dp,decorators:[{type:r.Component,args:[{selector:"c8y-data-grid",host:{class:"d-contents"},template:'<div\n  #scroll\n  class="table-data-grid-scroll"\n  [ngClass]="{ \'table-data-grid__overlay\': (dataSource.loading$ | async) && !loadMoreComponent }"\n>\n  <div\n    class="table-data-grid__loading--wrapper"\n    *ngIf="(dataSource.loading$ | async) && !loadMoreComponent"\n  >\n    <div class="table-data-grid__loading--loader">\n      <c8y-progress-bar [message]="loadingItemsLabel"></c8y-progress-bar>\n    </div>\n  </div>\n\n  <div *ngIf="displayOptions.gridHeader" class="table-data-grid-header separator large-padding">\n    <h4 [ngClass]="{ \'m-r-16\': !!title }">{{ title | translate }}</h4>\n\n    <ng-container *ngIf="displayOptions.filter">\n      <span *ngIf="!filteringApplied">\n        <span class="label label-default m-r-4" translate>No filters</span>\n        <small\n          *ngIf="!!filteringLabelsParams.allItemsCount"\n          class="m-r-4"\n          ngNonBindable\n          translate\n          [translateParams]="filteringLabelsParams"\n        >\n          {{ filteredItemsCount }} of {{ allItemsCount }} items\n        </small>\n      </span>\n      <span *ngIf="filteringApplied">\n        <ng-container *ngIf="!!filteringLabelsParams.allItemsCount">\n          <span class="badge badge-info m-r-4">\n            {{ (dataSource.stats$ | async).filteredSize }}\n          </span>\n          <small ngNonBindable translate [translateParams]="filteringLabelsParams">\n            of {{ allItemsCount }} items\n          </small>\n        </ng-container>\n        <button\n          title=" {{ \'Clear filters\' | translate }}"\n          class="m-l-8 btn btn-xs btn-default m-r-4"\n          (click)="clearFilters()"\n        >\n          {{ \'Clear filters\' | translate }}\n        </button>\n      </span>\n\n      <span class="hidden-xs hidden-sm" *ngIf="displayOptions.filter">\n        <button\n          class="btn-clean text-primary"\n          popover="{{ \'Click the column headers to apply filters.\' | translate }}"\n          placement="right"\n          triggers="focus"\n          c8yProductExperience\n          [actionName]="\'dataGrid:ApplyFilterInfo\'"\n        >\n          <i c8yIcon="question-circle-o"></i>\n        </button>\n      </span>\n\n      <span class="hidden-xs hidden-sm" *ngIf="showCounterWarning">\n        <button\n          class="btn-clean text-primary"\n          popover="{{\n            \'The counter for the total number of items might be inaccurate.\' | translate\n          }}"\n          placement="right"\n          triggers="focus"\n        >\n          <i c8yIcon="warning"></i>\n        </button>\n      </span>\n    </ng-container>\n\n    <div class="flex-item-right">\n      <div class="btnbar flex-row">\n        <ng-container *ngFor="let headerActionControl of headerActionControls">\n          <ng-container *ngIf="headerActionControl | isControlVisible">\n            <ng-container *ngIf="!headerActionControl.template; else customTemplate">\n              <button\n                title="{{ headerActionControl.text | translate }}"\n                class="btnbar-btn btn-link"\n                (click)="headerActionControl.callback()"\n                c8yProductExperience\n                [actionName]="\'dataGrid:\' + headerActionControl.text"\n                [actionData]="{ type: headerActionControl.type }"\n              >\n                <i c8yIcon="headerActionControl.icon" class="m-r-4"></i>\n                <span>{{ headerActionControl.text | translate }}</span>\n              </button>\n            </ng-container>\n            <ng-template #customTemplate>\n              <ng-container\n                *ngTemplateOutlet="\n                  headerActionControl.template;\n                  context: { headerActionControl: headerActionControl }\n                "\n              ></ng-container>\n            </ng-template>\n          </ng-container>\n        </ng-container>\n\n        <div\n          *ngIf="configureColumnsEnabled"\n          class="dropdown"\n          dropdown\n          #ddConfigureColumns="bs-dropdown"\n          [insideClick]="true"\n          container="body"\n          placement="bottom left"\n        >\n          <button\n            title="{{ \'Configure columns\' | translate }}"\n            class="btnbar-btn c8y-dropdown"\n            dropdownToggle\n            c8yProductExperience\n            [actionName]="\'dataGrid:ConfigureColumns\'"\n          >\n            <i c8yIcon="columns" class="m-r-4"></i>\n            <span>{{ \'Configure columns\' | translate }}</span>\n          </button>\n\n          <ul *dropdownMenu class="dropdown-menu" (click)="$event.stopPropagation()">\n            <li class="bg-white">\n              <div cdkDropList (cdkDropListDropped)="onColumnDrop($event)" class="list-group m-0">\n                <div *ngFor="let column of columns" cdkDrag cdkDragLockAxis="y">\n                  <ng-container *ngIf="!column.positionFixed">\n                    <div class="list-group-item draggable-after p-0 a-i-center">\n                      <label\n                        title="{{ (column.header | translate) || column.name }}"\n                        class="c8y-checkbox p-l-16"\n                      >\n                        <input\n                          type="checkbox"\n                          [(ngModel)]="column.visible"\n                          (change)="updateGridColumnsSize(); emitConfigChange()"\n                          c8yProductExperience\n                          [actionName]="\n                            \'dataGrid:ConfigureColumns:\' + (column.header || column.name)\n                          "\n                        />\n                        <span></span>\n                        <span>{{ (column.header | translate) || column.name }}</span>\n                      </label>\n                      <button\n                        *ngIf="column.custom"\n                        class="btn btn-dot showOnHover max-width-fit a-i-center"\n                        tooltip="{{ \'Remove`column,verb`\' | translate }}"\n                        placement="left"\n                        container="body"\n                        (click)="removeCustomColumn(poConfirm, column, ddConfigureColumns)"\n                      >\n                        <c8y-popover-confirm\n                          [placement]="\'left\'"\n                          [title]="\'Confirm removal\' | translate"\n                          [outsideClick]="true"\n                          #poConfirm\n                        ></c8y-popover-confirm>\n                        <i c8yIcon="minus-circle" class="text-danger"></i>\n                      </button>\n                    </div>\n                  </ng-container>\n                </div>\n              </div>\n            </li>\n            <li *ngIf="isConfigContextKnown">\n              <button\n                title="{{ \'Add custom column\' | translate }}"\n                class="btn btn-add-block m-0"\n                (click)="openCustomColumnModal(); ddConfigureColumns.hide()"\n              >\n                <i c8yIcon="plus-circle"></i>\n                <span>{{ \'Add custom column\' | translate }}</span>\n              </button>\n            </li>\n          </ul>\n        </div>\n\n        <button\n          title="{{ \'Reload\' | translate }}"\n          class="btnbar-btn btn-link"\n          [disabled]="dataSource.loading$ | async"\n          (click)="clickReload()"\n        >\n          <i c8yIcon="refresh" class="m-r-4"></i>\n          <span>{{ \'Reload\' | translate }}</span>\n        </button>\n\n        <div\n          *ngIf="!serverSideDataCallback || showSearch"\n          class="input-group input-group-search m-l-sm-16"\n        >\n          <input\n            type="search"\n            class="form-control"\n            placeholder="{{ \'Search…\' | translate }}"\n            [ngModel]="searchText"\n            (input)="searchText$.emit($event.target.value)"\n            c8yProductExperience\n            [actionName]="\'dataGrid:SearchInput\'"\n          />\n          <div class="input-group-addon">\n            <i c8yIcon="search" *ngIf="searchText.length === 0"></i>\n            <i\n              c8yIcon="times"\n              class="pointer"\n              *ngIf="searchText.length > 0"\n              (click)="searchText = \'\'; searchText$.emit(\'\')"\n              c8yProductExperience\n              [actionName]="\'dataGrid:SearchInputClear\'"\n            ></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class="table-data-grid-header-bulk-actions animated slideInDown fast"\n      *ngIf="selectedItemIds.length !== 0"\n    >\n      <h4>\n        <span ngNonBindable translate [translateParams]="{ count: selectedItemIds.length }">\n          {{ count }} selected items.\n        </span>\n        <br class="visible-xs" />\n        <small *ngIf="!serverSideDataCallback && selectedItemIds.length >= pagination.pageSize">\n          <a (click)="setAllItemsSelected(true)" class="interact">\n            <span\n              ngNonBindable\n              translate\n              [translateParams]="{ count: (dataSource.stats$ | async).filteredSize }"\n            >\n              Select all {{ count }} items\n            </span>\n          </a>\n        </small>\n      </h4>\n      <div class="flex-item-right">\n        <div class="btnbar flex-row">\n          <ng-container\n            *ngFor="let bulkActionControl of bulkActionControls"\n            [ngSwitch]="bulkActionControl.type"\n          >\n            <ng-container *ngIf="bulkActionControl | isControlVisible: selectedItemIds">\n              <button\n                title="{{ \'Export\' | translate }}"\n                *ngSwitchCase="builtInActionType.Export"\n                class="btnbar-btn"\n                (click)="bulkActionControl.callback(selectedItemIds, reload.bind(this))"\n                c8yProductExperience\n                [actionName]="\'dataGrid:BulkExport\'"\n              >\n                <i c8yIcon="sign-out"></i>\n                <span>{{ \'Export\' | translate }}</span>\n              </button>\n\n              <button\n                title="{{ \'Delete\' | translate }}"\n                *ngSwitchCase="builtInActionType.Delete"\n                class="btnbar-btn"\n                (click)="bulkActionControl.callback(selectedItemIds, reload.bind(this))"\n                c8yProductExperience\n                [actionName]="\'dataGrid:BulkDelete\'"\n              >\n                <i c8yIcon="trash"></i>\n                <span>{{ \'Delete\' | translate }}</span>\n              </button>\n\n              <button\n                title="{{ bulkActionControl.text | translate }}"\n                *ngSwitchDefault\n                class="btnbar-btn"\n                (click)="bulkActionControl.callback(selectedItemIds, reload.bind(this))"\n                c8yProductExperience\n                [actionName]="\'dataGrid:Bulk:\' + bulkActionControl.text"\n              >\n                <i c8yIcon="{{ bulkActionControl.icon }}"></i>\n                <span>{{ bulkActionControl.text | translate }}</span>\n              </button>\n            </ng-container>\n          </ng-container>\n\n          <button title="{{ \'Cancel\' | translate }}" class="btnbar-btn" (click)="cancel()">\n            <i c8yIcon="times"></i>\n            <span>{{ \'Cancel\' | translate }}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <table\n    class="table table-hover table-filtered-sorted table-data-grid large-padding"\n    cdk-table\n    [dataSource]="dataSource"\n    [trackBy]="trackByName"\n    [class.table-striped]="displayOptions.striped"\n    [class.table-bordered]="displayOptions.bordered"\n    [class.table-data-grid-with-checkboxes]="selectable"\n    [class.table-data-grid-with-actions]="actionControls.length > 0"\n    [style.grid-template-columns]="styles.gridTemplateColumns"\n    (mousemove)="resizeHandleContainerMouseMove$.emit($event)"\n    (mouseup)="resizeHandleContainerMouseUp$.emit($event)"\n  >\n    <ng-container\n      *ngFor="let column of columns; let i = index; trackBy: trackByName"\n      [cdkColumnDef]="column.name"\n    >\n      <ng-container [ngSwitch]="column.name">\n        <ng-container *ngSwitchCase="\'checkbox\'">\n          <th cdk-header-cell *cdkHeaderCellDef data-type="icon">\n            <div>\n              <label class="c8y-checkbox">\n                <input\n                  type="checkbox"\n                  [checked]="currentPageSelectionState.allSelected"\n                  [indeterminate]="\n                    !(\n                      currentPageSelectionState.allSelected ||\n                      currentPageSelectionState.allDeselected\n                    )\n                  "\n                  (change)="setAllItemsInCurrentPageSelected($event.target.checked)"\n                />\n                <span></span>\n              </label>\n            </div>\n          </th>\n\n          <td cdk-cell *cdkCellDef="let row" data-type="icon">\n            <label class="c8y-checkbox">\n              <input\n                type="checkbox"\n                [checked]="isItemSelected(row)"\n                (change)="setItemsSelected([row], $event.target.checked)"\n              />\n              <span></span>\n            </label>\n          </td>\n        </ng-container>\n\n        <ng-container *ngSwitchCase="\'actions\'">\n          <th cdk-header-cell *cdkHeaderCellDef data-type="icon"></th>\n\n          <td cdk-cell *cdkCellDef="let row" data-type="icon">\n            <ng-container *ngIf="actionControls.length <= 2">\n              <ng-container\n                *ngFor="let actionControl of actionControls"\n                [ngSwitch]="actionControl.type"\n              >\n                <ng-container *ngIf="actionControl.showIf ? actionControl.showIf(row) : true">\n                  <button\n                    *ngSwitchCase="builtInActionType.Edit"\n                    class="btn btn-icon btn-xs btn-default"\n                    tooltip="{{ \'Edit\' | translate }}"\n                    container="body"\n                    (click)="actionControl.callback(row, reload.bind(this))"\n                    c8yProductExperience\n                    [actionName]="\'dataGridEntry:Edit\'"\n                  >\n                    <i c8yIcon="pencil"></i>\n                  </button>\n                  <button\n                    *ngSwitchCase="builtInActionType.Delete"\n                    class="btn btn-dot showOnHover"\n                    tooltip="{{ \'Delete\' | translate }}"\n                    container="body"\n                    (click)="actionControl.callback(row, reload.bind(this))"\n                    c8yProductExperience\n                    [actionName]="\'dataGridEntry:Delete\'"\n                  >\n                    <i class="text-danger" c8yIcon="minus-circle"></i>\n                  </button>\n                  <button\n                    *ngSwitchDefault\n                    class="btn btn-icon btn-xs btn-default showOnHover"\n                    (click)="actionControl.callback(row, reload.bind(this))"\n                    tooltip="{{ (actionControl.icon ? actionControl.text : \'\') | translate }}"\n                    container="body"\n                    c8yProductExperience\n                    [actionName]="\'dataGridEntry:\' + actionControl.text"\n                  >\n                    <i *ngIf="actionControl.icon" c8yIcon="{{ actionControl.icon }}"></i>\n                    <span *ngIf="!actionControl.icon">{{ actionControl.text | translate }}</span>\n                  </button>\n                </ng-container>\n              </ng-container>\n            </ng-container>\n\n            <div [ngClass]="{ \'m-l-auto overflow-visible\': actionControls.length > 2 }">\n              <div\n                *ngIf="actionControls.length > 2"\n                class="dropdown"\n                dropdown\n                container="body"\n                placement="bottom right"\n              >\n                <button\n                  title="{{ \'Actions\' | translate }}"\n                  class="dropdown-toggle c8y-dropdown"\n                  dropdownToggle\n                  c8yProductExperience\n                  [actionName]="\'dataGridEntry:Actions\'"\n                >\n                  <i c8yIcon="ellipsis-v"></i>\n                </button>\n                <ul class="dropdown-menu dropdown-menu-right" *dropdownMenu>\n                  <li *ngFor="let actionControl of actionControls" [ngSwitch]="actionControl.type">\n                    <ng-container *ngIf="actionControl | isControlVisible: row">\n                      <button\n                        title="{{ \'Edit\' | translate }}"\n                        *ngSwitchCase="builtInActionType.Edit"\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:Edit\'"\n                      >\n                        <i c8yIcon="pencil"></i>\n                        {{ \'Edit\' | translate }}\n                      </button>\n                      <button\n                        title="{{ \'Delete\' | translate }}"\n                        *ngSwitchCase="builtInActionType.Delete"\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:Delete\'"\n                      >\n                        <i c8yIcon="trash"></i>\n                        {{ \'Delete\' | translate }}\n                      </button>\n                      <button\n                        title="{{ \'Export\' | translate }}"\n                        *ngSwitchCase="builtInActionType.Export"\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:Export\'"\n                      >\n                        <i c8yIcon="download"></i>\n                        {{ \'Export\' | translate }}\n                      </button>\n                      <button\n                        title="{{ actionControl.text | translate }}"\n                        *ngSwitchDefault\n                        (click)="actionControl.callback(row, reload.bind(this))"\n                        c8yProductExperience\n                        [actionName]="\'dataGridActions:\' + actionControl.text"\n                        [actionData]="{ type: actionControl.type }"\n                      >\n                        <i c8yIcon="{{ actionControl.icon }}"></i>\n                        {{ actionControl.text | translate }}\n                      </button>\n                    </ng-container>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </td>\n        </ng-container>\n\n        <ng-container *ngSwitchDefault>\n          <th\n            cdk-header-cell\n            *cdkHeaderCellDef\n            [ngClass]="column.headerCSSClassName"\n            [attr.data-type]="column.dataType"\n            [class.sorted]="column.sortOrder"\n            [class.filtered]="column | map: isColumnFilteringApplied"\n            [class.hidden]="!column.visible"\n          >\n            <div *ngIf="!column.filterable" [title]="(column.header | translate) || column.name">\n              <ng-container\n                *ngIf="\n                  [\n                    {\n                      columnName: column.name,\n                      value: (column.header | translate) || column.name\n                    }\n                  ] | map: getHeaderCellRendererSpec:this as cellRendererSpec\n                "\n              >\n                <c8y-cell-renderer [spec]="cellRendererSpec"></c8y-cell-renderer>\n              </ng-container>\n            </div>\n\n            \x3c!-- isDropDownPlacedRight to be removed when columns are transformed to observables. --\x3e\n            <div\n              *ngIf="column.filterable"\n              class="dropdown"\n              dropdown\n              #dropdown="bs-dropdown"\n              container="body"\n              placement="bottom {{ isDropDownPlacedRight(column) ? \'right\' : \'left\' }}"\n              [insideClick]="true"\n            >\n              <button\n                class="btn-header c8y-dropdown"\n                dropdownToggle\n                [title]="(column.header | translate) || column.name"\n                c8yProductExperience\n                [actionName]="\'dataGridFilterColumn:\' + (column.header || column.name)"\n              >\n                <ng-container\n                  *ngIf="\n                    [\n                      {\n                        columnName: column.name,\n                        value: (column.header | translate) || column.name\n                      }\n                    ] | map: getHeaderCellRendererSpec:this as cellRendererSpec\n                  "\n                >\n                  <c8y-cell-renderer [spec]="cellRendererSpec"></c8y-cell-renderer>\n                </ng-container>\n                <i c8yIcon="filter" title="{{ \'Filter\' | translate }}"></i>\n              </button>\n\n              \x3c!-- isDropDownPlacedRight to be removed when columns are transformed to observables. --\x3e\n              <ul\n                *dropdownMenu\n                class="dropdown-menu"\n                [ngClass]="{ \'dropdown-menu-right-grid\': isDropDownPlacedRight(column) }"\n                (click)="$event.stopPropagation()"\n              >\n                <li class="data-grid__dropdown">\n                  <ng-container\n                    *ngIf="\n                      [\n                        {\n                          column: column,\n                          dropdown: dropdown\n                        }\n                      ] | map: getFilteringFormRendererSpec:this as filteringFormRendererSpec\n                    "\n                  >\n                    <c8y-filtering-form-renderer\n                      [spec]="filteringFormRendererSpec"\n                    ></c8y-filtering-form-renderer>\n                  </ng-container>\n                </li>\n              </ul>\n            </div>\n\n            <button\n              *ngIf="column.sortable"\n              class="btn-sort"\n              title="{{ \'Sort\' | translate }}"\n              (click)="changeSortOrder(column.name)"\n            >\n              <ng-container [ngSwitch]="column.sortOrder">\n                <i *ngSwitchCase="\'asc\'" c8yIcon="long-arrow-up"></i>\n                <i *ngSwitchCase="\'desc\'" c8yIcon="long-arrow-down"></i>\n                <i *ngSwitchDefault c8yIcon="exchange"></i>\n              </ng-container>\n            </button>\n\n            <span\n              *ngIf="column.resizable"\n              class="resize-handle"\n              (mousedown)="\n                resizeHandleMouseDown$.emit({ event: $event, targetColumnName: column.name })\n              "\n            ></span>\n          </th>\n\n          <td\n            cdk-cell\n            *cdkCellDef="let row"\n            [ngClass]="column.cellCSSClassName"\n            [attr.data-cell-title]="column.header | translate"\n            [attr.data-type]="column.dataType"\n            [class.hidden]="!column.visible"\n          >\n            <ng-container\n              *ngIf="\n                [\n                  {\n                    value: resolveCellValue(row, column.path),\n                    row: row,\n                    columnName: column.name\n                  }\n                ] | map: getCellRendererSpec:this as cellRendererSpec\n              "\n            >\n              <c8y-cell-renderer [spec]="cellRendererSpec"></c8y-cell-renderer>\n            </ng-container>\n          </td>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n\n    <ng-container cdkColumnDef="infiniteScrollFooter">\n      <td cdk-footer-cell *cdkFooterCellDef [style.grid-column]="styles.gridInfiniteScrollColumn">\n        <template #infiniteScrollContainer></template>\n      </td>\n    </ng-container>\n\n    <tr cdk-header-row *cdkHeaderRowDef="columnNames"></tr>\n\n    <tr\n      cdk-row\n      *cdkRowDef="let row; columns: columnNames"\n      (mouseover)="rowMouseOver.emit(row)"\n      (mouseleave)="rowMouseLeave.emit(row)"\n      (click)="rowClick.emit(row)"\n    ></tr>\n\n    <ng-container>\n      <tr\n        [ngClass]="{ hidden: !infiniteScroll }"\n        cdk-footer-row\n        *cdkFooterRowDef="[\'infiniteScrollFooter\']"\n      ></tr>\n    </ng-container>\n  </table>\n\n  <div\n    class="row m-0 p-t-40 p-b-40"\n    *ngIf="!(dataSource.loading$ | async) && (dataSource.stats$ | async).filteredSize === 0"\n  >\n    <div class="col-md-4 col-md-offset-4">\n      <ng-content select="c8y-ui-empty-state, .c8y-empty-state"></ng-content>\n    </div>\n  </div>\n\n  <div *ngIf="pagination && !infiniteScroll" class="table-data-grid-footer separator large-padding">\n    <div class="col-sm-4 no-gutter">\n      <div *ngIf="(dataSource.stats$ | async).currentPageSize > 0" class="counter">\n        <span class="text-muted" ngNonBindable translate [translateParams]="paginationLabelParams">\n          {{ pageFirstItemIdx }} - {{ pageLastItemIdx }} of {{ itemsTotal }}\n        </span>\n      </div>\n    </div>\n\n    <div class="col-sm-4 no-gutter text-center">\n      <div\n        *ngIf="(dataSource.stats$ | async).filteredSize > minPossiblePageSize"\n        class="form-group form-inline"\n      >\n        <label class="m-r-4">{{ \'Items per page\' | translate }}</label>\n        <div class="c8y-select-wrapper">\n          <select\n            class="form-control"\n            [ngModel]="pagination.pageSize"\n            (ngModelChange)="\n              updatePagination({ itemsPerPage: $event, page: pagination.currentPage })\n            "\n          >\n            <option *ngFor="let pageSize of possiblePageSizes" [ngValue]="pageSize">\n              {{ pageSize }}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div class="col-sm-4 no-gutter text-right">\n      <pagination\n        *ngIf="(dataSource.stats$ | async).filteredSize > 0"\n        [class.hidden]="hidePagination$ | async"\n        [ngModel]="pagination.currentPage"\n        (pageChanged)="updatePagination($event)"\n        [totalItems]="(dataSource.stats$ | async).filteredSize"\n        [itemsPerPage]="pagination.pageSize"\n        (numPages)="totalPagesCount$.next($event)"\n        [maxSize]="5"\n        [boundaryLinks]="false"\n        previousText=" "\n        nextText=" "\n      ></pagination>\n    </div>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[yp]}]},{type:Ip},{type:Qr.DomSanitizer},{type:r.ComponentFactoryResolver},{type:ua},{type:xe.BsModalService},{type:ka}]},propDecorators:{title:[{type:r.Input}],loadMoreItemsLabel:[{type:r.Input}],loadingItemsLabel:[{type:r.Input}],showSearch:[{type:r.Input}],refresh:[{type:r.Input}],_columns:[{type:r.Input,args:["columns"]}],_rows:[{type:r.Input,args:["rows"]}],_pagination:[{type:r.Input,args:["pagination"]}],_infiniteScroll:[{type:r.Input,args:["infiniteScroll"]}],_serverSideDataCallback:[{type:r.Input,args:["serverSideDataCallback"]}],_selectable:[{type:r.Input,args:["selectable"]}],_selectionPrimaryKey:[{type:r.Input,args:["selectionPrimaryKey"]}],_displayOptions:[{type:r.Input,args:["displayOptions"]}],_actionControls:[{type:r.Input,args:["actionControls"]}],_bulkActionControls:[{type:r.Input,args:["bulkActionControls"]}],_headerActionControls:[{type:r.Input,args:["headerActionControls"]}],searchText:[{type:r.Input}],configureColumnsEnabled:[{type:r.Input}],showCounterWarning:[{type:r.Input}],rowMouseOver:[{type:r.Output}],rowMouseLeave:[{type:r.Output}],rowClick:[{type:r.Output}],onConfigChange:[{type:r.Output}],onBeforeFilter:[{type:r.Output}],onBeforeSearch:[{type:r.Output}],onFilter:[{type:r.Output}],itemsSelect:[{type:r.Output}],onReload:[{type:r.Output}],onAddCustomColumn:[{type:r.Output}],onRemoveCustomColumn:[{type:r.Output}],onColumnFilterReset:[{type:r.Output}],columnRenderers:[{type:r.ContentChildren,args:[pp]}],scrollContainer:[{type:r.ViewChild,args:["scroll",{static:!0}]}],infiniteScrollContainer:[{type:r.ViewChild,args:["infiniteScrollContainer",{static:!1,read:r.ViewContainerRef}]}],thRefs:[{type:r.ViewChildren,args:[Xr.Af,{read:r.ElementRef}]}]}});var $p=Ci((function e(){bi(this,e)}));$p.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$p,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),$p.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:$p,declarations:[ap,cp,lp,dp,op,up,pp,Dp,xp,gp],imports:[u.CommonModule,Xr.HT,Ur,De.FormsModule,De.ReactiveFormsModule,Pd,da,xc,cc,d.BsDropdownModule,Sn.PopoverModule,T.TooltipModule,Jr.PaginationModule,el],exports:[ap,cp,lp,op,pp,Dp,xp]}),$p.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$p,imports:[u.CommonModule,Xr.HT,Ur,De.FormsModule,De.ReactiveFormsModule,Pd,da,xc,cc,d.BsDropdownModule.forRoot(),Sn.PopoverModule.forRoot(),T.TooltipModule.forRoot(),Jr.PaginationModule.forRoot(),el]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:$p,decorators:[{type:r.NgModule,args:[{imports:[u.CommonModule,Xr.HT,Ur,De.FormsModule,De.ReactiveFormsModule,Pd,da,xc,cc,d.BsDropdownModule.forRoot(),Sn.PopoverModule.forRoot(),T.TooltipModule.forRoot(),Jr.PaginationModule.forRoot(),el],declarations:[ap,cp,lp,dp,op,up,pp,Dp,xp,gp],exports:[ap,cp,lp,op,pp,Dp,xp],entryComponents:[Dp]}]}]});var Ep=function(){function e(t,n){bi(this,e),this.translateService=t,this.options=n,this.contextHelp=new a.BehaviorSubject(!1),this.isWarningAlertViewed=!1,this.SUPPORTED_LANGUAGES=["en"],this.handleContextHelp()}return Ci(e,[{key:"isSupportedLanguage",value:function(){return this.SUPPORTED_LANGUAGES.indexOf(this.translateService.currentLang)>-1}},{key:"handleContextHelp",value:function(){var e=this.getContextHelpOption();e?this.contextHelp.next(e):this.contextHelp.next(!1)}},{key:"getContextHelpOption",value:function(){return this.options.contextHelp}}]),e}();Ep.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ep,deps:[{token:ye.TranslateService},{token:Gi}],target:r["ɵɵFactoryTarget"].Injectable}),Ep.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ep,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ep,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:ye.TranslateService},{type:Gi}]}});var Tp=function(){function e(t,n,r){bi(this,e),this.docsService=t,this.appState=n,this.helpService=r,this.src="",this.isCollapsed=!0,this.priority=1/0,this.version=this.parseVersion(this.appState.uiVersion),this.title="",this.sectionHeading="",this.sectionContent="",this.isLoading=!0,this.hasError=!1,this.showLangWarning=!1,this.isInit=!1}return Ci(e,[{key:"onCollapsed",value:function(){this.isInit=!0}},{key:"getUrl",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e="string"==typeof this.helpService.contextHelp.value?new URL(this.helpService.contextHelp.value):new URL(this.docsService.getBaseUrl())}catch(t){e=new URL(this.docsService.DEFAULT_DOCS_BASE_URL),console.warn(t)}var r=new URL("".concat(e).concat(t)),i=t.split("#"),o=ii(i,2),a=o[0],s=o[1];return this.sectionHeading=s,n&&(t="".concat(a,"index.json")),""===this.version?n?"".concat(e.href+t):r.href:"".concat(e.href,"/").concat(this.version).concat(t)}},{key:"toggle",value:function(){this.isCollapsed?this.open():this.close()}},{key:"close",value:function(){this.isCollapsed=!0,this.clean()}},{key:"open",value:function(){this.isCollapsed=!1,this.isLoading=!0,this.requestContent(),this.icon||(this.icon=this.resolveIcon())}},{key:"requestContent",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){return e.render(t)},t.addEventListener("load",(function(){return e.render(t)})),t.open("GET",this.getUrl(this.src,!0)),t.responseType="json",t.setRequestHeader("Accept","text/html"),t.send()}},{key:"clean",value:function(){this.title="",this.hasError=!1,this.sectionContent=""}},{key:"parseVersion",value:function(e){var t="string"==typeof e?e:(0,c.get)(e,"ngx");if(!(0,c.isUndefined)(t)){if(""===t)return"";var n=t.split(".").shift(),r=Math.floor(parseInt(n,10)/100),i=parseInt(n,10)-100*r;return"".concat(r,".").concat(i,".0")}}},{key:"resolveIcon",value:function(){try{return Array.from(document.querySelector("nav .active i").classList).find((function(e){return e.startsWith("c8y-icon-")||e.startsWith("dlt-c8y-icon-")})).replace("dlt-c8y-icon-","").replace("c8y-icon-","c8y-")}catch(e){return"life-saver"}}},{key:"render",value:function(e){if(4===e.readyState)if(this.isLoading=!1,404===e.status&&""!==this.version&&(this.version="",this.open()),200===e.status){this.hasError=!1;var t=e.response[this.sectionHeading];t&&(this.title=t.title,this.sectionContent=t.helpcontent)}else this.hasError=!0}}]),e}();Tp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Tp,deps:[{token:za},{token:Hi},{token:Ep}],target:r["ɵɵFactoryTarget"].Component}),Tp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Tp,selector:"c8y-help",inputs:{src:"src",isCollapsed:"isCollapsed",priority:"priority",icon:"icon"},ngImport:i,template:'<c8y-action-bar-item\n  [placement]="\'right\'"\n  itemClass="pull-right"\n  [priority]="priority"\n  *ngIf="!!(helpService.contextHelp | async)"\n>\n  <button\n    class="btn btn-help"\n    title="{{ \'About this page\' | translate }}"\n    (click)="toggle()"\n    [attr.aria-expanded]="!isCollapsed"\n    aria-controls="collapseHelp"\n    c8yProductExperience\n    [actionName]="isCollapsed ? \'helpOpened\' : \'helpClosed\'"\n    [actionData]="{ src: src }"\n  >\n    <i [c8yIcon]="\'question-circle-o\'" class="text-info"></i>\n  </button>\n</c8y-action-bar-item>\n\n<div\n  id="collapseHelp"\n  class="c8y-help-drawer"\n  [collapse]="isCollapsed"\n  [isAnimated]="true"\n  (collapsed)="onCollapsed()"\n>\n  <div [ngClass]="{ \'c8y-help-drawer-block\': isInit }" #docOutlet>\n    <div *ngIf="isLoading">\n      <c8y-loading></c8y-loading>\n    </div>\n\n    <div *ngIf="!isLoading">\n      <div class="d-flex">\n        <i\n          [c8yIcon]="!hasError ? icon : \'unlink\'"\n          [ngClass]="{ \'text-warning\': hasError, \'text-muted\': !hasError }"\n          class="c8y-icon-duocolor icon-48"\n        ></i>\n        <div class="p-l-16 flex-grow" *ngIf="!hasError">\n          <div\n            class="alert alert-info m-b-16"\n            *ngIf="\n              !helpService.isSupportedLanguage() &&\n              !showLangWarning &&\n              !helpService.isWarningAlertViewed\n            "\n          >\n            <button\n              class="close"\n              type="button"\n              (click)="\n                showLangWarning = !showLangWarning;\n                helpService.isWarningAlertViewed = !helpService.isWarningAlertViewed\n              "\n            >\n              <span aria-hidden="true">×</span>\n              <span class="sr-only">Close</span>\n            </button>\n            <p>\n              {{ \'Help content is only available in English.\' | translate }}\n            </p>\n          </div>\n          <h4 class="text-bold text-primary p-t-16 m-b-16">\n            {{ title }}\n          </h4>\n          <div id="helpContent" class="help-content" [innerHTML]="sectionContent"></div>\n        </div>\n\n        <div class="p-l-16 p-t-16 flex-grow" *ngIf="hasError">\n          <h4 class="text-bold m-b-16" translate>Sorry, that didn\'t work</h4>\n          <div class="help-content">\n            <p translate>The content couldn\'t be loaded.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    class="c8y-help-drawer-footer animated fadeIn"\n    style="animation-delay: 0.35s"\n    *ngIf="!isLoading && !hasError"\n  >\n    <button\n      class="btn btn-default"\n      (click)="toggle()"\n      [title]="\'Close help\' | translate"\n      [attr.aria-expanded]="!isCollapsed"\n      aria-controls="collapseHelp"\n      translate\n    >\n      Close\n    </button>\n    <a\n      href="{{ hasError ? getUrl() : getUrl(src) }}"\n      class="btn btn-primary"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      <span translate *ngIf="!hasError">\n        Open the\n        <span>User guide`KEEP_ORIGINAL`</span>\n      </span>\n      <span translate *ngIf="hasError">\n        Check the\n        <span>User guide`KEEP_ORIGINAL`</span>\n      </span>\n    </a>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:Wo,selector:"c8y-loading"},{kind:"directive",type:l.CollapseDirective,selector:"[collapse]",inputs:["display","isAnimated","collapse"],outputs:["collapsed","collapses","expanded","expands"],exportAs:["bs-collapse"]},{kind:"component",type:ji,selector:"c8y-action-bar-item",inputs:["placement","priority","itemClass","groupId"]},{kind:"directive",type:Qs,selector:"[c8yProductExperience]",inputs:["actionName","actionData"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Tp,decorators:[{type:r.Component,args:[{selector:"c8y-help",template:'<c8y-action-bar-item\n  [placement]="\'right\'"\n  itemClass="pull-right"\n  [priority]="priority"\n  *ngIf="!!(helpService.contextHelp | async)"\n>\n  <button\n    class="btn btn-help"\n    title="{{ \'About this page\' | translate }}"\n    (click)="toggle()"\n    [attr.aria-expanded]="!isCollapsed"\n    aria-controls="collapseHelp"\n    c8yProductExperience\n    [actionName]="isCollapsed ? \'helpOpened\' : \'helpClosed\'"\n    [actionData]="{ src: src }"\n  >\n    <i [c8yIcon]="\'question-circle-o\'" class="text-info"></i>\n  </button>\n</c8y-action-bar-item>\n\n<div\n  id="collapseHelp"\n  class="c8y-help-drawer"\n  [collapse]="isCollapsed"\n  [isAnimated]="true"\n  (collapsed)="onCollapsed()"\n>\n  <div [ngClass]="{ \'c8y-help-drawer-block\': isInit }" #docOutlet>\n    <div *ngIf="isLoading">\n      <c8y-loading></c8y-loading>\n    </div>\n\n    <div *ngIf="!isLoading">\n      <div class="d-flex">\n        <i\n          [c8yIcon]="!hasError ? icon : \'unlink\'"\n          [ngClass]="{ \'text-warning\': hasError, \'text-muted\': !hasError }"\n          class="c8y-icon-duocolor icon-48"\n        ></i>\n        <div class="p-l-16 flex-grow" *ngIf="!hasError">\n          <div\n            class="alert alert-info m-b-16"\n            *ngIf="\n              !helpService.isSupportedLanguage() &&\n              !showLangWarning &&\n              !helpService.isWarningAlertViewed\n            "\n          >\n            <button\n              class="close"\n              type="button"\n              (click)="\n                showLangWarning = !showLangWarning;\n                helpService.isWarningAlertViewed = !helpService.isWarningAlertViewed\n              "\n            >\n              <span aria-hidden="true">×</span>\n              <span class="sr-only">Close</span>\n            </button>\n            <p>\n              {{ \'Help content is only available in English.\' | translate }}\n            </p>\n          </div>\n          <h4 class="text-bold text-primary p-t-16 m-b-16">\n            {{ title }}\n          </h4>\n          <div id="helpContent" class="help-content" [innerHTML]="sectionContent"></div>\n        </div>\n\n        <div class="p-l-16 p-t-16 flex-grow" *ngIf="hasError">\n          <h4 class="text-bold m-b-16" translate>Sorry, that didn\'t work</h4>\n          <div class="help-content">\n            <p translate>The content couldn\'t be loaded.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    class="c8y-help-drawer-footer animated fadeIn"\n    style="animation-delay: 0.35s"\n    *ngIf="!isLoading && !hasError"\n  >\n    <button\n      class="btn btn-default"\n      (click)="toggle()"\n      [title]="\'Close help\' | translate"\n      [attr.aria-expanded]="!isCollapsed"\n      aria-controls="collapseHelp"\n      translate\n    >\n      Close\n    </button>\n    <a\n      href="{{ hasError ? getUrl() : getUrl(src) }}"\n      class="btn btn-primary"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      <span translate *ngIf="!hasError">\n        Open the\n        <span>User guide`KEEP_ORIGINAL`</span>\n      </span>\n      <span translate *ngIf="hasError">\n        Check the\n        <span>User guide`KEEP_ORIGINAL`</span>\n      </span>\n    </a>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:za},{type:Hi},{type:Ep}]},propDecorators:{src:[{type:r.Input}],isCollapsed:[{type:r.Input}],priority:[{type:r.Input}],icon:[{type:r.Input}]}});var _p=Ci((function e(){bi(this,e)}));_p.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_p,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),_p.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:_p,declarations:[Tp],imports:[da,l.CollapseModule,ha,el],exports:[Tp]}),_p.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_p,providers:[Ep],imports:[da,l.CollapseModule.forRoot(),ha,el]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:_p,decorators:[{type:r.NgModule,args:[{declarations:[Tp],imports:[da,l.CollapseModule.forRoot(),ha,el],exports:[Tp],entryComponents:[Tp],providers:[Ep]}]}]});var Fp=function(){function e(){bi(this,e),this.label="Realtime",this.title="Toggle realtime"}return Ci(e,[{key:"active",get:function(){return!!this.service&&this.service.active}},{key:"toggle",value:function(){this.service&&(this.active?this.service.stop():this.service.start())}}]),e}();Fp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fp,deps:[],target:r["ɵɵFactoryTarget"].Component}),Fp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Fp,selector:"c8y-realtime-btn",inputs:{service:"service",label:"label",title:"title"},ngImport:i,template:'<button\n  type="button"\n  class="btn btn-link c8y-realtime"\n  title="{{ title | translate }}"\n  (click)="toggle()"\n>\n  <span class="c8y-pulse" [ngClass]="{ active: active, inactive: !active }"></span>\n  <span>{{ label | translate }}</span>\n</button>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Fp,decorators:[{type:r.Component,args:[{selector:"c8y-realtime-btn",template:'<button\n  type="button"\n  class="btn btn-link c8y-realtime"\n  title="{{ title | translate }}"\n  (click)="toggle()"\n>\n  <span class="c8y-pulse" [ngClass]="{ active: active, inactive: !active }"></span>\n  <span>{{ label | translate }}</span>\n</button>\n'}]}],propDecorators:{service:[{type:r.Input}],label:[{type:r.Input}],title:[{type:r.Input}]}});var Op,Pp=Ci((function e(){bi(this,e)}));Pp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Pp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Pp,declarations:[Fp],imports:[da],exports:[Fp]}),Pp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pp,imports:[da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Pp,decorators:[{type:r.NgModule,args:[{imports:[da],declarations:[Fp],exports:[Fp]}]}]}),function(e){e.SINGLE="single",e.MULTI="multi"}(Op||(Op={}));var Np=function(){function e(){bi(this,e)}return Ci(e,[{key:"transform",value:function(e,t){var n=this;return 0===t.trim().length?e:e.filter((function(e){return n.extractValues(e).filter((function(e){return n.filterContainString(e,t)})).length>0}))}},{key:"filterContainString",value:function(e,t){var n=t.toLowerCase().trim();return e&&e.toLowerCase().indexOf(n)>-1}},{key:"extractValues",value:function(e){var t=this,n=[];return e.value&&n.push(e.value),Object.keys(e).forEach((function(r){Array.isArray(e[r])&&e[r].forEach((function(e){return n.concat(t.extractValues(e))})),e[r]instanceof Object&&(n=n.concat(t.extractValues(e[r])))})),n}}]),e}();Np.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Np,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),Np.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Np,name:"selectModalFilterPipe"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Np,decorators:[{type:r.Pipe,args:[{name:"selectModalFilterPipe"}]}]});var Ap=function(){function e(t){var n=this;bi(this,e),this.bsModalRef=t,this.subTitle="Select from the list of items matching the device type",this.mode=Op.MULTI,this.disableSelected=!0,this.showFilter=!0,this.areMoreEntries=!1,this.result=new r.EventEmitter,this.search=new r.EventEmitter,this.onChoiceUpdated=new r.EventEmitter,this.selected=!1,this.filterTerm="",this.listItems=[],this.debouncer=new a.Subject,this._labels={ok:"Confirm",cancel:"Cancel"},this.debouncer.pipe((0,s.debounceTime)(500)).subscribe((function(e){n.search.emit(e)}))}var t;return Ci(e,[{key:"labels",get:function(){return this._labels},set:function(e){var t=e||{},n=t.ok,r=void 0===n?this.labels.ok:n,i=t.cancel,o=void 0===i?this.labels.cancel:i;this._labels={ok:r,cancel:o}}},{key:"ngOnChanges",value:(t=ui(di().mark((function e(t){var n,r=this;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.items||!t.items.currentValue){e.next=5;break}return n=t.items.currentValue.map(function(){var e=ui(di().mark((function e(t){var n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.options;case 2:return t.options=e.sent,(n=t.options.find((function(e){return e.selected})))&&(t.selectedId=n.obj.id,r.disableSelected&&t.options.map((function(e){return(0,c.assign)(e,{disabled:!0})}))),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(n);case 4:this.listItems=e.sent;case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"updatePipe",value:function(e){this.debouncer.next(e),this.filterTerm=e}},{key:"updateChoice",value:function(e){var t=e.item,n=e.id;"single"===this.mode&&this.listItems.map((function(e){return e.selectedId=void 0})),t.selectedId=n,this.selected=!0,this.onChoiceUpdated.emit(t)}},{key:"dismiss",value:function(){this.bsModalRef.hide()}},{key:"select",value:function(){this.result.emit(this.getOutput()),this.bsModalRef.hide()}},{key:"ngOnDestroy",value:function(){this.debouncer.complete(),this.result.complete(),this.search.complete()}},{key:"getOutput",value:function(){return this.listItems.filter((function(e){return e.selectedId})).map((function(e){return e.options.find((function(t){return e.selectedId===t.obj.id}))})).filter((function(e){return!e.selected})).map((function(e){return e.obj}))}}]),e}();Ap.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ap,deps:[{token:xe.BsModalRef}],target:r["ɵɵFactoryTarget"].Component}),Ap.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Ap,selector:"c8y-select-modal",inputs:{icon:"icon",title:"title",subTitle:"subTitle",items:"items",mode:"mode",disableSelected:"disableSelected",showFilter:"showFilter",additionalFilterTemplate:"additionalFilterTemplate",areMoreEntries:"areMoreEntries",labels:"labels"},outputs:{result:"result",search:"search",onChoiceUpdated:"onChoiceUpdated"},usesOnChanges:!0,ngImport:i,template:'<div class="viewport-modal">\n  <div class="modal-header dialog-header">\n    <span c8yIcon="{{ icon }}"></span>\n    <h4 class="text-uppercase">\n      {{ title | translate }}\n    </h4>\n  </div>\n  <div class="p-16 text-center separator-bottom min-height-fit">\n    <p class="m-b-8">{{ subTitle | translate }}</p>\n    <div class="row">\n      <div\n        *ngIf="showFilter"\n        [ngClass]="{\n          \'col-xs-6\': showFilter && additionalFilterTemplate,\n          \'col-xs-12\': !showFilter || !additionalFilterTemplate\n        }"\n      >\n        <c8y-filter [icon]="\'search\'" (onSearch)="updatePipe($event)"></c8y-filter>\n      </div>\n      <div\n        *ngIf="additionalFilterTemplate"\n        [ngClass]="{\n          \'col-xs-6\': showFilter && additionalFilterTemplate,\n          \'col-xs-12\': !showFilter || !additionalFilterTemplate\n        }"\n      >\n        <ng-container *ngTemplateOutlet="additionalFilterTemplate"></ng-container>\n      </div>\n    </div>\n  </div>\n  <div class="modal-inner-scroll">\n    <div class="p-l-16 p-r-16">\n      <div class="panel m-t-8 m-b-8" *ngIf="!items || items.length === 0">\n        <div class="c8y-empty-state text-left">\n          <h1 c8yIcon="{{ icon }} " class="c8y-icon-duocolor"></h1>\n          <p translate>No items to display.</p>\n        </div>\n      </div>\n    </div>\n    <c8y-list-group>\n      <c8y-li *ngFor="let item of listItems | selectModalFilterPipe: filterTerm">\n        <c8y-li-icon>\n          <i c8yIcon="{{ icon }}"></i>\n        </c8y-li-icon>\n\n        <c8y-li-body class="content-flex-30">\n          <div class="col-9">\n            <div *ngFor="let bodyPart of item.body" [ngClass]="bodyPart.class">\n              <c8y-highlight\n                [title]="bodyPart.value"\n                [pattern]="filterTerm"\n                [text]="bodyPart.value"\n              ></c8y-highlight>\n            </div>\n          </div>\n\n          <div class="col-3 text-right" *ngIf="item.additionalInformation">\n            <div [ngClass]="item.additionalInformation.class">\n              {{ item.additionalInformation.value }}\n            </div>\n          </div>\n        </c8y-li-body>\n\n        <c8y-li-collapse>\n          <c8y-list-group>\n            <c8y-li *ngFor="let option of item.options">\n              <c8y-li-radio\n                [name]="mode === \'single\' ? \'single\' : item.groupId"\n                (onSelect)="updateChoice({ item: item, id: option.obj.id })"\n                [disabled]="option.disabled"\n                [selected]="option.selected"\n              >\n              </c8y-li-radio>\n              <c8y-li-body class="content-flex-20">\n                <div\n                  *ngFor="let optionPart of option.body; let i = index"\n                  [ngClass]="optionPart.class"\n                >\n                  <c8y-highlight [pattern]="filterTerm" [text]="optionPart.value"></c8y-highlight>\n                </div>\n                <ng-container\n                  *ngIf="option.template"\n                  [ngTemplateOutlet]="option.template"\n                  [ngTemplateOutletContext]="{ $implicit: item, option: option }"\n                ></ng-container>\n              </c8y-li-body>\n            </c8y-li>\n          </c8y-list-group>\n        </c8y-li-collapse>\n      </c8y-li>\n      <div *ngIf="areMoreEntries">\n        <div class="alert alert-info m-t-16 m-r-8 m-l-8" translate>\n          Some entries might not be shown. Try narrowing search criteria.\n        </div>\n      </div>\n    </c8y-list-group>\n  </div>\n\n  <div class="modal-footer">\n    <button\n      title="{{ labels.cancel | translate }}"\n      *ngIf="labels.cancel"\n      class="btn btn-default"\n      (click)="dismiss()"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button\n      title="{{ labels.ok | translate }}"\n      class="btn btn-primary"\n      (click)="select()"\n      [disabled]="!selected"\n    >\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"component",type:ll,selector:"c8y-list-group"},{kind:"component",type:sl,selector:"c8y-list-item, c8y-li",inputs:["active","emptyActions","collapsed","selectable"],outputs:["collapsedChange"]},{kind:"component",type:fl,selector:"c8y-list-item-icon, c8y-li-icon",inputs:["icon","status"]},{kind:"component",type:Il,selector:"c8y-list-item-body, c8y-li-body",inputs:["body"]},{kind:"component",type:ol,selector:"c8y-list-item-collapse, c8y-li-collapse",inputs:["collapseWay"]},{kind:"component",type:xl,selector:"c8y-list-item-radio, c8y-li-radio",inputs:["selected","name","disabled","value"],outputs:["onSelect"]},{kind:"component",type:nl,selector:"c8y-highlight",inputs:["pattern","text","elementClass","shouldTrimPattern"]},{kind:"component",type:dc,selector:"c8y-filter",inputs:["icon"],outputs:["onSearch"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:Np,name:"selectModalFilterPipe"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Ap,decorators:[{type:r.Component,args:[{selector:"c8y-select-modal",template:'<div class="viewport-modal">\n  <div class="modal-header dialog-header">\n    <span c8yIcon="{{ icon }}"></span>\n    <h4 class="text-uppercase">\n      {{ title | translate }}\n    </h4>\n  </div>\n  <div class="p-16 text-center separator-bottom min-height-fit">\n    <p class="m-b-8">{{ subTitle | translate }}</p>\n    <div class="row">\n      <div\n        *ngIf="showFilter"\n        [ngClass]="{\n          \'col-xs-6\': showFilter && additionalFilterTemplate,\n          \'col-xs-12\': !showFilter || !additionalFilterTemplate\n        }"\n      >\n        <c8y-filter [icon]="\'search\'" (onSearch)="updatePipe($event)"></c8y-filter>\n      </div>\n      <div\n        *ngIf="additionalFilterTemplate"\n        [ngClass]="{\n          \'col-xs-6\': showFilter && additionalFilterTemplate,\n          \'col-xs-12\': !showFilter || !additionalFilterTemplate\n        }"\n      >\n        <ng-container *ngTemplateOutlet="additionalFilterTemplate"></ng-container>\n      </div>\n    </div>\n  </div>\n  <div class="modal-inner-scroll">\n    <div class="p-l-16 p-r-16">\n      <div class="panel m-t-8 m-b-8" *ngIf="!items || items.length === 0">\n        <div class="c8y-empty-state text-left">\n          <h1 c8yIcon="{{ icon }} " class="c8y-icon-duocolor"></h1>\n          <p translate>No items to display.</p>\n        </div>\n      </div>\n    </div>\n    <c8y-list-group>\n      <c8y-li *ngFor="let item of listItems | selectModalFilterPipe: filterTerm">\n        <c8y-li-icon>\n          <i c8yIcon="{{ icon }}"></i>\n        </c8y-li-icon>\n\n        <c8y-li-body class="content-flex-30">\n          <div class="col-9">\n            <div *ngFor="let bodyPart of item.body" [ngClass]="bodyPart.class">\n              <c8y-highlight\n                [title]="bodyPart.value"\n                [pattern]="filterTerm"\n                [text]="bodyPart.value"\n              ></c8y-highlight>\n            </div>\n          </div>\n\n          <div class="col-3 text-right" *ngIf="item.additionalInformation">\n            <div [ngClass]="item.additionalInformation.class">\n              {{ item.additionalInformation.value }}\n            </div>\n          </div>\n        </c8y-li-body>\n\n        <c8y-li-collapse>\n          <c8y-list-group>\n            <c8y-li *ngFor="let option of item.options">\n              <c8y-li-radio\n                [name]="mode === \'single\' ? \'single\' : item.groupId"\n                (onSelect)="updateChoice({ item: item, id: option.obj.id })"\n                [disabled]="option.disabled"\n                [selected]="option.selected"\n              >\n              </c8y-li-radio>\n              <c8y-li-body class="content-flex-20">\n                <div\n                  *ngFor="let optionPart of option.body; let i = index"\n                  [ngClass]="optionPart.class"\n                >\n                  <c8y-highlight [pattern]="filterTerm" [text]="optionPart.value"></c8y-highlight>\n                </div>\n                <ng-container\n                  *ngIf="option.template"\n                  [ngTemplateOutlet]="option.template"\n                  [ngTemplateOutletContext]="{ $implicit: item, option: option }"\n                ></ng-container>\n              </c8y-li-body>\n            </c8y-li>\n          </c8y-list-group>\n        </c8y-li-collapse>\n      </c8y-li>\n      <div *ngIf="areMoreEntries">\n        <div class="alert alert-info m-t-16 m-r-8 m-l-8" translate>\n          Some entries might not be shown. Try narrowing search criteria.\n        </div>\n      </div>\n    </c8y-list-group>\n  </div>\n\n  <div class="modal-footer">\n    <button\n      title="{{ labels.cancel | translate }}"\n      *ngIf="labels.cancel"\n      class="btn btn-default"\n      (click)="dismiss()"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button\n      title="{{ labels.ok | translate }}"\n      class="btn btn-primary"\n      (click)="select()"\n      [disabled]="!selected"\n    >\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:xe.BsModalRef}]},propDecorators:{icon:[{type:r.Input}],title:[{type:r.Input}],subTitle:[{type:r.Input}],items:[{type:r.Input}],mode:[{type:r.Input}],disableSelected:[{type:r.Input}],showFilter:[{type:r.Input}],additionalFilterTemplate:[{type:r.Input}],areMoreEntries:[{type:r.Input}],labels:[{type:r.Input}],result:[{type:r.Output}],search:[{type:r.Output}],onChoiceUpdated:[{type:r.Output}]}});var Mp=Ci((function e(){bi(this,e)}));Mp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Mp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Mp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Mp,declarations:[Ap,Np],imports:[d.BsDropdownModule,da,Dl,Tl,xc],exports:[Ap,Np]}),Mp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Mp,imports:[d.BsDropdownModule.forRoot(),da,Dl,Tl,xc]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Mp,decorators:[{type:r.NgModule,args:[{imports:[d.BsDropdownModule.forRoot(),da,Dl,Tl,xc],exports:[Ap,Np],declarations:[Ap,Np]}]}]});var Rp=function(){function e(t){bi(this,e),this.sanitizer=t,this.config={},this.display="full"}return Ci(e,[{key:"inlineStyle",get:function(){return this.config=this.config||{},this.config.min||(this.config.min=0),this.config.max||(this.config.max=100),void 0!==this.config.fractionSize&&(this.config.current=parseFloat(this.config.current.toFixed(this.config.fractionSize))),this.sanitizer.bypassSecurityTrustStyle("\n          --range-min: ".concat(this.config.min,";\n          --range-max: ").concat(this.config.max,";\n          --full-range: ").concat(this.config.max-this.config.min,";\n          --measurement-target: ").concat(100*(this.config.target-this.config.min)/(this.config.max-this.config.min),"%;\n          --measurement-current: ").concat(100*(this.config.current-this.config.min)/(this.config.max-this.config.min),"%;\n          --range-y-min: ").concat(100*(this.config.yellowRangeMin-this.config.min)/(this.config.max-this.config.min),"%;\n          --range-y-max: ").concat((this.config.yellowRangeMax-this.config.min)/(this.config.max-this.config.min)*100,"%;\n          --range-r-min: ").concat(100*(this.config.redRangeMin-this.config.min)/(this.config.max-this.config.min),"%;\n          --range-r-max: ").concat((this.config.redRangeMax-this.config.min)/(this.config.max-this.config.min)*100,"%;\n        "))}},{key:"checkTarget",value:function(){return void 0!==this.config.target&&null!==this.config.target&&this.config.target>=this.config.min&&this.config.target<=this.config.max}},{key:"rulerCalc",value:function(e){var t=this.config.min+(this.config.max-this.config.min)/10*e;return void 0!==this.config.fractionSize?parseFloat(t.toFixed(this.config.fractionSize)):parseFloat(t.toFixed(2))}},{key:"trackByIndex",value:function(e){return e}},{key:"isRedRangeDisplayed",value:function(){var e=this.config,t=e.redRangeMin,n=e.redRangeMax;return this.isRangeDisplayed(t,n)}},{key:"isYellowRangeDisplayed",value:function(){var e=this.config,t=e.yellowRangeMin,n=e.yellowRangeMax;return this.isRangeDisplayed(t,n)}},{key:"isRangeDisplayed",value:function(e,t){return 0===e||0===t||e&&t}}]),e}();Rp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rp,deps:[{token:Qr.DomSanitizer}],target:r["ɵɵFactoryTarget"].Component}),Rp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Rp,selector:"c8y-range-display",inputs:{config:"config",display:"display"},host:{properties:{"attr.style":"this.inlineStyle"}},ngImport:i,template:'<div [ngClass]="{ \'range-display--vertical\': config.orientation === \'vertical\',\n  \'range-display--compact\' : display ===\'compact\',\n  \'range-display--inline\' : display ===\'inline\' }" \n  attr.data-label="{{ config.unit }}"\n>\n  <div class="range-display">\n    <div class="range-display__range">\n      <div class="range-display__range__unit">\n        {{ config.unit }}\n      </div>\n      <div *ngIf="isYellowRangeDisplayed()" class="range-display__range__min"></div>\n      <div *ngIf="isRedRangeDisplayed()" class="range-display__range__max"></div>\n      <div\n        *ngIf="checkTarget()"\n        class="range-display__range__target"\n        attr.data-label="{{ config.target }} {{ config.unit }}"\n        title="{{ \'Target\' | translate }}: {{ config.target }} {{ config.unit }}"\n      ></div>\n      <div\n        *ngIf="\n          config.current != undefined &&\n          config.current >= config.min &&\n          config.current <= config.max\n        "\n        class="range-display__range__current"\n        attr.data-label="{{ config.current }} {{ config.unit }} &#xa; {{ config.time | c8yDate }}"\n        title="{{ \'Current\' | translate }}: {{ config.current }} {{ config.unit }} | {{\n          config.time | c8yDate\n        }}"\n      ></div>\n    </div>\n    <div class="range-display__ruler">\n      <div\n        *ngFor="let x of [].constructor(10); let index = index; trackBy: trackByIndex"\n        attr.data-label="{{ rulerCalc(index) }}"\n        class="range-display__tick"\n      ></div>\n      <div attr.data-label="{{ config.max || 100 | number }}" class="range-display__tick"></div>\n    </div>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.DecimalPipe,name:"number"},{kind:"pipe",type:Co,name:"c8yDate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Rp,decorators:[{type:r.Component,args:[{selector:"c8y-range-display",template:'<div [ngClass]="{ \'range-display--vertical\': config.orientation === \'vertical\',\n  \'range-display--compact\' : display ===\'compact\',\n  \'range-display--inline\' : display ===\'inline\' }" \n  attr.data-label="{{ config.unit }}"\n>\n  <div class="range-display">\n    <div class="range-display__range">\n      <div class="range-display__range__unit">\n        {{ config.unit }}\n      </div>\n      <div *ngIf="isYellowRangeDisplayed()" class="range-display__range__min"></div>\n      <div *ngIf="isRedRangeDisplayed()" class="range-display__range__max"></div>\n      <div\n        *ngIf="checkTarget()"\n        class="range-display__range__target"\n        attr.data-label="{{ config.target }} {{ config.unit }}"\n        title="{{ \'Target\' | translate }}: {{ config.target }} {{ config.unit }}"\n      ></div>\n      <div\n        *ngIf="\n          config.current != undefined &&\n          config.current >= config.min &&\n          config.current <= config.max\n        "\n        class="range-display__range__current"\n        attr.data-label="{{ config.current }} {{ config.unit }} &#xa; {{ config.time | c8yDate }}"\n        title="{{ \'Current\' | translate }}: {{ config.current }} {{ config.unit }} | {{\n          config.time | c8yDate\n        }}"\n      ></div>\n    </div>\n    <div class="range-display__ruler">\n      <div\n        *ngFor="let x of [].constructor(10); let index = index; trackBy: trackByIndex"\n        attr.data-label="{{ rulerCalc(index) }}"\n        class="range-display__tick"\n      ></div>\n      <div attr.data-label="{{ config.max || 100 | number }}" class="range-display__tick"></div>\n    </div>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Qr.DomSanitizer}]},propDecorators:{config:[{type:r.Input}],display:[{type:r.Input}],inlineStyle:[{type:r.HostBinding,args:["attr.style"]}]}});var Lp=Ci((function e(){bi(this,e)}));Lp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Lp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Lp,declarations:[Rp],imports:[da],exports:[Rp]}),Lp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lp,imports:[da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Lp,decorators:[{type:r.NgModule,args:[{imports:[da],exports:[Rp],declarations:[Rp],entryComponents:[Rp]}]}]});var Vp=function(){function e(t){var n=this;bi(this,e),this.location=t,this.filterPipe=(0,a.pipe)((0,s.tap)()),this.onListClassChange=new r.EventEmitter,this.DISPLAY_OPTIONS=[{name:"AUTO",value:"auto",label:"Auto",default:!0,getListClass:function(){return(n._listLength>n.AUTO_GRID_ITEMS_LIMIT?n.DISPLAY_OPTIONS.find((function(e){return"LIST"===e.name})):n.DISPLAY_OPTIONS.find((function(e){return"GRID"===e.name}))).getListClass()}},{name:"GRID",value:"grid",label:"Grid",getListClass:function(){return"interact-grid"}},{name:"LIST",value:"list",label:"List",getListClass:function(){return"interact-list"}}],this.AUTO_GRID_ITEMS_LIMIT=12}return Ci(e,[{key:"listLength",set:function(e){this._listLength=e,this.loadSelectedOption()}},{key:"ngOnInit",value:function(){this.loadSelectedOption()}},{key:"onOptionSelect",value:function(e){var t=this.getLocalStorageKey();e.default?localStorage.removeItem(t):localStorage.setItem(t,e.value),this.loadSelectedOption()}},{key:"loadSelectedOption",value:function(){this.selectedOption=this.getLocalStorageOption()||this.getDefaultOption(),this.onListClassChange.emit(this.selectedOption.getListClass())}},{key:"getLocalStorageOption",value:function(){var e=this;return this.DISPLAY_OPTIONS.find((function(t){return t.value===localStorage.getItem(e.getLocalStorageKey())}))}},{key:"getDefaultOption",value:function(){return this.DISPLAY_OPTIONS.find((function(e){return e.default}))}},{key:"getLocalStorageKey",value:function(){return"list-display-option[".concat(this.getListKey(),"]")}},{key:"getListKey",value:function(){return this.listKey||this.location.path()}}]),e}();Vp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vp,deps:[{token:u.Location}],target:r["ɵɵFactoryTarget"].Component}),Vp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Vp,selector:"c8y-list-display-switch",inputs:{listKey:"listKey",listLength:"listLength",filterPipe:"filterPipe"},outputs:{onListClassChange:"onListClassChange"},ngImport:i,template:'<div class="form-group">\n  <label class="m-r-8">\n    {{ \'Display as\' | translate }}\n  </label>\n  <div class="c8y-select-wrapper">\n    <select\n      class="form-control"\n      [ngModel]="selectedOption"\n      (ngModelChange)="onOptionSelect($event)"\n    >\n      <option *ngFor="let option of DISPLAY_OPTIONS" [ngValue]="option">{{\n        option.label | translate\n      }}</option></select\n    >\n    <span></span>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:De.NgSelectOption,selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De["ɵNgSelectMultipleOption"],selector:"option",inputs:["ngValue","value"]},{kind:"directive",type:De.SelectControlValueAccessor,selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",inputs:["compareWith"]},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Vp,decorators:[{type:r.Component,args:[{selector:"c8y-list-display-switch",template:'<div class="form-group">\n  <label class="m-r-8">\n    {{ \'Display as\' | translate }}\n  </label>\n  <div class="c8y-select-wrapper">\n    <select\n      class="form-control"\n      [ngModel]="selectedOption"\n      (ngModelChange)="onOptionSelect($event)"\n    >\n      <option *ngFor="let option of DISPLAY_OPTIONS" [ngValue]="option">{{\n        option.label | translate\n      }}</option></select\n    >\n    <span></span>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:u.Location}]},propDecorators:{listKey:[{type:r.Input}],listLength:[{type:r.Input,args:["listLength"]}],filterPipe:[{type:r.Input}],onListClassChange:[{type:r.Output}]}});var jp=Ci((function e(){bi(this,e)}));jp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),jp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:jp,declarations:[Vp],imports:[da,De.FormsModule],exports:[Vp]}),jp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jp,imports:[da,De.FormsModule]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:jp,decorators:[{type:r.NgModule,args:[{declarations:[Vp],imports:[da,De.FormsModule],exports:[Vp]}]}]});var Bp=function(){function e(t,n,i){bi(this,e),this.router=t,this.c8yWizardService=n,this.viewContainerRef=i,this.initialState={},this.onSelect=new r.EventEmitter,this.onPath=new r.EventEmitter,this.entries=[],this.showList=!0,this.destroy$=new a.Subject}return Ci(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.c8yWizardService.getEntriesListById(this.id).pipe((0,s.takeUntil)(this.destroy$)).subscribe((function(t){e.container.clear(),e.entries=t,e.onEntriesLoaded()}))}},{key:"handleEntry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path,n=e.component;t?this.handlePath(t):n&&(this.handleComponent(n),this.onSelect.emit(e))}},{key:"reset",value:function(){this.componentInstance&&(this.componentInstance=void 0,this.container.clear(),this.showList=!0)}},{key:"ngOnDestroy",value:function(){this.componentInstance&&this.container.clear(),this.destroy$.next(!0),this.destroy$.unsubscribe()}},{key:"onEntriesLoaded",value:function(){var e=ii(this.entries,1)[0],t=1===this.entries.length,n=e&&!!e.path;t&&!n&&this.handleEntry(e)}},{key:"handlePath",value:function(e){this.router.navigateByUrl(e),this.onPath.emit(e)}},{key:"handleComponent",value:function(e){this.showList=!1;var t=this.viewContainerRef.createComponent(e);Object.assign(t.instance,this.initialState),this.componentInstance=t}}]),e}();Bp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bp,deps:[{token:o.Router},{token:ls},{token:r.ViewContainerRef}],target:r["ɵɵFactoryTarget"].Component}),Bp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Bp,selector:"c8y-wizard-outlet",inputs:{initialState:"initialState",id:"id"},outputs:{onSelect:"onSelect",onPath:"onPath"},viewQueries:[{propertyName:"container",first:!0,predicate:["container"],descendants:!0,read:r.ViewContainerRef}],ngImport:i,template:'<ng-container>\n  <div class="modal-inner-scroll animated fadeIn" *ngIf="showList">\n    <p class="p-16 text-center text-medium separator-bottom">\n      <span translate>Select method</span>\n    </p>\n    <div class="list-group list-group-links" *ngIf="entries.length > 0; else emptyState">\n      <button\n        *ngFor="let entry of entries"\n        type="button"\n        class="list-group-item d-flex a-i-center p-t-8 p-b-8"\n        (click)="handleEntry(entry)"\n      >\n        <div class="list-item-icon">\n          <i [c8yIcon]="entry.c8yIcon || \'cogs\'"></i>\n        </div>\n        <div title="{{ entry.name | translate }}" class="list-item-body text-truncate">\n          {{ entry.name | translate }}\n        </div>\n      </button>\n    </div>\n\n    <ng-template #emptyState>\n      <div class="c8y-empty-state">\n        <p>{{ \'No options available.\' | translate }}</p>\n      </div>\n    </ng-template>\n  </div>\n</ng-container>\n<template #container [hidden]="showList"></template>\n',dependencies:[{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Bp,decorators:[{type:r.Component,args:[{selector:"c8y-wizard-outlet",template:'<ng-container>\n  <div class="modal-inner-scroll animated fadeIn" *ngIf="showList">\n    <p class="p-16 text-center text-medium separator-bottom">\n      <span translate>Select method</span>\n    </p>\n    <div class="list-group list-group-links" *ngIf="entries.length > 0; else emptyState">\n      <button\n        *ngFor="let entry of entries"\n        type="button"\n        class="list-group-item d-flex a-i-center p-t-8 p-b-8"\n        (click)="handleEntry(entry)"\n      >\n        <div class="list-item-icon">\n          <i [c8yIcon]="entry.c8yIcon || \'cogs\'"></i>\n        </div>\n        <div title="{{ entry.name | translate }}" class="list-item-body text-truncate">\n          {{ entry.name | translate }}\n        </div>\n      </button>\n    </div>\n\n    <ng-template #emptyState>\n      <div class="c8y-empty-state">\n        <p>{{ \'No options available.\' | translate }}</p>\n      </div>\n    </ng-template>\n  </div>\n</ng-container>\n<template #container [hidden]="showList"></template>\n'}]}],ctorParameters:function(){return[{type:o.Router},{type:ls},{type:r.ViewContainerRef}]},propDecorators:{container:[{type:r.ViewChild,args:["container",{read:r.ViewContainerRef}]}],initialState:[{type:r.Input}],id:[{type:r.Input}],onSelect:[{type:r.Output}],onPath:[{type:r.Output}]}});var Up=function(){function e(t,n){var i=this;bi(this,e),this.wizardService=t,this.bsModalRef=n,this.wizardConfig={},this.componentInitialState={},this.onClose=new r.EventEmitter,this.onReset=new r.EventEmitter,this.onSelect=new r.EventEmitter,this.headerTemplate$=this.wizardService.headerTemplate$.pipe((0,s.filter)((function(e){return e.wizardId===i.id}))),this.bodyTemplate$=this.wizardService.bodyTemplate$.pipe((0,s.filter)((function(e){return e.wizardId===i.id}))),this.footerTemplate$=this.wizardService.footerTemplate$.pipe((0,s.filter)((function(e){return e.wizardId===i.id})))}return Ci(e,[{key:"ngOnInit",value:function(){this.emitTemplates()}},{key:"reset",value:function(e){this.outlet.reset(),this.onReset.emit(e),this.emitTemplates()}},{key:"close",value:function(e){this.onClose.emit(e),this.onClose.complete(),this.bsModalRef.hide()}},{key:"onPath",value:function(){this.close()}},{key:"emitTemplates",value:function(){var e=this;setTimeout((function(){e.wizardService.headerTemplate$.next({template:e.header,wizardId:e.id}),e.wizardService.bodyTemplate$.next({template:e.body,wizardId:e.id}),e.wizardService.footerTemplate$.next({template:e.footer,wizardId:e.id})}))}}]),e}();Up.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Up,deps:[{token:ls},{token:xe.BsModalRef}],target:r["ɵɵFactoryTarget"].Component}),Up.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Up,selector:"c8y-wizard",inputs:{id:"id",wizardConfig:"wizardConfig"},outputs:{onClose:"onClose",onReset:"onReset",onSelect:"onSelect"},viewQueries:[{propertyName:"header",first:!0,predicate:["headerRef"],descendants:!0,static:!0},{propertyName:"body",first:!0,predicate:["bodyRef"],descendants:!0,static:!0},{propertyName:"footer",first:!0,predicate:["footerRef"],descendants:!0,static:!0},{propertyName:"outlet",first:!0,predicate:Bp,descendants:!0}],ngImport:i,template:'<div class="viewport-modal animated fadeIn">\n  <ng-template *ngTemplateOutlet="(headerTemplate$ | async)?.template"></ng-template>\n\n  <ng-template #headerRef>\n    <div class="modal-header dialog-header animated fadeIn">\n      <h1 [c8yIcon]="wizardConfig.headerIcon"></h1>\n      <h4>{{ wizardConfig.headerText | translate }}</h4>\n    </div>\n  </ng-template>\n\n  <ng-template *ngTemplateOutlet="(bodyTemplate$ | async)?.template"></ng-template>\n\n  <ng-template #bodyRef>\n    <div class="p-16 p-t-8 text-center" *ngIf="wizardConfig.bodyHeaderText">\n      <div class="c8y-wizard-nav">\n        <i [c8yIcon]="wizardConfig.bodyHeaderIcon"></i>\n        <span>{{ wizardConfig.bodyHeaderText | translate }}</span>\n      </div>\n    </div>\n  </ng-template>\n  <c8y-wizard-outlet\n    [initialState]="componentInitialState"\n    [id]="id"\n    (onSelect)="onSelect.emit($event)"\n    (onPath)="onPath()"\n  ></c8y-wizard-outlet>\n\n  <ng-template *ngTemplateOutlet="(footerTemplate$ | async)?.template"></ng-template>\n  <ng-template #footerRef>\n    <div class="modal-footer animated fadeIn">\n      <button\n        (click)="close()"\n        type="button"\n        class="btn btn-default"\n        title="{{ \'Cancel\' | translate }}"\n      >\n        <span translate>Cancel</span>\n      </button>\n    </div>\n  </ng-template>\n</div>\n',dependencies:[{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]},{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"directive",type:oo,selector:"[translate],[ngx-translate]"},{kind:"component",type:Bp,selector:"c8y-wizard-outlet",inputs:["initialState","id"],outputs:["onSelect","onPath"]},{kind:"pipe",type:u.AsyncPipe,name:"async"},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Up,decorators:[{type:r.Component,args:[{selector:"c8y-wizard",template:'<div class="viewport-modal animated fadeIn">\n  <ng-template *ngTemplateOutlet="(headerTemplate$ | async)?.template"></ng-template>\n\n  <ng-template #headerRef>\n    <div class="modal-header dialog-header animated fadeIn">\n      <h1 [c8yIcon]="wizardConfig.headerIcon"></h1>\n      <h4>{{ wizardConfig.headerText | translate }}</h4>\n    </div>\n  </ng-template>\n\n  <ng-template *ngTemplateOutlet="(bodyTemplate$ | async)?.template"></ng-template>\n\n  <ng-template #bodyRef>\n    <div class="p-16 p-t-8 text-center" *ngIf="wizardConfig.bodyHeaderText">\n      <div class="c8y-wizard-nav">\n        <i [c8yIcon]="wizardConfig.bodyHeaderIcon"></i>\n        <span>{{ wizardConfig.bodyHeaderText | translate }}</span>\n      </div>\n    </div>\n  </ng-template>\n  <c8y-wizard-outlet\n    [initialState]="componentInitialState"\n    [id]="id"\n    (onSelect)="onSelect.emit($event)"\n    (onPath)="onPath()"\n  ></c8y-wizard-outlet>\n\n  <ng-template *ngTemplateOutlet="(footerTemplate$ | async)?.template"></ng-template>\n  <ng-template #footerRef>\n    <div class="modal-footer animated fadeIn">\n      <button\n        (click)="close()"\n        type="button"\n        class="btn btn-default"\n        title="{{ \'Cancel\' | translate }}"\n      >\n        <span translate>Cancel</span>\n      </button>\n    </div>\n  </ng-template>\n</div>\n'}]}],ctorParameters:function(){return[{type:ls},{type:xe.BsModalRef}]},propDecorators:{header:[{type:r.ViewChild,args:["headerRef",{static:!0}]}],body:[{type:r.ViewChild,args:["bodyRef",{static:!0}]}],footer:[{type:r.ViewChild,args:["footerRef",{static:!0}]}],outlet:[{type:r.ViewChild,args:[Bp]}],id:[{type:r.Input}],wizardConfig:[{type:r.Input}],onClose:[{type:r.Output}],onReset:[{type:r.Output}],onSelect:[{type:r.Output}]}});var Gp=function(){function e(t,n){bi(this,e),this.wizard=t,this.wizardService=n}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){e.wizardService.bodyTemplate$.next({template:e.bodyContent,wizardId:e.wizard.id})}))}}]),e}();Gp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gp,deps:[{token:Up},{token:ls}],target:r["ɵɵFactoryTarget"].Component}),Gp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Gp,selector:"c8y-wizard-body",viewQueries:[{propertyName:"bodyContent",first:!0,predicate:["bodyContent"],descendants:!0,static:!0}],ngImport:i,template:'\n    <ng-template #bodyContent>\n      <div class="modal-inner-scroll animated fadeIn">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  ',isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Gp,decorators:[{type:r.Component,args:[{selector:"c8y-wizard-body",template:'\n    <ng-template #bodyContent>\n      <div class="modal-inner-scroll animated fadeIn">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  '}]}],ctorParameters:function(){return[{type:Up},{type:ls}]},propDecorators:{bodyContent:[{type:r.ViewChild,args:["bodyContent",{static:!0}]}]}});var zp=function(){function e(t,n){bi(this,e),this.wizard=t,this.wizardService=n}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){e.wizardService.footerTemplate$.next({template:e.footerContent,wizardId:e.wizard.id})}))}}]),e}();zp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zp,deps:[{token:Up},{token:ls}],target:r["ɵɵFactoryTarget"].Component}),zp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:zp,selector:"c8y-wizard-footer",viewQueries:[{propertyName:"footerContent",first:!0,predicate:["footerContent"],descendants:!0,static:!0}],ngImport:i,template:'\n    <ng-template #footerContent>\n      <div class="modal-footer">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  ',isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:zp,decorators:[{type:r.Component,args:[{selector:"c8y-wizard-footer",template:'\n    <ng-template #footerContent>\n      <div class="modal-footer">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  '}]}],ctorParameters:function(){return[{type:Up},{type:ls}]},propDecorators:{footerContent:[{type:r.ViewChild,args:["footerContent",{static:!0}]}]}});var Hp=function(){function e(t,n){bi(this,e),this.wizard=t,this.wizardService=n}return Ci(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){e.wizardService.headerTemplate$.next({template:e.headerContent,wizardId:e.wizard.id})}))}}]),e}();Hp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hp,deps:[{token:Up},{token:ls}],target:r["ɵɵFactoryTarget"].Component}),Hp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Hp,selector:"c8y-wizard-header",viewQueries:[{propertyName:"headerContent",first:!0,predicate:["headerContent"],descendants:!0,static:!0}],ngImport:i,template:'\n    <ng-template #headerContent>\n      <div class="modal-header dialog-header animated fadeIn">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  ',isInline:!0}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Hp,decorators:[{type:r.Component,args:[{selector:"c8y-wizard-header",template:'\n    <ng-template #headerContent>\n      <div class="modal-header dialog-header animated fadeIn">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  '}]}],ctorParameters:function(){return[{type:Up},{type:ls}]},propDecorators:{headerContent:[{type:r.ViewChild,args:["headerContent",{static:!0}]}]}});var qp=function(){function e(t){bi(this,e),this.bsModalService=t}return Ci(e,[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ci({class:"modal-sm",backdrop:"static"},e);return this.bsModalService.show(Up,t)}}]),e}();qp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qp,deps:[{token:xe.BsModalService}],target:r["ɵɵFactoryTarget"].Injectable}),qp.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qp,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:qp,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:xe.BsModalService}]}});var Wp=Ci((function e(){bi(this,e)}));Wp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Wp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Wp,declarations:[Up,Bp,Hp,Gp,zp],imports:[xe.ModalModule,u.CommonModule,da],exports:[Up,Bp,Hp,Gp,zp]}),Wp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wp,providers:[ls,xe.BsModalRef,qp],imports:[xe.ModalModule,u.CommonModule,da]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Wp,decorators:[{type:r.NgModule,args:[{imports:[xe.ModalModule,u.CommonModule,da],exports:[Up,Bp,Hp,Gp,zp],declarations:[Up,Bp,Hp,Gp,zp],entryComponents:[Up,Hp,Gp,zp],providers:[ls,xe.BsModalRef,qp]}]}]});var Kp=Ci((function e(){bi(this,e)}));Kp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Kp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Kp}),Kp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kp,providers:[jo]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Kp,decorators:[{type:r.NgModule,args:[{providers:[jo]}]}]});var Yp=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[].concat(wi(da.providers()),wi(Nl.providers()))}}}]),e}();Yp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Yp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Yp,exports:[ha,ba,xa,rp,Hl,Xc,da,$p,Kl,Pl,Nl,cc,Jc,Dc,Tl,$l,zl,Ol,xc,El,ld,Ll,jd,tp,Dl,Mp,Zl,Jl,el,_p,Pp,Lp,jp,Wp,Ml,Pd,Rl,Kp,Id,Fl]}),Yp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yp,imports:[ha,ba,xa,rp,Hl,Xc,da,$p,Kl,Pl,Nl,cc,Jc,Dc,Tl,$l,zl,Ol,xc,El,ld,Ll,jd,tp,Dl,Mp,Zl,Jl,el,_p,Pp,Lp,jp,Wp,Ml,Pd,Rl,Kp,Id,Fl]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Yp,decorators:[{type:r.NgModule,args:[{exports:[ha,ba,xa,rp,Hl,Xc,da,$p,Kl,Pl,Nl,cc,Jc,Dc,Tl,$l,zl,Ol,xc,El,ld,Ll,jd,tp,Dl,Mp,Zl,Jl,el,_p,Pp,Lp,jp,Wp,Ml,Pd,Rl,Kp,Id,Fl]}]}]});var Zp=function(){function e(){bi(this,e),this.classes=""}return Ci(e,[{key:"ngOnInit",value:function(){this.classes="card-block text-center ".concat((0,c.kebabCase)(this.label))}}]),e}();Zp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zp,deps:[],target:r["ɵɵFactoryTarget"].Component}),Zp.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Zp,selector:"c8y-quick-link",inputs:{icon:"icon",label:"label"},ngImport:i,template:'<div [class]="classes" title="{{ label | translate }}">\r\n  <h1 class="text-gray-darker">\r\n    <i [c8yIcon]="icon" class="c8y-icon-duocolor"></i>\r\n  </h1>\r\n  <p class="text-muted">{{ label | translate }}</p>\r\n</div>\r\n',dependencies:[{kind:"directive",type:wo,selector:"[c8yIcon]",inputs:["c8yIcon"]},{kind:"pipe",type:ao,name:"translate"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Zp,decorators:[{type:r.Component,args:[{selector:"c8y-quick-link",template:'<div [class]="classes" title="{{ label | translate }}">\r\n  <h1 class="text-gray-darker">\r\n    <i [c8yIcon]="icon" class="c8y-icon-duocolor"></i>\r\n  </h1>\r\n  <p class="text-muted">{{ label | translate }}</p>\r\n</div>\r\n'}]}],propDecorators:{icon:[{type:r.Input}],label:[{type:r.Input}]}});var Qp=Ci((function e(){bi(this,e)}));Qp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qp,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Qp.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:Qp,declarations:[Zp],imports:[Yp],exports:[Zp]}),Qp.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qp,imports:[Yp]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Qp,decorators:[{type:r.NgModule,args:[{declarations:[Zp],imports:[Yp],exports:[Zp],providers:[]}]}]});var Xp=new r.InjectionToken("Dynamic Provider Config"),Jp=function(){function e(t,n){bi(this,e),this.injector=n,this.config=(0,c.flatten)(t)}return Ci(e,[{key:"get",value:function(){var e=this;if(this.config&&this.config.length){if(!this.nodes){var t=this.config.map(this.getGuards.bind(this)).map(this.checkCanActivate.bind(this));return(0,a.forkJoin)(t).pipe((0,s.map)((function(t){return e.config.map((function(e,n){return t[n]?new Da(e.navigation):void 0})).filter((function(e){return!!e}))})),(0,s.tap)((function(t){return e.nodes=t})))}return this.nodes}}},{key:"checkCanActivate",value:function(e){if(e&&e.length){var t=e.map((function(e){return e.canActivate(void 0,void 0)})).map(Ai);return(0,a.forkJoin)(t).pipe((0,s.map)((function(e){return e.reduce((function(e,t){return e&&t}))})))}return(0,a.of)(!0)}},{key:"getGuards",value:function(e){var t=this,n=[];return e.tab&&e.tab.canActivate&&e.tab.canActivate.length&&(n=[].concat(wi(n),wi(e.tab.canActivate.map((function(e){return t.injector.get(e)}))))),e.navigation.canActivate&&e.navigation.canActivate.length&&(n=[].concat(wi(n),wi(e.navigation.canActivate.map((function(e){return t.injector.get(e)}))))),n}}]),e}();Jp.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jp,deps:[{token:Xp,optional:!0},{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),Jp.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jp}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:Jp,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Xp]}]},{type:r.Injector}]}});var eu=function(e){gi(o,e);var t,n,r,i=mi(o);function o(e,t){var n;return bi(this,o),(n=i.call(this,e)).baseUrl=(0,c.get)(t,"snapshot.data.endpoint.configurationEndpoint.baseUrl"),n.listUrl=(0,c.get)(t,"snapshot.data.endpoint.configurationEndpoint.listUrl"),n}return Ci(o,[{key:"detail",value:(r=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(vi(o.prototype),"detail",this).call(this,o.NO_DETAIL_ID));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"update",value:(n=ui(di().mark((function e(t){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(vi(o.prototype),"update",this).call(this,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"delete",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(vi(o.prototype),"delete",this).call(this,o.NO_DETAIL_ID));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getDetailUrl",value:function(e){return this.listUrl}}]),o}(g.Service);eu.NO_DETAIL_ID=null,eu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:eu,deps:[{token:g.FetchClient},{token:o.ActivatedRoute}],target:r["ɵɵFactoryTarget"].Injectable}),eu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:eu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:eu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:g.FetchClient},{type:o.ActivatedRoute}]}});var tu=function(e){gi(r,e);var t,n=mi(r);function r(e,t){var i;return bi(this,r),(i=n.call(this,e)).baseUrl=(0,c.get)(t,"snapshot.data.endpoint.definitionsEndpoint.baseUrl"),i.listUrl=(0,c.get)(t,"snapshot.data.endpoint.definitionsEndpoint.listUrl"),i}return Ci(r,[{key:"list",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni(vi(r.prototype),"list",this).call(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(g.Service);tu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tu,deps:[{token:g.FetchClient},{token:o.ActivatedRoute}],target:r["ɵɵFactoryTarget"].Injectable}),tu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:tu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:g.FetchClient},{type:o.ActivatedRoute}]}});var nu=function(){function e(t,n,r,i,o,c,l){var d=this;bi(this,e),this.permissions=t,this.activatedRoute=n,this.modalService=r,this.alertService=i,this.providerDefinitionsService=o,this.providerConfigurationService=c,this.jsonschema=l,this.layout$=this.activatedRoute.data.pipe((0,s.map)((function(e){return e.layout})),(0,s.tap)((function(e){return d.layout=e})),(0,s.tap)((function(e){d.options.formState.disabled=!d.permissions.hasAllRoles(e.saveRoles||[]),d.beforeSaveHook=e.beforeSaveHook}))),this.allRoles$=this.layout$.pipe((0,s.map)((function(e){return[].concat(wi(e.deleteRoles||[]),wi(e.saveRoles||[]))}))),this.changeProvider$=new a.BehaviorSubject(null),this.providerInput$=new a.BehaviorSubject(""),this.form=new De.FormGroup({}),this.fields=[],this.options={formState:{disabled:!1}},this.reload$=new a.BehaviorSubject(null),this.updatedConfiguration$=new a.Subject}var t,n;return Ci(e,[{key:"ngOnInit",value:function(){var e=this,t=(0,a.from)(this.providerDefinitionsService.list()).pipe((0,s.map)((function(e){return e.data})),(0,s.shareReplay)(1));this.providers$=(0,a.combineLatest)(t,this.providerInput$).pipe((0,s.map)((function(e){var t=ii(e,2),n=t[0],r=t[1];return r?n.filter((function(e){return e.displayName.toLowerCase().indexOf(r.toLowerCase())>=0})):n})),(0,s.shareReplay)(1)),this.configuration$=(0,a.merge)(this.updatedConfiguration$,this.reload$.pipe((0,s.switchMap)((function(){return(0,a.from)(e.providerConfigurationService.detail()).pipe((0,s.catchError)((function(){return(0,a.of)({})})))})),(0,s.map)((function(e){return e.data})))).pipe((0,s.map)(this.removeEncryptedValues),(0,s.shareReplay)(1)),this.selectedProvider$=(0,a.combineLatest)(t,this.configuration$,this.changeProvider$).pipe((0,s.tap)((function(t){var n=ii(t,3),r=(n[0],n[1]),i=n[2];return e.model=i?(0,c.pick)(e.model,"sms.senderName","sms.senderAddress"):r})),(0,s.map)((function(e){var t=ii(e,3),n=t[0],r=t[1];return t[2]||(0,c.find)(n,(function(e){return(0,c.get)(r,"provider")===e.id}))})),(0,s.tap)((function(t){if(t){var n=e.jsonschema.toFieldConfig((0,c.get)(t,"schema"));n.fieldGroup&&n.fieldGroup.forEach((function(e){(0,Un["ɵdefineHiddenProp"])(e,"_keyPath",{key:e.key,path:[e.key]}),e.expressionProperties={"templateOptions.disabled":"formState.disabled"}})),e.fields=[n],e.form=new De.FormGroup({})}})),(0,s.shareReplay)(1))}},{key:"saveProviderConfiguration",value:(n=ui(di().mark((function e(){var t,n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.beforeSaveHook){e.next=6;break}return e.next=3,this.beforeSaveHook(this.model,this.fields);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=this.model;case 7:return t=e.t0,(0,c.forOwn)(t,(function(e,n){Array.isArray(e)&&(t[n]=e.filter((function(e){return!!e||0===e})))})),e.prev=9,e.next=12,this.providerConfigurationService.update(t);case 12:n=e.sent,this.changeProvider$.next(null),this.updatedConfiguration$.next(n.data),this.alertService.success(this.layout.configurationUpdatedSuccessMsg),this.form.markAsPristine(),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(9),this.alertService.addServerFailure(e.t1);case 22:case"end":return e.stop()}}),e,this,[[9,19]])}))),function(){return n.apply(this,arguments)})},{key:"deleteProviderConfiguration",value:(t=ui(di().mark((function e(){return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.modalService.confirm(this.layout.deleteConfigurationModalTitle,this.layout.deleteConfigurationModalBody,Fa.DANGER,{ok:this.layout.deleteConfigurationModalOkBtnLabel,cancel:this.layout.deleteConfigurationModalCancelBtnLabel});case 3:return e.next=5,this.providerConfigurationService.delete();case 5:this.reload$.next(),this.alertService.success(this.layout.configurationDeletedSuccessMsg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0&&this.alertService.addServerFailure(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return t.apply(this,arguments)})},{key:"removeEncryptedValues",value:function(e){return(0,c.mapValues)(e,(function(e){return"<<Encrypted>>"===e?void 0:e}))}}]),e}();nu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nu,deps:[{token:Ho},{token:o.ActivatedRoute},{token:ks},{token:ka},{token:tu},{token:eu},{token:_d}],target:r["ɵɵFactoryTarget"].Component}),nu.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:nu,selector:"c8y-sms-gateway",providers:[eu,tu],ngImport:i,template:'<c8y-title>\n  {{ (layout$ | async)?.pageTitle | translate }}\n</c8y-title>\n\n<div class="row">\n  <div class="col-md-8 col-xs-12">\n    <form class="card card--fullpage" (ngSubmit)="saveProviderConfiguration()">\n      <div class="card-header separator">\n        <h4 class="card-title">\n          {{ (layout$ | async)?.cardTitle | translate }}\n        </h4>\n      </div>\n      <div class="inner-scroll">\n        <div class="card-block">\n          <p *ngIf="!!(layout$ | async)?.description" class="m-b-8">\n            {{ (layout$ | async)?.description | translate }}\n          </p>\n          <c8y-form-group>\n            <label for="providerName">{{ (layout$ | async)?.providerName | translate }}</label>\n            <c8y-typeahead\n              [disabled]="!permissions.hasAllRoles((layout$ | async)?.saveRoles || [])"\n              [ngModel]="selectedProvider$ | async"\n              [displayProperty]="\'displayName\'"\n              name="providerName"\n              placeholder="{{ (layout$ | async)?.providerNamePlaceholder | translate }}"\n              (onSearch)="providerInput$.next($event)"\n              [allowFreeEntries]="false"\n              [required]="true"\n              [container]="\'body\'"\n            >\n              <c8y-li\n                *ngFor="let provider of providers$ | async"\n                class="p-l-8 p-r-8 c8y-list__item--link"\n                (click)="changeProvider$.next(provider); providerInput$.next(\'\')"\n                [active]="(selectedProvider$ | async) === provider"\n              >\n                <c8y-highlight\n                  [text]="provider.displayName || \'--\'"\n                  [pattern]="providerInput$ | async"\n                ></c8y-highlight>\n              </c8y-li>\n            </c8y-typeahead>\n            <c8y-messages\n              ><c8y-message\n                name="notExisting"\n                [text]="(layout$ | async)?.providerNameNoMatchesHint | translate"\n              ></c8y-message>\n            </c8y-messages>\n          </c8y-form-group>\n          <formly-form\n            *ngIf="selectedProvider$ | async"\n            [form]="form"\n            [fields]="fields"\n            [model]="model"\n            [options]="options"\n          ></formly-form>\n        </div>\n      </div>\n      <div class="card-footer separator" *c8yIfAllowed="allRoles$ | async; allowAny">\n        <button\n          *c8yIfAllowed="(layout$ | async)?.deleteRoles"\n          class="btn btn-default"\n          type="button"\n          (click)="deleteProviderConfiguration()"\n          [disabled]="\n            !(configuration$ | async)?.provider && !(configuration$ | async)?.providerName\n          "\n          title="{{ (layout$ | async)?.deleteBtnLabel | translate }}"\n        >\n          {{ (layout$ | async)?.deleteBtnLabel | translate }}\n        </button>\n        <button\n          *c8yIfAllowed="(layout$ | async)?.saveRoles"\n          class="btn btn-primary"\n          type="submit"\n          [disabled]="form.invalid || form.pristine"\n          title="{{ (layout$ | async)?.saveBtnLabel | translate }}"\n        >\n          {{ (layout$ | async)?.saveBtnLabel | translate }}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:u.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:u.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:qo,selector:"[c8yIfAllowed]",inputs:["c8yIfAllowed","c8yIfAllowedAllowAny"]},{kind:"component",type:Lc,selector:"c8y-title",inputs:["pageTitleUpdate"]},{kind:"component",type:nl,selector:"c8y-highlight",inputs:["pattern","text","elementClass","shouldTrimPattern"]},{kind:"component",type:dl,selector:"c8y-typeahead",inputs:["required","maxlength","disabled","allowFreeEntries","placeholder","displayProperty","icon","name","autoClose","hideNew","container","selected"],outputs:["onSearch","onIconClick"]},{kind:"directive",type:De["ɵNgNoValidate"],selector:"form:not([ngNoForm]):not([ngNativeValidate])"},{kind:"directive",type:De.NgControlStatus,selector:"[formControlName],[ngModel],[formControl]"},{kind:"directive",type:De.NgControlStatusGroup,selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]"},{kind:"directive",type:De.RequiredValidator,selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",inputs:["required"]},{kind:"directive",type:De.NgModel,selector:"[ngModel]:not([formControlName]):not([formControl])",inputs:["name","disabled","ngModel","ngModelOptions"],outputs:["ngModelChange"],exportAs:["ngModel"]},{kind:"directive",type:De.NgForm,selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",inputs:["ngFormOptions"],outputs:["ngSubmit"],exportAs:["ngForm"]},{kind:"component",type:$s,selector:"c8y-form-group",inputs:["hasError","hasWarning","hasSuccess","novalidation","status"]},{kind:"directive",type:Ss,selector:"c8y-message",inputs:["name","text"]},{kind:"component",type:Ds,selector:"c8y-messages",inputs:["show","defaults"]},{kind:"component",type:sl,selector:"c8y-list-item, c8y-li",inputs:["active","emptyActions","collapsed","selectable"],outputs:["collapsedChange"]},{kind:"component",type:Un.FormlyForm,selector:"formly-form",inputs:["model","fields","options","form"],outputs:["modelChange"]},{kind:"pipe",type:ao,name:"translate"},{kind:"pipe",type:u.AsyncPipe,name:"async"}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:nu,decorators:[{type:r.Component,args:[{selector:"c8y-sms-gateway",providers:[eu,tu],template:'<c8y-title>\n  {{ (layout$ | async)?.pageTitle | translate }}\n</c8y-title>\n\n<div class="row">\n  <div class="col-md-8 col-xs-12">\n    <form class="card card--fullpage" (ngSubmit)="saveProviderConfiguration()">\n      <div class="card-header separator">\n        <h4 class="card-title">\n          {{ (layout$ | async)?.cardTitle | translate }}\n        </h4>\n      </div>\n      <div class="inner-scroll">\n        <div class="card-block">\n          <p *ngIf="!!(layout$ | async)?.description" class="m-b-8">\n            {{ (layout$ | async)?.description | translate }}\n          </p>\n          <c8y-form-group>\n            <label for="providerName">{{ (layout$ | async)?.providerName | translate }}</label>\n            <c8y-typeahead\n              [disabled]="!permissions.hasAllRoles((layout$ | async)?.saveRoles || [])"\n              [ngModel]="selectedProvider$ | async"\n              [displayProperty]="\'displayName\'"\n              name="providerName"\n              placeholder="{{ (layout$ | async)?.providerNamePlaceholder | translate }}"\n              (onSearch)="providerInput$.next($event)"\n              [allowFreeEntries]="false"\n              [required]="true"\n              [container]="\'body\'"\n            >\n              <c8y-li\n                *ngFor="let provider of providers$ | async"\n                class="p-l-8 p-r-8 c8y-list__item--link"\n                (click)="changeProvider$.next(provider); providerInput$.next(\'\')"\n                [active]="(selectedProvider$ | async) === provider"\n              >\n                <c8y-highlight\n                  [text]="provider.displayName || \'--\'"\n                  [pattern]="providerInput$ | async"\n                ></c8y-highlight>\n              </c8y-li>\n            </c8y-typeahead>\n            <c8y-messages\n              ><c8y-message\n                name="notExisting"\n                [text]="(layout$ | async)?.providerNameNoMatchesHint | translate"\n              ></c8y-message>\n            </c8y-messages>\n          </c8y-form-group>\n          <formly-form\n            *ngIf="selectedProvider$ | async"\n            [form]="form"\n            [fields]="fields"\n            [model]="model"\n            [options]="options"\n          ></formly-form>\n        </div>\n      </div>\n      <div class="card-footer separator" *c8yIfAllowed="allRoles$ | async; allowAny">\n        <button\n          *c8yIfAllowed="(layout$ | async)?.deleteRoles"\n          class="btn btn-default"\n          type="button"\n          (click)="deleteProviderConfiguration()"\n          [disabled]="\n            !(configuration$ | async)?.provider && !(configuration$ | async)?.providerName\n          "\n          title="{{ (layout$ | async)?.deleteBtnLabel | translate }}"\n        >\n          {{ (layout$ | async)?.deleteBtnLabel | translate }}\n        </button>\n        <button\n          *c8yIfAllowed="(layout$ | async)?.saveRoles"\n          class="btn btn-primary"\n          type="submit"\n          [disabled]="form.invalid || form.pristine"\n          title="{{ (layout$ | async)?.saveBtnLabel | translate }}"\n        >\n          {{ (layout$ | async)?.saveBtnLabel | translate }}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:Ho},{type:o.ActivatedRoute},{type:ks},{type:ka},{type:tu},{type:eu},{type:_d}]}});var ru=function(){function e(t){bi(this,e),this.config=(0,c.flatten)(t)}return Ci(e,[{key:"get",value:function(){var e=(0,c.uniqBy)(this.config.filter((function(e){return e.tab})),"navigation.path").map((function(e){return{path:e.navigation.path,component:Gl}})),t=this.config.map((function(e){return{path:e.tab?"".concat(e.navigation.path.replace(/^\/|\/$/g,""),"/").concat(e.tab.path.replace(/^\/|\/$/g,"")):e.navigation.path,component:nu,canActivate:[].concat(wi(e.navigation.canActivate||[]),wi((0,c.get)(e,"tab.canActivate")||[])).filter((function(e){return!!e})),data:{layout:e.layout,endpoint:e.endpoint}}}));return[].concat(wi(e),wi(t))}}]),e}();ru.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ru,deps:[{token:Xp,optional:!0}],target:r["ɵɵFactoryTarget"].Injectable}),ru.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ru}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ru,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Xp]}]}]}});var iu=function(){function e(t,n,r){bi(this,e),this.router=n,this.injector=r,this.config=(0,c.flatten)(t)}return Ci(e,[{key:"get",value:function(){var e=this;if(this.config&&this.config.length){var t=this.config.find((function(t){return!!t.tab&&(e.router.url==="/"+e.getNodeTabPath(t.navigation.path,t.tab.path)||e.router.url.startsWith("/"+t.navigation.path.replace(/^\/|\/$/g,"")))})),n=t?this.config.filter((function(e){return e.navigation.path.replace(/^\/|\/$/g,"")===t.navigation.path.replace(/^\/|\/$/g,"")&&e.tab})):[],r=n.map((function(t){return t.tab.canActivate&&t.tab.canActivate.length?t.tab.canActivate.map((function(t){return e.injector.get(t)})):void 0})).map(this.checkCanActivate.bind(this));return r.length>0?(0,a.forkJoin)(r).pipe((0,s.map)((function(t){return n.map((function(n,r){var i=ci(ci({},n.tab),{},{path:e.getNodeTabPath(n.navigation.path,n.tab.path)});return t[r]?i:void 0})).filter((function(e){return!!e}))}))):[]}}},{key:"checkCanActivate",value:function(e){if(e&&e.length){var t=e.map((function(e){return e.canActivate(void 0,void 0)})).map(Ai);return(0,a.forkJoin)(t).pipe((0,s.map)((function(e){return e.reduce((function(e,t){return e&&t}))})))}return(0,a.of)(!0)}},{key:"getNodeTabPath",value:function(e,t){return"".concat(e.replace(/^\/|\/$/g,""),"/").concat(t.replace(/^\/|\/$/g,""))}}]),e}();iu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:iu,deps:[{token:Xp,optional:!0},{token:o.Router},{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),iu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:iu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:iu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Xp]}]},{type:o.Router},{type:r.Injector}]}});var ou=function(){function e(){bi(this,e)}return Ci(e,null,[{key:"config",value:function(t){return{ngModule:e,providers:[{provide:Xp,useValue:t,multi:!0}]}}}]),e}();ou.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ou,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),ou.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ou,declarations:[nu],imports:[Yp,da,Pd],exports:[nu]}),ou.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ou,providers:[{provide:rs,useClass:(0,r.forwardRef)((function(){return ru})),multi:!0},{provide:Ea,useClass:(0,r.forwardRef)((function(){return Jp})),multi:!0},{provide:Qa,useClass:(0,r.forwardRef)((function(){return iu})),multi:!0}],imports:[Yp,da,Pd]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ou,decorators:[{type:r.NgModule,args:[{declarations:[nu],exports:[nu],imports:[Yp,da,Pd],entryComponents:[nu],providers:[{provide:rs,useClass:(0,r.forwardRef)((function(){return ru})),multi:!0},{provide:Ea,useClass:(0,r.forwardRef)((function(){return Jp})),multi:!0},{provide:Qa,useClass:(0,r.forwardRef)((function(){return iu})),multi:!0}]}]}]});var au=function(){function e(t,n){bi(this,e),this.userPreferencesService=t,this.dataGridService=n}return Ci(e,[{key:"getMappedGridConfig",value:function(e){var t=this,n=e.legacyConfigKey,r=e.legacyFilterKey;return(0,a.combineLatest)([this.userPreferencesService.get(n),this.userPreferencesService.get(r)]).pipe((0,s.map)((function(n){var r=ii(n,2),i=r[0],o=r[1];return t.mapLegacyToDeviceGridConfig(i,o,e.defaultColumns)})),(0,s.concatMap)((function(e){return e?Promise.all([t.userPreferencesService.set(n,null),t.userPreferencesService.set(r,null)]).then((function(){return e})):(0,a.of)(null)})),(0,s.concatMap)((function(n){return n?t.userPreferencesService.set(null==e?void 0:e.key,n).then((function(){return n})):t.userPreferencesService.get(null==e?void 0:e.key)})),(0,s.map)((function(e){return e||{columns:[],pagination:{pageSize:t.dataGridService.DEFAULT_PAGE_SIZE,currentPage:1}}})))}},{key:"mapLegacyToDeviceGridConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Array.isArray(e)||!(0,c.isEmpty)(t))return{columns:this.getConfigColumns(e,t,n),pagination:{pageSize:this.dataGridService.DEFAULT_PAGE_SIZE,currentPage:1}}}},{key:"getConfigColumns",value:function(e,t,n){var r=t?Object.keys(t).map((function(e){return{key:e,filter:{externalFilterQuery:t[e].filtering},sorting:t[e].sorting}})):[];return this.mergeLegacyConfigs(e||n.map((function(e){return{key:e.name}})),r).filter((function(e){return"removalColumn"!==e.key})).map(this.mapLegacyColumnConfig.bind(this))}},{key:"mergeLegacyConfigs",value:function(e,t){return e.map((function(e){return ci(ci({},t.find((function(t){return t.key===e.key}))),e)}))}},{key:"mapLegacyColumnConfig",value:function(t){var n=t.active,r=t.key,i=t.custom,o=t.headerName,a=t.fragmentPath,s=t.filter,l=t.sorting,d=l?this.migrateSortOrder(l):"";return(0,c.omitBy)({visible:null==n||n,name:e.deviceGridLegacyKeyToName[r]||r,sortOrder:d,custom:i,header:i?o:null,path:a,filter:s},c.isNil)}},{key:"migrateSortOrder",value:function(e){switch(e.order){case 0:return"";case-1:return"desc";case 1:return"asc"}}}]),e}();au.deviceGridLegacyKeyToName={status:"status",name:"name",model:"model",serialNumber:"serialNumber",group:"group",registrationDate:"registrationDate",systemId:"systemId",imei:"imei",alarms:"alarms"},au.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:au,deps:[{token:aa},{token:Ip}],target:r["ɵɵFactoryTarget"].Injectable}),au.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:au,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:au,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:aa},{type:Ip}]}});var su=function(){function e(t,n,r,i){bi(this,e),this.userPreferencesService=t,this.context=n,this.contextProvider=r,this.legacyGridMapperService=i}return Ci(e,[{key:"getConfig$",value:function(e){var t=this.getContext(e);return(0,c.isEmpty)(t)?(0,a.of)(void 0):t.legacyConfigKey||t.legacyFilterKey?this.legacyGridMapperService.getMappedGridConfig(t):this.userPreferencesService.get(null==t?void 0:t.key)}},{key:"saveConfig$",value:function(e,t){var n=this.getContext(t);return(0,c.isEmpty)(n)?(0,a.of)(void 0):(0,a.from)(this.userPreferencesService.set(null==n?void 0:n.key,e))}},{key:"isContextKnown",value:function(){return!!this.getContext()}},{key:"getContext",value:function(e){var t,n;return null!==(t=null!=e?e:null===(n=this.contextProvider)||void 0===n?void 0:n.getGridConfigContext())&&void 0!==t?t:this.context}}]),e}();su.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:su,deps:[{token:aa},{token:vp,optional:!0},{token:bp,optional:!0},{token:au}],target:r["ɵɵFactoryTarget"].Injectable}),su.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:su,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:su,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:aa},{type:void 0,decorators:[{type:r.Inject,args:[vp]},{type:r.Optional}]},{type:void 0,decorators:[{type:r.Inject,args:[bp]},{type:r.Optional}]},{type:au}]}});var cu=function(){function e(t){bi(this,e),this.realtime=t,this.subjects$=new Map}return Ci(e,[{key:"getObservableForChannel",value:function(e){if(this.subjects$.has(e))return this.subjects$.get(e);var t=this.createObservableForChannel(e,this.realtime).pipe((0,s.share)());return this.subjects$.set(e,t),t}},{key:"createObservableForChannel",value:function(e,t){return new a.Observable((function(n){var r=t.subscribe(e,(function(e){var t={channel:e.channel,data:e.data.data,id:e.id,realtimeAction:e.data.realtimeAction};n.next(t)}));return{unsubscribe:function(){t.unsubscribe(r)}}}))}}]),e}();cu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cu,deps:[{token:g.Realtime}],target:r["ɵɵFactoryTarget"].Injectable}),cu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cu,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:cu,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:g.Realtime}]}});var lu=function(e){gi(n,e);var t=mi(n);function n(e){var r;return bi(this,n),(r=t.call(this,e)).realtimeSubject=e,r}return Ci(n,[{key:"channel",value:function(){return"/alarms/*"}}]),n}(Eo);lu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:lu,deps:[{token:cu}],target:r["ɵɵFactoryTarget"].Injectable}),lu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:lu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:lu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:cu}]}});var du=function(e){gi(n,e);var t=mi(n);function n(e){var r;return bi(this,n),(r=t.call(this,e)).realtimeSubject=e,r}return Ci(n,[{key:"channel",value:function(){return"/events/*"}}]),n}(Eo);du.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:du,deps:[{token:cu}],target:r["ɵɵFactoryTarget"].Injectable}),du.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:du}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:du,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:cu}]}});var pu=function(e){gi(n,e);var t=mi(n);function n(e){var r;return bi(this,n),(r=t.call(this,e)).realtimeSubject=e,r}return Ci(n,[{key:"onCreate$",value:function(){return ni(vi(n.prototype),"onCreate$",this).call(this)}},{key:"channel",value:function(){return"/managedobjects/*"}}]),n}(Eo);pu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pu,deps:[{token:cu}],target:r["ɵɵFactoryTarget"].Injectable}),pu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:pu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:cu}]}});var uu=function(e){gi(n,e);var t=mi(n);function n(e,r){var i;return bi(this,n),(i=t.call(this,e)).realtimeSubject=e,i.measurementService=r,i}return Ci(n,[{key:"onCreateOfSpecificMeasurement$",value:function(e,t,n){return this.onCreate$(n).pipe((0,s.filter)((function(n){return n[e]&&n[e][t]})))}},{key:"latestValueOfSpecificMeasurement$",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.onCreateOfSpecificMeasurement$(e,t,n),s=this.lastMeasurement$(e,t,n,r,i);return(0,a.merge)(s,o)}},{key:"lastMeasurement$",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,a.from)(this.measurementService.list({valueFragmentSeries:t,valueFragmentType:e,source:this.getIdString(n),dateFrom:"1970-01-01",revert:!0,pageSize:r})).pipe((0,s.map)((function(e){return!i||e.data.length?e.data:[null]})),(0,s.switchMap)((function(e){return(0,a.from)(e.reverse())})))}},{key:"channel",value:function(){return"/measurements/*"}}]),n}(Eo);uu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:uu,deps:[{token:cu},{token:g.MeasurementService}],target:r["ɵɵFactoryTarget"].Injectable}),uu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:uu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:uu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:cu},{type:g.MeasurementService}]}});var gu=function(e){gi(n,e);var t=mi(n);function n(e){var r;return bi(this,n),(r=t.call(this,e)).realtimeSubject=e,r}return Ci(n,[{key:"onCreate$",value:function(){return ni(vi(n.prototype),"onCreate$",this).call(this)}},{key:"channel",value:function(){return"/bulkOperations/*"}}]),n}(Eo);gu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gu,deps:[{token:cu}],target:r["ɵɵFactoryTarget"].Injectable}),gu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:gu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:cu}]}});var hu=function(e){gi(n,e);var t=mi(n);function n(e){var r;return bi(this,n),(r=t.call(this,e)).realtimeSubject=e,r}return Ci(n,[{key:"channel",value:function(){return"/operations/*"}}]),n}(Eo);hu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hu,deps:[{token:cu}],target:r["ɵɵFactoryTarget"].Injectable}),hu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:hu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:cu}]}});var mu=function(e){gi(n,e);var t=mi(n);function n(e){var r;return bi(this,n),(r=t.call(this,e)).realtimeSubject=e,r}return Ci(n,[{key:"channel",value:function(){return"/bootstrap"}}]),n}(Eo);mu.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mu,deps:[{token:cu}],target:r["ɵɵFactoryTarget"].Injectable}),mu.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mu}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:mu,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:cu}]}});var fu=Ci((function e(){bi(this,e)}))}}]);