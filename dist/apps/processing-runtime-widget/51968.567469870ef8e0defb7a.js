"use strict";(self.webpackChunkcumulocity_processing_widget_plugin=self.webpackChunkcumulocity_processing_widget_plugin||[]).push([[51968],{51968:function(e,t,n){var s;n.r(t),n.d(t,{BsDatepickerConfig:function(){return b},BsDatepickerContainerComponent:function(){return le},BsDatepickerDirective:function(){return de},BsDatepickerInlineConfig:function(){return pe},BsDatepickerInlineContainerComponent:function(){return he},BsDatepickerInlineDirective:function(){return ue},BsDatepickerInputDirective:function(){return De},BsDatepickerModule:function(){return Te},BsDaterangepickerConfig:function(){return ke},BsDaterangepickerContainerComponent:function(){return me},BsDaterangepickerDirective:function(){return we},BsDaterangepickerInlineConfig:function(){return ge},BsDaterangepickerInlineContainerComponent:function(){return be},BsDaterangepickerInlineDirective:function(){return ve},BsDaterangepickerInputDirective:function(){return Se},BsLocaleService:function(){return k}});var a=n(40761),i=n(76063),o=n(19250),r=n(88553),c=n(64850),l=n(67595),d=n(89754),p=n(19501),h=n(80179),u=n(64431),g=n(35746),m=n(24219);class b{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"]}}b.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:b,deps:[],target:a["ɵɵFactoryTarget"].Injectable}),b.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:b,providedIn:"root"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:b,decorators:[{type:a.Injectable,args:[{providedIn:"root"}]}]});const v="220ms cubic-bezier(0, 0, 0.2, 1)",y=(0,l.trigger)("datepickerAnimation",[(0,l.state)("animated-down",(0,l.style)({height:"*",overflow:"hidden"})),(0,l.transition)("* => animated-down",[(0,l.style)({height:0,overflow:"hidden"}),(0,l.animate)(v)]),(0,l.state)("animated-up",(0,l.style)({height:"*",overflow:"hidden"})),(0,l.transition)("* => animated-up",[(0,l.style)({height:"*",overflow:"hidden"}),(0,l.animate)(v)]),(0,l.transition)("* => unanimated",(0,l.animate)("0s"))]);class f{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new d.Subscription,this.selectedTimeSub=new d.Subscription}set minDate(e){this._effects?.setMinDate(e)}set maxDate(e){this._effects?.setMaxDate(e)}set daysDisabled(e){this._effects?.setDaysDisabled(e)}set datesDisabled(e){this._effects?.setDatesDisabled(e)}set datesEnabled(e){this._effects?.setDatesEnabled(e)}set isDisabled(e){this._effects?.setDisabled(e)}set dateCustomClasses(e){this._effects?.setDateCustomClasses(e)}set dateTooltipTexts(e){this._effects?.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe((e=>{this.multipleCalendars=!!e&&e.length>1})))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}timeSelectHandler(e,t){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}class D{calculate(){return{type:D.CALCULATE}}format(){return{type:D.FORMAT}}flag(){return{type:D.FLAG}}select(e){return{type:D.SELECT,payload:e}}selectTime(e,t){return{type:D.SELECT_TIME,payload:{date:e,index:t}}}changeViewMode(e){return{type:D.CHANGE_VIEWMODE,payload:e}}navigateTo(e){return{type:D.NAVIGATE_TO,payload:e}}navigateStep(e){return{type:D.NAVIGATE_OFFSET,payload:e}}setOptions(e){return{type:D.SET_OPTIONS,payload:e}}selectRange(e){return{type:D.SELECT_RANGE,payload:e}}hoverDay(e){return{type:D.HOVER,payload:e.isHovered?e.cell.date:null}}minDate(e){return{type:D.SET_MIN_DATE,payload:e}}maxDate(e){return{type:D.SET_MAX_DATE,payload:e}}daysDisabled(e){return{type:D.SET_DAYSDISABLED,payload:e}}datesDisabled(e){return{type:D.SET_DATESDISABLED,payload:e}}datesEnabled(e){return{type:D.SET_DATESENABLED,payload:e}}isDisabled(e){return{type:D.SET_IS_DISABLED,payload:e}}setDateCustomClasses(e){return{type:D.SET_DATE_CUSTOM_CLASSES,payload:e}}setDateTooltipTexts(e){return{type:D.SET_DATE_TOOLTIP_TEXTS,payload:e}}setLocale(e){return{type:D.SET_LOCALE,payload:e}}}D.CALCULATE="[datepicker] calculate dates matrix",D.FORMAT="[datepicker] format datepicker values",D.FLAG="[datepicker] set flags",D.SELECT="[datepicker] select date",D.NAVIGATE_OFFSET="[datepicker] shift view date",D.NAVIGATE_TO="[datepicker] change view date",D.SET_OPTIONS="[datepicker] update render options",D.HOVER="[datepicker] hover date",D.CHANGE_VIEWMODE="[datepicker] switch view mode",D.SET_MIN_DATE="[datepicker] set min date",D.SET_MAX_DATE="[datepicker] set max date",D.SET_DAYSDISABLED="[datepicker] set days disabled",D.SET_DATESDISABLED="[datepicker] set dates disabled",D.SET_DATESENABLED="[datepicker] set dates enabled",D.SET_IS_DISABLED="[datepicker] set is disabled",D.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",D.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",D.SET_LOCALE="[datepicker] set datepicker locale",D.SELECT_TIME="[datepicker] select time",D.SELECT_RANGE="[daterangepicker] select dates range",D.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:D,deps:[],target:a["ɵɵFactoryTarget"].Injectable}),D.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:D,providedIn:"platform"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:D,decorators:[{type:a.Injectable,args:[{providedIn:"platform"}]}]});class k{constructor(){this._defaultLocale="en",this._locale=new d.BehaviorSubject(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(e){e!==this.currentLocale&&this._locale.next(e)}}k.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:k,deps:[],target:a["ɵɵFactoryTarget"].Injectable}),k.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:k,providedIn:"platform"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:k,decorators:[{type:a.Injectable,args:[{providedIn:"platform"}]}]});class w{constructor(e,t){this._actions=e,this._localeService=t,this._subs=[]}init(e){return this._store=e,this}setValue(e){this._store?.dispatch(this._actions.select(e))}setRangeValue(e){this._store?.dispatch(this._actions.selectRange(e))}setMinDate(e){return this._store?.dispatch(this._actions.minDate(e)),this}setMaxDate(e){return this._store?.dispatch(this._actions.maxDate(e)),this}setDaysDisabled(e){return this._store?.dispatch(this._actions.daysDisabled(e)),this}setDatesDisabled(e){return this._store?.dispatch(this._actions.datesDisabled(e)),this}setDatesEnabled(e){return this._store?.dispatch(this._actions.datesEnabled(e)),this}setDisabled(e){return this._store?.dispatch(this._actions.isDisabled(e)),this}setDateCustomClasses(e){return this._store?.dispatch(this._actions.setDateCustomClasses(e)),this}setDateTooltipTexts(e){return this._store?.dispatch(this._actions.setDateTooltipTexts(e)),this}setOptions(e){const t=Object.assign({locale:this._localeService.currentLocale},e);return this._store?.dispatch(this._actions.setOptions(t)),this}setBindings(e){return this._store?(e.selectedTime=this._store.select((e=>e.selectedTime)).pipe((0,i.filter)((e=>!!e))),e.daysCalendar$=this._store.select((e=>e.flaggedMonths)).pipe((0,i.filter)((e=>!!e))),e.monthsCalendar=this._store.select((e=>e.flaggedMonthsCalendar)).pipe((0,i.filter)((e=>!!e))),e.yearsCalendar=this._store.select((e=>e.yearsCalendarFlagged)).pipe((0,i.filter)((e=>!!e))),e.viewMode=this._store.select((e=>e.view?.mode)),e.options$=(0,d.combineLatest)([this._store.select((e=>e.showWeekNumbers)),this._store.select((e=>e.displayMonths))]).pipe((0,i.map)((e=>({showWeekNumbers:e[0],displayMonths:e[1]})))),this):this}setEventHandlers(e){return e.setViewMode=e=>{this._store?.dispatch(this._actions.changeViewMode(e))},e.navigateTo=e=>{this._store?.dispatch(this._actions.navigateStep(e.step))},e.dayHoverHandler=e=>{const t=e.cell;t.isOtherMonth||t.isDisabled||(this._store?.dispatch(this._actions.hoverDay(e)),t.isHovered=e.isHovered)},e.monthHoverHandler=e=>{e.cell.isHovered=e.isHovered},e.yearHoverHandler=e=>{e.cell.isHovered=e.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select((e=>e.view)).subscribe((()=>{this._store?.dispatch(this._actions.calculate())}))),this._subs.push(this._store.select((e=>e.monthsModel)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.format())))),this._subs.push(this._store.select((e=>e.formattedMonths)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._store.select((e=>e.selectedDate)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._store.select((e=>e.selectedRange)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._store.select((e=>e.monthsCalendar)).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._store.select((e=>e.yearsCalendarModel)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._store.select((e=>e.hoveredDate)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._store.select((e=>e.dateCustomClasses)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._store.select((e=>e.dateTooltipTexts)).pipe((0,i.filter)((e=>!!e))).subscribe((()=>this._store?.dispatch(this._actions.flag())))),this._subs.push(this._localeService.localeChange.subscribe((e=>this._store?.dispatch(this._actions.setLocale(e))))),this):this}destroy(){for(const e of this._subs)e.unsubscribe()}}w.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:w,deps:[{token:D},{token:k}],target:a["ɵɵFactoryTarget"].Injectable}),w.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:w,providedIn:"platform"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:w,decorators:[{type:a.Injectable,args:[{providedIn:"platform"}]}],ctorParameters:function(){return[{type:D},{type:k}]}});const C={date:new Date,mode:"day"},_=Object.assign(new b,{locale:"en",view:C,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function S(e,t){if((0,o.isFirstDayOfWeek)(e,t.firstDayOfWeek))return e;const n=function(e,t){const n=Number(t);if(isNaN(n))return 0;if(0===n)return e;const s=e-n%7;return s<0?s+7:s}((0,o.getDay)(e),t.firstDayOfWeek);return(0,o.shiftDate)(e,{day:-n})}function T(e,t,n){const s=t&&(0,o.isBefore)((0,o.endOf)(e,"month"),t,"day"),a=n&&(0,o.isAfter)((0,o.startOf)(e,"month"),n,"day");return s||a||!1}function I(e,t,n){const s=t&&(0,o.isBefore)((0,o.endOf)(e,"year"),t,"day"),a=n&&(0,o.isAfter)((0,o.startOf)(e,"year"),n,"day");return s||a||!1}function V(e,t,n){return!!(t&&(0,o.isArray)(t)&&t.length)&&(n&&"year"===n&&!t[0].getDate()?t.some((t=>(0,o.isSame)(e,t,"year"))):t.some((t=>(0,o.isSame)(e,t,"date"))))}function x(e,t,n){return!!(t&&(0,o.isArray)(t)&&t.length)&&!t.some((t=>(0,o.isSame)(e,t,n||"date")))}function R(e,t=0){const n=e&&e.yearsCalendarModel&&e.yearsCalendarModel[t];return n?.years[0]&&n.years[0][0]&&n.years[0][0].date}function E(e,t){return e&&t&&(e.length||e[0].value)?(e.forEach((n=>n&&n.value?n.value instanceof Date?e:n.value instanceof Array&&n.value.length?(n.value=O(n.value,t),e):e:e)),e):e}function M(e,t){return e&&t?e instanceof Array&&!e.length||e instanceof Date?e:O(e,t):e}function O(e,t){if(e instanceof Array){return e.map((e=>e?((0,o.isAfter)(e,t,"date")&&(e=t),e):e))}return e}function A(e){return e?F(e):e}function H(e){return e?.length?(e.map((e=>e?F(e):e)),e):e}function F(e){const t=new Date;return e.setMilliseconds(t.getMilliseconds()),e.setSeconds(t.getSeconds()),e.setMinutes(t.getMinutes()),e.setHours(t.getHours()),e}function $(e,t){let n=e.initialDate;const s=new Array(e.height);for(let a=0;a<e.height;a++){s[a]=new Array(e.width);for(let i=0;i<e.width;i++)s[a][i]=t(n),n=(0,o.shiftDate)(n,e.shift)}return s}function P(e,t){const n=(0,o.getFirstDayOfMonth)(e),s=S(n,t);return{daysMatrix:$({width:t.width||0,height:t.height||0,initialDate:s,shift:{day:1}},(e=>e)),month:n}}function L(e){const t=(0,o.getLocale)(e),n=t.weekdaysShort(),s=t.firstDayOfWeek();return[...n.slice(s),...n.slice(0,s)]}function N(e,t){return!t||e>=t}const B={month:1};function j(e,t){return{months:$({width:3,height:4,initialDate:(0,o.startOf)(e,"year"),shift:B},(e=>({date:e,label:(0,o.formatDate)(e,t.monthLabel,t.locale)}))),monthTitle:"",yearTitle:(0,o.formatDate)(e,t.yearTitle,t.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const W=16,Y=-1*(Math.floor(8)-1),G={year:1};function U(e,t,n){const s=function(e,t){if(t&&e.getFullYear()>=t.getFullYear()&&e.getFullYear()<t.getFullYear()+16)return t;return(0,o.shiftDate)(e,{year:Y})}(e,n),a=$({width:4,height:4,initialDate:s,shift:G},(e=>({date:e,label:(0,o.formatDate)(e,t.yearLabel,t.locale)}))),i=function(e,t){const n=(0,o.formatDate)(e[0][0].date,t.yearTitle,t.locale),s=(0,o.formatDate)(e[3][3].date,t.yearTitle,t.locale);return`${n} - ${s}`}(a,t);return{years:a,monthTitle:"",yearTitle:i,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function Q(e,t){e&&isNaN(e.getTime())&&(e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds()))}function q(e=_,t){switch(t.type){case D.CALCULATE:return function(e){if(!e.view)return e;let t;t=e.displayOneMonthRange&&X(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths||1;let n=e.view.date;if("day"===e.view.mode&&e.monthViewOptions){e.showPreviousMonth&&e.selectedRange&&0===e.selectedRange.length&&(n=(0,o.shiftDate)(n,{month:-1})),e.monthViewOptions.firstDayOfWeek=(0,o.getLocale)(e.locale).firstDayOfWeek();let s=new Array(t);for(let a=0;a<t;a++)s[a]=P(n,e.monthViewOptions),n=(0,o.shiftDate)(n,{month:1});if(e.preventChangeToNextMonth&&e.flaggedMonths&&e.hoveredDate){const t=P(e.view.date,e.monthViewOptions);e.flaggedMonths.length&&e.flaggedMonths[1].month.getMonth()===t.month.getMonth()&&(s=e.flaggedMonths.map((t=>e.monthViewOptions?P(t.month,e.monthViewOptions):null)).filter((e=>null!==e)))}return Object.assign({},e,{monthsModel:s})}if("month"===e.view.mode){const s=new Array(t);for(let a=0;a<t;a++)s[a]=j(n,K(e)),n=(0,o.shiftDate)(n,{year:1});return Object.assign({},e,{monthsCalendar:s})}if("year"===e.view.mode){const s=new Array(t);for(let a=0;a<t;a++)s[a]=U(n,K(e),"year"===e.minMode?R(e,a):void 0),n=(0,o.shiftDate)(n,{year:W});return Object.assign({},e,{yearsCalendarModel:s})}return e}(e);case D.FORMAT:return function(e){if(!e.view)return e;if("day"===e.view.mode&&e.monthsModel){const t=e.monthsModel.map(((t,n)=>function(e,t,n){return{month:e.month,monthTitle:(0,o.formatDate)(e.month,t.monthTitle,t.locale),yearTitle:(0,o.formatDate)(e.month,t.yearTitle,t.locale),weekNumbers:(s=e.daysMatrix,a=t.weekNumbers,i=t.locale,s.map((e=>e[0]?(0,o.formatDate)(e[0],a,i):""))),weekdays:L(t.locale),weeks:e.daysMatrix.map(((e,s)=>({days:e.map(((e,a)=>({date:e,label:(0,o.formatDate)(e,t.dayLabel,t.locale),monthIndex:n,weekIndex:s,dayIndex:a})))}))),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1};var s,a,i}(t,K(e),n)));return Object.assign({},e,{formattedMonths:t})}const t=e.displayMonths||1;let n=e.view.date;if("month"===e.view.mode){const s=new Array(t);for(let a=0;a<t;a++)s[a]=j(n,K(e)),n=(0,o.shiftDate)(n,{year:1});return Object.assign({},e,{monthsCalendar:s})}if("year"===e.view.mode){const s=new Array(t);for(let a=0;a<t;a++)s[a]=U(n,K(e)),n=(0,o.shiftDate)(n,{year:16});return Object.assign({},e,{yearsCalendarModel:s})}return e}(e);case D.FLAG:return function(e){if(!e.view)return e;const t=X(e.view.date,e.minDate,e.maxDate)?1:e.displayMonths;if(e.formattedMonths&&"day"===e.view.mode){const n=e.formattedMonths.map(((n,s)=>function(e,t){return e.weeks.forEach((n=>{n.days.forEach(((s,a)=>{const i=!(0,o.isSameMonth)(s.date,e.month),r=!i&&(0,o.isSameDay)(s.date,t.hoveredDate),c=!i&&t.selectedRange&&(0,o.isSameDay)(s.date,t.selectedRange[0]),l=!i&&t.selectedRange&&(0,o.isSameDay)(s.date,t.selectedRange[1]),d=!i&&(0,o.isSameDay)(s.date,t.selectedDate)||c||l,p=!i&&t.selectedRange&&(y=s.date,f=t.selectedRange,D=t.hoveredDate,!!(y&&f&&f[0])&&(f[1]?y>f[0]&&y<=f[1]:!!D&&y>f[0]&&y<=D)),h=t.isDisabled||(0,o.isBefore)(s.date,t.minDate,"day")||(0,o.isAfter)(s.date,t.maxDate,"day")||(0,o.isDisabledDay)(s.date,t.daysDisabled)||V(s.date,t.datesDisabled)||x(s.date,t.datesEnabled),u=new Date,g=!i&&(0,o.isSameDay)(s.date,u),m=t.dateCustomClasses&&t.dateCustomClasses.map((e=>(0,o.isSameDay)(s.date,e.date)?e.classes:[])).reduce(((e,t)=>e.concat(t)),[]).join(" ")||"",b=t.dateTooltipTexts&&t.dateTooltipTexts.map((e=>(0,o.isSameDay)(s.date,e.date)?e.tooltipText:"")).reduce(((e,t)=>(e.push(t),e)),[]).join(" ")||"",v=Object.assign({},s,{isOtherMonth:i,isHovered:r,isSelected:d,isSelectionStart:c,isSelectionEnd:l,isInRange:p,isDisabled:h,isToday:g,customClasses:m,tooltipText:b});var y,f,D;s.isOtherMonth===v.isOtherMonth&&s.isHovered===v.isHovered&&s.isSelected===v.isSelected&&s.isSelectionStart===v.isSelectionStart&&s.isSelectionEnd===v.isSelectionEnd&&s.isDisabled===v.isDisabled&&s.isInRange===v.isInRange&&s.customClasses===v.customClasses&&s.tooltipText===v.tooltipText||(n.days[a]=v)}))})),e.hideLeftArrow=t.isDisabled||!!t.monthIndex&&t.monthIndex>0&&t.monthIndex!==t.displayMonths,e.hideRightArrow=t.isDisabled||(!!t.monthIndex||0===t.monthIndex)&&!!t.displayMonths&&t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,e.disableLeftArrow=T((0,o.shiftDate)(e.month,{month:-1}),t.minDate,t.maxDate),e.disableRightArrow=T((0,o.shiftDate)(e.month,{month:1}),t.minDate,t.maxDate),e}(n,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,daysDisabled:e.daysDisabled,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:t,dateCustomClasses:e.dateCustomClasses,dateTooltipTexts:e.dateTooltipTexts,monthIndex:s})));return Object.assign({},e,{flaggedMonths:n})}if("month"===e.view.mode&&e.monthsCalendar){const n=e.monthsCalendar.map(((n,s)=>{return a=n,i={isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,selectedDate:e.selectedDate,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,selectedRange:e.selectedRange,displayMonths:t,monthIndex:s},a.months.forEach(((e,t)=>{e.forEach(((e,n)=>{let s;const r=(0,o.isSameMonth)(e.date,i.hoveredMonth),c=i.isDisabled||V(e.date,i.datesDisabled)||x(e.date,i.datesEnabled,"month")||T(e.date,i.minDate,i.maxDate);!i.selectedDate&&i.selectedRange?(s=(0,o.isSameMonth)(e.date,i.selectedRange[0]),s||(s=(0,o.isSameMonth)(e.date,i.selectedRange[1]))):s=(0,o.isSameMonth)(e.date,i.selectedDate);const l=Object.assign(e,{isHovered:r,isDisabled:c,isSelected:s});e.isHovered===l.isHovered&&e.isDisabled===l.isDisabled&&e.isSelected===l.isSelected||(a.months[t][n]=l)}))})),a.hideLeftArrow=!!i.monthIndex&&i.monthIndex>0&&i.monthIndex!==i.displayMonths,a.hideRightArrow=(!!i.monthIndex||0===i.monthIndex)&&(!!i.displayMonths||0===i.displayMonths)&&i.monthIndex<i.displayMonths&&i.monthIndex+1!==i.displayMonths,a.disableLeftArrow=I((0,o.shiftDate)(a.months[0][0].date,{year:-1}),i.minDate,i.maxDate),a.disableRightArrow=I((0,o.shiftDate)(a.months[0][0].date,{year:1}),i.minDate,i.maxDate),a;var a,i}));return Object.assign({},e,{flaggedMonthsCalendar:n})}if("year"===e.view.mode&&e.yearsCalendarModel){const n=e.yearsCalendarModel.map(((n,s)=>function(e,t){e.years.forEach(((n,s)=>{n.forEach(((n,a)=>{let i;const r=(0,o.isSameYear)(n.date,t.hoveredYear),c=t.isDisabled||V(n.date,t.datesDisabled,"year")||x(n.date,t.datesEnabled,"year")||I(n.date,t.minDate,t.maxDate);!t.selectedDate&&t.selectedRange?(i=(0,o.isSameYear)(n.date,t.selectedRange[0]),i||(i=(0,o.isSameYear)(n.date,t.selectedRange[1]))):i=(0,o.isSameYear)(n.date,t.selectedDate);const l=Object.assign(n,{isHovered:r,isDisabled:c,isSelected:i});n.isHovered===l.isHovered&&n.isDisabled===l.isDisabled&&n.isSelected===l.isSelected||(e.years[s][a]=l)}))})),e.hideLeftArrow=!!t.yearIndex&&t.yearIndex>0&&t.yearIndex!==t.displayMonths,e.hideRightArrow=!!t.yearIndex&&!!t.displayMonths&&t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,e.disableLeftArrow=I((0,o.shiftDate)(e.years[0][0].date,{year:-1}),t.minDate,t.maxDate);const n=e.years.length-1,s=e.years[n].length-1;return e.disableRightArrow=I((0,o.shiftDate)(e.years[n][s].date,{year:1}),t.minDate,t.maxDate),e}(n,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,selectedDate:e.selectedDate,datesDisabled:e.datesDisabled,datesEnabled:e.datesEnabled,selectedRange:e.selectedRange,displayMonths:t,yearIndex:s})));return Object.assign({},e,{yearsCalendarFlagged:n})}return e}(e);case D.NAVIGATE_OFFSET:return function(e,t){if(!e.view)return e;const n=function(e,t){if(!e.view)return;if("year"===e.view.mode&&"year"===e.minMode){const n=R(e,0);if(n){const e=(0,o.shiftDate)(n,{year:-Y});return(0,o.shiftDate)(e,t.payload)}}return(0,o.shiftDate)((0,o.startOf)(e.view.date,"month"),t.payload)}(e,t);if(!n)return e;const s={view:{mode:e.view.mode,date:n}};return Object.assign({},e,s)}(e,t);case D.NAVIGATE_TO:{const n=t.payload;if(!e.view||!n.unit)return e;const s=(0,o.setFullDate)(e.view.date,n.unit);let a,i;return N(n.viewMode,e.minMode)?(i=n.viewMode,a={view:{date:s,mode:i}}):(i=e.view.mode,a={selectedDate:s,view:{date:s,mode:i}}),Object.assign({},e,a)}case D.CHANGE_VIEWMODE:{if(!N(t.payload,e.minMode)||!e.view)return e;const n={view:{date:e.view.date,mode:t.payload}};return Object.assign({},e,n)}case D.HOVER:return Object.assign({},e,{hoveredDate:t.payload});case D.SELECT:{if(!e.view)return e;const n={selectedDate:t.payload,view:e.view};if(Array.isArray(e.selectedTime)){const t=e.selectedTime[0];n.selectedDate&&t&&Q(n.selectedDate,t)}const s=e.view.mode,a=z(t.payload||e.view.date,e.minDate,e.maxDate);return n.view={mode:s,date:a},Object.assign({},e,n)}case D.SELECT_TIME:{const{date:n,index:s}=t.payload,a=e.selectedTime?[...e.selectedTime]:[];return a[s]=n,Object.assign({},e,{selectedTime:a})}case D.SET_OPTIONS:{if(!e.view)return e;const n=t.payload,s=n.minMode?n.minMode:e.view.mode,a=z((0,o.isDateValid)(n.value)&&n.value||(0,o.isArray)(n.value)&&(0,o.isDateValid)(n.value[0])&&n.value[0]||e.view.date,n.minDate,n.maxDate);return n.view={mode:s,date:a},n.value&&((0,o.isArray)(n.value)&&(n.selectedRange=n.value,n.selectedTime=n.value.map((e=>e))),n.value instanceof Date&&(n.selectedDate=n.value,n.selectedTime=[n.value])),Object.assign({},e,n)}case D.SELECT_RANGE:{if(!e.view)return e;const n={selectedRange:t.payload,view:e.view};n.selectedRange?.forEach(((t,n)=>{if(Array.isArray(e.selectedTime)){const s=e.selectedTime[n];s&&Q(t,s)}}));const s=e.view.mode,a=z(t.payload&&t.payload[0]||e.view.date,e.minDate,e.maxDate);return n.view={mode:s,date:a},Object.assign({},e,n)}case D.SET_MIN_DATE:return Object.assign({},e,{minDate:t.payload});case D.SET_MAX_DATE:return Object.assign({},e,{maxDate:t.payload});case D.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:t.payload});case D.SET_DATE_CUSTOM_CLASSES:return Object.assign({},e,{dateCustomClasses:t.payload});case D.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},e,{dateTooltipTexts:t.payload});default:return e}}function K(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function z(e,t,n){const s=Array.isArray(e)?e[0]:e;return t&&(0,o.isAfter)(t,s,"day")?t:n&&(0,o.isBefore)(n,s,"day")?n:s}function X(e,t,n){return!(!n||!(0,o.isSame)(n,e,"day"))||t&&n&&t.getMonth()===n.getMonth()}class J extends p.MiniStore{constructor(){const e=new d.BehaviorSubject({type:"[datepicker] dispatcher init"});super(e,q,new p.MiniState(_,e,q))}}J.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:J,deps:[],target:a["ɵɵFactoryTarget"].Injectable}),J.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:J,providedIn:"platform"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:J,decorators:[{type:a.Injectable,args:[{providedIn:"platform"}]}],ctorParameters:function(){return[]}});class Z{constructor(){this.onSelect=new a.EventEmitter}selectFromRanges(e){this.onSelect.emit(e)}}var ee;Z.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Z,deps:[],target:a["ɵɵFactoryTarget"].Component}),Z.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:Z,selector:"bs-custom-date-view",inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},ngImport:s||(s=n.t(a,2)),template:'\n    <div class="bs-datepicker-predefined-btns">\n      <button *ngFor="let range of ranges"\n        type="button"\n        class="btn"\n        (click)="selectFromRanges(range)"\n        [class.selected]="range.value === selectedRange">\n        {{ range.label }}\n      </button>\n    </div>\n  ',isInline:!0,dependencies:[{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]}],changeDetection:a.ChangeDetectionStrategy.OnPush}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Z,decorators:[{type:a.Component,args:[{selector:"bs-custom-date-view",template:'\n    <div class="bs-datepicker-predefined-btns">\n      <button *ngFor="let range of ranges"\n        type="button"\n        class="btn"\n        (click)="selectFromRanges(range)"\n        [class.selected]="range.value === selectedRange">\n        {{ range.label }}\n      </button>\n    </div>\n  ',changeDetection:a.ChangeDetectionStrategy.OnPush}]}],propDecorators:{ranges:[{type:a.Input}],selectedRange:[{type:a.Input}],customRangeLabel:[{type:a.Input}],onSelect:[{type:a.Output}]}}),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(ee||(ee={}));class te{}te.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:te,deps:[],target:a["ɵɵFactoryTarget"].Component}),te.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:te,selector:"bs-current-date",inputs:{title:"title"},ngImport:s||(s=n.t(a,2)),template:'<div class="current-timedate"><span>{{ title }}</span></div>',isInline:!0}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:te,decorators:[{type:a.Component,args:[{selector:"bs-current-date",template:'<div class="current-timedate"><span>{{ title }}</span></div>'}]}],propDecorators:{title:[{type:a.Input}]}});class ne{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}ne.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ne,deps:[],target:a["ɵɵFactoryTarget"].Component}),ne.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ne,selector:"bs-timepicker",ngImport:s||(s=n.t(a,2)),template:'\n    <div class="bs-timepicker-container">\n      <div class="bs-timepicker-controls">\n        <button class="bs-decrease" type="button">-</button>\n        <input type="text" [value]="hours" placeholder="00">\n        <button class="bs-increase" type="button">+</button>\n      </div>\n      <div class="bs-timepicker-controls">\n        <button class="bs-decrease" type="button">-</button>\n        <input type="text" [value]="minutes" placeholder="00">\n        <button class="bs-increase" type="button">+</button>\n      </div>\n      <button class="switch-time-format" type="button">{{ ampm }}\n        <img\n          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg=="\n          alt="">\n      </button>\n    </div>\n  ',isInline:!0}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ne,decorators:[{type:a.Component,args:[{selector:"bs-timepicker",template:'\n    <div class="bs-timepicker-container">\n      <div class="bs-timepicker-controls">\n        <button class="bs-decrease" type="button">-</button>\n        <input type="text" [value]="hours" placeholder="00">\n        <button class="bs-increase" type="button">+</button>\n      </div>\n      <div class="bs-timepicker-controls">\n        <button class="bs-decrease" type="button">-</button>\n        <input type="text" [value]="minutes" placeholder="00">\n        <button class="bs-increase" type="button">+</button>\n      </div>\n      <button class="switch-time-format" type="button">{{ ampm }}\n        <img\n          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg=="\n          alt="">\n      </button>\n    </div>\n  '}]}]});class se{}se.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:se,deps:[],target:a["ɵɵFactoryTarget"].Component}),se.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:se,selector:"bs-calendar-layout",ngImport:s||(s=n.t(a,2)),template:'\n    \x3c!-- current date, will be added in nearest releases --\x3e\n    <bs-current-date title="hey there" *ngIf="false"></bs-current-date>\n\n    \x3c!--navigation--\x3e\n    <div class="bs-datepicker-head">\n      <ng-content select="bs-datepicker-navigation-view"></ng-content>\n    </div>\n\n    <div class="bs-datepicker-body">\n      <ng-content></ng-content>\n    </div>\n\n    \x3c!--timepicker--\x3e\n    <bs-timepicker *ngIf="false"></bs-timepicker>\n  ',isInline:!0,dependencies:[{kind:"directive",type:h.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"component",type:te,selector:"bs-current-date",inputs:["title"]},{kind:"component",type:ne,selector:"bs-timepicker"}]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:se,decorators:[{type:a.Component,args:[{selector:"bs-calendar-layout",template:'\n    \x3c!-- current date, will be added in nearest releases --\x3e\n    <bs-current-date title="hey there" *ngIf="false"></bs-current-date>\n\n    \x3c!--navigation--\x3e\n    <div class="bs-datepicker-head">\n      <ng-content select="bs-datepicker-navigation-view"></ng-content>\n    </div>\n\n    <div class="bs-datepicker-body">\n      <ng-content></ng-content>\n    </div>\n\n    \x3c!--timepicker--\x3e\n    <bs-timepicker *ngIf="false"></bs-timepicker>\n  '}]}]});class ae{constructor(e,t,n){this._config=e,this._elRef=t,this._renderer=n,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter((e=>e)).forEach((e=>{this._renderer.addClass(this._elRef.nativeElement,e)}))}}ae.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ae,deps:[{token:b},{token:a.ElementRef},{token:a.Renderer2}],target:a["ɵɵFactoryTarget"].Component}),ae.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ae,selector:"[bsDatepickerDayDecorator]",inputs:{day:"day"},host:{properties:{"class.disabled":"day.isDisabled","class.is-highlighted":"day.isHovered","class.is-other-month":"day.isOtherMonth","class.is-active-other-month":"day.isOtherMonthHovered","class.in-range":"day.isInRange","class.select-start":"day.isSelectionStart","class.select-end":"day.isSelectionEnd","class.selected":"day.isSelected"}},ngImport:s||(s=n.t(a,2)),template:"{{ day && day.label || '' }}",isInline:!0,changeDetection:a.ChangeDetectionStrategy.OnPush}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ae,decorators:[{type:a.Component,args:[{selector:"[bsDatepickerDayDecorator]",changeDetection:a.ChangeDetectionStrategy.OnPush,host:{"[class.disabled]":"day.isDisabled","[class.is-highlighted]":"day.isHovered","[class.is-other-month]":"day.isOtherMonth","[class.is-active-other-month]":"day.isOtherMonthHovered","[class.in-range]":"day.isInRange","[class.select-start]":"day.isSelectionStart","[class.select-end]":"day.isSelectionEnd","[class.selected]":"day.isSelected"},template:"{{ day && day.label || '' }}"}]}],ctorParameters:function(){return[{type:b},{type:a.ElementRef},{type:a.Renderer2}]},propDecorators:{day:[{type:a.Input}]}});class ie{constructor(){this.onNavigate=new a.EventEmitter,this.onViewMode=new a.EventEmitter}navTo(e){this.onNavigate.emit(e?ee.DOWN:ee.UP)}view(e){this.onViewMode.emit(e)}}ie.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ie,deps:[],target:a["ɵɵFactoryTarget"].Component}),ie.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ie,selector:"bs-datepicker-navigation-view",inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},ngImport:s||(s=n.t(a,2)),template:'\n    <button class="previous"\n            [disabled]="calendar.disableLeftArrow"\n            [style.visibility]="calendar.hideLeftArrow ? \'hidden\' : \'visible\'"\n            type="button"\n            (click)="navTo(true)">\n      <span>&lsaquo;</span>\n    </button>\n\n    <ng-container *ngIf="calendar && calendar.monthTitle">\n      &#8203;  \x3c!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular --\x3e\n\n      <button class="current"\n            type="button"\n            (click)="view(\'month\')"\n      ><span>{{ calendar.monthTitle }}</span>\n      </button>\n    </ng-container>\n\n    &#8203;  \x3c!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular --\x3e\n\n    <button class="current" (click)="view(\'year\')" type="button">\n      <span>{{ calendar.yearTitle }}</span>\n    </button>\n\n    &#8203;  \x3c!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular --\x3e\n\n    <button class="next"\n            [disabled]="calendar.disableRightArrow"\n            [style.visibility]="calendar.hideRightArrow ? \'hidden\' : \'visible\'"\n            type="button"\n            (click)="navTo(false)"><span>&rsaquo;</span>\n    </button>\n  ',isInline:!0,dependencies:[{kind:"directive",type:h.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:a.ChangeDetectionStrategy.OnPush}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ie,decorators:[{type:a.Component,args:[{selector:"bs-datepicker-navigation-view",changeDetection:a.ChangeDetectionStrategy.OnPush,template:'\n    <button class="previous"\n            [disabled]="calendar.disableLeftArrow"\n            [style.visibility]="calendar.hideLeftArrow ? \'hidden\' : \'visible\'"\n            type="button"\n            (click)="navTo(true)">\n      <span>&lsaquo;</span>\n    </button>\n\n    <ng-container *ngIf="calendar && calendar.monthTitle">\n      &#8203;  \x3c!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular --\x3e\n\n      <button class="current"\n            type="button"\n            (click)="view(\'month\')"\n      ><span>{{ calendar.monthTitle }}</span>\n      </button>\n    </ng-container>\n\n    &#8203;  \x3c!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular --\x3e\n\n    <button class="current" (click)="view(\'year\')" type="button">\n      <span>{{ calendar.yearTitle }}</span>\n    </button>\n\n    &#8203;  \x3c!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular --\x3e\n\n    <button class="next"\n            [disabled]="calendar.disableRightArrow"\n            [style.visibility]="calendar.hideRightArrow ? \'hidden\' : \'visible\'"\n            type="button"\n            (click)="navTo(false)"><span>&rsaquo;</span>\n    </button>\n  '}]}],propDecorators:{calendar:[{type:a.Input}],onNavigate:[{type:a.Output}],onViewMode:[{type:a.Output}]}});class oe{constructor(e){this._config=e,this.onNavigate=new a.EventEmitter,this.onViewMode=new a.EventEmitter,this.onSelect=new a.EventEmitter,this.onHover=new a.EventEmitter,this.onHoverWeek=new a.EventEmitter,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(e){const t=ee.DOWN===e?-1:1;this.onNavigate.emit({step:{month:t}})}changeViewMode(e){this.onViewMode.emit(e)}selectDay(e){this.onSelect.emit(e)}selectWeek(e){if(!this._config.selectWeek&&!this._config.selectWeekDateRange)return;if(0===e.days.length)return;if(this._config.selectWeek&&e.days[0]&&!e.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(e.days[0]);const t=e.days.find((e=>(this._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled));if(this.onSelect.emit(t),this._config.selectWeekDateRange){const t=e.days.slice(0).reverse().find((e=>(this._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled));this.onSelect.emit(t)}}weekHoverHandler(e,t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange)return;e.days.find((e=>(this._config.selectFromOtherMonth||!e.isOtherMonth)&&!e.isDisabled))&&(e.isHovered=t,this.isWeekHovered=t,this.onHoverWeek.emit(e))}hoverDay(e,t){this._config.selectFromOtherMonth&&e.isOtherMonth&&(e.isOtherMonthHovered=t),this._config.dateTooltipTexts&&(e.tooltipText="",this._config.dateTooltipTexts.forEach((t=>{(0,o.isSameDay)(t.date,e.date)&&(e.tooltipText=t.tooltipText)}))),this.onHover.emit({cell:e,isHovered:t})}}oe.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:oe,deps:[{token:b}],target:a["ɵɵFactoryTarget"].Component}),oe.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:oe,selector:"bs-days-calendar-view",inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},ngImport:s||(s=n.t(a,2)),template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n      \x3c!--days matrix--\x3e\n      <table role="grid" class="days weeks">\n        <thead>\n        <tr>\n          \x3c!--if show weeks--\x3e\n          <th *ngIf="options && options.showWeekNumbers"></th>\n          <th *ngFor="let weekday of calendar.weekdays; let i = index"\n              aria-label="weekday">{{ calendar.weekdays[i] }}\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let week of calendar.weeks; let i = index">\n          <td class="week" [class.active-week]="isWeekHovered"  *ngIf="options && options.showWeekNumbers">\n            <span *ngIf="isiOS" (click)="selectWeek(week)">{{ calendar.weekNumbers[i] }}</span>\n            <span *ngIf="!isiOS"\n                (click)="selectWeek(week)"\n                (mouseenter)="weekHoverHandler(week, true)"\n                (mouseleave)="weekHoverHandler(week, false)">{{ calendar.weekNumbers[i] }}</span>\n          </td>\n          <td *ngFor="let day of week.days" role="gridcell">\n\n            \x3c!-- When we want to show tooltips for dates --\x3e\n            <span *ngIf="!isiOS && isShowTooltip" bsDatepickerDayDecorator\n                [day]="day"\n                (click)="selectDay(day)"\n                tooltip="{{day.tooltipText}}"\n                (mouseenter)="hoverDay(day, true)"\n                (mouseleave)="hoverDay(day, false)">{{ day.label }} 3</span>\n            \x3c!-- When tooltips for dates are disabled --\x3e\n            <span *ngIf="!isiOS && !isShowTooltip" bsDatepickerDayDecorator\n                  [day]="day"\n                  (click)="selectDay(day)"\n                  (mouseenter)="hoverDay(day, true)"\n                  (mouseleave)="hoverDay(day, false)">{{ day.label }} 2</span>\n\n            \x3c!-- For mobile iOS view, tooltips are not needed --\x3e\n            <span *ngIf="isiOS" bsDatepickerDayDecorator\n                  [day]="day"\n                  (click)="selectDay(day)">{{ day.label }} 1</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n    </bs-calendar-layout>\n  ',isInline:!0,dependencies:[{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:h.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:u.TooltipDirective,selector:"[tooltip], [tooltipHtml]",inputs:["adaptivePosition","tooltip","placement","triggers","container","containerClass","boundariesElement","isOpen","isDisabled","delay","tooltipHtml","tooltipPlacement","tooltipIsOpen","tooltipEnable","tooltipAppendToBody","tooltipAnimation","tooltipClass","tooltipContext","tooltipPopupDelay","tooltipFadeDuration","tooltipTrigger"],outputs:["tooltipChange","onShown","onHidden","tooltipStateChanged"],exportAs:["bs-tooltip"]},{kind:"component",type:se,selector:"bs-calendar-layout"},{kind:"component",type:ae,selector:"[bsDatepickerDayDecorator]",inputs:["day"]},{kind:"component",type:ie,selector:"bs-datepicker-navigation-view",inputs:["calendar"],outputs:["onNavigate","onViewMode"]}]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:oe,decorators:[{type:a.Component,args:[{selector:"bs-days-calendar-view",template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n      \x3c!--days matrix--\x3e\n      <table role="grid" class="days weeks">\n        <thead>\n        <tr>\n          \x3c!--if show weeks--\x3e\n          <th *ngIf="options && options.showWeekNumbers"></th>\n          <th *ngFor="let weekday of calendar.weekdays; let i = index"\n              aria-label="weekday">{{ calendar.weekdays[i] }}\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let week of calendar.weeks; let i = index">\n          <td class="week" [class.active-week]="isWeekHovered"  *ngIf="options && options.showWeekNumbers">\n            <span *ngIf="isiOS" (click)="selectWeek(week)">{{ calendar.weekNumbers[i] }}</span>\n            <span *ngIf="!isiOS"\n                (click)="selectWeek(week)"\n                (mouseenter)="weekHoverHandler(week, true)"\n                (mouseleave)="weekHoverHandler(week, false)">{{ calendar.weekNumbers[i] }}</span>\n          </td>\n          <td *ngFor="let day of week.days" role="gridcell">\n\n            \x3c!-- When we want to show tooltips for dates --\x3e\n            <span *ngIf="!isiOS && isShowTooltip" bsDatepickerDayDecorator\n                [day]="day"\n                (click)="selectDay(day)"\n                tooltip="{{day.tooltipText}}"\n                (mouseenter)="hoverDay(day, true)"\n                (mouseleave)="hoverDay(day, false)">{{ day.label }} 3</span>\n            \x3c!-- When tooltips for dates are disabled --\x3e\n            <span *ngIf="!isiOS && !isShowTooltip" bsDatepickerDayDecorator\n                  [day]="day"\n                  (click)="selectDay(day)"\n                  (mouseenter)="hoverDay(day, true)"\n                  (mouseleave)="hoverDay(day, false)">{{ day.label }} 2</span>\n\n            \x3c!-- For mobile iOS view, tooltips are not needed --\x3e\n            <span *ngIf="isiOS" bsDatepickerDayDecorator\n                  [day]="day"\n                  (click)="selectDay(day)">{{ day.label }} 1</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n    </bs-calendar-layout>\n  '}]}],ctorParameters:function(){return[{type:b}]},propDecorators:{calendar:[{type:a.Input}],options:[{type:a.Input}],onNavigate:[{type:a.Output}],onViewMode:[{type:a.Output}],onSelect:[{type:a.Output}],onHover:[{type:a.Output}],onHoverWeek:[{type:a.Output}]}});class re{constructor(){this.onNavigate=new a.EventEmitter,this.onViewMode=new a.EventEmitter,this.onSelect=new a.EventEmitter,this.onHover=new a.EventEmitter}navigateTo(e){const t=ee.DOWN===e?-1:1;this.onNavigate.emit({step:{year:t}})}viewMonth(e){this.onSelect.emit(e)}hoverMonth(e,t){this.onHover.emit({cell:e,isHovered:t})}changeViewMode(e){this.onViewMode.emit(e)}}re.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:re,deps:[],target:a["ɵɵFactoryTarget"].Component}),re.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:re,selector:"bs-month-calendar-view",inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},ngImport:s||(s=n.t(a,2)),template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n\n      <table role="grid" class="months">\n        <tbody>\n        <tr *ngFor="let row of calendar?.months">\n          <td *ngFor="let month of row" role="gridcell"\n              (click)="viewMonth(month)"\n              (mouseenter)="hoverMonth(month, true)"\n              (mouseleave)="hoverMonth(month, false)"\n              [class.disabled]="month.isDisabled"\n              [class.is-highlighted]="month.isHovered">\n            <span [class.selected]="month.isSelected">{{ month.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  ',isInline:!0,dependencies:[{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"component",type:se,selector:"bs-calendar-layout"},{kind:"component",type:ie,selector:"bs-datepicker-navigation-view",inputs:["calendar"],outputs:["onNavigate","onViewMode"]}]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:re,decorators:[{type:a.Component,args:[{selector:"bs-month-calendar-view",template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n\n      <table role="grid" class="months">\n        <tbody>\n        <tr *ngFor="let row of calendar?.months">\n          <td *ngFor="let month of row" role="gridcell"\n              (click)="viewMonth(month)"\n              (mouseenter)="hoverMonth(month, true)"\n              (mouseleave)="hoverMonth(month, false)"\n              [class.disabled]="month.isDisabled"\n              [class.is-highlighted]="month.isHovered">\n            <span [class.selected]="month.isSelected">{{ month.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  '}]}],propDecorators:{calendar:[{type:a.Input}],onNavigate:[{type:a.Output}],onViewMode:[{type:a.Output}],onSelect:[{type:a.Output}],onHover:[{type:a.Output}]}});class ce{constructor(){this.onNavigate=new a.EventEmitter,this.onViewMode=new a.EventEmitter,this.onSelect=new a.EventEmitter,this.onHover=new a.EventEmitter}navigateTo(e){const t=ee.DOWN===e?-1:1;this.onNavigate.emit({step:{year:t*W}})}viewYear(e){this.onSelect.emit(e)}hoverYear(e,t){this.onHover.emit({cell:e,isHovered:t})}changeViewMode(e){this.onViewMode.emit(e)}}ce.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ce,deps:[],target:a["ɵɵFactoryTarget"].Component}),ce.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ce,selector:"bs-years-calendar-view",inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},ngImport:s||(s=n.t(a,2)),template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n\n      <table role="grid" class="years">\n        <tbody>\n        <tr *ngFor="let row of calendar?.years">\n          <td *ngFor="let year of row" role="gridcell"\n              (click)="viewYear(year)"\n              (mouseenter)="hoverYear(year, true)"\n              (mouseleave)="hoverYear(year, false)"\n              [class.disabled]="year.isDisabled"\n              [class.is-highlighted]="year.isHovered">\n            <span [class.selected]="year.isSelected">{{ year.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  ',isInline:!0,dependencies:[{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"component",type:se,selector:"bs-calendar-layout"},{kind:"component",type:ie,selector:"bs-datepicker-navigation-view",inputs:["calendar"],outputs:["onNavigate","onViewMode"]}]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ce,decorators:[{type:a.Component,args:[{selector:"bs-years-calendar-view",template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n\n      <table role="grid" class="years">\n        <tbody>\n        <tr *ngFor="let row of calendar?.years">\n          <td *ngFor="let year of row" role="gridcell"\n              (click)="viewYear(year)"\n              (mouseenter)="hoverYear(year, true)"\n              (mouseleave)="hoverYear(year, false)"\n              [class.disabled]="year.isDisabled"\n              [class.is-highlighted]="year.isHovered">\n            <span [class.selected]="year.isSelected">{{ year.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  '}]}],propDecorators:{calendar:[{type:a.Input}],onNavigate:[{type:a.Output}],onViewMode:[{type:a.Output}],onSelect:[{type:a.Output}],onHover:[{type:a.Output}]}});class le extends f{constructor(e,t,n,s,i,o,r){super(),this._config=t,this._store=n,this._element=s,this._actions=i,this._positionService=r,this.valueChange=new a.EventEmitter,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=o,e.setStyle(s.nativeElement,"display","block"),e.setStyle(s.nativeElement,"position","absolute")}set value(e){this._effects?.setValue(e)}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe((0,i.take)(1)).subscribe((()=>{this._positionService.disable(),this._config.isAnimated?this.animationState=this.isTopPosition?"animated-up":"animated-down":this.animationState="unanimated"})),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select((e=>e.selectedDate)).subscribe((t=>{e=t,this.valueChange.emit(t)}))),this._subs.push(this._store.select((e=>e.selectedTime)).subscribe((t=>{t[0]&&t[0]instanceof Date&&t[0]!==e&&this.valueChange.emit(t[0])}))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe((e=>{Array.isArray(e)&&e.length>=1&&this.startTimepicker?.writeValue(e[0])}))),this.startTimepicker?.registerOnChange((e=>{this.timeSelectHandler(e,0)}))}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,t){this._store.dispatch(this._actions.selectTime(e,t))}daySelectHandler(e){if(!e)return;(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this._store.dispatch(this._actions.select(e.date))}monthSelectHandler(e){e&&!e.isDisabled&&this._store.dispatch(this._actions.navigateTo({unit:{month:(0,o.getMonth)(e.date),year:(0,o.getFullYear)(e.date)},viewMode:"day"}))}yearSelectHandler(e){e&&!e.isDisabled&&this._store.dispatch(this._actions.navigateTo({unit:{year:(0,o.getFullYear)(e.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}}le.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:le,deps:[{token:a.Renderer2},{token:b},{token:J},{token:a.ElementRef},{token:D},{token:w},{token:r.PositioningService}],target:a["ɵɵFactoryTarget"].Component}),le.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:le,selector:"bs-datepicker-container",host:{attributes:{role:"dialog","aria-label":"calendar"},listeners:{click:"_stopPropagation($event)"},classAttribute:"bottom"},providers:[J,w],viewQueries:[{propertyName:"startTimepicker",first:!0,predicate:["startTP"],descendants:!0}],usesInheritance:!0,ngImport:s||(s=n.t(a,2)),template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:h.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:h.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:h.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:h.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"component",type:c.TimepickerComponent,selector:"timepicker",inputs:["hourStep","minuteStep","secondsStep","readonlyInput","disabled","mousewheel","arrowkeys","showSpinners","showMeridian","showMinutes","showSeconds","meridians","min","max","hoursPlaceholder","minutesPlaceholder","secondsPlaceholder"],outputs:["isValid","meridianChange"]},{kind:"component",type:Z,selector:"bs-custom-date-view",inputs:["ranges","selectedRange","customRangeLabel"],outputs:["onSelect"]},{kind:"component",type:oe,selector:"bs-days-calendar-view",inputs:["calendar","options"],outputs:["onNavigate","onViewMode","onSelect","onHover","onHoverWeek"]},{kind:"component",type:re,selector:"bs-month-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"component",type:ce,selector:"bs-years-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"pipe",type:h.AsyncPipe,name:"async"}],animations:[y]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:le,decorators:[{type:a.Component,args:[{selector:"bs-datepicker-container",providers:[J,w],host:{class:"bottom","(click)":"_stopPropagation($event)",role:"dialog","aria-label":"calendar"},animations:[y],template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:a.Renderer2},{type:b},{type:J},{type:a.ElementRef},{type:D},{type:w},{type:r.PositioningService}]},propDecorators:{startTimepicker:[{type:a.ViewChild,args:["startTP"]}]}});class de{constructor(e,t,n,s,i){this._config=e,this._elementRef=t,this._renderer=n,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new d.Subject,this.isDisabled=!1,this.bsValueChange=new a.EventEmitter,this._subs=[],this._dateInputFormat$=new d.Subject,Object.assign(this,this._config),this._datepicker=i.createLoader(t,s,n),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new d.BehaviorSubject(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){if(!this._bsValue||!e||this._bsValue.getTime()!==e.getTime()){if(!this._bsValue&&e&&!this._config.withTimepicker){Q(e,new Date)}e&&this.bsConfig?.initCurrentTime&&(e=A(e)),this._bsValue=e,this.bsValueChange.emit(e)}}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this._bsValue=A(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.isDisabled&&(this._elementRef?.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),e.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe((e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)}))),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe((e=>{this.bsValue=e,this.hide()})))}ngAfterViewInit(){this.isOpen$.pipe((0,i.filter)((e=>e!==this.isOpen)),(0,i.takeUntil)(this.isDestroy$)).subscribe((()=>this.toggle()))}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:b,useValue:this._config}).attach(le).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:M(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map((e=>e.unsubscribe())),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}de.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:de,deps:[{token:b},{token:a.ElementRef},{token:a.Renderer2},{token:a.ViewContainerRef},{token:g.ComponentLoaderFactory}],target:a["ɵɵFactoryTarget"].Directive}),de.ɵdir=a["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:de,selector:"[bsDatepicker]",inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],usesOnChanges:!0,ngImport:s||(s=n.t(a,2))}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:de,decorators:[{type:a.Directive,args:[{selector:"[bsDatepicker]",exportAs:"bsDatepicker"}]}],ctorParameters:function(){return[{type:b},{type:a.ElementRef},{type:a.Renderer2},{type:a.ViewContainerRef},{type:g.ComponentLoaderFactory}]},propDecorators:{placement:[{type:a.Input}],triggers:[{type:a.Input}],outsideClick:[{type:a.Input}],container:[{type:a.Input}],outsideEsc:[{type:a.Input}],onShown:[{type:a.Output}],onHidden:[{type:a.Output}],isDisabled:[{type:a.Input}],minDate:[{type:a.Input}],maxDate:[{type:a.Input}],minMode:[{type:a.Input}],daysDisabled:[{type:a.Input}],datesDisabled:[{type:a.Input}],datesEnabled:[{type:a.Input}],dateCustomClasses:[{type:a.Input}],dateTooltipTexts:[{type:a.Input}],bsValueChange:[{type:a.Output}],isOpen:[{type:a.Input}],bsValue:[{type:a.Input}],bsConfig:[{type:a.Input}]}});class pe extends b{}pe.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:pe,deps:null,target:a["ɵɵFactoryTarget"].Injectable}),pe.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:pe,providedIn:"root"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:pe,decorators:[{type:a.Injectable,args:[{providedIn:"root"}]}]});class he extends le{constructor(e,t,n,s,a,i,o){super(e,t,n,s,a,i,o),e.setStyle(s.nativeElement,"display","inline-block"),e.setStyle(s.nativeElement,"position","static")}}he.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:he,deps:[{token:a.Renderer2},{token:b},{token:J},{token:a.ElementRef},{token:D},{token:w},{token:r.PositioningService}],target:a["ɵɵFactoryTarget"].Component}),he.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:he,selector:"bs-datepicker-inline-container",host:{listeners:{click:"_stopPropagation($event)"}},providers:[J,w],usesInheritance:!0,ngImport:s||(s=n.t(a,2)),template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:h.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:h.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:h.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:h.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"component",type:c.TimepickerComponent,selector:"timepicker",inputs:["hourStep","minuteStep","secondsStep","readonlyInput","disabled","mousewheel","arrowkeys","showSpinners","showMeridian","showMinutes","showSeconds","meridians","min","max","hoursPlaceholder","minutesPlaceholder","secondsPlaceholder"],outputs:["isValid","meridianChange"]},{kind:"component",type:Z,selector:"bs-custom-date-view",inputs:["ranges","selectedRange","customRangeLabel"],outputs:["onSelect"]},{kind:"component",type:oe,selector:"bs-days-calendar-view",inputs:["calendar","options"],outputs:["onNavigate","onViewMode","onSelect","onHover","onHoverWeek"]},{kind:"component",type:re,selector:"bs-month-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"component",type:ce,selector:"bs-years-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"pipe",type:h.AsyncPipe,name:"async"}],animations:[y]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:he,decorators:[{type:a.Component,args:[{selector:"bs-datepicker-inline-container",providers:[J,w],host:{"(click)":"_stopPropagation($event)"},animations:[y],template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:a.Renderer2},{type:b},{type:J},{type:a.ElementRef},{type:D},{type:w},{type:r.PositioningService}]}});class ue{constructor(e,t,n,s,i){this._config=e,this._elementRef=t,this.isDisabled=!1,this.bsValueChange=new a.EventEmitter,this._subs=[],Object.assign(this,this._config),this._datepicker=i.createLoader(t,s,n)}set bsValue(e){if(this._bsValue!==e){if(!this._bsValue&&e&&!this._config.withTimepicker){Q(e,new Date)}e&&this.bsConfig?.initCurrentTime&&(e=A(e)),this._bsValue=e,this.bsValueChange.emit(e)}}ngOnInit(){this.setConfig(),this.initSubscribes()}initSubscribes(){this.unsubscribeSubscriptions(),this._subs.push(this.bsValueChange.subscribe((e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)}))),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe((e=>{this.bsValue=e})))}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map((e=>e.unsubscribe())),this._subs.length=0)}ngOnChanges(e){e.bsConfig&&e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this._bsValue=A(this._bsValue),this.bsValueChange.emit(this._bsValue)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled,this._datepickerRef.instance.value=this._bsValue),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),e.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts),this.setConfig())}setConfig(){this._datepicker&&this._datepicker.hide(),this._config=Object.assign({},this._config,this.bsConfig,{value:M(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,initCurrentTime:this.bsConfig?.initCurrentTime}),this._datepickerRef=this._datepicker.provide({provide:b,useValue:this._config}).attach(he).to(this._elementRef).show(),this.initSubscribes()}ngOnDestroy(){this._datepicker.dispose(),this.unsubscribeSubscriptions()}}ue.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ue,deps:[{token:pe},{token:a.ElementRef},{token:a.Renderer2},{token:a.ViewContainerRef},{token:g.ComponentLoaderFactory}],target:a["ɵɵFactoryTarget"].Directive}),ue.ɵdir=a["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:ue,selector:"bs-datepicker-inline",inputs:{bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",datesEnabled:"datesEnabled",datesDisabled:"datesDisabled",bsValue:"bsValue"},outputs:{bsValueChange:"bsValueChange"},exportAs:["bsDatepickerInline"],usesOnChanges:!0,ngImport:s||(s=n.t(a,2))}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ue,decorators:[{type:a.Directive,args:[{selector:"bs-datepicker-inline",exportAs:"bsDatepickerInline"}]}],ctorParameters:function(){return[{type:pe},{type:a.ElementRef},{type:a.Renderer2},{type:a.ViewContainerRef},{type:g.ComponentLoaderFactory}]},propDecorators:{bsConfig:[{type:a.Input}],isDisabled:[{type:a.Input}],minDate:[{type:a.Input}],maxDate:[{type:a.Input}],dateCustomClasses:[{type:a.Input}],dateTooltipTexts:[{type:a.Input}],datesEnabled:[{type:a.Input}],datesDisabled:[{type:a.Input}],bsValueChange:[{type:a.Output}],bsValue:[{type:a.Input}]}});class ge extends b{constructor(){super(...arguments),this.displayMonths=2,this.isAnimated=!1}}ge.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ge,deps:null,target:a["ɵɵFactoryTarget"].Injectable}),ge.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ge,providedIn:"root"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ge,decorators:[{type:a.Injectable,args:[{providedIn:"root"}]}]});class me extends f{constructor(e,t,n,s,i,o,r){super(),this._config=t,this._store=n,this._element=s,this._actions=i,this._positionService=r,this.valueChange=new a.EventEmitter,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=o,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,e.setStyle(s.nativeElement,"display","block"),e.setStyle(s.nativeElement,"position","absolute")}set value(e){this._effects?.setRangeValue(e)}ngOnInit(){let e;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe((0,i.take)(1)).subscribe((()=>{this._positionService.disable(),this._config.isAnimated?this.animationState=this.isTopPosition?"animated-up":"animated-down":this.animationState="unanimated"})),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select((e=>e.selectedRange)).subscribe((t=>{e=t,this.valueChange.emit(t),this.chosenRange=t||[]}))),this._subs.push(this._store.select((e=>e.selectedTime)).subscribe((t=>{t[0]&&t[1]&&t[0]instanceof Date&&t[1]instanceof Date&&(!e||t[0]!==e[0]||t[1]!==e[1])&&(this.valueChange.emit(t),this.chosenRange=t||[])})))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe((e=>{Array.isArray(e)&&e.length>=2&&(this.startTimepicker?.writeValue(e[0]),this.endTimepicker?.writeValue(e[1]))}))),this.startTimepicker?.registerOnChange((e=>{this.timeSelectHandler(e,0)})),this.endTimepicker?.registerOnChange((e=>{this.timeSelectHandler(e,1)}))}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(e,t){this._store.dispatch(this._actions.selectTime(e,t))}daySelectHandler(e){if(!e)return;(this.isOtherMonthsActive?e.isDisabled:e.isOtherMonth||e.isDisabled)||this.rangesProcessing(e)}monthSelectHandler(e){if(e&&!e.isDisabled)if(e.isSelected=!0,"month"===this._config.minMode)this.rangesProcessing(e);else{if(e.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{month:(0,o.getMonth)(e.date),year:(0,o.getFullYear)(e.date)},viewMode:"day"}))}}yearSelectHandler(e){if(e&&!e.isDisabled)if(e.isSelected=!0,"year"===this._config.minMode)this.rangesProcessing(e);else{if(e.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{year:(0,o.getFullYear)(e.date)},viewMode:"month"}))}}rangesProcessing(e){1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date),0===this._rangeStack.length&&(this._rangeStack=[e.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(e.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const e of this._subs)e.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(e){e&&(this._rangeStack=e.value instanceof Date?[e.value]:e.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(e){let t=new Date(e);if(this._config.maxDate){const n=this._config.maxDate.getTime(),s=e.getTime()+864e5*(this._config.maxDateRange||0);t=s>n?new Date(this._config.maxDate):new Date(s)}else t.setDate(e.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(t)}}me.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:me,deps:[{token:a.Renderer2},{token:b},{token:J},{token:a.ElementRef},{token:D},{token:w},{token:r.PositioningService}],target:a["ɵɵFactoryTarget"].Component}),me.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:me,selector:"bs-daterangepicker-container",host:{attributes:{role:"dialog","aria-label":"calendar"},listeners:{click:"_stopPropagation($event)"},classAttribute:"bottom"},providers:[J,w],viewQueries:[{propertyName:"startTimepicker",first:!0,predicate:["startTP"],descendants:!0},{propertyName:"endTimepicker",first:!0,predicate:["endTP"],descendants:!0}],usesInheritance:!0,ngImport:s||(s=n.t(a,2)),template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:h.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:h.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:h.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:h.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"component",type:c.TimepickerComponent,selector:"timepicker",inputs:["hourStep","minuteStep","secondsStep","readonlyInput","disabled","mousewheel","arrowkeys","showSpinners","showMeridian","showMinutes","showSeconds","meridians","min","max","hoursPlaceholder","minutesPlaceholder","secondsPlaceholder"],outputs:["isValid","meridianChange"]},{kind:"component",type:Z,selector:"bs-custom-date-view",inputs:["ranges","selectedRange","customRangeLabel"],outputs:["onSelect"]},{kind:"component",type:oe,selector:"bs-days-calendar-view",inputs:["calendar","options"],outputs:["onNavigate","onViewMode","onSelect","onHover","onHoverWeek"]},{kind:"component",type:re,selector:"bs-month-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"component",type:ce,selector:"bs-years-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"pipe",type:h.AsyncPipe,name:"async"}],animations:[y]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:me,decorators:[{type:a.Component,args:[{selector:"bs-daterangepicker-container",providers:[J,w],host:{class:"bottom","(click)":"_stopPropagation($event)",role:"dialog","aria-label":"calendar"},animations:[y],template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:a.Renderer2},{type:b},{type:J},{type:a.ElementRef},{type:D},{type:w},{type:r.PositioningService}]},propDecorators:{startTimepicker:[{type:a.ViewChild,args:["startTP"]}],endTimepicker:[{type:a.ViewChild,args:["endTP"]}]}});class be extends me{constructor(e,t,n,s,a,i,o){super(e,t,n,s,a,i,o),e.setStyle(s.nativeElement,"display","inline-block"),e.setStyle(s.nativeElement,"position","static")}}be.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:be,deps:[{token:a.Renderer2},{token:b},{token:J},{token:a.ElementRef},{token:D},{token:w},{token:r.PositioningService}],target:a["ɵɵFactoryTarget"].Component}),be.ɵcmp=a["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:be,selector:"bs-daterangepicker-inline-container",host:{listeners:{click:"_stopPropagation($event)"}},providers:[J,w],usesInheritance:!0,ngImport:s||(s=n.t(a,2)),template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n',dependencies:[{kind:"directive",type:h.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:h.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:h.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:h.NgSwitch,selector:"[ngSwitch]",inputs:["ngSwitch"]},{kind:"directive",type:h.NgSwitchCase,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{kind:"component",type:c.TimepickerComponent,selector:"timepicker",inputs:["hourStep","minuteStep","secondsStep","readonlyInput","disabled","mousewheel","arrowkeys","showSpinners","showMeridian","showMinutes","showSeconds","meridians","min","max","hoursPlaceholder","minutesPlaceholder","secondsPlaceholder"],outputs:["isValid","meridianChange"]},{kind:"component",type:Z,selector:"bs-custom-date-view",inputs:["ranges","selectedRange","customRangeLabel"],outputs:["onSelect"]},{kind:"component",type:oe,selector:"bs-days-calendar-view",inputs:["calendar","options"],outputs:["onNavigate","onViewMode","onSelect","onHover","onHoverWeek"]},{kind:"component",type:re,selector:"bs-month-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"component",type:ce,selector:"bs-years-calendar-view",inputs:["calendar"],outputs:["onNavigate","onViewMode","onSelect","onHover"]},{kind:"pipe",type:h.AsyncPipe,name:"async"}],animations:[y]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:be,decorators:[{type:a.Component,args:[{selector:"bs-daterangepicker-inline-container",providers:[J,w],host:{"(click)":"_stopPropagation($event)"},animations:[y],template:'\x3c!-- days calendar view mode --\x3e\n<div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async">\n  <div class="bs-datepicker-container"\n    [@datepickerAnimation]="animationState"\n    (@datepickerAnimation.done)="positionServiceEnable()">\n    \x3c!--calendars--\x3e\n    <div class="bs-calendar-container" [ngSwitch]="viewMode | async" role="application">\n      \x3c!--days calendar--\x3e\n      <ng-container *ngSwitchCase="\'day\'">\n        <div class="bs-media-container">\n          <bs-days-calendar-view\n            *ngFor="let calendar of daysCalendar$ | async"\n            [class.bs-datepicker-multiple]="multipleCalendars"\n            [calendar]="calendar"\n            [options]="options$ | async"\n            (onNavigate)="navigateTo($event)"\n            (onViewMode)="setViewMode($event)"\n            (onHover)="dayHoverHandler($event)"\n            (onHoverWeek)="weekHoverHandler($event)"\n            (onSelect)="daySelectHandler($event)">\n          </bs-days-calendar-view>\n        </div>\n        <div *ngIf="withTimepicker" class="bs-timepicker-in-datepicker-container">\n          <timepicker #startTP></timepicker>\n          <timepicker #endTP *ngIf="isRangePicker"></timepicker>\n        </div>\n      </ng-container>\n\n      \x3c!--months calendar--\x3e\n      <div *ngSwitchCase="\'month\'" class="bs-media-container">\n        <bs-month-calendar-view\n          *ngFor="let calendar of monthsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="monthHoverHandler($event)"\n          (onSelect)="monthSelectHandler($event)">\n        </bs-month-calendar-view>\n      </div>\n\n      \x3c!--years calendar--\x3e\n      <div *ngSwitchCase="\'year\'" class="bs-media-container">\n        <bs-years-calendar-view\n          *ngFor="let calendar of yearsCalendar | async"\n          [class.bs-datepicker-multiple]="multipleCalendars"\n          [calendar]="calendar"\n          (onNavigate)="navigateTo($event)"\n          (onViewMode)="setViewMode($event)"\n          (onHover)="yearHoverHandler($event)"\n          (onSelect)="yearSelectHandler($event)">\n        </bs-years-calendar-view>\n      </div>\n    </div>\n\n    \x3c!--applycancel buttons--\x3e\n    <div class="bs-datepicker-buttons" *ngIf="false">\n      <button class="btn btn-success" type="button">Apply</button>\n      <button class="btn btn-default" type="button">Cancel</button>\n    </div>\n\n    <div class="bs-datepicker-buttons" *ngIf="showTodayBtn || showClearBtn">\n      <div class="btn-today-wrapper"\n           [class.today-left]="todayPos === \'left\'"\n           [class.today-right]="todayPos === \'right\'"\n           [class.today-center]="todayPos === \'center\'"\n           *ngIf="showTodayBtn">\n        <button class="btn btn-success" (click)="setToday()">{{todayBtnLbl}}</button>\n      </div>\n\n        <div class="btn-clear-wrapper"\n        [class.clear-left]="clearPos === \'left\'"\n        [class.clear-right]="clearPos === \'right\'"\n        [class.clear-center]="clearPos === \'center\'"\n        *ngIf="showClearBtn">\n          <button class="btn btn-success" (click)="clearDate()">{{clearBtnLbl}}</button>\n        </div>\n    </div>\n\n  </div>\n\n  \x3c!--custom dates or date ranges picker--\x3e\n  <div class="bs-datepicker-custom-range" *ngIf="customRanges && customRanges.length > 0">\n    <bs-custom-date-view\n      [selectedRange]="chosenRange"\n      [ranges]="customRanges"\n      [customRangeLabel]="customRangeBtnLbl"\n      (onSelect)="setRangeOnCalendar($event)">\n    </bs-custom-date-view>\n  </div>\n</div>\n'}]}],ctorParameters:function(){return[{type:a.Renderer2},{type:b},{type:J},{type:a.ElementRef},{type:D},{type:w},{type:r.PositioningService}]}});class ve{constructor(e,t,n,s,i){this._config=e,this._elementRef=t,this.isDisabled=!1,this.bsValueChange=new a.EventEmitter,this._subs=[],Object.assign(this,this._config),this._datepicker=i.createLoader(t,s,n)}set bsValue(e){this._bsValue!==e&&(e&&this.bsConfig?.initCurrentTime&&(e=H(e)),this._bsValue=e,this.bsValueChange.emit(e))}ngOnInit(){this.setConfig(),this.initSubscribes()}ngOnChanges(e){e.bsConfig&&e.bsConfig.currentValue.initCurrentTime&&e.bsConfig.currentValue.initCurrentTime!==e.bsConfig.previousValue.initCurrentTime&&this._bsValue&&(this._bsValue=H(this._bsValue),this.bsValueChange.emit(this._bsValue)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled,this._datepickerRef.instance.value=this._bsValue),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),this.setConfig())}setConfig(){this._datepicker&&this._datepicker.hide(),this._config=Object.assign({},this._config,this.bsConfig,{value:M(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:E(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime}),this._datepickerRef=this._datepicker.provide({provide:b,useValue:this._config}).attach(be).to(this._elementRef).show(),this.initSubscribes()}initSubscribes(){this.unsubscribeSubscriptions(),this._subs.push(this.bsValueChange.subscribe((e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)}))),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe((0,i.filter)((e=>e&&e[0]&&!!e[1]))).subscribe((e=>{this.bsValue=e})))}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map((e=>e.unsubscribe())),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.unsubscribeSubscriptions()}}ve.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ve,deps:[{token:ge},{token:a.ElementRef},{token:a.Renderer2},{token:a.ViewContainerRef},{token:g.ComponentLoaderFactory}],target:a["ɵɵFactoryTarget"].Directive}),ve.ɵdir=a["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:ve,selector:"bs-daterangepicker-inline",inputs:{bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{bsValueChange:"bsValueChange"},exportAs:["bsDaterangepickerInline"],usesOnChanges:!0,ngImport:s||(s=n.t(a,2))}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ve,decorators:[{type:a.Directive,args:[{selector:"bs-daterangepicker-inline",exportAs:"bsDaterangepickerInline"}]}],ctorParameters:function(){return[{type:ge},{type:a.ElementRef},{type:a.Renderer2},{type:a.ViewContainerRef},{type:g.ComponentLoaderFactory}]},propDecorators:{bsValue:[{type:a.Input}],bsConfig:[{type:a.Input}],isDisabled:[{type:a.Input}],minDate:[{type:a.Input}],maxDate:[{type:a.Input}],dateCustomClasses:[{type:a.Input}],daysDisabled:[{type:a.Input}],datesDisabled:[{type:a.Input}],datesEnabled:[{type:a.Input}],bsValueChange:[{type:a.Output}]}});const ye={provide:m.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)((()=>De)),multi:!0},fe={provide:m.NG_VALIDATORS,useExisting:(0,a.forwardRef)((()=>De)),multi:!0};class De{constructor(e,t,n,s,a){this._picker=e,this._localeService=t,this._renderer=n,this._elRef=s,this.changeDetection=a,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new d.Subscription}ngOnInit(){const e=e=>{this._setInputValue(e),this._value!==e&&(this._value=e,this._onChange(e),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&e(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(e)),this._subs.add(this._localeService.localeChange.subscribe((()=>{this._setInputValue(this._value)}))),this._subs.add(this._picker.dateInputFormat$.pipe((0,i.distinctUntilChanged)()).subscribe((()=>{this._setInputValue(this._value)})))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){13!==e.keyCode&&"Enter"!==e.code||this.hide()}_setInputValue(e){const t=e?(0,o.formatDate)(e,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",t)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){const t=e.value;if(null==t||""===t)return null;if((0,o.isDate)(t)){if(!(0,o.isDateValid)(t))return{bsDate:{invalid:t}};if(this._picker&&this._picker.minDate&&(0,o.isBefore)(t,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&(0,o.isAfter)(t,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const t=this._localeService.currentLocale;if(!(0,o.getLocale)(t))throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);this._value=(0,o.parseDate)(e,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=(0,o.utcAsLocal)(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}De.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:De,deps:[{token:de,host:!0},{token:k},{token:a.Renderer2},{token:a.ElementRef},{token:a.ChangeDetectorRef}],target:a["ɵɵFactoryTarget"].Directive}),De.ɵdir=a["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:De,selector:"input[bsDatepicker]",host:{listeners:{change:"onChange($event)","keyup.esc":"hide()",keydown:"onKeydownEvent($event)",blur:"onBlur()"}},providers:[ye,fe],ngImport:s||(s=n.t(a,2))}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:De,decorators:[{type:a.Directive,args:[{selector:"input[bsDatepicker]",host:{"(change)":"onChange($event)","(keyup.esc)":"hide()","(keydown)":"onKeydownEvent($event)","(blur)":"onBlur()"},providers:[ye,fe]}]}],ctorParameters:function(){return[{type:de,decorators:[{type:a.Host}]},{type:k},{type:a.Renderer2},{type:a.ElementRef},{type:a.ChangeDetectorRef}]}});class ke extends b{constructor(){super(...arguments),this.displayMonths=2}}ke.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ke,deps:null,target:a["ɵɵFactoryTarget"].Injectable}),ke.ɵprov=a["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ke,providedIn:"root"}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:ke,decorators:[{type:a.Injectable,args:[{providedIn:"root"}]}]});class we{constructor(e,t,n,s,i){this._config=e,this._elementRef=t,this._renderer=n,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new d.Subject,this.isDisabled=!1,this.bsValueChange=new a.EventEmitter,this._subs=[],this._rangeInputFormat$=new d.Subject,this._datepicker=i.createLoader(t,s,n),Object.assign(this,e),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new d.BehaviorSubject(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(e){this.isOpen$.next(e)}set bsValue(e){this._bsValue!==e&&(e&&this.bsConfig?.initCurrentTime&&(e=H(e)),this._bsValue=e,this.bsValueChange.emit(e))}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new d.Subject,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(e){e.bsConfig&&(e.bsConfig.currentValue?.initCurrentTime&&e.bsConfig.currentValue?.initCurrentTime!==e.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this._bsValue=H(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(e.bsConfig.currentValue&&e.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),e.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),e.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),e.isDisabled&&(this._elementRef?.nativeElement&&this._elementRef.nativeElement.setAttribute("readonly",this.isDisabled),this._datepickerRef.instance.isDisabled=this.isDisabled),e.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe((0,i.filter)((e=>e!==this.isOpen)),(0,i.takeUntil)(this.isDestroy$)).subscribe((()=>this.toggle()))}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:b,useValue:this._config}).attach(me).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe((e=>{this._datepickerRef&&(this._datepickerRef.instance.value=e)}))),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe((0,i.filter)((e=>e&&e[0]&&!!e[1]))).subscribe((e=>{this.bsValue=e,this.hide()})))}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:M(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:E(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime})}hide(){this.isOpen&&this._datepicker.hide();for(const e of this._subs)e.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map((e=>e.unsubscribe())),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}we.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:we,deps:[{token:ke},{token:a.ElementRef},{token:a.Renderer2},{token:a.ViewContainerRef},{token:g.ComponentLoaderFactory}],target:a["ɵɵFactoryTarget"].Directive}),we.ɵdir=a["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:we,selector:"[bsDaterangepicker]",inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],usesOnChanges:!0,ngImport:s||(s=n.t(a,2))}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:we,decorators:[{type:a.Directive,args:[{selector:"[bsDaterangepicker]",exportAs:"bsDaterangepicker"}]}],ctorParameters:function(){return[{type:ke},{type:a.ElementRef},{type:a.Renderer2},{type:a.ViewContainerRef},{type:g.ComponentLoaderFactory}]},propDecorators:{placement:[{type:a.Input}],triggers:[{type:a.Input}],outsideClick:[{type:a.Input}],container:[{type:a.Input}],outsideEsc:[{type:a.Input}],isOpen:[{type:a.Input}],onShown:[{type:a.Output}],onHidden:[{type:a.Output}],bsValue:[{type:a.Input}],bsConfig:[{type:a.Input}],isDisabled:[{type:a.Input}],minDate:[{type:a.Input}],maxDate:[{type:a.Input}],dateCustomClasses:[{type:a.Input}],daysDisabled:[{type:a.Input}],datesDisabled:[{type:a.Input}],datesEnabled:[{type:a.Input}],bsValueChange:[{type:a.Output}]}});const Ce={provide:m.NG_VALUE_ACCESSOR,useExisting:(0,a.forwardRef)((()=>Se)),multi:!0},_e={provide:m.NG_VALIDATORS,useExisting:(0,a.forwardRef)((()=>Se)),multi:!0};class Se{constructor(e,t,n,s,a){this._picker=e,this._localeService=t,this._renderer=n,this._elRef=s,this.changeDetection=a,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new d.Subscription}ngOnInit(){const e=e=>{this._setInputValue(e),this._value!==e&&(this._value=e,this._onChange(e),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&e(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe((e=>{this._setInputValue(e),this._value!==e&&(this._value=e,this._onChange(e),this._onTouched()),this.changeDetection.markForCheck()}))),this._subs.add(this._localeService.localeChange.subscribe((()=>{this._setInputValue(this._value)}))),this._subs.add(this._picker.rangeInputFormat$.pipe((0,i.distinctUntilChanged)()).subscribe((()=>{this._setInputValue(this._value)})))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(e){13!==e.keyCode&&"Enter"!==e.code||this.hide()}_setInputValue(e){let t="";if(e){const n=e[0]?(0,o.formatDate)(e[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",s=e[1]?(0,o.formatDate)(e[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";t=n&&s?n+this._picker._config.rangeSeparator+s:""}this._renderer.setProperty(this._elRef.nativeElement,"value",t)}onChange(e){this.writeValue(e.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(e){let t=e.value;const n=[];if(null==t||!(0,o.isArray)(t))return null;t=t.slice().sort(((e,t)=>e.getTime()-t.getTime()));const s=(0,o.isDateValid)(t[0]),a=(0,o.isDateValid)(t[1]);return s?a?(this._picker&&this._picker.minDate&&(0,o.isBefore)(t[0],this._picker.minDate,"date")&&(t[0]=this._picker.minDate,n.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&(0,o.isAfter)(t[1],this._picker.maxDate,"date")&&(t[1]=this._picker.maxDate,n.push({bsDate:{maxDate:this._picker.maxDate}})),n.length>0?(this.writeValue(t),n):null):{bsDate:{invalid:t[1]}}:{bsDate:{invalid:t[0]}}}registerOnValidatorChange(e){this._validatorChange=e}writeValue(e){if(e){const t=this._localeService.currentLocale;if(!(0,o.getLocale)(t))throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);let n=[];if("string"==typeof e){const t=this._picker._config.rangeSeparator.trim();n=e.replace(/[^-]/g,"").length>1?e.split(this._picker._config.rangeSeparator):e.split(t.length>0?t:this._picker._config.rangeSeparator).map((e=>e.trim()))}Array.isArray(e)&&(n=e),this._value=n.map((e=>this._picker._config.useUtc?(0,o.utcAsLocal)((0,o.parseDate)(e,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):(0,o.parseDate)(e,this._picker._config.rangeInputFormat,this._localeService.currentLocale))).map((e=>isNaN(e.valueOf())?void 0:e))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}Se.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Se,deps:[{token:we,host:!0},{token:k},{token:a.Renderer2},{token:a.ElementRef},{token:a.ChangeDetectorRef}],target:a["ɵɵFactoryTarget"].Directive}),Se.ɵdir=a["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:Se,selector:"input[bsDaterangepicker]",host:{listeners:{change:"onChange($event)","keyup.esc":"hide()",keydown:"onKeydownEvent($event)",blur:"onBlur()"}},providers:[Ce,_e],ngImport:s||(s=n.t(a,2))}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Se,decorators:[{type:a.Directive,args:[{selector:"input[bsDaterangepicker]",host:{"(change)":"onChange($event)","(keyup.esc)":"hide()","(keydown)":"onKeydownEvent($event)","(blur)":"onBlur()"},providers:[Ce,_e]}]}],ctorParameters:function(){return[{type:we,decorators:[{type:a.Host}]},{type:k},{type:a.Renderer2},{type:a.ElementRef},{type:a.ChangeDetectorRef}]}});class Te{static forRoot(){return{ngModule:Te,providers:[g.ComponentLoaderFactory,r.PositioningService,J,D,w,k,c.TimepickerActions]}}}Te.ɵfac=a["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Te,deps:[],target:a["ɵɵFactoryTarget"].NgModule}),Te.ɵmod=a["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Te,declarations:[se,te,Z,ae,ie,oe,re,ne,ce,le,de,he,ue,De,me,we,be,ve,Se],imports:[h.CommonModule,u.TooltipModule,c.TimepickerModule],exports:[le,de,he,ue,De,me,we,be,ve,Se]}),Te.ɵinj=a["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Te,imports:[h.CommonModule,u.TooltipModule,c.TimepickerModule]}),a["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:s||(s=n.t(a,2)),type:Te,decorators:[{type:a.NgModule,args:[{imports:[h.CommonModule,u.TooltipModule,c.TimepickerModule],declarations:[se,te,Z,ae,ie,oe,re,ne,ce,le,de,he,ue,De,me,we,be,ve,Se],exports:[le,de,he,ue,De,me,we,be,ve,Se]}]}]})}}]);